/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------------------------------------------*/

var xue=Object.create;var yE=Object.defineProperty;var wue=Object.getOwnPropertyDescriptor;var Eue=Object.getOwnPropertyNames;var bue=Object.getPrototypeOf,_ue=Object.prototype.hasOwnProperty;var S=(e,t)=>()=>(e&&(t=e(e=0)),t);var w=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),As=(e,t)=>{for(var n in t)yE(e,n,{get:t[n],enumerable:!0})},$j=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Eue(t))!_ue.call(e,i)&&i!==n&&yE(e,i,{get:()=>t[i],enumerable:!(r=wue(t,i))||r.enumerable});return e};var B=(e,t,n)=>(n=e!=null?xue(bue(e)):{},$j(t||!e||!e.__esModule?yE(n,"default",{value:e,enumerable:!0}):n,e)),yi=e=>$j(yE({},"__esModule",{value:!0}),e);var pH=w((fqe,dH)=>{var Qp=1e3,Jp=Qp*60,Zp=Jp*60,Al=Zp*24,$ue=Al*7,jue=Al*365.25;dH.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Hue(e);if(n==="number"&&isFinite(e))return t.long?Vue(e):Bue(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Hue(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*jue;case"weeks":case"week":case"w":return n*$ue;case"days":case"day":case"d":return n*Al;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Zp;case"minutes":case"minute":case"mins":case"min":case"m":return n*Jp;case"seconds":case"second":case"secs":case"sec":case"s":return n*Qp;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Bue(e){var t=Math.abs(e);return t>=Al?Math.round(e/Al)+"d":t>=Zp?Math.round(e/Zp)+"h":t>=Jp?Math.round(e/Jp)+"m":t>=Qp?Math.round(e/Qp)+"s":e+"ms"}function Vue(e){var t=Math.abs(e);return t>=Al?TE(e,t,Al,"day"):t>=Zp?TE(e,t,Zp,"hour"):t>=Jp?TE(e,t,Jp,"minute"):t>=Qp?TE(e,t,Qp,"second"):e+" ms"}function TE(e,t,n,r){var i=t>=n*1.5;return Math.round(e/n)+" "+r+(i?"s":"")}});var uR=w((mqe,fH)=>{function Wue(e){n.debug=n,n.default=n,n.coerce=u,n.disable=o,n.enable=i,n.enabled=s,n.humanize=pH(),n.destroy=c,Object.keys(e).forEach(l=>{n[l]=e[l]}),n.names=[],n.skips=[],n.formatters={};function t(l){let d=0;for(let p=0;p<l.length;p++)d=(d<<5)-d+l.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(l){let d,p=null,f,m;function h(...g){if(!h.enabled)return;let v=h,y=Number(new Date),x=y-(d||y);v.diff=x,v.prev=d,v.curr=y,d=y,g[0]=n.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let E=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(C,R)=>{if(C==="%%")return"%";E++;let T=n.formatters[R];if(typeof T=="function"){let _=g[E];C=T.call(v,_),g.splice(E,1),E--}return C}),n.formatArgs.call(v,g),(v.log||n.log).apply(v,g)}return h.namespace=l,h.useColors=n.useColors(),h.color=n.selectColor(l),h.extend=r,h.destroy=n.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(f!==n.namespaces&&(f=n.namespaces,m=n.enabled(l)),m),set:g=>{p=g}}),typeof n.init=="function"&&n.init(h),h}function r(l,d){let p=n(this.namespace+(typeof d>"u"?":":d)+l);return p.log=this.log,p}function i(l){n.save(l),n.namespaces=l,n.names=[],n.skips=[];let d,p=(typeof l=="string"?l:"").split(/[\s,]+/),f=p.length;for(d=0;d<f;d++)p[d]&&(l=p[d].replace(/\*/g,".*?"),l[0]==="-"?n.skips.push(new RegExp("^"+l.slice(1)+"$")):n.names.push(new RegExp("^"+l+"$")))}function o(){let l=[...n.names.map(a),...n.skips.map(a).map(d=>"-"+d)].join(",");return n.enable(""),l}function s(l){if(l[l.length-1]==="*")return!0;let d,p;for(d=0,p=n.skips.length;d<p;d++)if(n.skips[d].test(l))return!1;for(d=0,p=n.names.length;d<p;d++)if(n.names[d].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function u(l){return l instanceof Error?l.stack||l.message:l}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}fH.exports=Wue});var mH=w((wi,IE)=>{wi.formatArgs=zue;wi.save=Yue;wi.load=Kue;wi.useColors=Gue;wi.storage=Xue();wi.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();wi.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Gue(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function zue(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+IE.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),e.splice(r,0,t)}wi.log=console.debug||console.log||(()=>{});function Yue(e){try{e?wi.storage.setItem("debug",e):wi.storage.removeItem("debug")}catch{}}function Kue(){let e;try{e=wi.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function Xue(){try{return localStorage}catch{}}IE.exports=uR()(wi);var{formatters:Que}=IE.exports;Que.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var gH=w((hqe,hH)=>{"use strict";hH.exports=(e,t)=>{t=t||process.argv;let n=e.startsWith("-")?"":e.length===1?"-":"--",r=t.indexOf(n+e),i=t.indexOf("--");return r!==-1&&(i===-1?!0:r<i)}});var yH=w((gqe,vH)=>{"use strict";var Jue=require("os"),Ho=gH(),sr=process.env,ef;Ho("no-color")||Ho("no-colors")||Ho("color=false")?ef=!1:(Ho("color")||Ho("colors")||Ho("color=true")||Ho("color=always"))&&(ef=!0);"FORCE_COLOR"in sr&&(ef=sr.FORCE_COLOR.length===0||parseInt(sr.FORCE_COLOR,10)!==0);function Zue(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function ele(e){if(ef===!1)return 0;if(Ho("color=16m")||Ho("color=full")||Ho("color=truecolor"))return 3;if(Ho("color=256"))return 2;if(e&&!e.isTTY&&ef!==!0)return 0;let t=ef?1:0;if(process.platform==="win32"){let n=Jue.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in sr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in sr)||sr.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in sr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(sr.TEAMCITY_VERSION)?1:0;if(sr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in sr){let n=parseInt((sr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(sr.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(sr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(sr.TERM)||"COLORTERM"in sr?1:(sr.TERM==="dumb",t)}function lR(e){let t=ele(e);return Zue(t)}vH.exports={supportsColor:lR,stdout:lR(process.stdout),stderr:lR(process.stderr)}});var wH=w((Vn,RE)=>{var tle=require("tty"),PE=require("util");Vn.init=cle;Vn.log=ole;Vn.formatArgs=rle;Vn.save=sle;Vn.load=ale;Vn.useColors=nle;Vn.destroy=PE.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Vn.colors=[6,2,3,4,5,1];try{let e=yH();e&&(e.stderr||e).level>=2&&(Vn.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Vn.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),r=process.env[t];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),e[n]=r,e},{});function nle(){return"colors"in Vn.inspectOpts?!!Vn.inspectOpts.colors:tle.isatty(process.stderr.fd)}function rle(e){let{namespace:t,useColors:n}=this;if(n){let r=this.color,i="\x1B[3"+(r<8?r:"8;5;"+r),o=`  ${i};1m${t} \x1B[0m`;e[0]=o+e[0].split(`
`).join(`
`+o),e.push(i+"m+"+RE.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=ile()+t+" "+e[0]}function ile(){return Vn.inspectOpts.hideDate?"":new Date().toISOString()+" "}function ole(...e){return process.stderr.write(PE.format(...e)+`
`)}function sle(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function ale(){return process.env.DEBUG}function cle(e){e.inspectOpts={};let t=Object.keys(Vn.inspectOpts);for(let n=0;n<t.length;n++)e.inspectOpts[t[n]]=Vn.inspectOpts[t[n]]}RE.exports=uR()(Vn);var{formatters:xH}=RE.exports;xH.o=function(e){return this.inspectOpts.colors=this.useColors,PE.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};xH.O=function(e){return this.inspectOpts.colors=this.useColors,PE.inspect(e,this.inspectOpts)}});var Bc=w((vqe,dR)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?dR.exports=mH():dR.exports=wH()});var bH=w((yqe,EH)=>{var tv;EH.exports=function(){if(!tv){try{tv=Bc()("follow-redirects")}catch{}typeof tv!="function"&&(tv=function(){})}tv.apply(null,arguments)}});var tf=w((xqe,gR)=>{var Dl=require("url"),pR=Dl.URL,ule=require("http"),lle=require("https"),SH=require("stream").Writable,TH=require("assert"),IH=bH(),mR=["abort","aborted","connect","error","socket","timeout"],hR=Object.create(null);mR.forEach(function(e){hR[e]=function(t,n,r){this._redirectable.emit(e,t,n,r)}});var dle=rv("ERR_INVALID_URL","Invalid URL",TypeError),_H=rv("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),ple=rv("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),fle=rv("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),mle=rv("ERR_STREAM_WRITE_AFTER_END","write after end");function Ei(e,t){SH.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var n=this;this._onNativeResponse=function(r){n._processResponse(r)},this._performRequest()}Ei.prototype=Object.create(SH.prototype);Ei.prototype.abort=function(){RH(this._currentRequest),this.emit("abort")};Ei.prototype.write=function(e,t,n){if(this._ending)throw new mle;if(!kl(e)&&!vle(e))throw new TypeError("data should be a string, Buffer or Uint8Array");if(nv(t)&&(n=t,t=null),e.length===0){n&&n();return}this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,n)):(this.emit("error",new fle),this.abort())};Ei.prototype.end=function(e,t,n){if(nv(e)?(n=e,e=t=null):nv(t)&&(n=t,t=null),!e)this._ended=this._ending=!0,this._currentRequest.end(null,null,n);else{var r=this,i=this._currentRequest;this.write(e,t,function(){r._ended=!0,i.end(null,null,n)}),this._ending=!0}};Ei.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)};Ei.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)};Ei.prototype.setTimeout=function(e,t){var n=this;function r(s){s.setTimeout(e),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function i(s){n._timeout&&clearTimeout(n._timeout),n._timeout=setTimeout(function(){n.emit("timeout"),o()},e),r(s)}function o(){n._timeout&&(clearTimeout(n._timeout),n._timeout=null),n.removeListener("abort",o),n.removeListener("error",o),n.removeListener("response",o),t&&n.removeListener("timeout",t),n.socket||n._currentRequest.removeListener("socket",i)}return t&&this.on("timeout",t),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",r),this.on("abort",o),this.on("error",o),this.on("response",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){Ei.prototype[e]=function(t,n){return this._currentRequest[e](t,n)}});["aborted","connection","socket"].forEach(function(e){Object.defineProperty(Ei.prototype,e,{get:function(){return this._currentRequest[e]}})});Ei.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}};Ei.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(!t){this.emit("error",new TypeError("Unsupported protocol "+e));return}if(this._options.agents){var n=e.slice(0,-1);this._options.agent=this._options.agents[n]}var r=this._currentRequest=t.request(this._options,this._onNativeResponse);r._redirectable=this;for(var i of mR)r.on(i,hR[i]);if(this._currentUrl=/^\//.test(this._options.path)?Dl.format(this._options):this._options.path,this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function u(c){if(r===s._currentRequest)if(c)s.emit("error",c);else if(o<a.length){var l=a[o++];r.finished||r.write(l.data,l.encoding,u)}else s._ended&&r.end()})()}};Ei.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var n=e.headers.location;if(!n||this._options.followRedirects===!1||t<300||t>=400){e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[];return}if(RH(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new ple);return}var r,i=this._options.beforeRedirect;i&&(r=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var o=this._options.method;((t===301||t===302)&&this._options.method==="POST"||t===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],fR(/^content-/i,this._options.headers));var s=fR(/^host$/i,this._options.headers),a=Dl.parse(this._currentUrl),u=s||a.host,c=/^\w+:/.test(n)?this._currentUrl:Dl.format(Object.assign(a,{host:u})),l;try{l=Dl.resolve(c,n)}catch(m){this.emit("error",new _H({cause:m}));return}IH("redirecting to",l),this._isRedirect=!0;var d=Dl.parse(l);if(Object.assign(this._options,d),(d.protocol!==a.protocol&&d.protocol!=="https:"||d.host!==u&&!gle(d.host,u))&&fR(/^(?:authorization|cookie)$/i,this._options.headers),nv(i)){var p={headers:e.headers,statusCode:t},f={url:c,method:o,headers:r};try{i(this._options,p,f)}catch(m){this.emit("error",m);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(m){this.emit("error",new _H({cause:m}))}};function PH(e){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(e).forEach(function(r){var i=r+":",o=n[i]=e[r],s=t[r]=Object.create(o);function a(c,l,d){if(kl(c)){var p;try{p=CH(new pR(c))}catch{p=Dl.parse(c)}if(!kl(p.protocol))throw new dle({input:c});c=p}else pR&&c instanceof pR?c=CH(c):(d=l,l=c,c={protocol:i});return nv(l)&&(d=l,l=null),l=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},c,l),l.nativeProtocols=n,!kl(l.host)&&!kl(l.hostname)&&(l.hostname="::1"),TH.equal(l.protocol,i,"protocol mismatch"),IH("options",l),new Ei(l,d)}function u(c,l,d){var p=s.request(c,l,d);return p.end(),p}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:u,configurable:!0,enumerable:!0,writable:!0}})}),t}function hle(){}function CH(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return e.port!==""&&(t.port=Number(e.port)),t}function fR(e,t){var n;for(var r in t)e.test(r)&&(n=t[r],delete t[r]);return n===null||typeof n>"u"?void 0:String(n).trim()}function rv(e,t,n){function r(i){Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=e,this.message=this.cause?t+": "+this.cause.message:t}return r.prototype=new(n||Error),r.prototype.constructor=r,r.prototype.name="Error ["+e+"]",r}function RH(e){for(var t of mR)e.removeListener(t,hR[t]);e.on("error",hle),e.abort()}function gle(e,t){TH(kl(e)&&kl(t));var n=e.length-t.length-1;return n>0&&e[n]==="."&&e.endsWith(t)}function kl(e){return typeof e=="string"||e instanceof String}function nv(e){return typeof e=="function"}function vle(e){return typeof e=="object"&&"length"in e}gR.exports=PH({http:ule,https:lle});gR.exports.wrap=PH});var nf=w((wqe,DH)=>{"use strict";var AH=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);DH.exports=e=>e?Object.keys(e).map(t=>[AH.has(t)?AH.get(t):t,e[t]]).reduce((t,n)=>(t[n[0]]=n[1],t),Object.create(null)):{}});var FE=w((Eqe,jH)=>{"use strict";var kH=typeof process=="object"&&process?process:{stdout:null,stderr:null},yle=require("events"),OH=require("stream"),xle=require("string_decoder"),NH=xle.StringDecoder,_a=Symbol("EOF"),Ca=Symbol("maybeEmitEnd"),Vc=Symbol("emittedEnd"),AE=Symbol("emittingEnd"),iv=Symbol("emittedError"),DE=Symbol("closed"),LH=Symbol("read"),kE=Symbol("flush"),FH=Symbol("flushChunk"),Vr=Symbol("encoding"),Sa=Symbol("decoder"),OE=Symbol("flowing"),ov=Symbol("paused"),rf=Symbol("resume"),on=Symbol("buffer"),Os=Symbol("pipes"),kn=Symbol("bufferLength"),vR=Symbol("bufferPush"),yR=Symbol("bufferShift"),Wn=Symbol("objectMode"),sn=Symbol("destroyed"),xR=Symbol("error"),wR=Symbol("emitData"),MH=Symbol("emitEnd"),ER=Symbol("emitEnd2"),Ta=Symbol("async"),bR=Symbol("abort"),NE=Symbol("aborted"),Ol=Symbol("signal"),sv=e=>Promise.resolve().then(e),$H=global._MP_NO_ITERATOR_SYMBOLS_!=="1",UH=$H&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),qH=$H&&Symbol.iterator||Symbol("iterator not implemented"),wle=e=>e==="end"||e==="finish"||e==="prefinish",Ele=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,ble=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e),LE=class{constructor(t,n,r){this.src=t,this.dest=n,this.opts=r,this.ondrain=()=>t[rf](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},_R=class extends LE{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,n,r){super(t,n,r),this.proxyErrors=i=>n.emit("error",i),t.on("error",this.proxyErrors)}},av=class extends OH{constructor(t){super(),this[OE]=!1,this[ov]=!1,this[Os]=[],this[on]=[],this[Wn]=t&&t.objectMode||!1,this[Wn]?this[Vr]=null:this[Vr]=t&&t.encoding||null,this[Vr]==="buffer"&&(this[Vr]=null),this[Ta]=t&&!!t.async||!1,this[Sa]=this[Vr]?new NH(this[Vr]):null,this[_a]=!1,this[Vc]=!1,this[AE]=!1,this[DE]=!1,this[iv]=null,this.writable=!0,this.readable=!0,this[kn]=0,this[sn]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[on]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Os]}),this[Ol]=t&&t.signal,this[NE]=!1,this[Ol]&&(this[Ol].addEventListener("abort",()=>this[bR]()),this[Ol].aborted&&this[bR]())}get bufferLength(){return this[kn]}get encoding(){return this[Vr]}set encoding(t){if(this[Wn])throw new Error("cannot set encoding in objectMode");if(this[Vr]&&t!==this[Vr]&&(this[Sa]&&this[Sa].lastNeed||this[kn]))throw new Error("cannot change encoding");this[Vr]!==t&&(this[Sa]=t?new NH(t):null,this[on].length&&(this[on]=this[on].map(n=>this[Sa].write(n)))),this[Vr]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[Wn]}set objectMode(t){this[Wn]=this[Wn]||!!t}get async(){return this[Ta]}set async(t){this[Ta]=this[Ta]||!!t}[bR](){this[NE]=!0,this.emit("abort",this[Ol].reason),this.destroy(this[Ol].reason)}get aborted(){return this[NE]}set aborted(t){}write(t,n,r){if(this[NE])return!1;if(this[_a])throw new Error("write after end");if(this[sn])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let i=this[Ta]?sv:o=>o();return!this[Wn]&&!Buffer.isBuffer(t)&&(ble(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Ele(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[Wn]?(this.flowing&&this[kn]!==0&&this[kE](!0),this.flowing?this.emit("data",t):this[vR](t),this[kn]!==0&&this.emit("readable"),r&&i(r),this.flowing):t.length?(typeof t=="string"&&!(n===this[Vr]&&!this[Sa].lastNeed)&&(t=Buffer.from(t,n)),Buffer.isBuffer(t)&&this[Vr]&&(t=this[Sa].write(t)),this.flowing&&this[kn]!==0&&this[kE](!0),this.flowing?this.emit("data",t):this[vR](t),this[kn]!==0&&this.emit("readable"),r&&i(r),this.flowing):(this[kn]!==0&&this.emit("readable"),r&&i(r),this.flowing)}read(t){if(this[sn])return null;if(this[kn]===0||t===0||t>this[kn])return this[Ca](),null;this[Wn]&&(t=null),this[on].length>1&&!this[Wn]&&(this.encoding?this[on]=[this[on].join("")]:this[on]=[Buffer.concat(this[on],this[kn])]);let n=this[LH](t||null,this[on][0]);return this[Ca](),n}[LH](t,n){return t===n.length||t===null?this[yR]():(this[on][0]=n.slice(t),n=n.slice(0,t),this[kn]-=t),this.emit("data",n),!this[on].length&&!this[_a]&&this.emit("drain"),n}end(t,n,r){return typeof t=="function"&&(r=t,t=null),typeof n=="function"&&(r=n,n="utf8"),t&&this.write(t,n),r&&this.once("end",r),this[_a]=!0,this.writable=!1,(this.flowing||!this[ov])&&this[Ca](),this}[rf](){this[sn]||(this[ov]=!1,this[OE]=!0,this.emit("resume"),this[on].length?this[kE]():this[_a]?this[Ca]():this.emit("drain"))}resume(){return this[rf]()}pause(){this[OE]=!1,this[ov]=!0}get destroyed(){return this[sn]}get flowing(){return this[OE]}get paused(){return this[ov]}[vR](t){this[Wn]?this[kn]+=1:this[kn]+=t.length,this[on].push(t)}[yR](){return this[Wn]?this[kn]-=1:this[kn]-=this[on][0].length,this[on].shift()}[kE](t){do;while(this[FH](this[yR]())&&this[on].length);!t&&!this[on].length&&!this[_a]&&this.emit("drain")}[FH](t){return this.emit("data",t),this.flowing}pipe(t,n){if(this[sn])return;let r=this[Vc];return n=n||{},t===kH.stdout||t===kH.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&t.end():(this[Os].push(n.proxyErrors?new _R(this,t,n):new LE(this,t,n)),this[Ta]?sv(()=>this[rf]()):this[rf]()),t}unpipe(t){let n=this[Os].find(r=>r.dest===t);n&&(this[Os].splice(this[Os].indexOf(n),1),n.unpipe())}addListener(t,n){return this.on(t,n)}on(t,n){let r=super.on(t,n);return t==="data"&&!this[Os].length&&!this.flowing?this[rf]():t==="readable"&&this[kn]!==0?super.emit("readable"):wle(t)&&this[Vc]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[iv]&&(this[Ta]?sv(()=>n.call(this,this[iv])):n.call(this,this[iv])),r}get emittedEnd(){return this[Vc]}[Ca](){!this[AE]&&!this[Vc]&&!this[sn]&&this[on].length===0&&this[_a]&&(this[AE]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[DE]&&this.emit("close"),this[AE]=!1)}emit(t,n,...r){if(t!=="error"&&t!=="close"&&t!==sn&&this[sn])return;if(t==="data")return!this[Wn]&&!n?!1:this[Ta]?sv(()=>this[wR](n)):this[wR](n);if(t==="end")return this[MH]();if(t==="close"){if(this[DE]=!0,!this[Vc]&&!this[sn])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(t==="error"){this[iv]=n,super.emit(xR,n);let o=!this[Ol]||this.listeners("error").length?super.emit("error",n):!1;return this[Ca](),o}else if(t==="resume"){let o=super.emit("resume");return this[Ca](),o}else if(t==="finish"||t==="prefinish"){let o=super.emit(t);return this.removeAllListeners(t),o}let i=super.emit(t,n,...r);return this[Ca](),i}[wR](t){for(let r of this[Os])r.dest.write(t)===!1&&this.pause();let n=super.emit("data",t);return this[Ca](),n}[MH](){this[Vc]||(this[Vc]=!0,this.readable=!1,this[Ta]?sv(()=>this[ER]()):this[ER]())}[ER](){if(this[Sa]){let n=this[Sa].end();if(n){for(let r of this[Os])r.dest.write(n);super.emit("data",n)}}for(let n of this[Os])n.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[Wn]||(t.dataLength=0);let n=this.promise();return this.on("data",r=>{t.push(r),this[Wn]||(t.dataLength+=r.length)}),n.then(()=>t)}concat(){return this[Wn]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[Wn]?Promise.reject(new Error("cannot concat in objectMode")):this[Vr]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,n)=>{this.on(sn,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>t())})}[UH](){let t=!1,n=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return n();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[_a])return n();let o=null,s=null,a=d=>{this.removeListener("data",u),this.removeListener("end",c),this.removeListener(sn,l),n(),s(d)},u=d=>{this.removeListener("error",a),this.removeListener("end",c),this.removeListener(sn,l),this.pause(),o({value:d,done:!!this[_a]})},c=()=>{this.removeListener("error",a),this.removeListener("data",u),this.removeListener(sn,l),n(),o({done:!0})},l=()=>a(new Error("stream destroyed"));return new Promise((d,p)=>{s=p,o=d,this.once(sn,l),this.once("error",a),this.once("end",c),this.once("data",u)})},throw:n,return:n,[UH](){return this}}}[qH](){let t=!1,n=()=>(this.pause(),this.removeListener(xR,n),this.removeListener(sn,n),this.removeListener("end",n),t=!0,{done:!0}),r=()=>{if(t)return n();let i=this.read();return i===null?n():{value:i}};return this.once("end",n),this.once(xR,n),this.once(sn,n),{next:r,throw:n,return:n,[qH](){return this}}}destroy(t){return this[sn]?(t?this.emit("error",t):this.emit(sn),this):(this[sn]=!0,this[on].length=0,this[kn]=0,typeof this.close=="function"&&!this[DE]&&this.close(),t?this.emit("error",t):this.emit(sn),this)}static isStream(t){return!!t&&(t instanceof av||t instanceof OH||t instanceof yle&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}};jH.exports=av});var BH=w((bqe,HH)=>{var _le=require("zlib").constants||{ZLIB_VERNUM:4736};HH.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},_le))});var ZH=w((_qe,JH)=>{"use strict";var VH=typeof process=="object"&&process?process:{stdout:null,stderr:null},Cle=require("events"),WH=require("stream"),GH=require("string_decoder").StringDecoder,Ia=Symbol("EOF"),Pa=Symbol("maybeEmitEnd"),Wc=Symbol("emittedEnd"),ME=Symbol("emittingEnd"),cv=Symbol("emittedError"),UE=Symbol("closed"),zH=Symbol("read"),qE=Symbol("flush"),YH=Symbol("flushChunk"),Wr=Symbol("encoding"),Ra=Symbol("decoder"),$E=Symbol("flowing"),uv=Symbol("paused"),of=Symbol("resume"),On=Symbol("bufferLength"),CR=Symbol("bufferPush"),SR=Symbol("bufferShift"),ar=Symbol("objectMode"),cr=Symbol("destroyed"),TR=Symbol("emitData"),KH=Symbol("emitEnd"),IR=Symbol("emitEnd2"),Aa=Symbol("async"),lv=e=>Promise.resolve().then(e),XH=global._MP_NO_ITERATOR_SYMBOLS_!=="1",Sle=XH&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Tle=XH&&Symbol.iterator||Symbol("iterator not implemented"),Ile=e=>e==="end"||e==="finish"||e==="prefinish",Ple=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,Rle=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e),jE=class{constructor(t,n,r){this.src=t,this.dest=n,this.opts=r,this.ondrain=()=>t[of](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},PR=class extends jE{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,n,r){super(t,n,r),this.proxyErrors=i=>n.emit("error",i),t.on("error",this.proxyErrors)}};JH.exports=class QH extends WH{constructor(t){super(),this[$E]=!1,this[uv]=!1,this.pipes=[],this.buffer=[],this[ar]=t&&t.objectMode||!1,this[ar]?this[Wr]=null:this[Wr]=t&&t.encoding||null,this[Wr]==="buffer"&&(this[Wr]=null),this[Aa]=t&&!!t.async||!1,this[Ra]=this[Wr]?new GH(this[Wr]):null,this[Ia]=!1,this[Wc]=!1,this[ME]=!1,this[UE]=!1,this[cv]=null,this.writable=!0,this.readable=!0,this[On]=0,this[cr]=!1}get bufferLength(){return this[On]}get encoding(){return this[Wr]}set encoding(t){if(this[ar])throw new Error("cannot set encoding in objectMode");if(this[Wr]&&t!==this[Wr]&&(this[Ra]&&this[Ra].lastNeed||this[On]))throw new Error("cannot change encoding");this[Wr]!==t&&(this[Ra]=t?new GH(t):null,this.buffer.length&&(this.buffer=this.buffer.map(n=>this[Ra].write(n)))),this[Wr]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[ar]}set objectMode(t){this[ar]=this[ar]||!!t}get async(){return this[Aa]}set async(t){this[Aa]=this[Aa]||!!t}write(t,n,r){if(this[Ia])throw new Error("write after end");if(this[cr])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let i=this[Aa]?lv:o=>o();return!this[ar]&&!Buffer.isBuffer(t)&&(Rle(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Ple(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[ar]?(this.flowing&&this[On]!==0&&this[qE](!0),this.flowing?this.emit("data",t):this[CR](t),this[On]!==0&&this.emit("readable"),r&&i(r),this.flowing):t.length?(typeof t=="string"&&!(n===this[Wr]&&!this[Ra].lastNeed)&&(t=Buffer.from(t,n)),Buffer.isBuffer(t)&&this[Wr]&&(t=this[Ra].write(t)),this.flowing&&this[On]!==0&&this[qE](!0),this.flowing?this.emit("data",t):this[CR](t),this[On]!==0&&this.emit("readable"),r&&i(r),this.flowing):(this[On]!==0&&this.emit("readable"),r&&i(r),this.flowing)}read(t){if(this[cr])return null;if(this[On]===0||t===0||t>this[On])return this[Pa](),null;this[ar]&&(t=null),this.buffer.length>1&&!this[ar]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[On])]);let n=this[zH](t||null,this.buffer[0]);return this[Pa](),n}[zH](t,n){return t===n.length||t===null?this[SR]():(this.buffer[0]=n.slice(t),n=n.slice(0,t),this[On]-=t),this.emit("data",n),!this.buffer.length&&!this[Ia]&&this.emit("drain"),n}end(t,n,r){return typeof t=="function"&&(r=t,t=null),typeof n=="function"&&(r=n,n="utf8"),t&&this.write(t,n),r&&this.once("end",r),this[Ia]=!0,this.writable=!1,(this.flowing||!this[uv])&&this[Pa](),this}[of](){this[cr]||(this[uv]=!1,this[$E]=!0,this.emit("resume"),this.buffer.length?this[qE]():this[Ia]?this[Pa]():this.emit("drain"))}resume(){return this[of]()}pause(){this[$E]=!1,this[uv]=!0}get destroyed(){return this[cr]}get flowing(){return this[$E]}get paused(){return this[uv]}[CR](t){this[ar]?this[On]+=1:this[On]+=t.length,this.buffer.push(t)}[SR](){return this.buffer.length&&(this[ar]?this[On]-=1:this[On]-=this.buffer[0].length),this.buffer.shift()}[qE](t){do;while(this[YH](this[SR]()));!t&&!this.buffer.length&&!this[Ia]&&this.emit("drain")}[YH](t){return t?(this.emit("data",t),this.flowing):!1}pipe(t,n){if(this[cr])return;let r=this[Wc];return n=n||{},t===VH.stdout||t===VH.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&t.end():(this.pipes.push(n.proxyErrors?new PR(this,t,n):new jE(this,t,n)),this[Aa]?lv(()=>this[of]()):this[of]()),t}unpipe(t){let n=this.pipes.find(r=>r.dest===t);n&&(this.pipes.splice(this.pipes.indexOf(n),1),n.unpipe())}addListener(t,n){return this.on(t,n)}on(t,n){let r=super.on(t,n);return t==="data"&&!this.pipes.length&&!this.flowing?this[of]():t==="readable"&&this[On]!==0?super.emit("readable"):Ile(t)&&this[Wc]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[cv]&&(this[Aa]?lv(()=>n.call(this,this[cv])):n.call(this,this[cv])),r}get emittedEnd(){return this[Wc]}[Pa](){!this[ME]&&!this[Wc]&&!this[cr]&&this.buffer.length===0&&this[Ia]&&(this[ME]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[UE]&&this.emit("close"),this[ME]=!1)}emit(t,n,...r){if(t!=="error"&&t!=="close"&&t!==cr&&this[cr])return;if(t==="data")return n?this[Aa]?lv(()=>this[TR](n)):this[TR](n):!1;if(t==="end")return this[KH]();if(t==="close"){if(this[UE]=!0,!this[Wc]&&!this[cr])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(t==="error"){this[cv]=n;let o=super.emit("error",n);return this[Pa](),o}else if(t==="resume"){let o=super.emit("resume");return this[Pa](),o}else if(t==="finish"||t==="prefinish"){let o=super.emit(t);return this.removeAllListeners(t),o}let i=super.emit(t,n,...r);return this[Pa](),i}[TR](t){for(let r of this.pipes)r.dest.write(t)===!1&&this.pause();let n=super.emit("data",t);return this[Pa](),n}[KH](){this[Wc]||(this[Wc]=!0,this.readable=!1,this[Aa]?lv(()=>this[IR]()):this[IR]())}[IR](){if(this[Ra]){let n=this[Ra].end();if(n){for(let r of this.pipes)r.dest.write(n);super.emit("data",n)}}for(let n of this.pipes)n.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[ar]||(t.dataLength=0);let n=this.promise();return this.on("data",r=>{t.push(r),this[ar]||(t.dataLength+=r.length)}),n.then(()=>t)}concat(){return this[ar]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[ar]?Promise.reject(new Error("cannot concat in objectMode")):this[Wr]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,n)=>{this.on(cr,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>t())})}[Sle](){return{next:()=>{let n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[Ia])return Promise.resolve({done:!0});let r=null,i=null,o=c=>{this.removeListener("data",s),this.removeListener("end",a),i(c)},s=c=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),r({value:c,done:!!this[Ia]})},a=()=>{this.removeListener("error",o),this.removeListener("data",s),r({done:!0})},u=()=>o(new Error("stream destroyed"));return new Promise((c,l)=>{i=l,r=c,this.once(cr,u),this.once("error",o),this.once("end",a),this.once("data",s)})}}}[Tle](){return{next:()=>{let n=this.read();return{value:n,done:n===null}}}}destroy(t){return this[cr]?(t?this.emit("error",t):this.emit(cr),this):(this[cr]=!0,this.buffer.length=0,this[On]=0,typeof this.close=="function"&&!this[UE]&&this.close(),t?this.emit("error",t):this.emit(cr),this)}static isStream(t){return!!t&&(t instanceof QH||t instanceof WH||t instanceof Cle&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}});var VR=w(bi=>{"use strict";var OR=require("assert"),Gc=require("buffer").Buffer,nB=require("zlib"),Nl=bi.constants=BH(),Ale=ZH(),eB=Gc.concat,Ll=Symbol("_superWrite"),af=class extends Error{constructor(t){super("zlib: "+t.message),this.code=t.code,this.errno=t.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+t.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},Dle=Symbol("opts"),dv=Symbol("flushFlag"),tB=Symbol("finishFlushFlag"),BR=Symbol("fullFlushFlag"),_t=Symbol("handle"),HE=Symbol("onError"),sf=Symbol("sawError"),RR=Symbol("level"),AR=Symbol("strategy"),DR=Symbol("ended"),Cqe=Symbol("_defaultFullFlush"),BE=class extends Ale{constructor(t,n){if(!t||typeof t!="object")throw new TypeError("invalid options for ZlibBase constructor");super(t),this[sf]=!1,this[DR]=!1,this[Dle]=t,this[dv]=t.flush,this[tB]=t.finishFlush;try{this[_t]=new nB[n](t)}catch(r){throw new af(r)}this[HE]=r=>{this[sf]||(this[sf]=!0,this.close(),this.emit("error",r))},this[_t].on("error",r=>this[HE](new af(r))),this.once("end",()=>this.close)}close(){this[_t]&&(this[_t].close(),this[_t]=null,this.emit("close"))}reset(){if(!this[sf])return OR(this[_t],"zlib binding closed"),this[_t].reset()}flush(t){this.ended||(typeof t!="number"&&(t=this[BR]),this.write(Object.assign(Gc.alloc(0),{[dv]:t})))}end(t,n,r){return t&&this.write(t,n),this.flush(this[tB]),this[DR]=!0,super.end(null,null,r)}get ended(){return this[DR]}write(t,n,r){if(typeof n=="function"&&(r=n,n="utf8"),typeof t=="string"&&(t=Gc.from(t,n)),this[sf])return;OR(this[_t],"zlib binding closed");let i=this[_t]._handle,o=i.close;i.close=()=>{};let s=this[_t].close;this[_t].close=()=>{},Gc.concat=c=>c;let a;try{let c=typeof t[dv]=="number"?t[dv]:this[dv];a=this[_t]._processChunk(t,c),Gc.concat=eB}catch(c){Gc.concat=eB,this[HE](new af(c))}finally{this[_t]&&(this[_t]._handle=i,i.close=o,this[_t].close=s,this[_t].removeAllListeners("error"))}this[_t]&&this[_t].on("error",c=>this[HE](new af(c)));let u;if(a)if(Array.isArray(a)&&a.length>0){u=this[Ll](Gc.from(a[0]));for(let c=1;c<a.length;c++)u=this[Ll](a[c])}else u=this[Ll](Gc.from(a));return r&&r(),u}[Ll](t){return super.write(t)}},Da=class extends BE{constructor(t,n){t=t||{},t.flush=t.flush||Nl.Z_NO_FLUSH,t.finishFlush=t.finishFlush||Nl.Z_FINISH,super(t,n),this[BR]=Nl.Z_FULL_FLUSH,this[RR]=t.level,this[AR]=t.strategy}params(t,n){if(!this[sf]){if(!this[_t])throw new Error("cannot switch params when binding is closed");if(!this[_t].params)throw new Error("not supported in this implementation");if(this[RR]!==t||this[AR]!==n){this.flush(Nl.Z_SYNC_FLUSH),OR(this[_t],"zlib binding closed");let r=this[_t].flush;this[_t].flush=(i,o)=>{this.flush(i),o()};try{this[_t].params(t,n)}finally{this[_t].flush=r}this[_t]&&(this[RR]=t,this[AR]=n)}}}},NR=class extends Da{constructor(t){super(t,"Deflate")}},LR=class extends Da{constructor(t){super(t,"Inflate")}},kR=Symbol("_portable"),FR=class extends Da{constructor(t){super(t,"Gzip"),this[kR]=t&&!!t.portable}[Ll](t){return this[kR]?(this[kR]=!1,t[9]=255,super[Ll](t)):super[Ll](t)}},MR=class extends Da{constructor(t){super(t,"Gunzip")}},UR=class extends Da{constructor(t){super(t,"DeflateRaw")}},qR=class extends Da{constructor(t){super(t,"InflateRaw")}},$R=class extends Da{constructor(t){super(t,"Unzip")}},VE=class extends BE{constructor(t,n){t=t||{},t.flush=t.flush||Nl.BROTLI_OPERATION_PROCESS,t.finishFlush=t.finishFlush||Nl.BROTLI_OPERATION_FINISH,super(t,n),this[BR]=Nl.BROTLI_OPERATION_FLUSH}},jR=class extends VE{constructor(t){super(t,"BrotliCompress")}},HR=class extends VE{constructor(t){super(t,"BrotliDecompress")}};bi.Deflate=NR;bi.Inflate=LR;bi.Gzip=FR;bi.Gunzip=MR;bi.DeflateRaw=UR;bi.InflateRaw=qR;bi.Unzip=$R;typeof nB.BrotliCompress=="function"?(bi.BrotliCompress=jR,bi.BrotliDecompress=HR):bi.BrotliCompress=bi.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var cf=w((Iqe,rB)=>{var kle=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;rB.exports=kle!=="win32"?e=>e:e=>e&&e.replace(/\\/g,"/")});var WE=w((Rqe,iB)=>{"use strict";var Ole=FE(),WR=cf(),GR=Symbol("slurp");iB.exports=class extends Ole{constructor(t,n,r){switch(super(),this.pause(),this.extended=n,this.globalExtended=r,this.header=t,this.startBlockSize=512*Math.ceil(t.size/512),this.blockRemain=this.startBlockSize,this.remain=t.size,this.type=t.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=WR(t.path),this.mode=t.mode,this.mode&&(this.mode=this.mode&4095),this.uid=t.uid,this.gid=t.gid,this.uname=t.uname,this.gname=t.gname,this.size=t.size,this.mtime=t.mtime,this.atime=t.atime,this.ctime=t.ctime,this.linkpath=WR(t.linkpath),this.uname=t.uname,this.gname=t.gname,n&&this[GR](n),r&&this[GR](r,!0)}write(t){let n=t.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");let r=this.remain,i=this.blockRemain;return this.remain=Math.max(0,r-n),this.blockRemain=Math.max(0,i-n),this.ignore?!0:r>=n?super.write(t):super.write(t.slice(0,r))}[GR](t,n){for(let r in t)t[r]!==null&&t[r]!==void 0&&!(n&&r==="path")&&(this[r]=r==="path"||r==="linkpath"?WR(t[r]):t[r])}}});var zR=w(GE=>{"use strict";GE.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);GE.code=new Map(Array.from(GE.name).map(e=>[e[1],e[0]]))});var cB=w((Dqe,aB)=>{"use strict";var Nle=(e,t)=>{if(Number.isSafeInteger(e))e<0?Fle(e,t):Lle(e,t);else throw Error("cannot encode number outside of javascript safe integer range");return t},Lle=(e,t)=>{t[0]=128;for(var n=t.length;n>1;n--)t[n-1]=e&255,e=Math.floor(e/256)},Fle=(e,t)=>{t[0]=255;var n=!1;e=e*-1;for(var r=t.length;r>1;r--){var i=e&255;e=Math.floor(e/256),n?t[r-1]=oB(i):i===0?t[r-1]=0:(n=!0,t[r-1]=sB(i))}},Mle=e=>{let t=e[0],n=t===128?qle(e.slice(1,e.length)):t===255?Ule(e):null;if(n===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(n))throw Error("parsed number outside of javascript safe integer range");return n},Ule=e=>{for(var t=e.length,n=0,r=!1,i=t-1;i>-1;i--){var o=e[i],s;r?s=oB(o):o===0?s=o:(r=!0,s=sB(o)),s!==0&&(n-=s*Math.pow(256,t-i-1))}return n},qle=e=>{for(var t=e.length,n=0,r=t-1;r>-1;r--){var i=e[r];i!==0&&(n+=i*Math.pow(256,t-r-1))}return n},oB=e=>(255^e)&255,sB=e=>(255^e)+1&255;aB.exports={encode:Nle,parse:Mle}});var lf=w((kqe,lB)=>{"use strict";var YR=zR(),uf=require("path").posix,uB=cB(),KR=Symbol("slurp"),_i=Symbol("type"),JR=class{constructor(t,n,r,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[_i]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(t)?this.decode(t,n||0,r,i):t&&this.set(t)}decode(t,n,r,i){if(n||(n=0),!t||!(t.length>=n+512))throw new Error("need 512 bytes for header");if(this.path=Fl(t,n,100),this.mode=zc(t,n+100,8),this.uid=zc(t,n+108,8),this.gid=zc(t,n+116,8),this.size=zc(t,n+124,12),this.mtime=XR(t,n+136,12),this.cksum=zc(t,n+148,12),this[KR](r),this[KR](i,!0),this[_i]=Fl(t,n+156,1),this[_i]===""&&(this[_i]="0"),this[_i]==="0"&&this.path.slice(-1)==="/"&&(this[_i]="5"),this[_i]==="5"&&(this.size=0),this.linkpath=Fl(t,n+157,100),t.slice(n+257,n+265).toString()==="ustar\x0000")if(this.uname=Fl(t,n+265,32),this.gname=Fl(t,n+297,32),this.devmaj=zc(t,n+329,8),this.devmin=zc(t,n+337,8),t[n+475]!==0){let s=Fl(t,n+345,155);this.path=s+"/"+this.path}else{let s=Fl(t,n+345,130);s&&(this.path=s+"/"+this.path),this.atime=XR(t,n+476,12),this.ctime=XR(t,n+488,12)}let o=8*32;for(let s=n;s<n+148;s++)o+=t[s];for(let s=n+156;s<n+512;s++)o+=t[s];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[KR](t,n){for(let r in t)t[r]!==null&&t[r]!==void 0&&!(n&&r==="path")&&(this[r]=t[r])}encode(t,n){if(t||(t=this.block=Buffer.alloc(512),n=0),n||(n=0),!(t.length>=n+512))throw new Error("need 512 bytes for header");let r=this.ctime||this.atime?130:155,i=$le(this.path||"",r),o=i[0],s=i[1];this.needPax=i[2],this.needPax=Ml(t,n,100,o)||this.needPax,this.needPax=Yc(t,n+100,8,this.mode)||this.needPax,this.needPax=Yc(t,n+108,8,this.uid)||this.needPax,this.needPax=Yc(t,n+116,8,this.gid)||this.needPax,this.needPax=Yc(t,n+124,12,this.size)||this.needPax,this.needPax=QR(t,n+136,12,this.mtime)||this.needPax,t[n+156]=this[_i].charCodeAt(0),this.needPax=Ml(t,n+157,100,this.linkpath)||this.needPax,t.write("ustar\x0000",n+257,8),this.needPax=Ml(t,n+265,32,this.uname)||this.needPax,this.needPax=Ml(t,n+297,32,this.gname)||this.needPax,this.needPax=Yc(t,n+329,8,this.devmaj)||this.needPax,this.needPax=Yc(t,n+337,8,this.devmin)||this.needPax,this.needPax=Ml(t,n+345,r,s)||this.needPax,t[n+475]!==0?this.needPax=Ml(t,n+345,155,s)||this.needPax:(this.needPax=Ml(t,n+345,130,s)||this.needPax,this.needPax=QR(t,n+476,12,this.atime)||this.needPax,this.needPax=QR(t,n+488,12,this.ctime)||this.needPax);let a=8*32;for(let u=n;u<n+148;u++)a+=t[u];for(let u=n+156;u<n+512;u++)a+=t[u];return this.cksum=a,Yc(t,n+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(t){for(let n in t)t[n]!==null&&t[n]!==void 0&&(this[n]=t[n])}get type(){return YR.name.get(this[_i])||this[_i]}get typeKey(){return this[_i]}set type(t){YR.code.has(t)?this[_i]=YR.code.get(t):this[_i]=t}},$le=(e,t)=>{let r=e,i="",o,s=uf.parse(e).root||".";if(Buffer.byteLength(r)<100)o=[r,i,!1];else{i=uf.dirname(r),r=uf.basename(r);do Buffer.byteLength(r)<=100&&Buffer.byteLength(i)<=t?o=[r,i,!1]:Buffer.byteLength(r)>100&&Buffer.byteLength(i)<=t?o=[r.slice(0,100-1),i,!0]:(r=uf.join(uf.basename(i),r),i=uf.dirname(i));while(i!==s&&!o);o||(o=[e.slice(0,100-1),"",!0])}return o},Fl=(e,t,n)=>e.slice(t,t+n).toString("utf8").replace(/\0.*/,""),XR=(e,t,n)=>jle(zc(e,t,n)),jle=e=>e===null?null:new Date(e*1e3),zc=(e,t,n)=>e[t]&128?uB.parse(e.slice(t,t+n)):Ble(e,t,n),Hle=e=>isNaN(e)?null:e,Ble=(e,t,n)=>Hle(parseInt(e.slice(t,t+n).toString("utf8").replace(/\0.*$/,"").trim(),8)),Vle={12:8589934591,8:2097151},Yc=(e,t,n,r)=>r===null?!1:r>Vle[n]||r<0?(uB.encode(r,e.slice(t,t+n)),!0):(Wle(e,t,n,r),!1),Wle=(e,t,n,r)=>e.write(Gle(r,n),t,n,"ascii"),Gle=(e,t)=>zle(Math.floor(e).toString(8),t),zle=(e,t)=>(e.length===t-1?e:new Array(t-e.length-1).join("0")+e+" ")+"\0",QR=(e,t,n,r)=>r===null?!1:Yc(e,t,n,r.getTime()/1e3),Yle=new Array(156).join("\0"),Ml=(e,t,n,r)=>r===null?!1:(e.write(r+Yle,t,n,"utf8"),r.length!==Buffer.byteLength(r)||r.length>n);lB.exports=JR});var zE=w((Oqe,dB)=>{"use strict";var Kle=lf(),Xle=require("path"),pv=class{constructor(t,n){this.atime=t.atime||null,this.charset=t.charset||null,this.comment=t.comment||null,this.ctime=t.ctime||null,this.gid=t.gid||null,this.gname=t.gname||null,this.linkpath=t.linkpath||null,this.mtime=t.mtime||null,this.path=t.path||null,this.size=t.size||null,this.uid=t.uid||null,this.uname=t.uname||null,this.dev=t.dev||null,this.ino=t.ino||null,this.nlink=t.nlink||null,this.global=n||!1}encode(){let t=this.encodeBody();if(t==="")return null;let n=Buffer.byteLength(t),r=512*Math.ceil(1+n/512),i=Buffer.allocUnsafe(r);for(let o=0;o<512;o++)i[o]=0;new Kle({path:("PaxHeader/"+Xle.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:n,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i),i.write(t,512,n,"utf8");for(let o=n+512;o<i.length;o++)i[o]=0;return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===void 0)return"";let n=this[t]instanceof Date?this[t].getTime()/1e3:this[t],r=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+n+`
`,i=Buffer.byteLength(r),o=Math.floor(Math.log(i)/Math.log(10))+1;return i+o>=Math.pow(10,o)&&(o+=1),o+i+r}};pv.parse=(e,t,n)=>new pv(Qle(Jle(e),t),n);var Qle=(e,t)=>t?Object.keys(e).reduce((n,r)=>(n[r]=e[r],n),t):e,Jle=e=>e.replace(/\n$/,"").split(`
`).reduce(Zle,Object.create(null)),Zle=(e,t)=>{let n=parseInt(t,10);if(n!==Buffer.byteLength(t)+1)return e;t=t.slice((n+" ").length);let r=t.split("="),i=r.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return e;let o=r.join("=");return e[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,e};dB.exports=pv});var df=w((Nqe,pB)=>{pB.exports=e=>{let t=e.length-1,n=-1;for(;t>-1&&e.charAt(t)==="/";)n=t,t--;return n===-1?e:e.slice(0,n)}});var YE=w((Lqe,fB)=>{"use strict";fB.exports=e=>class extends e{warn(t,n,r={}){this.file&&(r.file=this.file),this.cwd&&(r.cwd=this.cwd),r.code=n instanceof Error&&n.code||t,r.tarCode=t,!this.strict&&r.recoverable!==!1?(n instanceof Error&&(r=Object.assign(n,r),n=n.message),this.emit("warn",r.tarCode,n,r)):n instanceof Error?this.emit("error",Object.assign(n,r)):this.emit("error",Object.assign(new Error(`${t}: ${n}`),r))}}});var eA=w((Mqe,mB)=>{"use strict";var KE=["|","<",">","?",":"],ZR=KE.map(e=>String.fromCharCode(61440+e.charCodeAt(0))),ede=new Map(KE.map((e,t)=>[e,ZR[t]])),tde=new Map(ZR.map((e,t)=>[e,KE[t]]));mB.exports={encode:e=>KE.reduce((t,n)=>t.split(n).join(ede.get(n)),e),decode:e=>ZR.reduce((t,n)=>t.split(n).join(tde.get(n)),e)}});var tA=w((Uqe,gB)=>{var{isAbsolute:nde,parse:hB}=require("path").win32;gB.exports=e=>{let t="",n=hB(e);for(;nde(e)||n.root;){let r=e.charAt(0)==="/"&&e.slice(0,4)!=="//?/"?"/":n.root;e=e.slice(r.length),t+=r,n=hB(e)}return[t,e]}});var yB=w((qqe,vB)=>{"use strict";vB.exports=(e,t,n)=>(e&=4095,n&&(e=(e|384)&-19),t&&(e&256&&(e|=64),e&32&&(e|=8),e&4&&(e|=1)),e)});var dA=w((Hqe,kB)=>{"use strict";var SB=FE(),TB=zE(),IB=lf(),Ls=require("fs"),xB=require("path"),Ns=cf(),rde=df(),PB=(e,t)=>t?(e=Ns(e).replace(/^\.(\/|$)/,""),rde(t)+"/"+e):Ns(e),ide=16*1024*1024,wB=Symbol("process"),EB=Symbol("file"),bB=Symbol("directory"),rA=Symbol("symlink"),_B=Symbol("hardlink"),fv=Symbol("header"),XE=Symbol("read"),iA=Symbol("lstat"),QE=Symbol("onlstat"),oA=Symbol("onread"),sA=Symbol("onreadlink"),aA=Symbol("openfile"),cA=Symbol("onopenfile"),Kc=Symbol("close"),JE=Symbol("mode"),uA=Symbol("awaitDrain"),nA=Symbol("ondrain"),Fs=Symbol("prefix"),CB=Symbol("hadError"),RB=YE(),ode=eA(),AB=tA(),DB=yB(),ZE=RB(class extends SB{constructor(t,n){if(n=n||{},super(n),typeof t!="string")throw new TypeError("path is required");this.path=Ns(t),this.portable=!!n.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=n.maxReadSize||ide,this.linkCache=n.linkCache||new Map,this.statCache=n.statCache||new Map,this.preservePaths=!!n.preservePaths,this.cwd=Ns(n.cwd||process.cwd()),this.strict=!!n.strict,this.noPax=!!n.noPax,this.noMtime=!!n.noMtime,this.mtime=n.mtime||null,this.prefix=n.prefix?Ns(n.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof n.onwarn=="function"&&this.on("warn",n.onwarn);let r=!1;if(!this.preservePaths){let[i,o]=AB(this.path);i&&(this.path=o,r=i)}this.win32=!!n.win32||process.platform==="win32",this.win32&&(this.path=ode.decode(this.path.replace(/\\/g,"/")),t=t.replace(/\\/g,"/")),this.absolute=Ns(n.absolute||xB.resolve(this.cwd,t)),this.path===""&&(this.path="./"),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.statCache.has(this.absolute)?this[QE](this.statCache.get(this.absolute)):this[iA]()}emit(t,...n){return t==="error"&&(this[CB]=!0),super.emit(t,...n)}[iA](){Ls.lstat(this.absolute,(t,n)=>{if(t)return this.emit("error",t);this[QE](n)})}[QE](t){this.statCache.set(this.absolute,t),this.stat=t,t.isFile()||(t.size=0),this.type=ade(t),this.emit("stat",t),this[wB]()}[wB](){switch(this.type){case"File":return this[EB]();case"Directory":return this[bB]();case"SymbolicLink":return this[rA]();default:return this.end()}}[JE](t){return DB(t,this.type==="Directory",this.portable)}[Fs](t){return PB(t,this.prefix)}[fv](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new IB({path:this[Fs](this.path),linkpath:this.type==="Link"?this[Fs](this.linkpath):this.linkpath,mode:this[JE](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new TB({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[Fs](this.path),linkpath:this.type==="Link"?this[Fs](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[bB](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[fv](),this.end()}[rA](){Ls.readlink(this.absolute,(t,n)=>{if(t)return this.emit("error",t);this[sA](n)})}[sA](t){this.linkpath=Ns(t),this[fv](),this.end()}[_B](t){this.type="Link",this.linkpath=Ns(xB.relative(this.cwd,t)),this.stat.size=0,this[fv](),this.end()}[EB](){if(this.stat.nlink>1){let t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){let n=this.linkCache.get(t);if(n.indexOf(this.cwd)===0)return this[_B](n)}this.linkCache.set(t,this.absolute)}if(this[fv](),this.stat.size===0)return this.end();this[aA]()}[aA](){Ls.open(this.absolute,"r",(t,n)=>{if(t)return this.emit("error",t);this[cA](n)})}[cA](t){if(this.fd=t,this[CB])return this[Kc]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let n=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(n),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[XE]()}[XE](){let{fd:t,buf:n,offset:r,length:i,pos:o}=this;Ls.read(t,n,r,i,o,(s,a)=>{if(s)return this[Kc](()=>this.emit("error",s));this[oA](a)})}[Kc](t){Ls.close(this.fd,t)}[oA](t){if(t<=0&&this.remain>0){let i=new Error("encountered unexpected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Kc](()=>this.emit("error",i))}if(t>this.remain){let i=new Error("did not encounter expected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Kc](()=>this.emit("error",i))}if(t===this.remain)for(let i=t;i<this.length&&t<this.blockRemain;i++)this.buf[i+this.offset]=0,t++,this.remain++;let n=this.offset===0&&t===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+t);this.write(n)?this[nA]():this[uA](()=>this[nA]())}[uA](t){this.once("drain",t)}write(t){if(this.blockRemain<t.length){let n=new Error("writing more data than expected");return n.path=this.absolute,this.emit("error",n)}return this.remain-=t.length,this.blockRemain-=t.length,this.pos+=t.length,this.offset+=t.length,super.write(t)}[nA](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[Kc](t=>t?this.emit("error",t):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[XE]()}}),lA=class extends ZE{[iA](){this[QE](Ls.lstatSync(this.absolute))}[rA](){this[sA](Ls.readlinkSync(this.absolute))}[aA](){this[cA](Ls.openSync(this.absolute,"r"))}[XE](){let t=!0;try{let{fd:n,buf:r,offset:i,length:o,pos:s}=this,a=Ls.readSync(n,r,i,o,s);this[oA](a),t=!1}finally{if(t)try{this[Kc](()=>{})}catch{}}}[uA](t){t()}[Kc](t){Ls.closeSync(this.fd),t()}},sde=RB(class extends SB{constructor(t,n){n=n||{},super(n),this.preservePaths=!!n.preservePaths,this.portable=!!n.portable,this.strict=!!n.strict,this.noPax=!!n.noPax,this.noMtime=!!n.noMtime,this.readEntry=t,this.type=t.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=n.prefix||null,this.path=Ns(t.path),this.mode=this[JE](t.mode),this.uid=this.portable?null:t.uid,this.gid=this.portable?null:t.gid,this.uname=this.portable?null:t.uname,this.gname=this.portable?null:t.gname,this.size=t.size,this.mtime=this.noMtime?null:n.mtime||t.mtime,this.atime=this.portable?null:t.atime,this.ctime=this.portable?null:t.ctime,this.linkpath=Ns(t.linkpath),typeof n.onwarn=="function"&&this.on("warn",n.onwarn);let r=!1;if(!this.preservePaths){let[i,o]=AB(this.path);i&&(this.path=o,r=i)}this.remain=t.size,this.blockRemain=t.startBlockSize,this.header=new IB({path:this[Fs](this.path),linkpath:this.type==="Link"?this[Fs](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.header.encode()&&!this.noPax&&super.write(new TB({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[Fs](this.path),linkpath:this.type==="Link"?this[Fs](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),t.pipe(this)}[Fs](t){return PB(t,this.prefix)}[JE](t){return DB(t,this.type==="Directory",this.portable)}write(t){let n=t.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=n,super.write(t)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});ZE.Sync=lA;ZE.Tar=sde;var ade=e=>e.isFile()?"File":e.isDirectory()?"Directory":e.isSymbolicLink()?"SymbolicLink":"Unsupported";kB.exports=ZE});var NB=w((Bqe,OB)=>{"use strict";OB.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var eb=w((Vqe,LB)=>{"use strict";LB.exports=rt;rt.Node=Ul;rt.create=rt;function rt(e){var t=this;if(t instanceof rt||(t=new rt),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}rt.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};rt.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};rt.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};rt.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)ude(this,arguments[e]);return this.length};rt.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)lde(this,arguments[e]);return this.length};rt.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};rt.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};rt.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};rt.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};rt.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};rt.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};rt.prototype.map=function(e,t){t=t||this;for(var n=new rt,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};rt.prototype.mapReverse=function(e,t){t=t||this;for(var n=new rt,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};rt.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};rt.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};rt.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};rt.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};rt.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new rt;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};rt.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new rt;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};rt.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var o=[],r=0;i&&r<t;r++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=cde(this,i,n[r]);return o};rt.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function cde(e,t,n){var r=t===e.head?new Ul(n,null,t,e):new Ul(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function ude(e,t){e.tail=new Ul(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function lde(e,t){e.head=new Ul(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Ul(e,t,n,r){if(!(this instanceof Ul))return new Ul(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{NB()(rt)}catch{}});var lb=w((Gqe,HB)=>{"use strict";var ab=class{constructor(t,n){this.path=t||"./",this.absolute=n,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},dde=FE(),pde=VR(),fde=WE(),wA=dA(),mde=wA.Sync,hde=wA.Tar,gde=eb(),FB=Buffer.alloc(1024),rb=Symbol("onStat"),tb=Symbol("ended"),Ms=Symbol("queue"),pf=Symbol("current"),ql=Symbol("process"),nb=Symbol("processing"),MB=Symbol("processJob"),Us=Symbol("jobs"),pA=Symbol("jobDone"),ib=Symbol("addFSEntry"),UB=Symbol("addTarEntry"),gA=Symbol("stat"),vA=Symbol("readdir"),ob=Symbol("onreaddir"),sb=Symbol("pipe"),qB=Symbol("entry"),fA=Symbol("entryOpt"),yA=Symbol("writeEntryClass"),jB=Symbol("write"),mA=Symbol("ondrain"),ub=require("fs"),$B=require("path"),vde=YE(),hA=cf(),EA=vde(class extends dde{constructor(t){super(t),t=t||Object.create(null),this.opt=t,this.file=t.file||"",this.cwd=t.cwd||process.cwd(),this.maxReadSize=t.maxReadSize,this.preservePaths=!!t.preservePaths,this.strict=!!t.strict,this.noPax=!!t.noPax,this.prefix=hA(t.prefix||""),this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.readdirCache=t.readdirCache||new Map,this[yA]=wA,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),this.portable=!!t.portable,this.zip=null,t.gzip?(typeof t.gzip!="object"&&(t.gzip={}),this.portable&&(t.gzip.portable=!0),this.zip=new pde.Gzip(t.gzip),this.zip.on("data",n=>super.write(n)),this.zip.on("end",n=>super.end()),this.zip.on("drain",n=>this[mA]()),this.on("resume",n=>this.zip.resume())):this.on("drain",this[mA]),this.noDirRecurse=!!t.noDirRecurse,this.follow=!!t.follow,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.filter=typeof t.filter=="function"?t.filter:n=>!0,this[Ms]=new gde,this[Us]=0,this.jobs=+t.jobs||4,this[nb]=!1,this[tb]=!1}[jB](t){return super.write(t)}add(t){return this.write(t),this}end(t){return t&&this.write(t),this[tb]=!0,this[ql](),this}write(t){if(this[tb])throw new Error("write after end");return t instanceof fde?this[UB](t):this[ib](t),this.flowing}[UB](t){let n=hA($B.resolve(this.cwd,t.path));if(!this.filter(t.path,t))t.resume();else{let r=new ab(t.path,n,!1);r.entry=new hde(t,this[fA](r)),r.entry.on("end",i=>this[pA](r)),this[Us]+=1,this[Ms].push(r)}this[ql]()}[ib](t){let n=hA($B.resolve(this.cwd,t));this[Ms].push(new ab(t,n)),this[ql]()}[gA](t){t.pending=!0,this[Us]+=1;let n=this.follow?"stat":"lstat";ub[n](t.absolute,(r,i)=>{t.pending=!1,this[Us]-=1,r?this.emit("error",r):this[rb](t,i)})}[rb](t,n){this.statCache.set(t.absolute,n),t.stat=n,this.filter(t.path,n)||(t.ignore=!0),this[ql]()}[vA](t){t.pending=!0,this[Us]+=1,ub.readdir(t.absolute,(n,r)=>{if(t.pending=!1,this[Us]-=1,n)return this.emit("error",n);this[ob](t,r)})}[ob](t,n){this.readdirCache.set(t.absolute,n),t.readdir=n,this[ql]()}[ql](){if(!this[nb]){this[nb]=!0;for(let t=this[Ms].head;t!==null&&this[Us]<this.jobs;t=t.next)if(this[MB](t.value),t.value.ignore){let n=t.next;this[Ms].removeNode(t),t.next=n}this[nb]=!1,this[tb]&&!this[Ms].length&&this[Us]===0&&(this.zip?this.zip.end(FB):(super.write(FB),super.end()))}}get[pf](){return this[Ms]&&this[Ms].head&&this[Ms].head.value}[pA](t){this[Ms].shift(),this[Us]-=1,this[ql]()}[MB](t){if(!t.pending){if(t.entry){t===this[pf]&&!t.piped&&this[sb](t);return}if(t.stat||(this.statCache.has(t.absolute)?this[rb](t,this.statCache.get(t.absolute)):this[gA](t)),!!t.stat&&!t.ignore&&!(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir&&(this.readdirCache.has(t.absolute)?this[ob](t,this.readdirCache.get(t.absolute)):this[vA](t),!t.readdir))){if(t.entry=this[qB](t),!t.entry){t.ignore=!0;return}t===this[pf]&&!t.piped&&this[sb](t)}}}[fA](t){return{onwarn:(n,r,i)=>this.warn(n,r,i),noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[qB](t){this[Us]+=1;try{return new this[yA](t.path,this[fA](t)).on("end",()=>this[pA](t)).on("error",n=>this.emit("error",n))}catch(n){this.emit("error",n)}}[mA](){this[pf]&&this[pf].entry&&this[pf].entry.resume()}[sb](t){t.piped=!0,t.readdir&&t.readdir.forEach(i=>{let o=t.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[ib](s+i)});let n=t.entry,r=this.zip;r?n.on("data",i=>{r.write(i)||n.pause()}):n.on("data",i=>{super.write(i)||n.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),xA=class extends EA{constructor(t){super(t),this[yA]=mde}pause(){}resume(){}[gA](t){let n=this.follow?"statSync":"lstatSync";this[rb](t,ub[n](t.absolute))}[vA](t,n){this[ob](t,ub.readdirSync(t.absolute))}[sb](t){let n=t.entry,r=this.zip;t.readdir&&t.readdir.forEach(i=>{let o=t.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[ib](s+i)}),r?n.on("data",i=>{r.write(i)}):n.on("data",i=>{super[jB](i)})}};EA.Sync=xA;HB.exports=EA});var JB=w((zqe,QB)=>{"use strict";var BB=typeof process=="object"&&process?process:{stdout:null,stderr:null},yde=require("events"),VB=require("stream"),WB=require("string_decoder").StringDecoder,ka=Symbol("EOF"),Oa=Symbol("maybeEmitEnd"),Xc=Symbol("emittedEnd"),db=Symbol("emittingEnd"),mv=Symbol("emittedError"),pb=Symbol("closed"),GB=Symbol("read"),fb=Symbol("flush"),zB=Symbol("flushChunk"),Gr=Symbol("encoding"),Na=Symbol("decoder"),mb=Symbol("flowing"),hv=Symbol("paused"),ff=Symbol("resume"),Nn=Symbol("bufferLength"),bA=Symbol("bufferPush"),_A=Symbol("bufferShift"),ur=Symbol("objectMode"),lr=Symbol("destroyed"),CA=Symbol("emitData"),YB=Symbol("emitEnd"),SA=Symbol("emitEnd2"),La=Symbol("async"),gv=e=>Promise.resolve().then(e),KB=global._MP_NO_ITERATOR_SYMBOLS_!=="1",xde=KB&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),wde=KB&&Symbol.iterator||Symbol("iterator not implemented"),Ede=e=>e==="end"||e==="finish"||e==="prefinish",bde=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,_de=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e),hb=class{constructor(t,n,r){this.src=t,this.dest=n,this.opts=r,this.ondrain=()=>t[ff](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},TA=class extends hb{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,n,r){super(t,n,r),this.proxyErrors=i=>n.emit("error",i),t.on("error",this.proxyErrors)}};QB.exports=class XB extends VB{constructor(t){super(),this[mb]=!1,this[hv]=!1,this.pipes=[],this.buffer=[],this[ur]=t&&t.objectMode||!1,this[ur]?this[Gr]=null:this[Gr]=t&&t.encoding||null,this[Gr]==="buffer"&&(this[Gr]=null),this[La]=t&&!!t.async||!1,this[Na]=this[Gr]?new WB(this[Gr]):null,this[ka]=!1,this[Xc]=!1,this[db]=!1,this[pb]=!1,this[mv]=null,this.writable=!0,this.readable=!0,this[Nn]=0,this[lr]=!1}get bufferLength(){return this[Nn]}get encoding(){return this[Gr]}set encoding(t){if(this[ur])throw new Error("cannot set encoding in objectMode");if(this[Gr]&&t!==this[Gr]&&(this[Na]&&this[Na].lastNeed||this[Nn]))throw new Error("cannot change encoding");this[Gr]!==t&&(this[Na]=t?new WB(t):null,this.buffer.length&&(this.buffer=this.buffer.map(n=>this[Na].write(n)))),this[Gr]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[ur]}set objectMode(t){this[ur]=this[ur]||!!t}get async(){return this[La]}set async(t){this[La]=this[La]||!!t}write(t,n,r){if(this[ka])throw new Error("write after end");if(this[lr])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let i=this[La]?gv:o=>o();return!this[ur]&&!Buffer.isBuffer(t)&&(_de(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):bde(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[ur]?(this.flowing&&this[Nn]!==0&&this[fb](!0),this.flowing?this.emit("data",t):this[bA](t),this[Nn]!==0&&this.emit("readable"),r&&i(r),this.flowing):t.length?(typeof t=="string"&&!(n===this[Gr]&&!this[Na].lastNeed)&&(t=Buffer.from(t,n)),Buffer.isBuffer(t)&&this[Gr]&&(t=this[Na].write(t)),this.flowing&&this[Nn]!==0&&this[fb](!0),this.flowing?this.emit("data",t):this[bA](t),this[Nn]!==0&&this.emit("readable"),r&&i(r),this.flowing):(this[Nn]!==0&&this.emit("readable"),r&&i(r),this.flowing)}read(t){if(this[lr])return null;if(this[Nn]===0||t===0||t>this[Nn])return this[Oa](),null;this[ur]&&(t=null),this.buffer.length>1&&!this[ur]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[Nn])]);let n=this[GB](t||null,this.buffer[0]);return this[Oa](),n}[GB](t,n){return t===n.length||t===null?this[_A]():(this.buffer[0]=n.slice(t),n=n.slice(0,t),this[Nn]-=t),this.emit("data",n),!this.buffer.length&&!this[ka]&&this.emit("drain"),n}end(t,n,r){return typeof t=="function"&&(r=t,t=null),typeof n=="function"&&(r=n,n="utf8"),t&&this.write(t,n),r&&this.once("end",r),this[ka]=!0,this.writable=!1,(this.flowing||!this[hv])&&this[Oa](),this}[ff](){this[lr]||(this[hv]=!1,this[mb]=!0,this.emit("resume"),this.buffer.length?this[fb]():this[ka]?this[Oa]():this.emit("drain"))}resume(){return this[ff]()}pause(){this[mb]=!1,this[hv]=!0}get destroyed(){return this[lr]}get flowing(){return this[mb]}get paused(){return this[hv]}[bA](t){this[ur]?this[Nn]+=1:this[Nn]+=t.length,this.buffer.push(t)}[_A](){return this.buffer.length&&(this[ur]?this[Nn]-=1:this[Nn]-=this.buffer[0].length),this.buffer.shift()}[fb](t){do;while(this[zB](this[_A]()));!t&&!this.buffer.length&&!this[ka]&&this.emit("drain")}[zB](t){return t?(this.emit("data",t),this.flowing):!1}pipe(t,n){if(this[lr])return;let r=this[Xc];return n=n||{},t===BB.stdout||t===BB.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&t.end():(this.pipes.push(n.proxyErrors?new TA(this,t,n):new hb(this,t,n)),this[La]?gv(()=>this[ff]()):this[ff]()),t}unpipe(t){let n=this.pipes.find(r=>r.dest===t);n&&(this.pipes.splice(this.pipes.indexOf(n),1),n.unpipe())}addListener(t,n){return this.on(t,n)}on(t,n){let r=super.on(t,n);return t==="data"&&!this.pipes.length&&!this.flowing?this[ff]():t==="readable"&&this[Nn]!==0?super.emit("readable"):Ede(t)&&this[Xc]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[mv]&&(this[La]?gv(()=>n.call(this,this[mv])):n.call(this,this[mv])),r}get emittedEnd(){return this[Xc]}[Oa](){!this[db]&&!this[Xc]&&!this[lr]&&this.buffer.length===0&&this[ka]&&(this[db]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[pb]&&this.emit("close"),this[db]=!1)}emit(t,n,...r){if(t!=="error"&&t!=="close"&&t!==lr&&this[lr])return;if(t==="data")return n?this[La]?gv(()=>this[CA](n)):this[CA](n):!1;if(t==="end")return this[YB]();if(t==="close"){if(this[pb]=!0,!this[Xc]&&!this[lr])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(t==="error"){this[mv]=n;let o=super.emit("error",n);return this[Oa](),o}else if(t==="resume"){let o=super.emit("resume");return this[Oa](),o}else if(t==="finish"||t==="prefinish"){let o=super.emit(t);return this.removeAllListeners(t),o}let i=super.emit(t,n,...r);return this[Oa](),i}[CA](t){for(let r of this.pipes)r.dest.write(t)===!1&&this.pause();let n=super.emit("data",t);return this[Oa](),n}[YB](){this[Xc]||(this[Xc]=!0,this.readable=!1,this[La]?gv(()=>this[SA]()):this[SA]())}[SA](){if(this[Na]){let n=this[Na].end();if(n){for(let r of this.pipes)r.dest.write(n);super.emit("data",n)}}for(let n of this.pipes)n.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[ur]||(t.dataLength=0);let n=this.promise();return this.on("data",r=>{t.push(r),this[ur]||(t.dataLength+=r.length)}),n.then(()=>t)}concat(){return this[ur]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[ur]?Promise.reject(new Error("cannot concat in objectMode")):this[Gr]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,n)=>{this.on(lr,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>t())})}[xde](){return{next:()=>{let n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[ka])return Promise.resolve({done:!0});let r=null,i=null,o=c=>{this.removeListener("data",s),this.removeListener("end",a),i(c)},s=c=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),r({value:c,done:!!this[ka]})},a=()=>{this.removeListener("error",o),this.removeListener("data",s),r({done:!0})},u=()=>o(new Error("stream destroyed"));return new Promise((c,l)=>{i=l,r=c,this.once(lr,u),this.once("error",o),this.once("end",a),this.once("data",s)})}}}[wde](){return{next:()=>{let n=this.read();return{value:n,done:n===null}}}}destroy(t){return this[lr]?(t?this.emit("error",t):this.emit(lr),this):(this[lr]=!0,this.buffer.length=0,this[Nn]=0,typeof this.close=="function"&&!this[pb]&&this.close(),t?this.emit("error",t):this.emit(lr),this)}static isStream(t){return!!t&&(t instanceof XB||t instanceof VB||t instanceof yde&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}});var Ef=w(yv=>{"use strict";var Cde=JB(),Sde=require("events").EventEmitter,zr=require("fs"),RA=zr.writev;if(!RA){let e=process.binding("fs"),t=e.FSReqWrap||e.FSReqCallback;RA=(n,r,i,o)=>{let s=(u,c)=>o(u,c,r),a=new t;a.oncomplete=s,e.writeBuffers(n,r,i,a)}}var xf=Symbol("_autoClose"),Bo=Symbol("_close"),vv=Symbol("_ended"),ht=Symbol("_fd"),ZB=Symbol("_finished"),Jc=Symbol("_flags"),IA=Symbol("_flush"),AA=Symbol("_handleChunk"),DA=Symbol("_makeBuf"),wb=Symbol("_mode"),gb=Symbol("_needDrain"),vf=Symbol("_onerror"),wf=Symbol("_onopen"),PA=Symbol("_onread"),hf=Symbol("_onwrite"),Zc=Symbol("_open"),Fa=Symbol("_path"),$l=Symbol("_pos"),qs=Symbol("_queue"),gf=Symbol("_read"),e2=Symbol("_readSize"),Qc=Symbol("_reading"),vb=Symbol("_remain"),t2=Symbol("_size"),yb=Symbol("_write"),mf=Symbol("_writing"),xb=Symbol("_defaultFlag"),yf=Symbol("_errored"),Eb=class extends Cde{constructor(t,n){if(n=n||{},super(n),this.readable=!0,this.writable=!1,typeof t!="string")throw new TypeError("path must be a string");this[yf]=!1,this[ht]=typeof n.fd=="number"?n.fd:null,this[Fa]=t,this[e2]=n.readSize||16*1024*1024,this[Qc]=!1,this[t2]=typeof n.size=="number"?n.size:1/0,this[vb]=this[t2],this[xf]=typeof n.autoClose=="boolean"?n.autoClose:!0,typeof this[ht]=="number"?this[gf]():this[Zc]()}get fd(){return this[ht]}get path(){return this[Fa]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[Zc](){zr.open(this[Fa],"r",(t,n)=>this[wf](t,n))}[wf](t,n){t?this[vf](t):(this[ht]=n,this.emit("open",n),this[gf]())}[DA](){return Buffer.allocUnsafe(Math.min(this[e2],this[vb]))}[gf](){if(!this[Qc]){this[Qc]=!0;let t=this[DA]();if(t.length===0)return process.nextTick(()=>this[PA](null,0,t));zr.read(this[ht],t,0,t.length,null,(n,r,i)=>this[PA](n,r,i))}}[PA](t,n,r){this[Qc]=!1,t?this[vf](t):this[AA](n,r)&&this[gf]()}[Bo](){if(this[xf]&&typeof this[ht]=="number"){let t=this[ht];this[ht]=null,zr.close(t,n=>n?this.emit("error",n):this.emit("close"))}}[vf](t){this[Qc]=!0,this[Bo](),this.emit("error",t)}[AA](t,n){let r=!1;return this[vb]-=t,t>0&&(r=super.write(t<n.length?n.slice(0,t):n)),(t===0||this[vb]<=0)&&(r=!1,this[Bo](),super.end()),r}emit(t,n){switch(t){case"prefinish":case"finish":break;case"drain":typeof this[ht]=="number"&&this[gf]();break;case"error":return this[yf]?void 0:(this[yf]=!0,super.emit(t,n));default:return super.emit(t,n)}}},kA=class extends Eb{[Zc](){let t=!0;try{this[wf](null,zr.openSync(this[Fa],"r")),t=!1}finally{t&&this[Bo]()}}[gf](){let t=!0;try{if(!this[Qc]){this[Qc]=!0;do{let n=this[DA](),r=n.length===0?0:zr.readSync(this[ht],n,0,n.length,null);if(!this[AA](r,n))break}while(!0);this[Qc]=!1}t=!1}finally{t&&this[Bo]()}}[Bo](){if(this[xf]&&typeof this[ht]=="number"){let t=this[ht];this[ht]=null,zr.closeSync(t),this.emit("close")}}},bb=class extends Sde{constructor(t,n){n=n||{},super(n),this.readable=!1,this.writable=!0,this[yf]=!1,this[mf]=!1,this[vv]=!1,this[gb]=!1,this[qs]=[],this[Fa]=t,this[ht]=typeof n.fd=="number"?n.fd:null,this[wb]=n.mode===void 0?438:n.mode,this[$l]=typeof n.start=="number"?n.start:null,this[xf]=typeof n.autoClose=="boolean"?n.autoClose:!0;let r=this[$l]!==null?"r+":"w";this[xb]=n.flags===void 0,this[Jc]=this[xb]?r:n.flags,this[ht]===null&&this[Zc]()}emit(t,n){if(t==="error"){if(this[yf])return;this[yf]=!0}return super.emit(t,n)}get fd(){return this[ht]}get path(){return this[Fa]}[vf](t){this[Bo](),this[mf]=!0,this.emit("error",t)}[Zc](){zr.open(this[Fa],this[Jc],this[wb],(t,n)=>this[wf](t,n))}[wf](t,n){this[xb]&&this[Jc]==="r+"&&t&&t.code==="ENOENT"?(this[Jc]="w",this[Zc]()):t?this[vf](t):(this[ht]=n,this.emit("open",n),this[IA]())}end(t,n){return t&&this.write(t,n),this[vv]=!0,!this[mf]&&!this[qs].length&&typeof this[ht]=="number"&&this[hf](null,0),this}write(t,n){return typeof t=="string"&&(t=Buffer.from(t,n)),this[vv]?(this.emit("error",new Error("write() after end()")),!1):this[ht]===null||this[mf]||this[qs].length?(this[qs].push(t),this[gb]=!0,!1):(this[mf]=!0,this[yb](t),!0)}[yb](t){zr.write(this[ht],t,0,t.length,this[$l],(n,r)=>this[hf](n,r))}[hf](t,n){t?this[vf](t):(this[$l]!==null&&(this[$l]+=n),this[qs].length?this[IA]():(this[mf]=!1,this[vv]&&!this[ZB]?(this[ZB]=!0,this[Bo](),this.emit("finish")):this[gb]&&(this[gb]=!1,this.emit("drain"))))}[IA](){if(this[qs].length===0)this[vv]&&this[hf](null,0);else if(this[qs].length===1)this[yb](this[qs].pop());else{let t=this[qs];this[qs]=[],RA(this[ht],t,this[$l],(n,r)=>this[hf](n,r))}}[Bo](){if(this[xf]&&typeof this[ht]=="number"){let t=this[ht];this[ht]=null,zr.close(t,n=>n?this.emit("error",n):this.emit("close"))}}},OA=class extends bb{[Zc](){let t;if(this[xb]&&this[Jc]==="r+")try{t=zr.openSync(this[Fa],this[Jc],this[wb])}catch(n){if(n.code==="ENOENT")return this[Jc]="w",this[Zc]();throw n}else t=zr.openSync(this[Fa],this[Jc],this[wb]);this[wf](null,t)}[Bo](){if(this[xf]&&typeof this[ht]=="number"){let t=this[ht];this[ht]=null,zr.closeSync(t),this.emit("close")}}[yb](t){let n=!0;try{this[hf](null,zr.writeSync(this[ht],t,0,t.length,this[$l])),n=!1}finally{if(n)try{this[Bo]()}catch{}}}};yv.ReadStream=Eb;yv.ReadStreamSync=kA;yv.WriteStream=bb;yv.WriteStreamSync=OA});var Rb=w((Xqe,u2)=>{"use strict";var Tde=YE(),Ide=lf(),Pde=require("events"),Rde=eb(),Ade=1024*1024,Dde=WE(),n2=zE(),kde=VR(),{nextTick:Ode}=require("process"),NA=Buffer.from([31,139]),eo=Symbol("state"),jl=Symbol("writeEntry"),Ma=Symbol("readEntry"),LA=Symbol("nextEntry"),r2=Symbol("processEntry"),to=Symbol("extendedHeader"),xv=Symbol("globalExtendedHeader"),eu=Symbol("meta"),i2=Symbol("emitMeta"),Rt=Symbol("buffer"),Ua=Symbol("queue"),Hl=Symbol("ended"),o2=Symbol("emittedEnd"),Bl=Symbol("emit"),Yr=Symbol("unzip"),_b=Symbol("consumeChunk"),Cb=Symbol("consumeChunkSub"),FA=Symbol("consumeBody"),s2=Symbol("consumeMeta"),a2=Symbol("consumeHeader"),Sb=Symbol("consuming"),MA=Symbol("bufferConcat"),UA=Symbol("maybeEnd"),wv=Symbol("writing"),tu=Symbol("aborted"),Tb=Symbol("onDone"),Vl=Symbol("sawValidEntry"),Ib=Symbol("sawNullBlock"),Pb=Symbol("sawEOF"),c2=Symbol("closeStream"),Nde=e=>!0;u2.exports=Tde(class extends Pde{constructor(t){t=t||{},super(t),this.file=t.file||"",this[Vl]=null,this.on(Tb,n=>{(this[eo]==="begin"||this[Vl]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),t.ondone?this.on(Tb,t.ondone):this.on(Tb,n=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!t.strict,this.maxMetaEntrySize=t.maxMetaEntrySize||Ade,this.filter=typeof t.filter=="function"?t.filter:Nde,this.writable=!0,this.readable=!1,this[Ua]=new Rde,this[Rt]=null,this[Ma]=null,this[jl]=null,this[eo]="begin",this[eu]="",this[to]=null,this[xv]=null,this[Hl]=!1,this[Yr]=null,this[tu]=!1,this[Ib]=!1,this[Pb]=!1,this.on("end",()=>this[c2]()),typeof t.onwarn=="function"&&this.on("warn",t.onwarn),typeof t.onentry=="function"&&this.on("entry",t.onentry)}[a2](t,n){this[Vl]===null&&(this[Vl]=!1);let r;try{r=new Ide(t,n,this[to],this[xv])}catch(i){return this.warn("TAR_ENTRY_INVALID",i)}if(r.nullBlock)this[Ib]?(this[Pb]=!0,this[eo]==="begin"&&(this[eo]="header"),this[Bl]("eof")):(this[Ib]=!0,this[Bl]("nullBlock"));else if(this[Ib]=!1,!r.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:r});else if(!r.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:r});else{let i=r.type;if(/^(Symbolic)?Link$/.test(i)&&!r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:r});else if(!/^(Symbolic)?Link$/.test(i)&&r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:r});else{let o=this[jl]=new Dde(r,this[to],this[xv]);if(!this[Vl])if(o.remain){let s=()=>{o.invalid||(this[Vl]=!0)};o.on("end",s)}else this[Vl]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[Bl]("ignoredEntry",o),this[eo]="ignore",o.resume()):o.size>0&&(this[eu]="",o.on("data",s=>this[eu]+=s),this[eo]="meta"):(this[to]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[Bl]("ignoredEntry",o),this[eo]=o.remain?"ignore":"header",o.resume()):(o.remain?this[eo]="body":(this[eo]="header",o.end()),this[Ma]?this[Ua].push(o):(this[Ua].push(o),this[LA]())))}}}[c2](){Ode(()=>this.emit("close"))}[r2](t){let n=!0;return t?Array.isArray(t)?this.emit.apply(this,t):(this[Ma]=t,this.emit("entry",t),t.emittedEnd||(t.on("end",r=>this[LA]()),n=!1)):(this[Ma]=null,n=!1),n}[LA](){do;while(this[r2](this[Ua].shift()));if(!this[Ua].length){let t=this[Ma];!t||t.flowing||t.size===t.remain?this[wv]||this.emit("drain"):t.once("drain",r=>this.emit("drain"))}}[FA](t,n){let r=this[jl],i=r.blockRemain,o=i>=t.length&&n===0?t:t.slice(n,n+i);return r.write(o),r.blockRemain||(this[eo]="header",this[jl]=null,r.end()),o.length}[s2](t,n){let r=this[jl],i=this[FA](t,n);return this[jl]||this[i2](r),i}[Bl](t,n,r){!this[Ua].length&&!this[Ma]?this.emit(t,n,r):this[Ua].push([t,n,r])}[i2](t){switch(this[Bl]("meta",this[eu]),t.type){case"ExtendedHeader":case"OldExtendedHeader":this[to]=n2.parse(this[eu],this[to],!1);break;case"GlobalExtendedHeader":this[xv]=n2.parse(this[eu],this[xv],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[to]=this[to]||Object.create(null),this[to].path=this[eu].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[to]=this[to]||Object.create(null),this[to].linkpath=this[eu].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t){this[tu]=!0,this.emit("abort",t),this.warn("TAR_ABORT",t,{recoverable:!1})}write(t){if(this[tu])return;if(this[Yr]===null&&t){if(this[Rt]&&(t=Buffer.concat([this[Rt],t]),this[Rt]=null),t.length<NA.length)return this[Rt]=t,!0;for(let r=0;this[Yr]===null&&r<NA.length;r++)t[r]!==NA[r]&&(this[Yr]=!1);if(this[Yr]===null){let r=this[Hl];this[Hl]=!1,this[Yr]=new kde.Unzip,this[Yr].on("data",o=>this[_b](o)),this[Yr].on("error",o=>this.abort(o)),this[Yr].on("end",o=>{this[Hl]=!0,this[_b]()}),this[wv]=!0;let i=this[Yr][r?"end":"write"](t);return this[wv]=!1,i}}this[wv]=!0,this[Yr]?this[Yr].write(t):this[_b](t),this[wv]=!1;let n=this[Ua].length?!1:this[Ma]?this[Ma].flowing:!0;return!n&&!this[Ua].length&&this[Ma].once("drain",r=>this.emit("drain")),n}[MA](t){t&&!this[tu]&&(this[Rt]=this[Rt]?Buffer.concat([this[Rt],t]):t)}[UA](){if(this[Hl]&&!this[o2]&&!this[tu]&&!this[Sb]){this[o2]=!0;let t=this[jl];if(t&&t.blockRemain){let n=this[Rt]?this[Rt].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${t.blockRemain} more bytes, only ${n} available)`,{entry:t}),this[Rt]&&t.write(this[Rt]),t.end()}this[Bl](Tb)}}[_b](t){if(this[Sb])this[MA](t);else if(!t&&!this[Rt])this[UA]();else{if(this[Sb]=!0,this[Rt]){this[MA](t);let n=this[Rt];this[Rt]=null,this[Cb](n)}else this[Cb](t);for(;this[Rt]&&this[Rt].length>=512&&!this[tu]&&!this[Pb];){let n=this[Rt];this[Rt]=null,this[Cb](n)}this[Sb]=!1}(!this[Rt]||this[Hl])&&this[UA]()}[Cb](t){let n=0,r=t.length;for(;n+512<=r&&!this[tu]&&!this[Pb];)switch(this[eo]){case"begin":case"header":this[a2](t,n),n+=512;break;case"ignore":case"body":n+=this[FA](t,n);break;case"meta":n+=this[s2](t,n);break;default:throw new Error("invalid state: "+this[eo])}n<r&&(this[Rt]?this[Rt]=Buffer.concat([t.slice(n),this[Rt]]):this[Rt]=t.slice(n))}end(t){this[tu]||(this[Yr]?this[Yr].end(t):(this[Hl]=!0,this.write(t)))}})});var Ab=w((Qqe,f2)=>{"use strict";var Lde=nf(),d2=Rb(),bf=require("fs"),Fde=Ef(),l2=require("path"),qA=df();f2.exports=(e,t,n)=>{typeof e=="function"?(n=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(n=t,t=null),t?t=Array.from(t):t=[];let r=Lde(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return t.length&&Ude(r,t),r.noResume||Mde(r),r.file&&r.sync?qde(r):r.file?$de(r,n):p2(r)};var Mde=e=>{let t=e.onentry;e.onentry=t?n=>{t(n),n.resume()}:n=>n.resume()},Ude=(e,t)=>{let n=new Map(t.map(o=>[qA(o),!0])),r=e.filter,i=(o,s)=>{let a=s||l2.parse(o).root||".",u=o===a?!1:n.has(o)?n.get(o):i(l2.dirname(o),a);return n.set(o,u),u};e.filter=r?(o,s)=>r(o,s)&&i(qA(o)):o=>i(qA(o))},qde=e=>{let t=p2(e),n=e.file,r=!0,i;try{let o=bf.statSync(n),s=e.maxReadSize||16*1024*1024;if(o.size<s)t.end(bf.readFileSync(n));else{let a=0,u=Buffer.allocUnsafe(s);for(i=bf.openSync(n,"r");a<o.size;){let c=bf.readSync(i,u,0,s,a);a+=c,t.write(u.slice(0,c))}t.end()}r=!1}finally{if(r&&i)try{bf.closeSync(i)}catch{}}},$de=(e,t)=>{let n=new d2(e),r=e.maxReadSize||16*1024*1024,i=e.file,o=new Promise((s,a)=>{n.on("error",a),n.on("end",s),bf.stat(i,(u,c)=>{if(u)a(u);else{let l=new Fde.ReadStream(i,{readSize:r,size:c.size});l.on("error",a),l.pipe(n)}})});return t?o.then(t,t):o},p2=e=>new d2(e)});var x2=w((Jqe,y2)=>{"use strict";var jde=nf(),Db=lb(),m2=Ef(),h2=Ab(),g2=require("path");y2.exports=(e,t,n)=>{if(typeof t=="function"&&(n=t),Array.isArray(e)&&(t=e,e={}),!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);let r=jde(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return r.file&&r.sync?Hde(r,t):r.file?Bde(r,t,n):r.sync?Vde(r,t):Wde(r,t)};var Hde=(e,t)=>{let n=new Db.Sync(e),r=new m2.WriteStreamSync(e.file,{mode:e.mode||438});n.pipe(r),v2(n,t)},Bde=(e,t,n)=>{let r=new Db(e),i=new m2.WriteStream(e.file,{mode:e.mode||438});r.pipe(i);let o=new Promise((s,a)=>{i.on("error",a),i.on("close",s),r.on("error",a)});return $A(r,t),n?o.then(n,n):o},v2=(e,t)=>{t.forEach(n=>{n.charAt(0)==="@"?h2({file:g2.resolve(e.cwd,n.slice(1)),sync:!0,noResume:!0,onentry:r=>e.add(r)}):e.add(n)}),e.end()},$A=(e,t)=>{for(;t.length;){let n=t.shift();if(n.charAt(0)==="@")return h2({file:g2.resolve(e.cwd,n.slice(1)),noResume:!0,onentry:r=>e.add(r)}).then(r=>$A(e,t));e.add(n)}e.end()},Vde=(e,t)=>{let n=new Db.Sync(e);return v2(n,t),n},Wde=(e,t)=>{let n=new Db(e);return $A(n,t),n}});var jA=w((Zqe,T2)=>{"use strict";var Gde=nf(),w2=lb(),Ci=require("fs"),E2=Ef(),b2=Ab(),_2=require("path"),C2=lf();T2.exports=(e,t,n)=>{let r=Gde(e);if(!r.file)throw new TypeError("file is required");if(r.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),r.sync?zde(r,t):Kde(r,t,n)};var zde=(e,t)=>{let n=new w2.Sync(e),r=!0,i,o;try{try{i=Ci.openSync(e.file,"r+")}catch(u){if(u.code==="ENOENT")i=Ci.openSync(e.file,"w+");else throw u}let s=Ci.fstatSync(i),a=Buffer.alloc(512);e:for(o=0;o<s.size;o+=512){for(let l=0,d=0;l<512;l+=d){if(d=Ci.readSync(i,a,l,a.length-l,o+l),o===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!d)break e}let u=new C2(a);if(!u.cksumValid)break;let c=512*Math.ceil(u.size/512);if(o+c+512>s.size)break;o+=c,e.mtimeCache&&e.mtimeCache.set(u.path,u.mtime)}r=!1,Yde(e,n,o,i,t)}finally{if(r)try{Ci.closeSync(i)}catch{}}},Yde=(e,t,n,r,i)=>{let o=new E2.WriteStreamSync(e.file,{fd:r,start:n});t.pipe(o),Xde(t,i)},Kde=(e,t,n)=>{t=Array.from(t);let r=new w2(e),i=(s,a,u)=>{let c=(m,h)=>{m?Ci.close(s,g=>u(m)):u(null,h)},l=0;if(a===0)return c(null,0);let d=0,p=Buffer.alloc(512),f=(m,h)=>{if(m)return c(m);if(d+=h,d<512&&h)return Ci.read(s,p,d,p.length-d,l+d,f);if(l===0&&p[0]===31&&p[1]===139)return c(new Error("cannot append to compressed archives"));if(d<512)return c(null,l);let g=new C2(p);if(!g.cksumValid)return c(null,l);let v=512*Math.ceil(g.size/512);if(l+v+512>a||(l+=v+512,l>=a))return c(null,l);e.mtimeCache&&e.mtimeCache.set(g.path,g.mtime),d=0,Ci.read(s,p,0,512,l,f)};Ci.read(s,p,0,512,l,f)},o=new Promise((s,a)=>{r.on("error",a);let u="r+",c=(l,d)=>{if(l&&l.code==="ENOENT"&&u==="r+")return u="w+",Ci.open(e.file,u,c);if(l)return a(l);Ci.fstat(d,(p,f)=>{if(p)return Ci.close(d,()=>a(p));i(d,f.size,(m,h)=>{if(m)return a(m);let g=new E2.WriteStream(e.file,{fd:d,start:h});r.pipe(g),g.on("error",a),g.on("close",s),S2(r,t)})})};Ci.open(e.file,u,c)});return n?o.then(n,n):o},Xde=(e,t)=>{t.forEach(n=>{n.charAt(0)==="@"?b2({file:_2.resolve(e.cwd,n.slice(1)),sync:!0,noResume:!0,onentry:r=>e.add(r)}):e.add(n)}),e.end()},S2=(e,t)=>{for(;t.length;){let n=t.shift();if(n.charAt(0)==="@")return b2({file:_2.resolve(e.cwd,n.slice(1)),noResume:!0,onentry:r=>e.add(r)}).then(r=>S2(e,t));e.add(n)}e.end()}});var P2=w((e$e,I2)=>{"use strict";var Qde=nf(),Jde=jA();I2.exports=(e,t,n)=>{let r=Qde(e);if(!r.file)throw new TypeError("file is required");if(r.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),Zde(r),Jde(r,t,n)};var Zde=e=>{let t=e.filter;e.mtimeCache||(e.mtimeCache=new Map),e.filter=t?(n,r)=>t(n,r)&&!(e.mtimeCache.get(n)>r.mtime):(n,r)=>!(e.mtimeCache.get(n)>r.mtime)}});var D2=w((t$e,A2)=>{var{promisify:R2}=require("util"),nu=require("fs"),epe=e=>{if(!e)e={mode:511,fs:nu};else if(typeof e=="object")e={mode:511,fs:nu,...e};else if(typeof e=="number")e={mode:e,fs:nu};else if(typeof e=="string")e={mode:parseInt(e,8),fs:nu};else throw new TypeError("invalid options argument");return e.mkdir=e.mkdir||e.fs.mkdir||nu.mkdir,e.mkdirAsync=R2(e.mkdir),e.stat=e.stat||e.fs.stat||nu.stat,e.statAsync=R2(e.stat),e.statSync=e.statSync||e.fs.statSync||nu.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||nu.mkdirSync,e};A2.exports=epe});var O2=w((n$e,k2)=>{var tpe=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:npe,parse:rpe}=require("path"),ipe=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=npe(e),tpe==="win32"){let t=/[*|"<>?:]/,{root:n}=rpe(e);if(t.test(e.substr(n.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e};k2.exports=ipe});var U2=w((r$e,M2)=>{var{dirname:N2}=require("path"),L2=(e,t,n=void 0)=>n===t?Promise.resolve():e.statAsync(t).then(r=>r.isDirectory()?n:void 0,r=>r.code==="ENOENT"?L2(e,N2(t),t):void 0),F2=(e,t,n=void 0)=>{if(n!==t)try{return e.statSync(t).isDirectory()?n:void 0}catch(r){return r.code==="ENOENT"?F2(e,N2(t),t):void 0}};M2.exports={findMade:L2,findMadeSync:F2}});var VA=w((i$e,$2)=>{var{dirname:q2}=require("path"),HA=(e,t,n)=>{t.recursive=!1;let r=q2(e);return r===e?t.mkdirAsync(e,t).catch(i=>{if(i.code!=="EISDIR")throw i}):t.mkdirAsync(e,t).then(()=>n||e,i=>{if(i.code==="ENOENT")return HA(r,t).then(o=>HA(e,t,o));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return t.statAsync(e).then(o=>{if(o.isDirectory())return n;throw i},()=>{throw i})})},BA=(e,t,n)=>{let r=q2(e);if(t.recursive=!1,r===e)try{return t.mkdirSync(e,t)}catch(i){if(i.code!=="EISDIR")throw i;return}try{return t.mkdirSync(e,t),n||e}catch(i){if(i.code==="ENOENT")return BA(e,t,BA(r,t,n));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!t.statSync(e).isDirectory())throw i}catch{throw i}}};$2.exports={mkdirpManual:HA,mkdirpManualSync:BA}});var B2=w((o$e,H2)=>{var{dirname:j2}=require("path"),{findMade:ope,findMadeSync:spe}=U2(),{mkdirpManual:ape,mkdirpManualSync:cpe}=VA(),upe=(e,t)=>(t.recursive=!0,j2(e)===e?t.mkdirAsync(e,t):ope(t,e).then(r=>t.mkdirAsync(e,t).then(()=>r).catch(i=>{if(i.code==="ENOENT")return ape(e,t);throw i}))),lpe=(e,t)=>{if(t.recursive=!0,j2(e)===e)return t.mkdirSync(e,t);let r=spe(t,e);try{return t.mkdirSync(e,t),r}catch(i){if(i.code==="ENOENT")return cpe(e,t);throw i}};H2.exports={mkdirpNative:upe,mkdirpNativeSync:lpe}});var z2=w((s$e,G2)=>{var V2=require("fs"),dpe=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,WA=dpe.replace(/^v/,"").split("."),W2=+WA[0]>10||+WA[0]==10&&+WA[1]>=12,ppe=W2?e=>e.mkdir===V2.mkdir:()=>!1,fpe=W2?e=>e.mkdirSync===V2.mkdirSync:()=>!1;G2.exports={useNative:ppe,useNativeSync:fpe}});var Z2=w((a$e,J2)=>{var _f=D2(),Cf=O2(),{mkdirpNative:Y2,mkdirpNativeSync:K2}=B2(),{mkdirpManual:X2,mkdirpManualSync:Q2}=VA(),{useNative:mpe,useNativeSync:hpe}=z2(),Sf=(e,t)=>(e=Cf(e),t=_f(t),mpe(t)?Y2(e,t):X2(e,t)),gpe=(e,t)=>(e=Cf(e),t=_f(t),hpe(t)?K2(e,t):Q2(e,t));Sf.sync=gpe;Sf.native=(e,t)=>Y2(Cf(e),_f(t));Sf.manual=(e,t)=>X2(Cf(e),_f(t));Sf.nativeSync=(e,t)=>K2(Cf(e),_f(t));Sf.manualSync=(e,t)=>Q2(Cf(e),_f(t));J2.exports=Sf});var sV=w((c$e,oV)=>{"use strict";var no=require("fs"),Wl=require("path"),vpe=no.lchown?"lchown":"chown",ype=no.lchownSync?"lchownSync":"chownSync",tV=no.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),eV=(e,t,n)=>{try{return no[ype](e,t,n)}catch(r){if(r.code!=="ENOENT")throw r}},xpe=(e,t,n)=>{try{return no.chownSync(e,t,n)}catch(r){if(r.code!=="ENOENT")throw r}},wpe=tV?(e,t,n,r)=>i=>{!i||i.code!=="EISDIR"?r(i):no.chown(e,t,n,r)}:(e,t,n,r)=>r,GA=tV?(e,t,n)=>{try{return eV(e,t,n)}catch(r){if(r.code!=="EISDIR")throw r;xpe(e,t,n)}}:(e,t,n)=>eV(e,t,n),Epe=process.version,nV=(e,t,n)=>no.readdir(e,t,n),bpe=(e,t)=>no.readdirSync(e,t);/^v4\./.test(Epe)&&(nV=(e,t,n)=>no.readdir(e,n));var kb=(e,t,n,r)=>{no[vpe](e,t,n,wpe(e,t,n,i=>{r(i&&i.code!=="ENOENT"?i:null)}))},rV=(e,t,n,r,i)=>{if(typeof t=="string")return no.lstat(Wl.resolve(e,t),(o,s)=>{if(o)return i(o.code!=="ENOENT"?o:null);s.name=t,rV(e,s,n,r,i)});if(t.isDirectory())zA(Wl.resolve(e,t.name),n,r,o=>{if(o)return i(o);let s=Wl.resolve(e,t.name);kb(s,n,r,i)});else{let o=Wl.resolve(e,t.name);kb(o,n,r,i)}},zA=(e,t,n,r)=>{nV(e,{withFileTypes:!0},(i,o)=>{if(i){if(i.code==="ENOENT")return r();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return r(i)}if(i||!o.length)return kb(e,t,n,r);let s=o.length,a=null,u=c=>{if(!a){if(c)return r(a=c);if(--s===0)return kb(e,t,n,r)}};o.forEach(c=>rV(e,c,t,n,u))})},_pe=(e,t,n,r)=>{if(typeof t=="string")try{let i=no.lstatSync(Wl.resolve(e,t));i.name=t,t=i}catch(i){if(i.code==="ENOENT")return;throw i}t.isDirectory()&&iV(Wl.resolve(e,t.name),n,r),GA(Wl.resolve(e,t.name),n,r)},iV=(e,t,n)=>{let r;try{r=bpe(e,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return GA(e,t,n);throw i}return r&&r.length&&r.forEach(i=>_pe(e,i,t,n)),GA(e,t,n)};oV.exports=zA;zA.sync=iV});var lV=w((u$e,YA)=>{"use strict";var aV=Z2(),ro=require("fs"),Ob=require("path"),cV=sV(),Vo=cf(),Nb=class extends Error{constructor(t,n){super("Cannot extract through symbolic link"),this.path=n,this.symlink=t}get name(){return"SylinkError"}},Lb=class extends Error{constructor(t,n){super(n+": Cannot cd into '"+t+"'"),this.path=t,this.code=n}get name(){return"CwdError"}},Fb=(e,t)=>e.get(Vo(t)),Ev=(e,t,n)=>e.set(Vo(t),n),Cpe=(e,t)=>{ro.stat(e,(n,r)=>{(n||!r.isDirectory())&&(n=new Lb(e,n&&n.code||"ENOTDIR")),t(n)})};YA.exports=(e,t,n)=>{e=Vo(e);let r=t.umask,i=t.mode|448,o=(i&r)!==0,s=t.uid,a=t.gid,u=typeof s=="number"&&typeof a=="number"&&(s!==t.processUid||a!==t.processGid),c=t.preserve,l=t.unlink,d=t.cache,p=Vo(t.cwd),f=(g,v)=>{g?n(g):(Ev(d,e,!0),v&&u?cV(v,s,a,y=>f(y)):o?ro.chmod(e,i,n):n())};if(d&&Fb(d,e)===!0)return f();if(e===p)return Cpe(e,f);if(c)return aV(e,{mode:i}).then(g=>f(null,g),f);let h=Vo(Ob.relative(p,e)).split("/");Mb(p,h,i,d,l,p,null,f)};var Mb=(e,t,n,r,i,o,s,a)=>{if(!t.length)return a(null,s);let u=t.shift(),c=Vo(Ob.resolve(e+"/"+u));if(Fb(r,c))return Mb(c,t,n,r,i,o,s,a);ro.mkdir(c,n,uV(c,t,n,r,i,o,s,a))},uV=(e,t,n,r,i,o,s,a)=>u=>{u?ro.lstat(e,(c,l)=>{if(c)c.path=c.path&&Vo(c.path),a(c);else if(l.isDirectory())Mb(e,t,n,r,i,o,s,a);else if(i)ro.unlink(e,d=>{if(d)return a(d);ro.mkdir(e,n,uV(e,t,n,r,i,o,s,a))});else{if(l.isSymbolicLink())return a(new Nb(e,e+"/"+t.join("/")));a(u)}}):(s=s||e,Mb(e,t,n,r,i,o,s,a))},Spe=e=>{let t=!1,n="ENOTDIR";try{t=ro.statSync(e).isDirectory()}catch(r){n=r.code}finally{if(!t)throw new Lb(e,n)}};YA.exports.sync=(e,t)=>{e=Vo(e);let n=t.umask,r=t.mode|448,i=(r&n)!==0,o=t.uid,s=t.gid,a=typeof o=="number"&&typeof s=="number"&&(o!==t.processUid||s!==t.processGid),u=t.preserve,c=t.unlink,l=t.cache,d=Vo(t.cwd),p=g=>{Ev(l,e,!0),g&&a&&cV.sync(g,o,s),i&&ro.chmodSync(e,r)};if(l&&Fb(l,e)===!0)return p();if(e===d)return Spe(d),p();if(u)return p(aV.sync(e,r));let m=Vo(Ob.relative(d,e)).split("/"),h=null;for(let g=m.shift(),v=d;g&&(v+="/"+g);g=m.shift())if(v=Vo(Ob.resolve(v)),!Fb(l,v))try{ro.mkdirSync(v,r),h=h||v,Ev(l,v,!0)}catch{let x=ro.lstatSync(v);if(x.isDirectory()){Ev(l,v,!0);continue}else if(c){ro.unlinkSync(v),ro.mkdirSync(v,r),h=h||v,Ev(l,v,!0);continue}else if(x.isSymbolicLink())return new Nb(v,v+"/"+m.join("/"))}return p(h)}});var XA=w((l$e,dV)=>{var KA=Object.create(null),{hasOwnProperty:Tpe}=Object.prototype;dV.exports=e=>(Tpe.call(KA,e)||(KA[e]=e.normalize("NFKD")),KA[e])});var hV=w((d$e,mV)=>{var pV=require("assert"),Ipe=XA(),Ppe=df(),{join:fV}=require("path"),Rpe=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Ape=Rpe==="win32";mV.exports=()=>{let e=new Map,t=new Map,n=c=>c.split("/").slice(0,-1).reduce((d,p)=>(d.length&&(p=fV(d[d.length-1],p)),d.push(p||"/"),d),[]),r=new Set,i=c=>{let l=t.get(c);if(!l)throw new Error("function does not have any path reservations");return{paths:l.paths.map(d=>e.get(d)),dirs:[...l.dirs].map(d=>e.get(d))}},o=c=>{let{paths:l,dirs:d}=i(c);return l.every(p=>p[0]===c)&&d.every(p=>p[0]instanceof Set&&p[0].has(c))},s=c=>r.has(c)||!o(c)?!1:(r.add(c),c(()=>a(c)),!0),a=c=>{if(!r.has(c))return!1;let{paths:l,dirs:d}=t.get(c),p=new Set;return l.forEach(f=>{let m=e.get(f);pV.equal(m[0],c),m.length===1?e.delete(f):(m.shift(),typeof m[0]=="function"?p.add(m[0]):m[0].forEach(h=>p.add(h)))}),d.forEach(f=>{let m=e.get(f);pV(m[0]instanceof Set),m[0].size===1&&m.length===1?e.delete(f):m[0].size===1?(m.shift(),p.add(m[0])):m[0].delete(c)}),r.delete(c),p.forEach(f=>s(f)),!0};return{check:o,reserve:(c,l)=>{c=Ape?["win32 parallelization disabled"]:c.map(p=>Ipe(Ppe(fV(p))).toLowerCase());let d=new Set(c.map(p=>n(p)).reduce((p,f)=>p.concat(f)));return t.set(l,{dirs:d,paths:c}),c.forEach(p=>{let f=e.get(p);f?f.push(l):e.set(p,[l])}),d.forEach(p=>{let f=e.get(p);f?f[f.length-1]instanceof Set?f[f.length-1].add(l):f.push(new Set([l])):e.set(p,[new Set([l])])}),s(l)}}}});var yV=w((p$e,vV)=>{var Dpe=process.env.__FAKE_PLATFORM__||process.platform,kpe=Dpe==="win32",Ope=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:Npe,O_TRUNC:Lpe,O_WRONLY:Fpe,UV_FS_O_FILEMAP:gV=0}=Ope.constants,Mpe=kpe&&!!gV,Upe=512*1024,qpe=gV|Lpe|Npe|Fpe;vV.exports=Mpe?e=>e<Upe?qpe:"w":()=>"w"});var oD=w((f$e,kV)=>{"use strict";var $pe=require("assert"),jpe=Rb(),it=require("fs"),Hpe=Ef(),qa=require("path"),RV=lV(),xV=eA(),Bpe=hV(),Vpe=tA(),Si=cf(),Wpe=df(),Gpe=XA(),wV=Symbol("onEntry"),ZA=Symbol("checkFs"),EV=Symbol("checkFs2"),$b=Symbol("pruneCache"),eD=Symbol("isReusable"),io=Symbol("makeFs"),tD=Symbol("file"),nD=Symbol("directory"),jb=Symbol("link"),bV=Symbol("symlink"),_V=Symbol("hardlink"),CV=Symbol("unsupported"),SV=Symbol("checkPath"),ru=Symbol("mkdir"),dr=Symbol("onError"),Ub=Symbol("pending"),TV=Symbol("pend"),Tf=Symbol("unpend"),QA=Symbol("ended"),JA=Symbol("maybeClose"),rD=Symbol("skip"),bv=Symbol("doChown"),_v=Symbol("uid"),Cv=Symbol("gid"),Sv=Symbol("checkedCwd"),AV=require("crypto"),DV=yV(),zpe=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Tv=zpe==="win32",Ype=(e,t)=>{if(!Tv)return it.unlink(e,t);let n=e+".DELETE."+AV.randomBytes(16).toString("hex");it.rename(e,n,r=>{if(r)return t(r);it.unlink(n,t)})},Kpe=e=>{if(!Tv)return it.unlinkSync(e);let t=e+".DELETE."+AV.randomBytes(16).toString("hex");it.renameSync(e,t),it.unlinkSync(t)},IV=(e,t,n)=>e===e>>>0?e:t===t>>>0?t:n,PV=e=>Gpe(Wpe(Si(e))).toLowerCase(),Xpe=(e,t)=>{t=PV(t);for(let n of e.keys()){let r=PV(n);(r===t||r.indexOf(t+"/")===0)&&e.delete(n)}},Qpe=e=>{for(let t of e.keys())e.delete(t)},Iv=class extends jpe{constructor(t){if(t||(t={}),t.ondone=n=>{this[QA]=!0,this[JA]()},super(t),this[Sv]=!1,this.reservations=Bpe(),this.transform=typeof t.transform=="function"?t.transform:null,this.writable=!0,this.readable=!1,this[Ub]=0,this[QA]=!1,this.dirCache=t.dirCache||new Map,typeof t.uid=="number"||typeof t.gid=="number"){if(typeof t.uid!="number"||typeof t.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(t.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=t.uid,this.gid=t.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;t.preserveOwner===void 0&&typeof t.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!t.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=t.forceChown===!0,this.win32=!!t.win32||Tv,this.newer=!!t.newer,this.keep=!!t.keep,this.noMtime=!!t.noMtime,this.preservePaths=!!t.preservePaths,this.unlink=!!t.unlink,this.cwd=Si(qa.resolve(t.cwd||process.cwd())),this.strip=+t.strip||0,this.processUmask=t.noChmod?0:process.umask(),this.umask=typeof t.umask=="number"?t.umask:this.processUmask,this.dmode=t.dmode||511&~this.umask,this.fmode=t.fmode||438&~this.umask,this.on("entry",n=>this[wV](n))}warn(t,n,r={}){return(t==="TAR_BAD_ARCHIVE"||t==="TAR_ABORT")&&(r.recoverable=!1),super.warn(t,n,r)}[JA](){this[QA]&&this[Ub]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[SV](t){if(this.strip){let n=Si(t.path).split("/");if(n.length<this.strip)return!1;if(t.path=n.slice(this.strip).join("/"),t.type==="Link"){let r=Si(t.linkpath).split("/");if(r.length>=this.strip)t.linkpath=r.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let n=Si(t.path),r=n.split("/");if(r.includes("..")||Tv&&/^[a-z]:\.\.$/i.test(r[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:t,path:n}),!1;let[i,o]=Vpe(n);i&&(t.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:t,path:n}))}if(qa.isAbsolute(t.path)?t.absolute=Si(qa.resolve(t.path)):t.absolute=Si(qa.resolve(this.cwd,t.path)),!this.preservePaths&&t.absolute.indexOf(this.cwd+"/")!==0&&t.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:t,path:Si(t.path),resolvedPath:t.absolute,cwd:this.cwd}),!1;if(t.absolute===this.cwd&&t.type!=="Directory"&&t.type!=="GNUDumpDir")return!1;if(this.win32){let{root:n}=qa.win32.parse(t.absolute);t.absolute=n+xV.encode(t.absolute.slice(n.length));let{root:r}=qa.win32.parse(t.path);t.path=r+xV.encode(t.path.slice(r.length))}return!0}[wV](t){if(!this[SV](t))return t.resume();switch($pe.equal(typeof t.absolute,"string"),t.type){case"Directory":case"GNUDumpDir":t.mode&&(t.mode=t.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[ZA](t);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[CV](t)}}[dr](t,n){t.name==="CwdError"?this.emit("error",t):(this.warn("TAR_ENTRY_ERROR",t,{entry:n}),this[Tf](),n.resume())}[ru](t,n,r){RV(Si(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:n,noChmod:this.noChmod},r)}[bv](t){return this.forceChown||this.preserveOwner&&(typeof t.uid=="number"&&t.uid!==this.processUid||typeof t.gid=="number"&&t.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[_v](t){return IV(this.uid,t.uid,this.processUid)}[Cv](t){return IV(this.gid,t.gid,this.processGid)}[tD](t,n){let r=t.mode&4095||this.fmode,i=new Hpe.WriteStream(t.absolute,{flags:DV(t.size),mode:r,autoClose:!1});i.on("error",u=>{i.fd&&it.close(i.fd,()=>{}),i.write=()=>!0,this[dr](u,t),n()});let o=1,s=u=>{if(u){i.fd&&it.close(i.fd,()=>{}),this[dr](u,t),n();return}--o===0&&it.close(i.fd,c=>{c?this[dr](c,t):this[Tf](),n()})};i.on("finish",u=>{let c=t.absolute,l=i.fd;if(t.mtime&&!this.noMtime){o++;let d=t.atime||new Date,p=t.mtime;it.futimes(l,d,p,f=>f?it.utimes(c,d,p,m=>s(m&&f)):s())}if(this[bv](t)){o++;let d=this[_v](t),p=this[Cv](t);it.fchown(l,d,p,f=>f?it.chown(c,d,p,m=>s(m&&f)):s())}s()});let a=this.transform&&this.transform(t)||t;a!==t&&(a.on("error",u=>{this[dr](u,t),n()}),t.pipe(a)),a.pipe(i)}[nD](t,n){let r=t.mode&4095||this.dmode;this[ru](t.absolute,r,i=>{if(i){this[dr](i,t),n();return}let o=1,s=a=>{--o===0&&(n(),this[Tf](),t.resume())};t.mtime&&!this.noMtime&&(o++,it.utimes(t.absolute,t.atime||new Date,t.mtime,s)),this[bv](t)&&(o++,it.chown(t.absolute,this[_v](t),this[Cv](t),s)),s()})}[CV](t){t.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${t.type}`,{entry:t}),t.resume()}[bV](t,n){this[jb](t,t.linkpath,"symlink",n)}[_V](t,n){let r=Si(qa.resolve(this.cwd,t.linkpath));this[jb](t,r,"link",n)}[TV](){this[Ub]++}[Tf](){this[Ub]--,this[JA]()}[rD](t){this[Tf](),t.resume()}[eD](t,n){return t.type==="File"&&!this.unlink&&n.isFile()&&n.nlink<=1&&!Tv}[ZA](t){this[TV]();let n=[t.path];t.linkpath&&n.push(t.linkpath),this.reservations.reserve(n,r=>this[EV](t,r))}[$b](t){t.type==="SymbolicLink"?Qpe(this.dirCache):t.type!=="Directory"&&Xpe(this.dirCache,t.absolute)}[EV](t,n){this[$b](t);let r=a=>{this[$b](t),n(a)},i=()=>{this[ru](this.cwd,this.dmode,a=>{if(a){this[dr](a,t),r();return}this[Sv]=!0,o()})},o=()=>{if(t.absolute!==this.cwd){let a=Si(qa.dirname(t.absolute));if(a!==this.cwd)return this[ru](a,this.dmode,u=>{if(u){this[dr](u,t),r();return}s()})}s()},s=()=>{it.lstat(t.absolute,(a,u)=>{if(u&&(this.keep||this.newer&&u.mtime>t.mtime)){this[rD](t),r();return}if(a||this[eD](t,u))return this[io](null,t,r);if(u.isDirectory()){if(t.type==="Directory"){let c=!this.noChmod&&t.mode&&(u.mode&4095)!==t.mode,l=d=>this[io](d,t,r);return c?it.chmod(t.absolute,t.mode,l):l()}if(t.absolute!==this.cwd)return it.rmdir(t.absolute,c=>this[io](c,t,r))}if(t.absolute===this.cwd)return this[io](null,t,r);Ype(t.absolute,c=>this[io](c,t,r))})};this[Sv]?o():i()}[io](t,n,r){if(t){this[dr](t,n),r();return}switch(n.type){case"File":case"OldFile":case"ContiguousFile":return this[tD](n,r);case"Link":return this[_V](n,r);case"SymbolicLink":return this[bV](n,r);case"Directory":case"GNUDumpDir":return this[nD](n,r)}}[jb](t,n,r,i){it[r](n,t.absolute,o=>{o?this[dr](o,t):(this[Tf](),t.resume()),i()})}},qb=e=>{try{return[null,e()]}catch(t){return[t,null]}},iD=class extends Iv{[io](t,n){return super[io](t,n,()=>{})}[ZA](t){if(this[$b](t),!this[Sv]){let o=this[ru](this.cwd,this.dmode);if(o)return this[dr](o,t);this[Sv]=!0}if(t.absolute!==this.cwd){let o=Si(qa.dirname(t.absolute));if(o!==this.cwd){let s=this[ru](o,this.dmode);if(s)return this[dr](s,t)}}let[n,r]=qb(()=>it.lstatSync(t.absolute));if(r&&(this.keep||this.newer&&r.mtime>t.mtime))return this[rD](t);if(n||this[eD](t,r))return this[io](null,t);if(r.isDirectory()){if(t.type==="Directory"){let s=!this.noChmod&&t.mode&&(r.mode&4095)!==t.mode,[a]=s?qb(()=>{it.chmodSync(t.absolute,t.mode)}):[];return this[io](a,t)}let[o]=qb(()=>it.rmdirSync(t.absolute));this[io](o,t)}let[i]=t.absolute===this.cwd?[]:qb(()=>Kpe(t.absolute));this[io](i,t)}[tD](t,n){let r=t.mode&4095||this.fmode,i=a=>{let u;try{it.closeSync(o)}catch(c){u=c}(a||u)&&this[dr](a||u,t),n()},o;try{o=it.openSync(t.absolute,DV(t.size),r)}catch(a){return i(a)}let s=this.transform&&this.transform(t)||t;s!==t&&(s.on("error",a=>this[dr](a,t)),t.pipe(s)),s.on("data",a=>{try{it.writeSync(o,a,0,a.length)}catch(u){i(u)}}),s.on("end",a=>{let u=null;if(t.mtime&&!this.noMtime){let c=t.atime||new Date,l=t.mtime;try{it.futimesSync(o,c,l)}catch(d){try{it.utimesSync(t.absolute,c,l)}catch{u=d}}}if(this[bv](t)){let c=this[_v](t),l=this[Cv](t);try{it.fchownSync(o,c,l)}catch(d){try{it.chownSync(t.absolute,c,l)}catch{u=u||d}}}i(u)})}[nD](t,n){let r=t.mode&4095||this.dmode,i=this[ru](t.absolute,r);if(i){this[dr](i,t),n();return}if(t.mtime&&!this.noMtime)try{it.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch{}if(this[bv](t))try{it.chownSync(t.absolute,this[_v](t),this[Cv](t))}catch{}n(),t.resume()}[ru](t,n){try{return RV.sync(Si(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:n})}catch(r){return r}}[jb](t,n,r,i){try{it[r+"Sync"](n,t.absolute),i(),t.resume()}catch(o){return this[dr](o,t)}}};Iv.Sync=iD;kV.exports=Iv});var MV=w((m$e,FV)=>{"use strict";var Jpe=nf(),Hb=oD(),NV=require("fs"),LV=Ef(),OV=require("path"),sD=df();FV.exports=(e,t,n)=>{typeof e=="function"?(n=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(n=t,t=null),t?t=Array.from(t):t=[];let r=Jpe(e);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return t.length&&Zpe(r,t),r.file&&r.sync?efe(r):r.file?tfe(r,n):r.sync?nfe(r):rfe(r)};var Zpe=(e,t)=>{let n=new Map(t.map(o=>[sD(o),!0])),r=e.filter,i=(o,s)=>{let a=s||OV.parse(o).root||".",u=o===a?!1:n.has(o)?n.get(o):i(OV.dirname(o),a);return n.set(o,u),u};e.filter=r?(o,s)=>r(o,s)&&i(sD(o)):o=>i(sD(o))},efe=e=>{let t=new Hb.Sync(e),n=e.file,r=NV.statSync(n),i=e.maxReadSize||16*1024*1024;new LV.ReadStreamSync(n,{readSize:i,size:r.size}).pipe(t)},tfe=(e,t)=>{let n=new Hb(e),r=e.maxReadSize||16*1024*1024,i=e.file,o=new Promise((s,a)=>{n.on("error",a),n.on("close",s),NV.stat(i,(u,c)=>{if(u)a(u);else{let l=new LV.ReadStream(i,{readSize:r,size:c.size});l.on("error",a),l.pipe(n)}})});return t?o.then(t,t):o},nfe=e=>new Hb.Sync(e),rfe=e=>new Hb(e)});var Bb=w(Sn=>{"use strict";Sn.c=Sn.create=x2();Sn.r=Sn.replace=jA();Sn.t=Sn.list=Ab();Sn.u=Sn.update=P2();Sn.x=Sn.extract=MV();Sn.Pack=lb();Sn.Unpack=oD();Sn.Parse=Rb();Sn.ReadEntry=WE();Sn.WriteEntry=dA();Sn.Header=lf();Sn.Pax=zE();Sn.types=zR()});var Pv=w((g$e,UV)=>{var ife="2.0.0",ofe=Number.MAX_SAFE_INTEGER||9007199254740991,sfe=16;UV.exports={SEMVER_SPEC_VERSION:ife,MAX_LENGTH:256,MAX_SAFE_INTEGER:ofe,MAX_SAFE_COMPONENT_LENGTH:sfe}});var Rv=w((v$e,qV)=>{var afe=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};qV.exports=afe});var Gl=w((iu,$V)=>{var{MAX_SAFE_COMPONENT_LENGTH:aD}=Pv(),cfe=Rv();iu=$V.exports={};var ufe=iu.re=[],de=iu.src=[],pe=iu.t={},lfe=0,Ne=(e,t,n)=>{let r=lfe++;cfe(e,r,t),pe[e]=r,de[r]=t,ufe[r]=new RegExp(t,n?"g":void 0)};Ne("NUMERICIDENTIFIER","0|[1-9]\\d*");Ne("NUMERICIDENTIFIERLOOSE","[0-9]+");Ne("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Ne("MAINVERSION",`(${de[pe.NUMERICIDENTIFIER]})\\.(${de[pe.NUMERICIDENTIFIER]})\\.(${de[pe.NUMERICIDENTIFIER]})`);Ne("MAINVERSIONLOOSE",`(${de[pe.NUMERICIDENTIFIERLOOSE]})\\.(${de[pe.NUMERICIDENTIFIERLOOSE]})\\.(${de[pe.NUMERICIDENTIFIERLOOSE]})`);Ne("PRERELEASEIDENTIFIER",`(?:${de[pe.NUMERICIDENTIFIER]}|${de[pe.NONNUMERICIDENTIFIER]})`);Ne("PRERELEASEIDENTIFIERLOOSE",`(?:${de[pe.NUMERICIDENTIFIERLOOSE]}|${de[pe.NONNUMERICIDENTIFIER]})`);Ne("PRERELEASE",`(?:-(${de[pe.PRERELEASEIDENTIFIER]}(?:\\.${de[pe.PRERELEASEIDENTIFIER]})*))`);Ne("PRERELEASELOOSE",`(?:-?(${de[pe.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${de[pe.PRERELEASEIDENTIFIERLOOSE]})*))`);Ne("BUILDIDENTIFIER","[0-9A-Za-z-]+");Ne("BUILD",`(?:\\+(${de[pe.BUILDIDENTIFIER]}(?:\\.${de[pe.BUILDIDENTIFIER]})*))`);Ne("FULLPLAIN",`v?${de[pe.MAINVERSION]}${de[pe.PRERELEASE]}?${de[pe.BUILD]}?`);Ne("FULL",`^${de[pe.FULLPLAIN]}$`);Ne("LOOSEPLAIN",`[v=\\s]*${de[pe.MAINVERSIONLOOSE]}${de[pe.PRERELEASELOOSE]}?${de[pe.BUILD]}?`);Ne("LOOSE",`^${de[pe.LOOSEPLAIN]}$`);Ne("GTLT","((?:<|>)?=?)");Ne("XRANGEIDENTIFIERLOOSE",`${de[pe.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ne("XRANGEIDENTIFIER",`${de[pe.NUMERICIDENTIFIER]}|x|X|\\*`);Ne("XRANGEPLAIN",`[v=\\s]*(${de[pe.XRANGEIDENTIFIER]})(?:\\.(${de[pe.XRANGEIDENTIFIER]})(?:\\.(${de[pe.XRANGEIDENTIFIER]})(?:${de[pe.PRERELEASE]})?${de[pe.BUILD]}?)?)?`);Ne("XRANGEPLAINLOOSE",`[v=\\s]*(${de[pe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${de[pe.XRANGEIDENTIFIERLOOSE]})(?:\\.(${de[pe.XRANGEIDENTIFIERLOOSE]})(?:${de[pe.PRERELEASELOOSE]})?${de[pe.BUILD]}?)?)?`);Ne("XRANGE",`^${de[pe.GTLT]}\\s*${de[pe.XRANGEPLAIN]}$`);Ne("XRANGELOOSE",`^${de[pe.GTLT]}\\s*${de[pe.XRANGEPLAINLOOSE]}$`);Ne("COERCE",`(^|[^\\d])(\\d{1,${aD}})(?:\\.(\\d{1,${aD}}))?(?:\\.(\\d{1,${aD}}))?(?:$|[^\\d])`);Ne("COERCERTL",de[pe.COERCE],!0);Ne("LONETILDE","(?:~>?)");Ne("TILDETRIM",`(\\s*)${de[pe.LONETILDE]}\\s+`,!0);iu.tildeTrimReplace="$1~";Ne("TILDE",`^${de[pe.LONETILDE]}${de[pe.XRANGEPLAIN]}$`);Ne("TILDELOOSE",`^${de[pe.LONETILDE]}${de[pe.XRANGEPLAINLOOSE]}$`);Ne("LONECARET","(?:\\^)");Ne("CARETTRIM",`(\\s*)${de[pe.LONECARET]}\\s+`,!0);iu.caretTrimReplace="$1^";Ne("CARET",`^${de[pe.LONECARET]}${de[pe.XRANGEPLAIN]}$`);Ne("CARETLOOSE",`^${de[pe.LONECARET]}${de[pe.XRANGEPLAINLOOSE]}$`);Ne("COMPARATORLOOSE",`^${de[pe.GTLT]}\\s*(${de[pe.LOOSEPLAIN]})$|^$`);Ne("COMPARATOR",`^${de[pe.GTLT]}\\s*(${de[pe.FULLPLAIN]})$|^$`);Ne("COMPARATORTRIM",`(\\s*)${de[pe.GTLT]}\\s*(${de[pe.LOOSEPLAIN]}|${de[pe.XRANGEPLAIN]})`,!0);iu.comparatorTrimReplace="$1$2$3";Ne("HYPHENRANGE",`^\\s*(${de[pe.XRANGEPLAIN]})\\s+-\\s+(${de[pe.XRANGEPLAIN]})\\s*$`);Ne("HYPHENRANGELOOSE",`^\\s*(${de[pe.XRANGEPLAINLOOSE]})\\s+-\\s+(${de[pe.XRANGEPLAINLOOSE]})\\s*$`);Ne("STAR","(<|>)?=?\\s*\\*");Ne("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ne("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Av=w((y$e,jV)=>{var dfe=["includePrerelease","loose","rtl"],pfe=e=>e?typeof e!="object"?{loose:!0}:dfe.filter(t=>e[t]).reduce((t,n)=>(t[n]=!0,t),{}):{};jV.exports=pfe});var cD=w((x$e,VV)=>{var HV=/^[0-9]+$/,BV=(e,t)=>{let n=HV.test(e),r=HV.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},ffe=(e,t)=>BV(t,e);VV.exports={compareIdentifiers:BV,rcompareIdentifiers:ffe}});var pr=w((w$e,YV)=>{var Vb=Rv(),{MAX_LENGTH:WV,MAX_SAFE_INTEGER:Wb}=Pv(),{re:GV,t:zV}=Gl(),mfe=Av(),{compareIdentifiers:If}=cD(),Ti=class{constructor(t,n){if(n=mfe(n),t instanceof Ti){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid Version: ${t}`);if(t.length>WV)throw new TypeError(`version is longer than ${WV} characters`);Vb("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=t.trim().match(n.loose?GV[zV.LOOSE]:GV[zV.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Wb||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Wb||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Wb||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<Wb)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Vb("SemVer.compare",this.version,this.options,t),!(t instanceof Ti)){if(typeof t=="string"&&t===this.version)return 0;t=new Ti(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Ti||(t=new Ti(t,this.options)),If(this.major,t.major)||If(this.minor,t.minor)||If(this.patch,t.patch)}comparePre(t){if(t instanceof Ti||(t=new Ti(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=t.prerelease[n];if(Vb("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return If(r,i)}while(++n)}compareBuild(t){t instanceof Ti||(t=new Ti(t,this.options));let n=0;do{let r=this.build[n],i=t.build[n];if(Vb("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return If(r,i)}while(++n)}inc(t,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(If(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}};YV.exports=Ti});var zl=w((E$e,JV)=>{var{MAX_LENGTH:hfe}=Pv(),{re:KV,t:XV}=Gl(),QV=pr(),gfe=Av(),vfe=(e,t)=>{if(t=gfe(t),e instanceof QV)return e;if(typeof e!="string"||e.length>hfe||!(t.loose?KV[XV.LOOSE]:KV[XV.FULL]).test(e))return null;try{return new QV(e,t)}catch{return null}};JV.exports=vfe});var e3=w((b$e,ZV)=>{var yfe=zl(),xfe=(e,t)=>{let n=yfe(e,t);return n?n.version:null};ZV.exports=xfe});var n3=w((_$e,t3)=>{var wfe=zl(),Efe=(e,t)=>{let n=wfe(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null};t3.exports=Efe});var o3=w((C$e,i3)=>{var r3=pr(),bfe=(e,t,n,r)=>{typeof n=="string"&&(r=n,n=void 0);try{return new r3(e instanceof r3?e.version:e,n).inc(t,r).version}catch{return null}};i3.exports=bfe});var oo=w((S$e,a3)=>{var s3=pr(),_fe=(e,t,n)=>new s3(e,n).compare(new s3(t,n));a3.exports=_fe});var Gb=w((T$e,c3)=>{var Cfe=oo(),Sfe=(e,t,n)=>Cfe(e,t,n)===0;c3.exports=Sfe});var d3=w((I$e,l3)=>{var u3=zl(),Tfe=Gb(),Ife=(e,t)=>{if(Tfe(e,t))return null;{let n=u3(e),r=u3(t),i=n.prerelease.length||r.prerelease.length,o=i?"pre":"",s=i?"prerelease":"";for(let a in n)if((a==="major"||a==="minor"||a==="patch")&&n[a]!==r[a])return o+a;return s}};l3.exports=Ife});var f3=w((P$e,p3)=>{var Pfe=pr(),Rfe=(e,t)=>new Pfe(e,t).major;p3.exports=Rfe});var h3=w((R$e,m3)=>{var Afe=pr(),Dfe=(e,t)=>new Afe(e,t).minor;m3.exports=Dfe});var v3=w((A$e,g3)=>{var kfe=pr(),Ofe=(e,t)=>new kfe(e,t).patch;g3.exports=Ofe});var x3=w((D$e,y3)=>{var Nfe=zl(),Lfe=(e,t)=>{let n=Nfe(e,t);return n&&n.prerelease.length?n.prerelease:null};y3.exports=Lfe});var E3=w((k$e,w3)=>{var Ffe=oo(),Mfe=(e,t,n)=>Ffe(t,e,n);w3.exports=Mfe});var _3=w((O$e,b3)=>{var Ufe=oo(),qfe=(e,t)=>Ufe(e,t,!0);b3.exports=qfe});var zb=w((N$e,S3)=>{var C3=pr(),$fe=(e,t,n)=>{let r=new C3(e,n),i=new C3(t,n);return r.compare(i)||r.compareBuild(i)};S3.exports=$fe});var I3=w((L$e,T3)=>{var jfe=zb(),Hfe=(e,t)=>e.sort((n,r)=>jfe(n,r,t));T3.exports=Hfe});var R3=w((F$e,P3)=>{var Bfe=zb(),Vfe=(e,t)=>e.sort((n,r)=>Bfe(r,n,t));P3.exports=Vfe});var Dv=w((M$e,A3)=>{var Wfe=oo(),Gfe=(e,t,n)=>Wfe(e,t,n)>0;A3.exports=Gfe});var Yb=w((U$e,D3)=>{var zfe=oo(),Yfe=(e,t,n)=>zfe(e,t,n)<0;D3.exports=Yfe});var uD=w((q$e,k3)=>{var Kfe=oo(),Xfe=(e,t,n)=>Kfe(e,t,n)!==0;k3.exports=Xfe});var Kb=w(($$e,O3)=>{var Qfe=oo(),Jfe=(e,t,n)=>Qfe(e,t,n)>=0;O3.exports=Jfe});var Xb=w((j$e,N3)=>{var Zfe=oo(),eme=(e,t,n)=>Zfe(e,t,n)<=0;N3.exports=eme});var lD=w((H$e,L3)=>{var tme=Gb(),nme=uD(),rme=Dv(),ime=Kb(),ome=Yb(),sme=Xb(),ame=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return tme(e,n,r);case"!=":return nme(e,n,r);case">":return rme(e,n,r);case">=":return ime(e,n,r);case"<":return ome(e,n,r);case"<=":return sme(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};L3.exports=ame});var M3=w((B$e,F3)=>{var cme=pr(),ume=zl(),{re:Qb,t:Jb}=Gl(),lme=(e,t)=>{if(e instanceof cme)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let n=null;if(!t.rtl)n=e.match(Qb[Jb.COERCE]);else{let r;for(;(r=Qb[Jb.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||r.index+r[0].length!==n.index+n[0].length)&&(n=r),Qb[Jb.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;Qb[Jb.COERCERTL].lastIndex=-1}return n===null?null:ume(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)};F3.exports=lme});var H3=w((V$e,j3)=>{"use strict";var dme=eb(),Yl=Symbol("max"),ja=Symbol("length"),Pf=Symbol("lengthCalculator"),Ov=Symbol("allowStale"),Kl=Symbol("maxAge"),$a=Symbol("dispose"),U3=Symbol("noDisposeOnSet"),Ln=Symbol("lruList"),Wo=Symbol("cache"),$3=Symbol("updateAgeOnGet"),dD=()=>1,fD=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let n=this[Yl]=t.max||1/0,r=t.length||dD;if(this[Pf]=typeof r!="function"?dD:r,this[Ov]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Kl]=t.maxAge||0,this[$a]=t.dispose,this[U3]=t.noDisposeOnSet||!1,this[$3]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Yl]=t||1/0,kv(this)}get max(){return this[Yl]}set allowStale(t){this[Ov]=!!t}get allowStale(){return this[Ov]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Kl]=t,kv(this)}get maxAge(){return this[Kl]}set lengthCalculator(t){typeof t!="function"&&(t=dD),t!==this[Pf]&&(this[Pf]=t,this[ja]=0,this[Ln].forEach(n=>{n.length=this[Pf](n.value,n.key),this[ja]+=n.length})),kv(this)}get lengthCalculator(){return this[Pf]}get length(){return this[ja]}get itemCount(){return this[Ln].length}rforEach(t,n){n=n||this;for(let r=this[Ln].tail;r!==null;){let i=r.prev;q3(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[Ln].head;r!==null;){let i=r.next;q3(this,t,r,n),r=i}}keys(){return this[Ln].toArray().map(t=>t.key)}values(){return this[Ln].toArray().map(t=>t.value)}reset(){this[$a]&&this[Ln]&&this[Ln].length&&this[Ln].forEach(t=>this[$a](t.key,t.value)),this[Wo]=new Map,this[Ln]=new dme,this[ja]=0}dump(){return this[Ln].map(t=>Zb(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Ln]}set(t,n,r){if(r=r||this[Kl],r&&typeof r!="number")throw new TypeError("maxAge must be a number");let i=r?Date.now():0,o=this[Pf](n,t);if(this[Wo].has(t)){if(o>this[Yl])return Rf(this,this[Wo].get(t)),!1;let u=this[Wo].get(t).value;return this[$a]&&(this[U3]||this[$a](t,u.value)),u.now=i,u.maxAge=r,u.value=n,this[ja]+=o-u.length,u.length=o,this.get(t),kv(this),!0}let s=new mD(t,n,o,i,r);return s.length>this[Yl]?(this[$a]&&this[$a](t,n),!1):(this[ja]+=s.length,this[Ln].unshift(s),this[Wo].set(t,this[Ln].head),kv(this),!0)}has(t){if(!this[Wo].has(t))return!1;let n=this[Wo].get(t).value;return!Zb(this,n)}get(t){return pD(this,t,!0)}peek(t){return pD(this,t,!1)}pop(){let t=this[Ln].tail;return t?(Rf(this,t),t.value):null}del(t){Rf(this,this[Wo].get(t))}load(t){this.reset();let n=Date.now();for(let r=t.length-1;r>=0;r--){let i=t[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-n;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Wo].forEach((t,n)=>pD(this,n,!1))}},pD=(e,t,n)=>{let r=e[Wo].get(t);if(r){let i=r.value;if(Zb(e,i)){if(Rf(e,r),!e[Ov])return}else n&&(e[$3]&&(r.value.now=Date.now()),e[Ln].unshiftNode(r));return i.value}},Zb=(e,t)=>{if(!t||!t.maxAge&&!e[Kl])return!1;let n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[Kl]&&n>e[Kl]},kv=e=>{if(e[ja]>e[Yl])for(let t=e[Ln].tail;e[ja]>e[Yl]&&t!==null;){let n=t.prev;Rf(e,t),t=n}},Rf=(e,t)=>{if(t){let n=t.value;e[$a]&&e[$a](n.key,n.value),e[ja]-=n.length,e[Wo].delete(n.key),e[Ln].removeNode(t)}},mD=class{constructor(t,n,r,i,o){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=o||0}},q3=(e,t,n,r)=>{let i=n.value;Zb(e,i)&&(Rf(e,n),e[Ov]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};j3.exports=fD});var so=w((W$e,G3)=>{var Xl=class{constructor(t,n){if(n=fme(n),t instanceof Xl)return t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease?t:new Xl(t.raw,n);if(t instanceof hD)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=t,this.set=t.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!V3(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&yme(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();let r=`parseRange:${Object.keys(this.options).join(",")}:${t}`,i=B3.get(r);if(i)return i;let o=this.options.loose,s=o?Kr[_r.HYPHENRANGELOOSE]:Kr[_r.HYPHENRANGE];t=t.replace(s,Pme(this.options.includePrerelease)),$t("hyphen replace",t),t=t.replace(Kr[_r.COMPARATORTRIM],hme),$t("comparator trim",t),t=t.replace(Kr[_r.TILDETRIM],gme),t=t.replace(Kr[_r.CARETTRIM],vme),t=t.split(/\s+/).join(" ");let a=t.split(" ").map(d=>xme(d,this.options)).join(" ").split(/\s+/).map(d=>Ime(d,this.options));o&&(a=a.filter(d=>($t("loose invalid filter",d,this.options),!!d.match(Kr[_r.COMPARATORLOOSE])))),$t("range list",a);let u=new Map,c=a.map(d=>new hD(d,this.options));for(let d of c){if(V3(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let l=[...u.values()];return B3.set(r,l),l}intersects(t,n){if(!(t instanceof Xl))throw new TypeError("a Range is required");return this.set.some(r=>W3(r,n)&&t.set.some(i=>W3(i,n)&&r.every(o=>i.every(s=>o.intersects(s,n)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new mme(t,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(Rme(this.set[n],t,this.options))return!0;return!1}};G3.exports=Xl;var pme=H3(),B3=new pme({max:1e3}),fme=Av(),hD=Nv(),$t=Rv(),mme=pr(),{re:Kr,t:_r,comparatorTrimReplace:hme,tildeTrimReplace:gme,caretTrimReplace:vme}=Gl(),V3=e=>e.value==="<0.0.0-0",yme=e=>e.value==="",W3=(e,t)=>{let n=!0,r=e.slice(),i=r.pop();for(;n&&r.length;)n=r.every(o=>i.intersects(o,t)),i=r.pop();return n},xme=(e,t)=>($t("comp",e,t),e=bme(e,t),$t("caret",e),e=wme(e,t),$t("tildes",e),e=Cme(e,t),$t("xrange",e),e=Tme(e,t),$t("stars",e),e),Cr=e=>!e||e.toLowerCase()==="x"||e==="*",wme=(e,t)=>e.trim().split(/\s+/).map(n=>Eme(n,t)).join(" "),Eme=(e,t)=>{let n=t.loose?Kr[_r.TILDELOOSE]:Kr[_r.TILDE];return e.replace(n,(r,i,o,s,a)=>{$t("tilde",e,r,i,o,s,a);let u;return Cr(i)?u="":Cr(o)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:Cr(s)?u=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?($t("replaceTilde pr",a),u=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):u=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,$t("tilde return",u),u})},bme=(e,t)=>e.trim().split(/\s+/).map(n=>_me(n,t)).join(" "),_me=(e,t)=>{$t("caret",e,t);let n=t.loose?Kr[_r.CARETLOOSE]:Kr[_r.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(i,o,s,a,u)=>{$t("caret",e,i,o,s,a,u);let c;return Cr(o)?c="":Cr(s)?c=`>=${o}.0.0${r} <${+o+1}.0.0-0`:Cr(a)?o==="0"?c=`>=${o}.${s}.0${r} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.0${r} <${+o+1}.0.0-0`:u?($t("replaceCaret pr",u),o==="0"?s==="0"?c=`>=${o}.${s}.${a}-${u} <${o}.${s}.${+a+1}-0`:c=`>=${o}.${s}.${a}-${u} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.${a}-${u} <${+o+1}.0.0-0`):($t("no pr"),o==="0"?s==="0"?c=`>=${o}.${s}.${a}${r} <${o}.${s}.${+a+1}-0`:c=`>=${o}.${s}.${a}${r} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),$t("caret return",c),c})},Cme=(e,t)=>($t("replaceXRanges",e,t),e.split(/\s+/).map(n=>Sme(n,t)).join(" ")),Sme=(e,t)=>{e=e.trim();let n=t.loose?Kr[_r.XRANGELOOSE]:Kr[_r.XRANGE];return e.replace(n,(r,i,o,s,a,u)=>{$t("xRange",e,r,i,o,s,a,u);let c=Cr(o),l=c||Cr(s),d=l||Cr(a),p=d;return i==="="&&p&&(i=""),u=t.includePrerelease?"-0":"",c?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&p?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(u="-0"),r=`${i+o}.${s}.${a}${u}`):l?r=`>=${o}.0.0${u} <${+o+1}.0.0-0`:d&&(r=`>=${o}.${s}.0${u} <${o}.${+s+1}.0-0`),$t("xRange return",r),r})},Tme=(e,t)=>($t("replaceStars",e,t),e.trim().replace(Kr[_r.STAR],"")),Ime=(e,t)=>($t("replaceGTE0",e,t),e.trim().replace(Kr[t.includePrerelease?_r.GTE0PRE:_r.GTE0],"")),Pme=e=>(t,n,r,i,o,s,a,u,c,l,d,p,f)=>(Cr(r)?n="":Cr(i)?n=`>=${r}.0.0${e?"-0":""}`:Cr(o)?n=`>=${r}.${i}.0${e?"-0":""}`:s?n=`>=${n}`:n=`>=${n}${e?"-0":""}`,Cr(c)?u="":Cr(l)?u=`<${+c+1}.0.0-0`:Cr(d)?u=`<${c}.${+l+1}.0-0`:p?u=`<=${c}.${l}.${d}-${p}`:e?u=`<${c}.${l}.${+d+1}-0`:u=`<=${u}`,`${n} ${u}`.trim()),Rme=(e,t,n)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let r=0;r<e.length;r++)if($t(e[r].semver),e[r].semver!==hD.ANY&&e[r].semver.prerelease.length>0){let i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}});var Nv=w((G$e,Q3)=>{var Lv=Symbol("SemVer ANY"),Af=class{static get ANY(){return Lv}constructor(t,n){if(n=Ame(n),t instanceof Af){if(t.loose===!!n.loose)return t;t=t.value}vD("comparator",t,n),this.options=n,this.loose=!!n.loose,this.parse(t),this.semver===Lv?this.value="":this.value=this.operator+this.semver.version,vD("comp",this)}parse(t){let n=this.options.loose?z3[Y3.COMPARATORLOOSE]:z3[Y3.COMPARATOR],r=t.match(n);if(!r)throw new TypeError(`Invalid comparator: ${t}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new K3(r[2],this.options.loose):this.semver=Lv}toString(){return this.value}test(t){if(vD("Comparator.test",t,this.options.loose),this.semver===Lv||t===Lv)return!0;if(typeof t=="string")try{t=new K3(t,this.options)}catch{return!1}return gD(t,this.operator,this.semver,this.options)}intersects(t,n){if(!(t instanceof Af))throw new TypeError("a Comparator is required");if((!n||typeof n!="object")&&(n={loose:!!n,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new X3(t.value,n).test(this.value);if(t.operator==="")return t.value===""?!0:new X3(this.value,n).test(t.semver);let r=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),o=this.semver.version===t.semver.version,s=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),a=gD(this.semver,"<",t.semver,n)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),u=gD(this.semver,">",t.semver,n)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return r||i||o&&s||a||u}};Q3.exports=Af;var Ame=Av(),{re:z3,t:Y3}=Gl(),gD=lD(),vD=Rv(),K3=pr(),X3=so()});var Fv=w((z$e,J3)=>{var Dme=so(),kme=(e,t,n)=>{try{t=new Dme(t,n)}catch{return!1}return t.test(e)};J3.exports=kme});var eW=w((Y$e,Z3)=>{var Ome=so(),Nme=(e,t)=>new Ome(e,t).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));Z3.exports=Nme});var nW=w((K$e,tW)=>{var Lme=pr(),Fme=so(),Mme=(e,t,n)=>{let r=null,i=null,o=null;try{o=new Fme(t,n)}catch{return null}return e.forEach(s=>{o.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new Lme(r,n))}),r};tW.exports=Mme});var iW=w((X$e,rW)=>{var Ume=pr(),qme=so(),$me=(e,t,n)=>{let r=null,i=null,o=null;try{o=new qme(t,n)}catch{return null}return e.forEach(s=>{o.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new Ume(r,n))}),r};rW.exports=$me});var aW=w((Q$e,sW)=>{var yD=pr(),jme=so(),oW=Dv(),Hme=(e,t)=>{e=new jme(e,t);let n=new yD("0.0.0");if(e.test(n)||(n=new yD("0.0.0-0"),e.test(n)))return n;n=null;for(let r=0;r<e.set.length;++r){let i=e.set[r],o=null;i.forEach(s=>{let a=new yD(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||oW(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!n||oW(n,o))&&(n=o)}return n&&e.test(n)?n:null};sW.exports=Hme});var uW=w((J$e,cW)=>{var Bme=so(),Vme=(e,t)=>{try{return new Bme(e,t).range||"*"}catch{return null}};cW.exports=Vme});var e_=w((Z$e,fW)=>{var Wme=pr(),pW=Nv(),{ANY:Gme}=pW,zme=so(),Yme=Fv(),lW=Dv(),dW=Yb(),Kme=Xb(),Xme=Kb(),Qme=(e,t,n,r)=>{e=new Wme(e,r),t=new zme(t,r);let i,o,s,a,u;switch(n){case">":i=lW,o=Kme,s=dW,a=">",u=">=";break;case"<":i=dW,o=Xme,s=lW,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Yme(e,t,r))return!1;for(let c=0;c<t.set.length;++c){let l=t.set[c],d=null,p=null;if(l.forEach(f=>{f.semver===Gme&&(f=new pW(">=0.0.0")),d=d||f,p=p||f,i(f.semver,d.semver,r)?d=f:s(f.semver,p.semver,r)&&(p=f)}),d.operator===a||d.operator===u||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===u&&s(e,p.semver))return!1}return!0};fW.exports=Qme});var hW=w((eje,mW)=>{var Jme=e_(),Zme=(e,t,n)=>Jme(e,t,">",n);mW.exports=Zme});var vW=w((tje,gW)=>{var ehe=e_(),the=(e,t,n)=>ehe(e,t,"<",n);gW.exports=the});var wW=w((nje,xW)=>{var yW=so(),nhe=(e,t,n)=>(e=new yW(e,n),t=new yW(t,n),e.intersects(t));xW.exports=nhe});var bW=w((rje,EW)=>{var rhe=Fv(),ihe=oo();EW.exports=(e,t,n)=>{let r=[],i=null,o=null,s=e.sort((l,d)=>ihe(l,d,n));for(let l of s)rhe(l,t,n)?(o=l,i||(i=l)):(o&&r.push([i,o]),o=null,i=null);i&&r.push([i,null]);let a=[];for(let[l,d]of r)l===d?a.push(l):!d&&l===s[0]?a.push("*"):d?l===s[0]?a.push(`<=${d}`):a.push(`${l} - ${d}`):a.push(`>=${l}`);let u=a.join(" || "),c=typeof t.raw=="string"?t.raw:String(t);return u.length<c.length?u:t}});var IW=w((ije,TW)=>{var _W=so(),t_=Nv(),{ANY:xD}=t_,Mv=Fv(),wD=oo(),ohe=(e,t,n={})=>{if(e===t)return!0;e=new _W(e,n),t=new _W(t,n);let r=!1;e:for(let i of e.set){for(let o of t.set){let s=she(i,o,n);if(r=r||s!==null,s)continue e}if(r)return!1}return!0},she=(e,t,n)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===xD){if(t.length===1&&t[0].semver===xD)return!0;n.includePrerelease?e=[new t_(">=0.0.0-0")]:e=[new t_(">=0.0.0")]}if(t.length===1&&t[0].semver===xD){if(n.includePrerelease)return!0;t=[new t_(">=0.0.0")]}let r=new Set,i,o;for(let f of e)f.operator===">"||f.operator===">="?i=CW(i,f,n):f.operator==="<"||f.operator==="<="?o=SW(o,f,n):r.add(f.semver);if(r.size>1)return null;let s;if(i&&o){if(s=wD(i.semver,o.semver,n),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let f of r){if(i&&!Mv(f,String(i),n)||o&&!Mv(f,String(o),n))return null;for(let m of t)if(!Mv(f,String(m),n))return!1;return!0}let a,u,c,l,d=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1,p=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&o.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let f of t){if(l=l||f.operator===">"||f.operator===">=",c=c||f.operator==="<"||f.operator==="<=",i){if(p&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===p.major&&f.semver.minor===p.minor&&f.semver.patch===p.patch&&(p=!1),f.operator===">"||f.operator===">="){if(a=CW(i,f,n),a===f&&a!==i)return!1}else if(i.operator===">="&&!Mv(i.semver,String(f),n))return!1}if(o){if(d&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===d.major&&f.semver.minor===d.minor&&f.semver.patch===d.patch&&(d=!1),f.operator==="<"||f.operator==="<="){if(u=SW(o,f,n),u===f&&u!==o)return!1}else if(o.operator==="<="&&!Mv(o.semver,String(f),n))return!1}if(!f.operator&&(o||i)&&s!==0)return!1}return!(i&&c&&!o&&s!==0||o&&l&&!i&&s!==0||p||d)},CW=(e,t,n)=>{if(!e)return t;let r=wD(e.semver,t.semver,n);return r>0?e:r<0||t.operator===">"&&e.operator===">="?t:e},SW=(e,t,n)=>{if(!e)return t;let r=wD(e.semver,t.semver,n);return r<0?e:r>0||t.operator==="<"&&e.operator==="<="?t:e};TW.exports=ohe});var bD=w((oje,RW)=>{var ED=Gl(),ahe=Pv(),che=pr(),PW=cD(),uhe=zl(),lhe=e3(),dhe=n3(),phe=o3(),fhe=d3(),mhe=f3(),hhe=h3(),ghe=v3(),vhe=x3(),yhe=oo(),xhe=E3(),whe=_3(),Ehe=zb(),bhe=I3(),_he=R3(),Che=Dv(),She=Yb(),The=Gb(),Ihe=uD(),Phe=Kb(),Rhe=Xb(),Ahe=lD(),Dhe=M3(),khe=Nv(),Ohe=so(),Nhe=Fv(),Lhe=eW(),Fhe=nW(),Mhe=iW(),Uhe=aW(),qhe=uW(),$he=e_(),jhe=hW(),Hhe=vW(),Bhe=wW(),Vhe=bW(),Whe=IW();RW.exports={parse:uhe,valid:lhe,clean:dhe,inc:phe,diff:fhe,major:mhe,minor:hhe,patch:ghe,prerelease:vhe,compare:yhe,rcompare:xhe,compareLoose:whe,compareBuild:Ehe,sort:bhe,rsort:_he,gt:Che,lt:She,eq:The,neq:Ihe,gte:Phe,lte:Rhe,cmp:Ahe,coerce:Dhe,Comparator:khe,Range:Ohe,satisfies:Nhe,toComparators:Lhe,maxSatisfying:Fhe,minSatisfying:Mhe,minVersion:Uhe,validRange:qhe,outside:$he,gtr:jhe,ltr:Hhe,intersects:Bhe,simplifyRange:Vhe,subset:Whe,SemVer:che,re:ED.re,src:ED.src,tokens:ED.t,SEMVER_SPEC_VERSION:ahe.SEMVER_SPEC_VERSION,compareIdentifiers:PW.compareIdentifiers,rcompareIdentifiers:PW.rcompareIdentifiers}});var _D=w((lje,kW)=>{kW.exports=function(t,n,r){t(n),r&&r(n===!0?null:n)}});var r_=w((dje,NW)=>{"use strict";var OW=_D();NW.exports=function(t,n){if(!t)return function(i,o){return i?OW(o,i,n):o(!0)};Array.isArray(t)||(t=Object.keys(t).map(function(i){return t[i]}));var r=0;return function(i,o){if(i)return OW(o,i,n);r>=t.length?o(!0):o(null,t[r++])}}});var FW=w((pje,LW)=>{"use strict";var Yhe=r_();LW.exports=function(e){return Yhe(Object.keys(e))}});var CD=w((fje,MW)=>{"use strict";var Khe=_D();MW.exports=function(t,n){return function(r,i){if(r)return Khe(i,r,n);if(t!=null){var o=t;t=null,i(null,o)}else i(!0)}}});var qW=w((mje,UW)=>{"use strict";UW.exports=function(t){var n=0;return t=t||1/0,function(r,i){if(r)return i&&i(r);if(n>t)return i(!0);i(null,n++)}}});var jW=w((hje,$W)=>{"use strict";$W.exports=function(t){return t=t||Math.random,function(n,r){return n?r&&r(n):r(null,t())}}});var BW=w((gje,HW)=>{"use strict";HW.exports=function(){return function(t,n){n(!0)}}});var WW=w((vje,VW)=>{"use strict";VW.exports=function(t){return function(n,r){r(t)}}});var zW=w((yje,GW)=>{"use strict";GW.exports={keys:FW(),once:CD(),values:r_(),count:qW(),infinite:jW(),empty:BW(),error:WW()}});var Df=w((xje,YW)=>{"use strict";YW.exports=function(t,n){var r,i,o;n||(o=new Error("no done callback supplied"));function s(a){if(r=a,i)return s.abort();(function u(){for(var c=!0,l=!1;c;)if(l=!1,r(null,function(d,p){if(l=!0,d=d||i){if(c=!1,n)n(d===!0?null:d);else if(d&&d!==!0)throw console.warn(o),d}else t&&t(p)===!1||i?(c=!1,r(i||!0,n||function(){})):c||u()}),!l){c=!1;return}})()}return s.abort=function(a,u){if(typeof a=="function"&&(u=a,a=!0),i=a||!0,r)return r(i,u||function(){})},s}});var XW=w((wje,KW)=>{"use strict";var Xhe=Df();KW.exports=function(t){return Xhe(null,t)}});var JW=w((Eje,QW)=>{"use strict";var Qhe=Df();QW.exports=function(t){return Qhe(function(n){console.log(n)},t)}});var kf=w((bje,ZW)=>{ZW.exports=function(t){return t&&(typeof t=="string"?function(n){return n[t]}:typeof t=="object"&&typeof t.exec=="function"?function(n){var r=t.exec(n);return r&&r[0]}:t)}});var nG=w((_je,tG)=>{"use strict";function eG(e){return e}var Jhe=kf(),Zhe=Df();tG.exports=function(t,n){var r=!1;return n?t=Jhe(t)||eG:(n=t,t=eG),Zhe(function(i){if(t(i))return r=!0,n(null,i),!1},function(i){r||n(i===!0?null:i,null)})}});var i_=w((Cje,rG)=>{"use strict";var ege=Df();rG.exports=function(t,n,r){r||(r=n,n=null);var i=ege(function(o){n=t(n,o)},function(o){r(o,n)});return arguments.length===2?function(o){o(null,function(s,a){if(s)return r(s===!0?null:s);n=a,i(o)})}:i}});var SD=w((Sje,iG)=>{"use strict";var tge=i_();iG.exports=function(t){return tge(function(n,r){return n.push(r),n},[],t)}});var sG=w((Tje,oG)=>{"use strict";var nge=SD();oG.exports=function(){return t=>{let n,r,i=new Promise((o,s)=>{n=o,r=s});return nge((o,s)=>{o?r(o):n(s)})(t),i}}});var cG=w((Ije,aG)=>{"use strict";var rge=i_();aG.exports=function(t){return rge(function(n,r){return n+r},"",t)}});var lG=w((Pje,uG)=>{"use strict";uG.exports={drain:Df(),onEnd:XW(),log:JW(),find:nG(),reduce:i_(),collect:SD(),collectAsPromise:sG(),concat:cG()}});var pG=w((Rje,dG)=>{"use strict";function ige(e){return e}var oge=kf();dG.exports=function(t){return t?(t=oge(t),function(n){return function(r,i){n(r,function(o,s){try{s=o?null:t(s)}catch(a){return n(a,function(){return i(a)})}i(o,s)})}}):ige}});var mG=w((Aje,fG)=>{"use strict";function sge(e){return e}var age=kf();fG.exports=function(t){if(!t)return sge;t=age(t);var n=!1,r,i;return function(o){return function s(a,u){if(i)return u(i);a?(i=a,n?o(a,function(c){n?r=u:u(a)}):o(a,function(c){u(a)})):o(null,function(c,l){c?u(c):i?u(i):(n=!0,t(l,function(d,p){n=!1,i?(u(i),r&&r(i)):d?s(d,u):u(null,p)}))})}}}});var TD=w((Dje,hG)=>{var cge=kf();function uge(e){return e}hG.exports=function(t){return typeof t=="object"&&typeof t.test=="function"?function(n){return t.test(n)}:cge(t)||uge}});var o_=w((kje,gG)=>{"use strict";var lge=TD();gG.exports=function(t){return t=lge(t),function(n){return function r(i,o){for(var s,a=!0;a;)a=!1,s=!0,n(i,function(u,c){if(!u&&!t(c))return s?a=!0:r(u,o);o(u,c)}),s=!1}}}});var yG=w((Oje,vG)=>{"use strict";var dge=TD(),pge=o_();vG.exports=function(t){return t=dge(t),pge(function(n){return!t(n)})}});var wG=w((Nje,xG)=>{"use strict";xG.exports=function(t,n){var r=!1;function i(o){r||!n||(r=!0,n(o===!0?null:o))}return function(o){return function(s,a){return s&&i(s),o(s,function(u,c){u?i(u):t&&t(c),a(u,c)})}}}});var bG=w((Lje,EG)=>{"use strict";EG.exports=function(t,n){n=n||{};var r=n.last||!1,i=!1;if(typeof t=="number"){r=!0;var o=t;t=function(){return--o}}return function(s){function a(u){s(!0,function(c){r=!1,u(c||!0)})}return function(u,c){i&&!u?r?a(c):c(i):(i=u)?s(i,c):s(null,function(l,d){(i=i||l)?c(i):t(d)?c(null,d):(i=!0,r?c(null,d):a(c))})}}}});var ID=w((Fje,_G)=>{"use strict";function fge(e){return e}var mge=kf(),hge=o_();_G.exports=function(t,n){t=mge(t)||fge;var r={};return hge(function(i){var o=t(i);return r[o]?!!n:(r[o]=!0,!n)})}});var SG=w((Mje,CG)=>{"use strict";var gge=ID();CG.exports=function(t){return gge(t,!0)}});var IG=w((Uje,TG)=>{"use strict";var vge=r_(),yge=CD();TG.exports=function(){return function(t){var n;return function(r,i){r?n?n(r,function(a){t(a||r,i)}):t(r,i):n?o():s();function o(){n(null,function(a,u){a?a===!0?s():t(!0,function(c){i(a)}):i(null,u)})}function s(){n=null,t(null,function(a,u){if(a)return i(a);u&&typeof u=="object"?u=vge(u):typeof u!="function"&&(u=yge(u)),n=u,o()})}}}}});var RG=w((qje,PG)=>{"use strict";PG.exports={map:pG(),asyncMap:mG(),filter:o_(),filterNot:yG(),through:wG(),take:bG(),unique:ID(),nonUnique:SG(),flatten:IG()}});var PD=w(($je,AG)=>{"use strict";AG.exports=function e(t){var n=arguments.length;if(typeof t=="function"&&t.length===1){for(var r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(a){if(r==null)throw new TypeError("partial sink should only be called once!");var u=r;switch(r=null,n){case 1:return e(a,u[0]);case 2:return e(a,u[0],u[1]);case 3:return e(a,u[0],u[1],u[2]);case 4:return e(a,u[0],u[1],u[2],u[3]);default:return u.unshift(a),e.apply(null,u)}}}var o=t;o&&typeof o.source=="function"&&(o=o.source);for(var i=1;i<n;i++){var s=arguments[i];typeof s=="function"?o=s(o):s&&typeof s=="object"&&(s.sink(o),o=s.source)}return o}});var qv=w((Ql,NG)=>{"use strict";var DG=zW(),kG=lG(),OG=RG();Ql=NG.exports=PD();Ql.pull=Ql;for(Go in DG)Ql[Go]=DG[Go];var Go;for(Go in OG)Ql[Go]=OG[Go];var Go;for(Go in kG)Ql[Go]=kG[Go];var Go});var MD=w((aHe,tz)=>{var sHe=tz.exports=function(e){(function t(){var n=!0,r=!1,i=!1;do i=!0,n=!1,e.call(this,function(){i?n=!0:t()}),i=!1;while(n)})()}});var rz=w((cHe,nz)=>{var Tge=MD();nz.exports=function(e,t){return function(n){var r=[],i,o;function s(c){r.push(c)}e=e||function(c){this.queue(c)},t=t||function(){this.queue(null)};var a={emit:function(c,l){c=="data"&&s(l),c=="end"&&(i=!0,s(null)),c=="error"&&(o=l)},queue:s},u;return function(c,l){if(i=i||c,c)return n(c,function(){if(u){var d=u;u=null,d(c)}l(c)});u=l,Tge(function d(p){if(u)if(l=u,o)u=null,l(o);else if(r.length){var f=r.shift();u=null,l(f===null,f)}else n(i,function(m,h){if(m&&m!==!0)return o=m,p();if(i=i||m)t.call(a);else if(h!==null&&(e.call(a,h),o||i))return n(o||i,function(){u=null,l(o||i)});p(d)})})}}}});var oz=w((uHe,iz)=>{iz.exports=function(){var e=[],t=0;function n(){return e.reduce(function(r,i){return r+i.length},0)}return{length:t,data:this,add:function(r){if(!Buffer.isBuffer(r))throw new Error("data must be a buffer, was: "+JSON.stringify(r));return this.length=t=t+r.length,e.push(r),this},has:function(r){return r==null?t>0:t>=r},get:function(r){var i;if(r==null||r===t){t=0;var o=e;return e=[],o.length==1?o[0]:Buffer.concat(o)}else if(e.length>1&&r<=(i=e[0].length)){var s=e[0].slice(0,r);return r===i?e.shift():e[0]=e[0].slice(r,i),t-=r,s}else if(r<t){for(var a=[],u=0;u+e[0].length<r;){var c=e.shift();u+=c.length,a.push(c)}return u<r&&(a.push(e[0].slice(0,r-u)),e[0]=e[0].slice(r-u,e[0].length),this.length=t=t-r),Buffer.concat(a)}else throw new Error("could not get "+r+" bytes")}}}});var uz=w((lHe,cz)=>{"use strict";var Ige=oz();function Pge(e){return Number.isFinite(e)}function sz(e){return typeof e=="function"}function az(e,t){return t?function(n,r){var i=setTimeout(function(){e(new Error("pull-reader: read exceeded timeout"),r)},t);e(n,function(o,s){clearTimeout(i),r(o,s)})}:e}cz.exports=function(e){var t=[],n,r,i=!1,o=Ige(),s,a,u;function c(){for(;t.length;)if(t[0].length==null&&o.has(1))t.shift().cb(null,o.get());else if(o.has(t[0].length)){var p=t.shift();p.cb(null,o.get(p.length))}else if(s==!0&&t[0].length&&o.length<t[0].length){var f="stream ended with:"+o.length+" but wanted:"+t[0].length;t.shift().cb(new Error(f))}else if(s)t.shift().cb(s);else return!!t.length;return t.length||!o.has(1)||u}function l(){var p=c();p&&!i&&n&&!i&&!a&&(i=!0,r(null,function(f,m){if(i=!1,f)return s=f,c();o.add(m),l()}))}function d(p){if(u){for(;t.length;)t.shift().cb(u);return cb&&cb(u)}r=az(p,e),n=p,l()}return d.abort=function(p,f){u=p||!0,n?(i=!0,n(u,function(){for(;t.length;)t.shift().cb(u);f&&f(u)})):f()},d.read=function(p,f,m){if(sz(f)&&(m=f,f=e),sz(m))t.push({length:Pge(p)?p:null,cb:m}),l();else return a=!0,function(h,g){if(i||o.has(1)){if(h)return n(h,g);t.push({length:null,cb:g}),l()}else az(n,f)(h,function(v,y){g(v,y)})}},d}});var Ez=w((Jl,wz)=>{var Rge=rz(),Age=uz(),lz=Bc(),dz=0,pz=1,fz=2,mz="GOODBYE";function hz(e){let t=Buffer.alloc(9),n=0,r=e.value!==void 0?e.value:e.end;return typeof e=="string"&&e===mz?(t.fill(0),[t,null]):(typeof r=="string"?(n=pz,r=Buffer.from(r,"utf-8")):Buffer.isBuffer(r)?n=dz:(n=fz,r=Buffer.from(JSON.stringify(r),"utf-8")),n=e.stream<<3|e.end<<2|n,t[0]=n,t.writeUInt32BE(r.length,1),t.writeInt32BE(e.req||0,5),[t,r])}function gz(e){if(e.length!==9)throw new Error("expected header to be 9 bytes long");let t=e[0],n=e.readUInt32BE(1);return{req:e.readInt32BE(5),stream:!!(t&8),end:!!(t&4),value:null,length:n,type:t&3}}function vz(e,t){if(e.length!==t.length)throw new Error("incorrect length, expected:"+t.length+" found:"+e.length);if(t.type===dz)t.value=e;else if(t.type===pz)t.value=e.toString();else if(t.type===fz)t.value=JSON.parse(e.toString());else throw new Error("unknown message type");return t}function yz(e){return Rge(function(n){e&&e("encoded: %o",n);let[r,i]=hz(n);this.queue(r),i!==null&&this.queue(i)})}function xz(e){let t=Age(),n=!1;return function(i){return t(i),function(s,a){if(n)return a(!0);if(s)return t.abort(s,a);t.read(9,function(c,l){if(c)return a(c);let d=gz(l);if(d.length===0)return n=!0,a(null,mz);t.read(d.length,function(f,m){if(f)return a(f);try{vz(m,d)}catch(h){return a(h)}e&&e("decoded: %o",d),a(null,d)})})}}}Jl=wz.exports=function(t,n){let r=n===!0?lz("packet-stream-codec"):typeof n=="string"?lz(n):null;return{source:yz(r)(t.source),sink(i){return t.sink(xz(r)(i))}}};Jl.encodePair=hz;Jl.decodeHead=gz;Jl.decodeBody=vz;Jl.encode=yz;Jl.decode=xz});var UD=w((dHe,bz)=>{function Dge(e){return e&&(e===!0?!0:{message:e.message,name:e.name,stack:e.stack})}function kge(e){console.error("packet-stream asked to read after closed",e)}bz.exports={flat:Dge,closedread:kge}});var Sz=w((pHe,Cz)=>{var{flat:_z,closedread:Oge}=UD();function a_(e,t,n){this.id=e,this.read=null,this.writeEnd=null,this.readEnd=null,this._ps=t,this._remove=n}a_.prototype.write=function(e,t){let n=this._ps;t?(this.writeEnd=t,n&&(n.read({req:this.id,stream:!0,end:!0,value:_z(t)}),this.readEnd&&this.destroy(t),n._maybedone(t))):n&&n.read({req:this.id,stream:!0,end:!1,value:e})};a_.prototype.end=function(e){this.write(null,_z(e||!0))};a_.prototype.destroy=function(e){if(this.writeEnd){if(!this.readEnd){this.readEnd=!0;try{this.read&&this.read(null,e)}catch(t){console.error("Exception thrown by PacketStream substream end handler",t),console.error(t.stack)}}}else{if(this.writeEnd=!0,!this.readEnd){this.readEnd=!0;try{this.read(null,e)}catch(t){console.error("Exception thrown by PacketStream substream end handler",t),console.error(t.stack)}}this.write(null,e)}this._ps&&(this._remove(),this._remove=null,this.read=Oge,this._ps=null)};Cz.exports=a_});var Pz=w((fHe,Iz)=>{var Tz=Sz(),{flat:qD,closedread:Nge}=UD();function uo(e){this.ended=!1,this.opts=e,this._req_counter=1,this._requests=new Map,this._instreams=new Map,this._outstreams=new Map,this._closecbs=[],this._closing=!1,this._closed=!1,e.close&&this._closecbs.push(e.close)}uo.prototype.message=function(e){this.read({req:0,stream:!1,end:!1,value:e})};uo.prototype.request=function(e,t){if(this._closing)return t(new Error("parent stream is closing"));let n=this._req_counter++;this._requests.set(n,(r,i)=>{this._requests.delete(n),t(r,i),this._maybedone(r)}),this.read({req:n,stream:!1,end:!1,value:e})};uo.prototype.stream=function(){if(this._closing)throw new Error("parent stream is closing");let e=this._req_counter++,t=new Tz(e,this,()=>{this._outstreams.delete(e)});return this._outstreams.set(e,t),t};uo.prototype.close=function(e){if(!e)throw new Error("packet-stream.close *must* have callback");if(this._closed)return e();this._closecbs.push(e),this._closing=!0,this._maybedone()};uo.prototype.destroy=function(e){e=e||qD(e),this.ended=e,this._closing=!0;let t=e===!0?new Error("unexpected end of parent stream"):e,n=0;this._requests.forEach(r=>{n++,r(t)}),this._instreams.forEach(r=>{n++,r.writeEnd=!0,r.destroy(t)}),this._outstreams.forEach(r=>{n++,r.writeEnd=!0,r.destroy(t)}),n===0&&e===!0&&(t=null),this._maybedone(t)};uo.prototype._maybedone=function(e){this._closed||!this._closing||this._requests.size!==0||this._instreams.size!==0||this._outstreams.size!==0||(this.read(null,e||!0),this._closed=!0,this._closecbs.forEach(t=>{t(e)}),this.opts=null,this._closecbs.length=0,this.read=Nge,this._requests.clear(),this._instreams.clear(),this._outstreams.clear())};uo.prototype.read=function(e){console.error("please overwrite read method to do IO",e)};uo.prototype.write=function(e,t){this.ended||(t?this.destroy(t):e.req&&!e.stream?this._onrequest(e):e.req&&e.stream?this._onstream(e):this._onmessage(e))};uo.prototype._onmessage=function(e){this.opts&&typeof this.opts.message=="function"&&this.opts.message(e.value)};uo.prototype._onrequest=function(e){let t=e.req*-1;if(e.req<0)this._requests.has(t)&&this._requests.get(t)(e.end?e.value:null,e.end?null:e.value);else if(this.opts&&typeof this.opts.request=="function"){let n=!1;this.opts.request(e.value,(r,i)=>{if(n)throw new Error("cb called twice from local api");n=!0,r?this.read({value:qD(r),end:!0,req:t}):this.read({value:i,end:!1,req:t}),this._maybedone()})}else{if(this.ended){let n=this.ended===!0?new Error("unexpected end of parent stream"):this.ended;this.read({value:qD(n),end:!0,stream:!1,req:t})}else this.read({value:{message:"Unable to handle requests",name:"NO_REQUEST_HANDLER",stack:null},end:!0,stream:!1,req:t});this._maybedone()}};uo.prototype._onstream=function(e){if(e.req<0){let t=e.req*-1,n=this._outstreams.get(t);if(!n)return console.error("no stream for incoming msg",e);e.end?(n.writeEnd&&this._outstreams.delete(t),n.readEnd=!0,n.read(null,e.value),this._maybedone()):n.read(e.value)}else{let t=e.req,n=this._instreams.get(t);n||(n=new Tz(t*-1,this,()=>{this._instreams.delete(t)}),this._instreams.set(t,n),this.opts&&typeof this.opts.stream=="function"&&this.opts.stream(n)),e.end?(n.writeEnd&&this._instreams.delete(t),n.readEnd=!0,n.read&&n.read(null,e.value),this._maybedone()):n.read?n.read(e.value):console.error("no .read for stream:",n.id,"dropped:",e)}};Iz.exports=e=>new uo(e)});var Az=w((mHe,Hv)=>{"use strict";var Lge=qv();function Fge(e){let t=!1;return(n,r)=>{t||(t=!0,e(n,r))}}function $D(e,t){let n=[],r=!1,i=!1,o,s,a=Fge((u,c)=>{t&&t(u,c),e=null,t=null,o=null,s&&s(u||!0,()=>{})});return e.read=function(u,c){if(r=r||c,o){let l=o;o=null,l(r,u)}else!r&&!i&&n.push(u);r&&a(r!==!0?r:null)},{source(u,c){u?(e&&e.write(null,u),c(u),n.length=0,i=!0,a(u!==!0?u:null)):n.length?c(null,n.shift()):r?c(r):o=c},sink(u){if(r)return s=null,u(r,()=>{});s=u,Lge.drain(c=>{if(r)return!1;e.write(c)},c=>{e&&!e.writeEnd&&e.write(null,c||!0),a&&a(c)})(u)}}}function Rz(e,t){return $D(e,n=>{e.writeEnd||e.write(null,n||!0),t&&t(n)})}function Mge(e){return Rz(e).source}function Uge(e,t){return Rz(e,t).sink}Hv.exports=$D;Hv.exports.source=Mge;Hv.exports.sink=Uge;Hv.exports.duplex=$D});var kz=w((hHe,Dz)=>{Dz.exports=function(t){var n,r,i;function o(s){return function(a,u){s(a,function(c,l){if(c&&!i)return i=!0,u(null,t);c&&n?u(c):c?r=u:u(null,l)})}}return o.end=function(){return n=!0,r&&r(n),o},o}});var Nz=w((gHe,Oz)=>{var qge=kz(),jD=qv();Oz.exports=function(e,t){t=t||"GOODBYE";var n=qge(t);return{source:jD(e.source,n),sink:jD(jD.filter(function(r){if(r!==t)return!0;n.end()}),e.sink)}}});var Bv=w(zo=>{"use strict";var c_=qv();function $ge(e){return e?Object.keys(e).length===0:!0}zo.set=function(t,n,r){let i,o;for(let s=0;s<n.length;s++){let a=n[s];t[a]=t[a]||{},i=t,o=a,t=t[a]}i[o]=r};zo.get=function(t,n){if(typeof n=="string")return t[n];let r;for(let i=0;i<n.length;i++){let o=n[i];if(r=t=t[o],t==null)return t}return r};zo.prefix=function(t,n){let r;for(let i=0;i<n.length;i++){let o=n[i];if(r=t=t[o],typeof t!="object")return t}return typeof r!="object"?!!r:!1};function jge(e,t){for(let n in t){let r=t[n];e[r]||(e[r]={}),e=e[r]}return e}function Hge(e,t){(function n(r,i){let o=t[i];if(r)t.length-1===i?delete r[o]:i<t.length&&n(r[o],i+1);else return;$ge(r[o])&&delete r[o]})(e,0)}function Bge(e,t){for(let n in t)e[n]=t[n];return e}zo.mount=function(t,n,r){if(!Array.isArray(n))throw new Error("path must be array of strings");return Bge(jge(t,n),r)};zo.unmount=function(t,n){return Hge(t,n)};var u_=e=>e==="source",l_=e=>e==="sink",HD=e=>e==="duplex",Vge=e=>e==="sync",Wge=e=>e==="async",Lz=e=>Vge(e)||Wge(e),Gge=e=>u_(e)||l_(e)||HD(e);zo.isRequest=Lz;zo.isStream=Gge;function BD(e){return function(t){t(e||!0,()=>{})}}function Fz(e){return{source:c_.error(e),sink:BD(e)}}zo.errorAsStream=function(t,n){return u_(t)?c_.error(n):l_(t)?BD(n):Fz(n)};zo.errorAsStreamOrCb=function(t,n,r){return Lz(t)?r(n):HD(t)?Fz(n):u_(t)?c_.error(n):l_(t)?BD(n):r(n)};zo.pipeToStream=function(t,n,r){u_(t)?n(r):l_(t)?r(n):HD(t)&&c_(n,r,n)}});var VD=w((yHe,Mz)=>{"use strict";function zge(e){return typeof e=="string"?[`Error: ${e}`]:e.stack?e.stack.split(`
`):[`${e.name}: ${e.message}`]}Mz.exports=function(t,n){let r=new Error(n),i=r.stack.split(`
`);i.splice(1,1);let o=zge(t);o[0]="  "+o[0];for(let s=1;s<i.length;s++)if(o.includes(i[s])){i.splice(s);break}return r.stack=i.concat(o).join(`
`),r}});var jz=w((xHe,$z)=>{"use strict";var Yge=Pz(),WD=Az(),Kge=Nz(),Ff=Bv(),Uz=VD(),qz=Bc()("muxrpc:psc");$z.exports=function(t,n,r){let i=Yge({message(){},request(s,a){if(!Array.isArray(s.args))return a(new Error(`invalid request, args should be array, was: ${JSON.stringify(s)}`));let u=s.name,c=s.args,l=!1,d=!1;c.push((p,f)=>{d=!0,l=!0,a(p,f)});try{t("async",u,c)}catch(p){if(l||d)throw Uz(p,"no callback provided to muxrpc async funtion");a(p)}},stream(s){s.read=function(u,c){if(c)return s.write(null,c);let{name:l,type:d,args:p}=u,f,m;if(s.read=null,!Ff.isStream(d))return s.write(null,new Error(`unsupported stream type: ${d}`));try{m=t(d,l,p)}catch(v){f=v}let g=WD[d==="source"?"sink":d==="sink"?"source":"duplex"](s);return Ff.pipeToStream(d,g,f?Ff.errorAsStream(d,f):m)}},close(s){if(i=null,o.ended=!0,!o.closed&&(o.closed=!0,r)){let a=r;r=null,a(s)}}}),o=Kge(WD(i,()=>{}));return o=n?n(o,qz.enabled?qz.namespace:!1):o,o.remoteCall=function(s,a,u,c){if(a==="emit")return i.message(u);if(!(Ff.isRequest(s)||Ff.isStream(s)))throw new Error(`unsupported type: ${JSON.stringify(s)}`);if(Ff.isRequest(s))return i.request({name:a,args:u},c);let l=i.stream(),d=WD[s](l,c);return l.write({name:a,args:u,type:s}),d},o.isOpen=function(){return!i.ended},o.close=function(s,a){if(typeof s=="function"&&(a=s,s=!1),!i){a&&a();return}if(s){i.destroy(s),a&&a();return}return i.close(u=>{if(a)a(u);else if(u)throw Uz(u,"no callback provided for muxrpc close")}),this},o.closed=!1,o}});var Bz=w((wHe,Hz)=>{"use strict";var Xge=VD(),Qge=Bv();function GD(e,t,n,r){for(let i in t){let o=t[i],s=n?n.concat(i):[i];if(o&&typeof o=="object"){let a=o;e[i]=GD({},a,s,r)}else{let a=o;e[i]=(...u)=>r(a,s,u)}}return e}function Jge(e){if(e)throw Xge(e,"callback not provided")}function Zge(e,t,n,r){e=e||{};function i(o,s,a){let u=typeof a[a.length-1]=="function"?a.pop():o==="sync"||o==="async"?null:Jge;if(typeof u=="function"){let c;try{c=n(o,s,a,u)}catch(l){return Qge.errorAsStreamOrCb(o,l,u)}return c}else return new Promise((c,l)=>{n(o,s,a,(d,p)=>{d?l(d):c(p)})})}return r?i("async","manifest",[function(o,s){if(o)return r(o);GD(e,s,null,i),r(null,s,e)}]):GD(e,t,null,i),e}Hz.exports=Zge});var Gz=w((EHe,Wz)=>{"use strict";var d_=Bv();function Vz(e){return Array.isArray(e)?e:e.split(".")}function eve(e){return e&&typeof e.pre=="function"&&typeof e.test=="function"&&typeof e.post=="function"}Wz.exports=function(t){if(eve(t))return t;if(typeof t=="function")return{pre:t};let n=null,r={};function i(o){if(o.allow){n={};for(let s of o.allow)d_.set(n,Vz(s),!0)}else n=null;if(o.deny)for(let s of o.deny)d_.set(r,Vz(s),!0);else r={};return this}return t&&i(t),i.pre=o=>{if(o=Array.isArray(o)?o:[o],n&&!d_.prefix(n,o))return new Error(`method:${o} is not in list of allowed methods`);if(r&&d_.prefix(r,o))return new Error(`method:${o} is on list of disallowed methods`)},i.post=()=>{},i.test=o=>i.pre(o),i.get=()=>({allow:n,deny:r}),i}});var Yz=w((bHe,zz)=>{"use strict";var tve=Gz(),zD=Bv();zz.exports=function(t,n,r){r=tve(r);function i(s,a){return s===zD.get(n,a)}function o(s,a,u){if(a==="emit")throw new Error("emit has been removed");if(s==="async"&&i("sync",a)){let c=u.pop(),l;try{l=zD.get(t,a).apply(this,u)}catch(d){return c(d)}return c(null,l)}if(!i(s,a))throw new Error(`no ${s}:${a}`);return zD.get(t,a).apply(this,u)}return function(a,u,c){let l=r.pre(u,c);if(l)throw l;return o.call(this,a,u,c)}}});var Qz=w((_He,Xz)=>{"use strict";var nve=Ez(),rve=require("events").EventEmitter,ive=jz(),ove=Bz(),sve=Yz();function Kz(e,t,n,r,i,o,s){let a;typeof e=="function"&&(a=e,e={}),t=t||{},e=e||{};let u=new rve;o||(o=nve);let c,l={_emit(p,f){return u&&u._emit(p,f),l},id:r},d=ive(sve(n,t,i).bind(l),o,p=>{if(!u.closed&&(u.closed=!0,u.emit("closed"),c)){let f=c;c=null,f(p)}});if(ove(u,e,(p,f,m,h)=>{if(d.closed)throw new Error("stream is closed");return d.remoteCall(p,f,m,h)},a),u._emit=u.emit,s){Object.__defineGetter__.call(u,"id",()=>l.id),Object.__defineSetter__.call(u,"id",f=>{l.id=f});let p=!0;u.createStream=f=>{if(c=f,p)return p=!1,d;throw new Error("one stream per rpc")}}else u.stream=d;return u.closed=!1,u.close=function(p,f){return d.close(p,f),this},u}Xz.exports=function(e,t,n){return arguments.length>3?Kz.apply(this,arguments):function(r,i,o){return Kz(e,t,r,o,i,n,!0)}}});var YD=w((Ha,e4)=>{var CHe=PD(),ave=MD();function Jz(e){e.destroy?e.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function Zz(e,t,n){var r,i=!1,o;function s(){o||(o=!0,n&&n(r===!0?null:r))}function a(){i||(i=!0,c(),r?s():e(r=!0,s))}function u(l){c(),r||e(r=l,s)}function c(){t.on("finish",a),t.removeListener("close",a),t.removeListener("error",u)}t.on("close",a),t.on("finish",a),t.on("error",u),process.nextTick(function(){ave(function(l){e(null,function(d,p){if(r=r||d,d===!0)return t._isStdio?s():t.end();if(r=r||d)return Jz(t),s(r);if(t._isStdio)t.write(p,function(){l()});else{var f=t.write(p);f===!1?t.once("drain",l):l()}})})})}function cve(e){var t=!1,n=!1,r;function i(){var o=e.read();if(o!==null&&r){var s=r;r=null,s(null,o)}}return e.on("readable",function(){n=!0,r&&i()}).on("end",function(){t=!0,r&&r(t)}).on("error",function(o){t=o,r&&r(t)}),function(o,s){r=s,t?s(t):n&&i()}}function p_(e){var t=[],n=[],r,i=!1,o;function s(){for(;(t.length||r)&&n.length;)n.shift()(t.length?null:r,t.shift());!t.length&&i&&(i=!1,e.resume())}return e.on("data",function(a){t.push(a),s(),t.length&&e.pause&&(i=!0,e.pause())}),e.on("end",function(){r=!0,s()}),e.on("close",function(){r=!0,s()}),e.on("error",function(a){r=a,s()}),function(a,u){if(!u)throw new Error("*must* provide cb");if(a){let l=function(){for(;n.length;)n.shift()(a);u(a)};var c=l;if(r)return l();e.once("close",l),Jz(e)}else n.push(u),s()}}var uve=p_,f_=function(e,t){return function(n){return Zz(n,e,t)}},m_=function(e){return p_(e)};Ha=e4.exports=function(e,t){return e.writable&&e.write?e.readable?function(n){return Zz(n,e,t),p_(e)}:f_(e,t):m_(e)};Ha.sink=f_;Ha.source=m_;Ha.read=uve;Ha.read1=p_;Ha.read2=cve;Ha.duplex=function(e,t){return{source:m_(e),sink:f_(e,t)}};Ha.transform=function(e){return function(t){var n=m_(e);return f_(e)(t),n}}});var n4=w((SHe,h_)=>{var lve=require("stream");h_.exports=KD;h_.exports.source=function(e){return KD(null,e)};h_.exports.sink=function(e){return KD(e,null)};var t4=typeof setImmediate>"u"?process.nextTick:setImmediate;function KD(e,t){e&&typeof e=="object"&&(t=e.source,e=e.sink);var n=[],r=[],i,o,s=new lve;s.writable=s.readable=!0,s.write=function(g){return n.length?n.shift()(null,g):r.push(g),n.length||(o=!0),!!n.length},s.end=function(){t?r.length?h():t(i=!0,n.length?n.shift():function(){}):n.length&&n.shift()(!0)},s.source=function(g,v){r.length?(v(null,r.shift()),r.length||s.emit("drain")):((i=i||g)?v(i):n.push(v),o&&(o=!1,s.emit("drain")))};var a;e&&(a=e(s.source)),a&&!t&&(t=a);var u=[],c=[],l=!1,d=!1,p=!1;if(s.sink=function(g){t=g,t4(h)},t){s.sink(t),s.paused=!0;var f=s.on.bind(s);s.on=(g,v)=>{var y=f(g,v);return g==="data"&&s.paused&&t4(s.resume.bind(s)),y};var m=s.pipe.bind(s);s.pipe=function(g,v){var y=m(g,v);return s.paused&&s.resume(),y}}function h(){if(d=!1,!(!t||p)){for(;u.length&&!s.paused;)s.emit("data",u.shift());if(!s.paused){if(l)return s.emit("end");p=!0,t(null,function g(v,y){p=!1,s.paused?(v===!0?l=v:v?s.emit("error",v):u.push(y),d=!0):v&&(i=v)!==!0?s.emit("error",v):(i=i||v)?s.emit("end"):(s.emit("data",y),p=!0,t(null,g))})}}}return s.pause=function(){return s.paused=!0,s},s.resume=function(){return s.paused=!1,h(),s},s.destroy=function(){!i&&t&&t(i=!0,function(){}),i=!0,n.length&&n.shift()(!0),s.emit("close")},s}});var i4=w((THe,r4)=>{r4.exports=dve;function dve(e,t){typeof e=="function"&&(t=e,e=!1);var n=[],r,i;function o(d,p){d&&(r=d,i&&l(r)),i=p,c()}var s;function a(d){s=s||d||!0,c()}function u(d){if(!s){if(i){l(r,d);return}n.push(d)}}if(e)return{push:u,end:a,source:o,buffer:n};return o.push=u,o.end=a,o.buffer=n,o;function c(){i&&(r?l(r):!n.length&&s?l(s):n.length&&l(null,n.shift()))}function l(d,p){var f=i;if(d&&t){var m=t;t=null,m(d===!0?null:d)}i=null,f(d,p)}}});var gk=w((p2e,k4)=>{"use strict";var A4=require("child_process"),Hve=1024*1024,D4={exec(e,t){A4.exec(e,{maxBuffer:2*Hve,windowsHide:!0},t)},spawn(e,t,n){return A4.spawn(e,t,n)},stripLine(e,t){let n=0;for(;t-- >0;){let r=e.indexOf(`
`,n);r>=0&&(n=r+1)}return n>0?e.substring(n):e},split(e,t){let n=e.trim().split(/\s+/);return n.length>t&&(n[t-1]=n.slice(t-1).join(" ")),n},extractColumns(e,t,n){let r=e.split(/(\r\n|\n|\r)/),i=[];return n||(n=Math.max.apply(null,t)+1),r.forEach(o=>{let s=D4.split(o,n),a=[];t.forEach(u=>{a.push(s[u]||"")}),i.push(a)}),i},parseTable(e){let t=e.split(/(\r\n\r\n|\r\n\n|\n\r\n)|\n\n/).filter(n=>n.trim().length>0).map(n=>n.split(/(\r\n|\n|\r)/).filter(r=>r.trim().length>0));return t.forEach(n=>{for(let r=0;n[r];){let i=n[r];i.startsWith(" ")?(n[r-1]+=i.trimLeft(),n.splice(r,1)):r+=1}}),t.map(n=>{let r={};return n.forEach(i=>{let o=i.indexOf(":"),s=i.slice(0,o).trim();r[s]=i.slice(o+1).trim()}),r})}};k4.exports=D4});var N4=w((f2e,O4)=>{"use strict";var Bve=require("os"),N_=require("fs"),fo=gk(),Vve=e=>new Promise((t,n)=>{N_.existsSync(e)?t():N_.mkdir(e,r=>{r?n(r):t()})}),vk={darwin(e){return new Promise((t,n)=>{fo.exec("netstat -anv -p TCP && netstat -anv -p UDP",function(r,i,o){if(r)n(r);else{if(r=o.toString().trim(),r){n(r);return}let s=fo.stripLine(i.toString(),2),a=fo.extractColumns(s,[0,3,8],10).filter(u=>!!String(u[0]).match(/^(udp|tcp)/)).find(u=>{let c=String(u[1]).match(/\.(\d+)$/);if(c&&c[1]===String(e))return!0});a&&a[2].length?t(parseInt(a[2],10)):n(new Error(`pid of port (${e}) not found`))}})})},freebsd:"darwin",sunos:"darwin",linux(e){return new Promise((t,n)=>{let r="netstat -tunlp";fo.exec(r,function(i,o,s){if(i)n(i);else{let a=s.toString().trim();a&&console.warn(a);let u=fo.stripLine(o.toString(),2),c=fo.extractColumns(u,[3,6],7).find(l=>{let d=String(l[0]).match(/:(\d+)$/);if(d&&d[1]===String(e))return!0});if(c&&c[1]){let l=c[1].split("/",1)[0];l.length?t(parseInt(l,10)):n(new Error(`pid of port (${e}) not found`))}else n(new Error(`pid of port (${e}) not found`))}})})},win32(e){return new Promise((t,n)=>{fo.exec("netstat -ano",function(r,i,o){if(r)n(r);else{if(r=o.toString().trim(),r){n(r);return}let s=fo.stripLine(i.toString(),4),a=fo.extractColumns(s,[1,4],5).find(u=>{let c=String(u[0]).match(/:(\d+)$/);if(c&&c[1]===String(e))return!0});a&&a[1].length&&parseInt(a[1],10)>0?t(parseInt(a[1],10)):n(new Error(`pid of port (${e}) not found`))}})})},android(e){return new Promise((t,n)=>{let r=Bve.tmpdir()+"/.find-process",i=r+"/"+process.pid,o='netstat -tunp >> "'+i+'"';Vve(r).then(()=>{fo.exec(o,()=>{N_.readFile(i,"utf8",(s,a)=>{if(N_.unlink(i,()=>{}),s)n(s);else{a=fo.stripLine(a,2);let u=fo.extractColumns(a,[3,6],7).find(c=>{let l=String(c[0]).match(/:(\d+)$/);if(l&&l[1]===String(e))return!0});if(u&&u[1]){let c=u[1].split("/",1)[0];c.length?t(parseInt(c,10)):n(new Error(`pid of port (${e}) not found`))}else n(new Error(`pid of port (${e}) not found`))}})})})})}};function Wve(e){let t=process.platform;return new Promise((n,r)=>{if(!(t in vk))return r(new Error(`platform ${t} is unsupported`));let i=vk[t];typeof i=="string"&&(i=vk[i]),i(e).then(n,r)})}O4.exports=Wve});var U4=w((m2e,M4)=>{"use strict";var L_=require("path"),cu=gk();function yk(e,t){return t?e&&e.match?e.match(t):!1:!0}function L4(e){let t=e.split(L_.sep),n=t[t.length-1];n&&(t[t.length-1]=n.split(" ")[0]);let r=[];for(let i of t){let o=i.indexOf(" -");if(o>=0){r.push(i.substring(0,o).trim());break}else if(i.endsWith(" ")){r.push(i.trim());break}r.push(i)}return r.join(L_.sep)}function F4(e){if(process.platform==="darwin"){let t=e.indexOf(".app/");if(t>=0)return L_.basename(e.substring(0,t))}return L_.basename(e)}var xk={darwin(e){return new Promise((t,n)=>{let r;"pid"in e?r=`ps -p ${e.pid} -ww -o pid,ppid,uid,gid,args`:r="ps ax -ww -o pid,ppid,uid,gid,args",cu.exec(r,function(i,o,s){if(i)"pid"in e?t([]):n(i);else{if(i=s.toString().trim(),i){n(i);return}let a=cu.stripLine(o.toString(),1),c=cu.extractColumns(a,[0,1,2,3,4],5).filter(l=>l[0]&&e.pid?l[0]===String(e.pid):l[4]&&e.name?yk(l[4],e.name):!!l[0]).map(l=>{let d=String(l[4]),p=L4(d);return{pid:parseInt(l[0],10),ppid:parseInt(l[1],10),uid:parseInt(l[2],10),gid:parseInt(l[3],10),name:F4(p),bin:p,cmd:l[4]}});e.strict&&e.name&&(c=c.filter(l=>l.name===e.name)),t(c)}})})},linux:"darwin",sunos:"darwin",freebsd:"darwin",win32(e){return new Promise((t,n)=>{let r="Get-CimInstance -className win32_process | select Name,ProcessId,ParentProcessId,CommandLine,ExecutablePath",i=[],o=cu.spawn("powershell.exe",["/c",r],{detached:!1,windowsHide:!0});o.stdout.on("data",s=>{i.push(s.toString())}),o.on("close",s=>{if(s!==0)return n(new Error("Command '"+r+"' terminated with code: "+s));let a=cu.parseTable(i.join("")).filter(u=>{if("pid"in e)return u.ProcessId===String(e.pid);if(e.name){let c=u.Name||"";return e.strict?c===e.name||c.endsWith(".exe")&&c.slice(0,-4)===e.name:yk(u.CommandLine||c,e.name)}else return!0}).map(u=>({pid:parseInt(u.ProcessId,10),ppid:parseInt(u.ParentProcessId,10),bin:u.ExecutablePath,name:u.Name||"",cmd:u.CommandLine}));t(a)})})},android(e){return new Promise((t,n)=>{let r="ps";cu.exec(r,function(i,o,s){if(i)"pid"in e?t([]):n(i);else{if(i=s.toString().trim(),i){n(i);return}let a=cu.stripLine(o.toString(),1),c=cu.extractColumns(a,[0,3],4).filter(l=>l[0]&&e.pid?l[0]===String(e.pid):l[1]&&e.name?yk(l[1],e.name):!!l[0]).map(l=>{let d=String(l[1]),p=L4(d);return{pid:parseInt(l[0],10),name:F4(p),bin:p,cmd:d}});e.strict&&e.name&&(c=c.filter(l=>l.name===e.name)),t(c)}})})}};function Gve(e){let t=process.platform;return new Promise((n,r)=>{if(!(t in xk))return r(new Error(`platform ${t} is unsupported`));let i=xk[t];typeof i=="string"&&(i=xk[i]),i(e).then(n,r)})}M4.exports=Gve});var j4=w((h2e,$4)=>{"use strict";var zve=N4(),q4=U4(),wk={port(e,t){return zve(e,t).then(n=>wk.pid(n,t),()=>[])},pid(e,t){return q4({pid:e,strict:t})},name(e,t){return q4({name:e,strict:t})}};function Yve(e,t,n){return new Promise((r,i)=>{if(!(e in wk))i(new Error(`do not support find by "${e}"`));else{let o=/^\d+$/.test(t);e==="pid"&&!o?i(new Error("pid must be a number")):e==="port"&&!o?i(new Error("port must be a number")):wk[e](t,n).then(r,i)}})}$4.exports=Yve});var B4=w((g2e,H4)=>{"use strict";H4.exports=j4()});var dK=w(SC=>{"use strict";Object.defineProperty(SC,"__esModule",{value:!0});SC.BaseTelemetryReporter=void 0;var _O=class{constructor(t,n,r){this.telemetrySender=t,this.vscodeAPI=n,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,r),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(t,n,r,i){i?this.telemetrySender.sendEventData(t,{properties:n,measurements:r}):this.telemetryLogger.logUsage(t,{properties:n,measurements:r})}sendTelemetryEvent(t,n,r){this.internalSendTelemetryEvent(t,n,r,!1)}sendDangerousTelemetryEvent(t,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(t,n,r,!0)}internalSendTelemetryErrorEvent(t,n,r,i){i?this.telemetrySender.sendEventData(t,{properties:n,measurements:r}):this.telemetryLogger.logError(t,{properties:n,measurements:r})}sendTelemetryErrorEvent(t,n,r){this.internalSendTelemetryErrorEvent(t,n,r,!1)}sendDangerousTelemetryErrorEvent(t,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(t,n,r,!0)}internalSendTelemetryException(t,n,r,i){i?this.telemetrySender.sendErrorData(t,{properties:n,measurements:r}):this.telemetryLogger.logError(t,{properties:n,measurements:r})}sendTelemetryException(t,n,r){this.internalSendTelemetryException(t,n,r,!1)}sendDangerousTelemetryException(t,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(t,n,r,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(t=>t.dispose()))}};SC.BaseTelemetryReporter=_O});var pK=w(TC=>{"use strict";Object.defineProperty(TC,"__esModule",{value:!0});TC.BaseTelemetrySender=void 0;var Qa;(function(e){e[e.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",e[e.INSTANTIATING=1]="INSTANTIATING",e[e.INSTANTIATED=2]="INSTANTIATED"})(Qa||(Qa={}));var CO=class{constructor(t,n){this._instantiationStatus=Qa.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=n,this._key=t}sendEventData(t,n){if(!this._telemetryClient){this._instantiationStatus!==Qa.INSTANTIATED&&this._eventQueue.push({eventName:t,data:n});return}this._telemetryClient.logEvent(t,n)}sendErrorData(t,n){if(!this._telemetryClient){this._instantiationStatus!==Qa.INSTANTIATED&&this._exceptionQueue.push({exception:t,data:n});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:t,data:n})=>this.sendEventData(t,n)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:t,data:n})=>this.sendErrorData(t,n)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===Qa.NOT_INSTANTIATED&&(this._instantiationStatus=Qa.INSTANTIATING,this._clientFactory(this._key).then(t=>{this._telemetryClient=t,this._instantiationStatus=Qa.INSTANTIATED,this._flushQueues()}).catch(t=>{console.error(t),this._instantiationStatus=Qa.INSTANTIATED}))}};TC.BaseTelemetrySender=CO});var fK=w(IC=>{"use strict";Object.defineProperty(IC,"__esModule",{value:!0});IC.TelemetryUtil=void 0;var Cu=class{static applyReplacements(t,n){for(let r of Object.keys(t))for(let i of n)i.lookup.test(r)&&(i.replacementString!==void 0?t[r]=i.replacementString:delete t[r])}static shouldUseOneDataSystemSDK(t){return t.length===74&&t[32]==="-"&&t[41]==="-"&&t[46]==="-"&&t[51]==="-"&&t[56]==="-"&&t[69]==="-"}static getAdditionalCommonProperties(t){return{"common.os":t.platform,"common.nodeArch":t.architecture,"common.platformversion":(t.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.7"}}static getInstance(){return Cu._instance||(Cu._instance=new Cu),Cu._instance}};IC.TelemetryUtil=Cu});var yo,vn,yn,xn,by,Ni,mm,hm,PC,gm,Li,RC=S(()=>{yo="function",vn="object",yn="undefined",xn="prototype",by="hasOwnProperty",Ni=Object,mm=Ni[xn],hm=Ni.assign,PC=Ni.create,gm=Ni.defineProperty,Li=mm[by]});function Zo(e){e===void 0&&(e=!0);var t=e===!1?null:mK;return t||(typeof globalThis!==yn&&(t=globalThis),!t&&typeof self!==yn&&(t=self),!t&&typeof window!==yn&&(t=window),!t&&typeof global!==yn&&(t=global),mK=t),t}function vm(e){throw new TypeError(e)}function Ys(e){var t=PC;if(t)return t(e);if(e==null)return{};var n=typeof e;n!==vn&&n!==yo&&vm("Object prototype may only be an Object:"+e);function r(){}return r[xn]=e,new r}var mK,SO=S(()=>{RC();mK=null});function es(e,t){typeof t!==yo&&t!==null&&vm("Class extends value "+String(t)+" is not a constructor or null"),TO(e,t);function n(){this.constructor=e}e[xn]=t===null?Ys(t):(n[xn]=t[xn],new n)}function DC(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var cze,uze,$Ee,AC,TO,hK=S(()=>{RC();SO();cze=(Zo()||{}).Symbol,uze=(Zo()||{}).Reflect,$Ee=function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)mm[by].call(t,i)&&(e[i]=t[i])}return e},AC=hm||$Ee,TO=function(e,t){return TO=Ni.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r[by](i)&&(n[i]=r[i])},TO(e,t)}});var gK=S(()=>{});var ni=S(()=>{RC();SO();hK();gK()});var IO,vK=S(()=>{"use strict";IO=100});var ts,Gn,_y,ns,Me,Fi,Ks,kC,ri,ge,ud,Ct,OC,ld,dd,PO,Cy,pd,ym,Sy,Ja,Mi,xm,Su,rs,wm,fd,Ui,xo,Tu,Za,NC,Iu,is,Em,Pu,Ty,Ru,LC,bm,os,RO,AO,FC,wn,ii,Iy,md,Py,hd,ss,MC,gd,_m,Au,Ry,cn=S(()=>{ts="initialize",Gn="name",_y="getNotifyMgr",ns="identifier",Me="push",Fi="isInitialized",Ks="config",kC="instrumentationKey",ri="logger",ge="length",ud="time",Ct="processNext",OC="getProcessTelContext",ld="addNotificationListener",dd="removeNotificationListener",PO="stopPollingInternalLogs",Cy="onComplete",pd="getPlugin",ym="flush",Sy="_extensions",Ja="splice",Mi="teardown",xm="messageId",Su="message",rs="isAsync",wm="_doTeardown",fd="update",Ui="getNext",xo="diagLog",Tu="setNextPlugin",Za="createNew",NC="cookieCfg",Iu="indexOf",is="substring",Em="userAgent",Pu="split",Ty="setEnabled",Ru="substr",LC="nodeType",bm="apply",os="replace",RO="enableDebugExceptions",AO="logInternalMessage",FC="toLowerCase",wn="call",ii="type",Iy="handler",md="listeners",Py="isChildEvt",hd="getCtx",ss="setCtx",MC="complete",gd="traceId",_m="spanId",Au="traceFlags",Ry="version"});var Ce,DO,jt,kO,Ay,Cm,yK,oi,wo,Sm,Du,Tm,ku,UC,Dy,vd,qn=S(()=>{Ce="",DO="channels",jt="core",kO="createPerfMgr",Ay="disabled",Cm="extensionConfig",yK="extensions",oi="processTelemetry",wo="priority",Sm="eventsSent",Du="eventsDiscarded",Tm="eventsSendRequest",ku="perfEvent",UC="errorToConsole",Dy="warnToConsole",vd="getPerfMgr"});function ZEe(e){if(e){if($C)return $C(e);var t=e[jEe]||e[xn]||e[qC];if(t)return t}return null}function Im(e,t){return typeof e===t}function ot(e){return e===void 0||typeof e===yn}function De(e){return e===null||ot(e)}function UO(e){return!De(e)}function ec(e,t){return!!(e&&Li[wn](e,t))}function zn(e){return!!(e&&typeof e===vn)}function Be(e){return!!(e&&typeof e===yo)}function yd(e){var t=e;return t&&Ht(t)&&(t=t[os](XEe,function(n,r){return r.toUpperCase()}),t=t[os](QEe,"_"),t=t[os](JEe,function(n,r){return"_"+r})),t}function St(e,t){if(e)for(var n in e)Li[wn](e,n)&&t[wn](e,n,e[n])}function xd(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=VEe?e[IK](t):ebe(e,t)),n}function ebe(e,t){var n=!1,r=t?t[ge]:0,i=e?e[ge]:0;if(r&&i&&i>=r&&!(n=e===t)){for(var o=i-1,s=r-1;s>=0;s--){if(e[o]!=t[s])return!1;o--}n=!0}return n}function Pm(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=WEe?e[PK](t):tbe(e,t)),n}function tbe(e,t){var n=!1,r=t?t[ge]:0;if(e&&r&&e[ge]>=r&&!(n=e===t)){for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;n=!0}return n}function un(e,t){return e&&t?e[Iu](t)!==-1:!1}function Rm(e){return!!(e&&MO[wn](e)==="[object Date]")}function nbe(e){return!!(e&&MO[wn](e)==="[object Array]")}function wd(e){return!!(e&&MO[wn](e)==="[object Error]")}function Ht(e){return typeof e=="string"}function si(e){return typeof e=="number"}function tc(e){return typeof e=="boolean"}function CK(e){var t=!1;if(e&&typeof e=="object"){var n=$C?$C(e):ZEe(e);n?(n[qC]&&Li[wn](n,qC)&&(n=n[qC]),t=typeof n===yo&&AK[wn](n)===KEe):t=!0}return t}function Eo(e){if(e)return zEe?e[TK]():rbe(e)}function rbe(e){if(e&&e.getUTCFullYear){var t=function(n){var r=String(n);return r[ge]===1&&(r="0"+r),r};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function ae(e,t,n){var r=e[ge];try{for(var i=0;i<r&&!(i in e&&t[wn](n||e,e[i],i,e)===-1);i++);}catch{}}function In(e,t,n){if(e){if(e[xK])return e[xK](t,n);var r=e[ge],i=n||0;try{for(var o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in e&&e[o]===t)return o}catch{}}return-1}function Ed(e,t,n){var r;if(e){if(e[wK])return e[wK](t,n);var i=e[ge],o=n||e;r=new Array(i);try{for(var s=0;s<i;s++)s in e&&(r[s]=t[wn](o,e[s],e))}catch{}}return r}function bd(e,t,n){var r;if(e){if(e[EK])return e[EK](t,n);var i=e[ge],o=0;if(arguments[ge]>=3)r=arguments[2];else{for(;o<i&&!(o in e);)o++;r=e[o++]}for(;o<i;)o in e&&(r=t(r,e[o],o,e)),o++}return r}function Tt(e){return e&&(e=BEe&&e[NO]?e[NO]():e[os]?e[os](/^\s+|(?=\s)\s+$/g,Ce):e),e}function Pr(e){var t=typeof e;if(t!==yo&&(t!==vn||e===null)&&vm("objKeys called on non-object"),!SK&&_K)return _K(e);var n=[];for(var r in e)e&&Li[wn](e,r)&&n[Me](r);if(SK)for(var i=OO[ge],o=0;o<i;o++)e&&Li[wn](e,OO[o])&&n[Me](OO[o]);return n}function qi(e,t,n,r){if(bK)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),bK(e,t,i),!0}catch{}return!1}function DK(e){return e}function qO(e){return LO&&St(e,function(t,n){(Te(n)||zn(n))&&LO(n)}),ai(e)}function Pn(){var e=Date;return e.now?e.now():new e().getTime()}function _d(e){return wd(e)?e[Gn]:Ce}function ci(e,t,n,r,i){var o=n;return e&&(o=e[t],o!==n&&(!i||i(o))&&(!r||r(n))&&(o=n,e[t]=o)),o}function Ou(e,t,n){var r;return e?(r=e[t],!r&&De(r)&&(r=ot(n)?{}:n,e[t]=r)):r=ot(n)?{}:n,r}function bo(e,t){return De(e)?t:e}function jO(e){return!e}function Am(e){return!!e}function Rn(e){throw new Error(e)}function kK(e,t){var n=null,r=null;return Be(e)?n=e:r=e,function(){var i=arguments;if(n&&(r=n()),r)return r[t][bm](r,i)}}function HO(e,t,n){if(e&&t&&zn(e)&&zn(t)){var r=function(o){if(Ht(o)){var s=t[o];Be(s)?(!n||n(o,!0,t,e))&&(e[o]=kK(t,o)):(!n||n(o,!1,t,e))&&(ec(e,o)&&delete e[o],qi(e,o,function(){return t[o]},function(a){t[o]=a})||(e[o]=s))}};for(var i in t)r(i)}return e}function Nu(e,t,n,r,i){e&&t&&n&&(i!==!1||ot(e[t]))&&(e[t]=kK(n,r))}function Cd(e,t,n,r){return e&&t&&zn(e)&&Te(n)&&ae(n,function(i){Ht(i)&&Nu(e,i,t,i,r)}),e}function nc(e){return e&&hm&&(e=Ni(hm({},e))),e}function Dm(e,t,n,r,i,o){var s=arguments,a=s[0]||{},u=s[ge],c=!1,l=1;for(u>0&&tc(a)&&(c=a,a=s[l]||{},l++),zn(a)||(a={});l<u;l++){var d=s[l],p=Te(d),f=zn(d);for(var m in d){var h=p&&m in d||f&&Li[wn](d,m);if(h){var g=d[m],v=void 0;if(c&&g&&((v=Te(g))||CK(g))){var y=a[m];v?Te(y)||(y=[]):CK(y)||(y={}),g=Dm(c,y,g)}g!==void 0&&(a[m]=g)}}}return a}var TK,IK,PK,xK,wK,EK,NO,RK,jEe,qC,bK,LO,HEe,_K,FO,BEe,VEe,WEe,GEe,zEe,YEe,MO,AK,KEe,XEe,QEe,JEe,$C,Te,SK,OO,ai,$O,ln=S(()=>{ni();cn();qn();TK="toISOString",IK="endsWith",PK="startsWith",xK="indexOf",wK="map",EK="reduce",NO="trim",RK="toString",jEe="__proto__",qC="constructor",bK=gm,LO=Ni.freeze,HEe=Ni.seal,_K=Ni.keys,FO=String[xn],BEe=FO[NO],VEe=FO[IK],WEe=FO[PK],GEe=Date[xn],zEe=GEe[TK],YEe=Array.isArray,MO=mm[RK],AK=Li[RK],KEe=AK[wn](Ni),XEe=/-([a-z])/g,QEe=/([^\w\d_$])/g,JEe=/^(\d+[\w\d_$])/,$C=Object.getPrototypeOf;Te=YEe||nbe;SK=!{toString:null}.propertyIsEnumerable("toString"),OO=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];ai=LO||DK,$O=HEe||DK});function Rr(e){var t={};return St(e,function(n,r){t[n]=r,t[r]=n}),qO(t)}var jC=S(()=>{ln()});var as,OK=S(()=>{jC();as=Rr({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})});function obe(){var e;return typeof globalThis!==BC&&(e=globalThis),!e&&typeof self!==BC&&(e=self),!e&&typeof window!==BC&&(e=window),!e&&typeof global!==BC&&(e=global),e||{}}function ic(e,t){return e&&QC[rc].hasOwnProperty.call(e,t)}function $K(e){return e&&(e===QC[rc]||e===Array[rc])}function KO(e){return $K(e)||e===Function[rc]}function Sd(e){var t;if(e){if(Oy)return Oy(e);var n=e[qK]||e[rc]||(e[GC]?e[GC][rc]:null);t=e[VC]||n,ic(e,VC)||(delete e[BO],t=e[VC]=e[BO]||e[VC],e[BO]=n)}return t}function KC(e,t){var n=[];if(FK)n=FK(e);else for(var r in e)typeof r=="string"&&ic(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function XO(e,t,n){return t!==GC&&typeof e[t]===zC&&(n||ic(e,t))}function XC(e){throw new TypeError("DynamicProto: "+e)}function sbe(e){var t={};return KC(e,function(n){!t[n]&&XO(e,n,!1)&&(t[n]=e[n])}),t}function QO(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function abe(e,t,n,r){function i(u,c,l){var d=c[l];if(d[WO]&&r){var p=u[YC]||{};p[ky]!==!1&&(d=(p[c[km]]||{})[l]||d)}return function(){return d.apply(u,arguments)}}var o={};KC(n,function(u){o[u]=i(t,n,u)});for(var s=Sd(e),a=[];s&&!KO(s)&&!QO(a,s);)KC(s,function(u){!o[u]&&XO(s,u,!Oy)&&(o[u]=i(t,s,u))}),a.push(s),s=Sd(s);return o}function cbe(e,t,n,r){var i=null;if(e&&ic(n,km)){var o=e[YC]||{};if(i=(o[n[km]]||{})[t],i||XC("Missing ["+t+"] "+zC),!i[GO]&&o[ky]!==!1){for(var s=!ic(e,t),a=Sd(e),u=[];s&&a&&!KO(a)&&!QO(u,a);){var c=a[t];if(c){s=c===r;break}u.push(a),a=Sd(a)}try{s&&(e[t]=i),i[GO]=1}catch{o[ky]=!1}}}return i}function ube(e,t,n){var r=t[e];return r===n&&(r=Sd(t)[e]),typeof r!==zC&&XC("["+e+"] is not a "+zC),r}function lbe(e,t,n,r,i){function o(u,c){var l=function(){var d=cbe(this,c,u,l)||ube(c,u,l);return d.apply(this,arguments)};return l[WO]=1,l}if(!$K(e)){var s=n[YC]=n[YC]||{},a=s[t]=s[t]||{};s[ky]!==!1&&(s[ky]=!!i),KC(n,function(u){XO(n,u,!1)&&n[u]!==r[u]&&(a[u]=n[u],delete n[u],(!ic(e,u)||e[u]&&!e[u][WO])&&(e[u]=o(e,u)))})}}function dbe(e,t){if(Oy){for(var n=[],r=Sd(t);r&&!KO(r)&&!QO(n,r);){if(r===e)return!0;n.push(r),r=Sd(r)}return!1}return!0}function VO(e,t){return ic(e,rc)?e.name||t||NK:((e||{})[GC]||{}).name||t||NK}function Xe(e,t,n,r){ic(e,rc)||XC("theClass is an invalid class definition.");var i=e[rc];dbe(i,t)||XC("["+VO(e)+"] not in hierarchy of ["+VO(t)+"]");var o=null;ic(i,km)?o=i[km]:(o=ibe+VO(e,"_")+"$"+YO.n,YO.n++,i[km]=o);var s=Xe[UK],a=!!s[WC];a&&r&&r[WC]!==void 0&&(a=!!r[WC]);var u=sbe(t),c=abe(i,t,u,a);n(t,c);var l=!!Oy&&!!s[zO];l&&r&&(l=!!r[zO]),lbe(i,o,t,u,l!==!1)}var HC,BC,GC,rc,zC,YC,WO,km,ibe,GO,ky,UK,NK,qK,VC,LK,BO,WC,zO,QC,Oy,FK,MK,YO,Yn=S(()=>{BC="undefined",GC="constructor",rc="prototype",zC="function",YC="_dynInstFuncs",WO="_isDynProxy",km="_dynClass",ibe="_dynCls$",GO="_dynInstChk",ky=GO,UK="_dfOpts",NK="_unknown_",qK="__proto__",VC="_dyn"+qK,LK="__dynProto$Gbl",BO="_dynInstProto",WC="useBaseInst",zO="setInstFuncs",QC=Object,Oy=QC.getPrototypeOf,FK=QC.getOwnPropertyNames;MK=obe(),YO=MK[LK]||(MK[LK]={o:(HC={},HC[zO]=!0,HC[WC]=!0,HC),n:1e3});Xe[UK]=YO.o});function WK(e,t){var n=!1;if(e){try{if(n=t in e,!n){var r=e[xn];r&&(n=t in r)}}catch{}if(!n)try{var i=new e;n=!ot(i[t])}catch{}}return n}function rN(e){VK=e}function Bt(e){var t=Zo();return t&&t[e]?t[e]:e===jK&&Ny()?window:null}function Ny(){return!!(typeof window===vn&&window)}function Xs(){return Ny()?window:Bt(jK)}function JC(){return!!(typeof document===vn&&document)}function ui(){return JC()?document:Bt(pbe)}function Ly(){return!!(typeof navigator===vn&&navigator)}function $i(){return Ly()?navigator:Bt(mbe)}function ZC(){return!!(typeof history===vn&&history)}function iN(){return ZC()?history:Bt(hbe)}function Td(e){if(e&&VK){var t=Bt("__mockLocation");if(t)return t}return typeof location===vn&&location?location:Bt(gbe)}function Fy(){return typeof console!==yn?console:Bt(vbe)}function Nm(){return Bt(ybe)}function Id(){return!!(typeof JSON===vn&&JSON||Bt(HK)!==null)}function Lm(){return Id()?JSON||Bt(HK):null}function My(){return Bt(xbe)}function Uy(){return Bt(wbe)}function oc(){var e=$i();return e&&e.product?e.product===Ebe:!1}function cs(){var e=$i();if(e&&(e[Em]!==ZO||JO===null)){ZO=e[Em];var t=(ZO||Ce)[FC]();JO=un(t,tN)||un(t,nN)}return JO}function oN(e){if(e===void 0&&(e=null),!e){var t=$i()||{};e=t?(t[Em]||Ce)[FC]():Ce}var n=(e||Ce)[FC]();if(un(n,tN)){var r=ui()||{};return Math.max(parseInt(n[Pu](tN)[1]),r[fbe]||0)}else if(un(n,nN)){var i=parseInt(n[Pu](nN)[1]);if(i)return i+4}return null}function Mt(e){var t=Object[xn].toString[wn](e),n=Ce;return t==="[object Error]"?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e[Gn]+"'":Id()&&(n=Lm().stringify(e)),t+n}function Lu(){return eN===null&&(eN=Ly()&&!!$i().sendBeacon),eN}function Fm(e){var t=!1;try{t=!!Bt("fetch");var n=Bt("Request");t&&e&&n&&(t=WK(n,"keepalive"))}catch{}return t}function Pd(){return Om===null&&(Om=typeof XDomainRequest!==yn,Om&&Mm()&&(Om=Om&&!WK(Bt(BK),"withCredentials"))),Om}function Mm(){var e=!1;try{var t=Bt(BK);e=!!t}catch{}return e}function GK(e,t){if(e)for(var n=0;n<e[ge];n++){var r=e[n];if(r[Gn]&&r[Gn]===t)return r}return{}}function sN(e){var t=ui();return t&&e?GK(t.querySelectorAll("meta"),e).content:null}function aN(e){var t,n=Nm();if(n){var r=n.getEntriesByType("navigation")||[];t=GK((r[ge]>0?r[0]:{}).serverTiming,e).description}return t}var jK,pbe,fbe,mbe,hbe,gbe,vbe,ybe,HK,xbe,wbe,Ebe,tN,nN,BK,JO,ZO,VK,Om,eN,_o=S(()=>{"use strict";ni();cn();ln();qn();jK="window",pbe="document",fbe="documentMode",mbe="navigator",hbe="history",gbe="location",vbe="console",ybe="performance",HK="JSON",xbe="crypto",wbe="msCrypto",Ebe="ReactNative",tN="msie",nN="trident/",BK="XMLHttpRequest",JO=null,ZO=null,VK=!1,Om=null,eN=null});function bbe(e,t){return function(){var n=arguments,r=uN(t);if(r){var i=r.listener;i&&i[e]&&i[e][bm](i,n)}}}function _be(){var e=Bt("Microsoft");return e&&(tS=e.ApplicationInsights),tS}function uN(e){var t=tS;return!t&&e.disableDbgExt!==!0&&(t=tS||_be()),t?t.ChromeDbgExt:null}function zK(e){if(!eS){eS={};for(var t=0;t<cN[ge];t++)eS[cN[t]]=bbe(cN[t],e)}return eS}var cN,tS,eS,lN=S(()=>{cn();_o();cN=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],tS=null});function YK(e){return e?'"'+e[os](/\"/g,Ce)+'"':Ce}function KK(e,t){var n=Fy();if(n){var r="log";n[e]&&(r=e),Be(n[r])&&n[r](t)}}function qy(e,t){return(e||{})[ri]||new us(t)}function dN(e){return e||new us}function Dt(e,t,n,r,i,o){o===void 0&&(o=!1),dN(e).throwInternal(t,n,r,i,o)}function ls(e,t){dN(e)[Dy](t)}function pN(e,t,n){dN(e)[AO](t,n)}var Cbe,Sbe,Tbe,Rd,us,Fu=S(()=>{"use strict";Yn();cn();lN();_o();ln();qn();Cbe="AI (Internal): ",Sbe="AI: ",Tbe="AITR_";Rd=function(){function e(t,n,r,i){r===void 0&&(r=!1);var o=this;o[xm]=t,o[Su]=(r?Sbe:Cbe)+t;var s=Ce;Id()&&(s=Lm().stringify(i));var a=(n?" message:"+YK(n):Ce)+(i?" props:"+YK(s):Ce);o[Su]+=a}return e.dataType="MessageData",e}();us=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={},i,o,s,a;Xe(e,this,function(u){l(t||{}),u.consoleLoggingLevel=function(){return i},u.telemetryLoggingLevel=function(){return o},u.maxInternalMessageLimit=function(){return s},u[RO]=function(){return a},u.throwInternal=function(f,m,h,g,v){v===void 0&&(v=!1);var y=new Rd(m,h,v,g);if(a)throw Mt(y);var x=f===1?UC:Dy;if(ot(y[Su]))p("throw"+(f===1?"Critical":"Warning"),y);else{if(v){var E=+y[xm];!r[E]&&i>=f&&(u[x](y[Su]),r[E]=!0)}else i>=f&&u[x](y[Su]);c(f,y)}},u[Dy]=function(f){KK("warn",f),p("warning",f)},u[UC]=function(f){KK("error",f),p("error",f)},u.resetInternalMessageCount=function(){n=0,r={}},u[AO]=c;function c(f,m){if(!d()){var h=!0,g=Tbe+m[xm];if(r[g]?h=!1:r[g]=!0,h&&(f<=o&&(u.queue[Me](m),n++,p(f===1?"error":"warn",m)),n===s)){var v="Internal events throttle limit per PageView reached for this app.",y=new Rd(23,v,!1);u.queue[Me](y),f===1?u[UC](v):u[Dy](v)}}}function l(f){i=bo(f.loggingLevelConsole,0),o=bo(f.loggingLevelTelemetry,1),s=bo(f.maxMessageLimit,25),a=bo(f[RO],!1)}function d(){return n>=s}function p(f,m){var h=uN(t||{});h&&h[xo]&&h[xo](f,m)}})}return e.__ieDyn=1,e}()});function Qt(e,t,n,r,i){if(e){var o=e;if(o[vd]&&(o=o[vd]()),o){var s=void 0,a=o[hd](fN);try{if(s=o.create(t(),r,i),s){if(a&&s[ss]&&(s[ss](Ad[mN],a),a[hd]&&a[ss])){var u=a[hd](Ad[$y]);u||(u=[],a[ss](Ad[$y],u)),u[Me](s)}return o[ss](fN,s),n(s)}}catch(c){s&&s[ss]&&s[ss]("exception",c)}finally{s&&o.fire(s),o[ss](fN,a)}}}return n()}function hN(){return Ibe}var Um,mN,$y,Ibe,Ad,jy,fN,Hy=S(()=>{Yn();cn();ln();qn();Um="ctx",mN="ParentContextKey",$y="ChildrenContextKey",Ibe=null,Ad=function(){function e(t,n,r){var i=this,o=!1;if(i.start=Pn(),i[Gn]=t,i[rs]=r,i[Py]=function(){return!1},Be(n)){var s;o=qi(i,"payload",function(){return!s&&Be(n)&&(s=n(),n=null),s})}i[hd]=function(a){return a?a===e[mN]||a===e[$y]?i[a]:(i[Um]||{})[a]:null},i[ss]=function(a,u){if(a)if(a===e[mN])i[a]||(i[Py]=function(){return!0}),i[a]=u;else if(a===e[$y])i[a]=u;else{var c=i[Um]=i[Um]||{};c[a]=u}},i[MC]=function(){var a=0,u=i[hd](e[$y]);if(Te(u))for(var c=0;c<u[ge];c++){var l=u[c];l&&(a+=l[ud])}i[ud]=Pn()-i.start,i.exTime=i[ud]-a,i[MC]=function(){},!o&&Be(n)&&(i.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),jy=function(){function e(t){this.ctx={},Xe(e,this,function(n){n.create=function(r,i,o){return new Ad(r,i,o)},n.fire=function(r){r&&(r[MC](),t&&Be(t[ku])&&t[ku](r))},n[ss]=function(r,i){if(r){var o=n[Um]=n[Um]||{};o[r]=i}},n[hd]=function(r){return(n[Um]||{})[r]}})}return e.__ieDyn=1,e}(),fN="CoreUtils.doPerf"});function JK(e){e<0&&(e>>>=0),By=123456789+e&Mu,Vy=987654321-e&Mu,QK=!0}function ZK(){try{var e=Pn()&2147483647;JK((Math.random()*XK^e)+e)}catch{}}function qm(e){return e>0?Math.floor(ds()/Mu*(e+1))>>>0:0}function ds(e){var t=0,n=My()||Uy();return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&Mu),t===0&&cs()&&(QK||ZK(),t=Wy()&Mu),t===0&&(t=Math.floor(XK*Math.random()|0)),e||(t>>>=0),t}function nS(e){e?JK(e):ZK()}function Wy(e){Vy=36969*(Vy&65535)+(Vy>>16)&Mu,By=18e3*(By&65535)+(By>>16)&Mu;var t=(Vy<<16)+(By&65535)>>>0&Mu|0;return e||(t>>>=0),t}function Uu(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=ds()>>>0,r=0,i=Ce;i[ge]<e;)r++,i+=t.charAt(n&63),n>>>=6,r===5&&(n=(ds()<<2&4294967295|n&3)>>>0,r=0);return i}var XK,Mu,QK,By,Vy,rS=S(()=>{cn();_o();ln();qn();XK=4294967296,Mu=4294967295,QK=!1,By=123456789,Vy=987654321});function Abe(e,t,n){if(e5)try{return e5(e,t,{value:n,enumerable:!1,configurable:!0}),!0}catch{}return!1}function n5(e){return e[LC]===1||e[LC]===9||!+e[LC]}function Dbe(e,t){var n=t[e.id];if(!n){n={};try{n5(t)&&(Abe(t,e.id,n)||(t[e.id]=n))}catch{}}return n}function ps(e,t){return t===void 0&&(t=!1),yd(e+Rbe+++(t?"."+t5:Ce)+Pbe)}function iS(e){var t={id:ps("_aiData-"+(e||Ce)+"."+t5),accept:function(n){return n5(n)},get:function(n,r,i,o){var s=n[t.id];return s?s[yd(r)]:(o&&(s=Dbe(t,n),s[yd(r)]=i),i)},kill:function(n,r){if(n&&n[r])try{delete n[r]}catch{}}};return t}var e5,t5,Pbe,Rbe,Gy=S(()=>{ni();cn();ln();qn();rS();e5=gm,t5="2.8.10",Pbe="."+Uu(6),Rbe=0});function kbe(e,t){var n=sc[qu]||aS[qu];return n||(n=sc[qu]=sc(e,t),aS[qu]=n),n}function sS(e){return e?e.isEnabled():!0}function Obe(e){var t=e[NC]=e[NC]||{};if(ci(t,"domain",e.cookieDomain,UO,De),ci(t,"path",e.cookiePath||"/",null,De),De(t[yN])){var n=void 0;ot(e[o5])||(n=!e[o5]),ot(e[s5])||(n=!e[s5]),t[yN]=n}return t}function p5(e,t){return t&&e&&Te(e.ignoreCookies)?e.ignoreCookies[Iu](t)!==-1:!1}function Nbe(e,t){return t&&e&&Te(e.blockedCookies)&&e.blockedCookies[Iu](t)!==-1?!0:p5(e,t)}function $u(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t[NC];r[qu]?n=r[qu]:n=sc(t)}return n||(n=kbe(t,(e||{})[ri])),n}function sc(e,t){var n,r=Obe(e||aS),i=r.path||"/",o=r.domain,s=r[yN]!==!1,a=(n={isEnabled:function(){var u=s&&fs(t),c=aS[qu];return u&&c&&a!==c&&(u=sS(c)),u}},n[Ty]=function(u){s=u!==!1},n.set=function(u,c,l,d,p){var f=!1;if(sS(a)&&!Nbe(r,u)){var m={},h=Tt(c||Ce),g=h[Iu](";");if(g!==-1&&(h=Tt(c[is](0,g)),m=f5(c[is](g+1))),ci(m,"domain",d||o,Am,ot),!De(l)){var v=cs();if(ot(m[gN])){var y=Pn(),x=y+l*1e3;if(x>0){var E=new Date;E.setTime(x),ci(m,gN,u5(E,v?r5:i5)||u5(E,v?r5:i5)||Ce,Am)}}v||ci(m,"max-age",Ce+l,null,ot)}var b=Td();b&&b.protocol==="https:"&&(ci(m,"secure",null,null,ot),vN===null&&(vN=!$m(($i()||{})[Em])),vN&&ci(m,"SameSite","None",null,ot)),ci(m,"path",p||i,null,ot);var C=r.setCookie||d5;C(u,l5(h,m)),f=!0}return f},n.get=function(u){var c=Ce;return sS(a)&&!p5(r,u)&&(c=(r.getCookie||Lbe)(u)),c},n.del=function(u,c){var l=!1;return sS(a)&&(l=a.purge(u,c)),l},n.purge=function(u,c){var l,d=!1;if(fs(t)){var p=(l={},l.path=c||"/",l[gN]="Thu, 01 Jan 1970 00:00:01 GMT",l);cs()||(p["max-age"]="0");var f=r.delCookie||d5;f(u,l5(Ce,p)),d=!0}return d},n);return a[qu]=a,a}function fs(e){if(oS===null){oS=!1;try{var t=zy||{};oS=t[xN]!==void 0}catch(n){Dt(e,2,68,"Cannot access document.cookie - "+_d(n),{exception:Mt(n)})}}return oS}function f5(e){var t={};if(e&&e[ge]){var n=Tt(e)[Pu](";");ae(n,function(r){if(r=Tt(r||Ce),r){var i=r[Iu]("=");i===-1?t[r]=null:t[Tt(r[is](0,i))]=Tt(r[is](i+1))}})}return t}function u5(e,t){return Be(e[t])?e[t]():null}function l5(e,t){var n=e||Ce;return St(t,function(r,i){n+="; "+r+(De(i)?Ce:"="+i)}),n}function Lbe(e){var t=Ce;if(zy){var n=zy[xN]||Ce;a5!==n&&(c5=f5(n),a5=n),t=Tt(c5[e]||Ce)}return t}function d5(e,t){zy&&(zy[xN]=e+"="+t)}function $m(e){return Ht(e)?!!(un(e,"CPU iPhone OS 12")||un(e,"iPad; CPU OS 12")||un(e,"Macintosh; Intel Mac OS X 10_14")&&un(e,"Version/")&&un(e,"Safari")||un(e,"Macintosh; Intel Mac OS X 10_14")&&xd(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||un(e,"Chrome/5")||un(e,"Chrome/6")||un(e,"UnrealEngine")&&!un(e,"Chrome")||un(e,"UCBrowser/12")||un(e,"UCBrowser/11")):!1}var r5,i5,xN,gN,yN,o5,s5,qu,oS,vN,a5,zy,c5,aS,wN=S(()=>{cn();Fu();_o();ln();qn();r5="toGMTString",i5="toUTCString",xN="cookie",gN="expires",yN="enabled",o5="isCookieUseDisabled",s5="disableCookiesUsage",qu="_ckMgr",oS=null,vN=null,a5=null,zy=ui(),c5={},aS={}});function y5(e){return e&&e[os]?e[os](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Ce):e}function lS(e,t){var n;if(t){var r=Ce;Te(t)?(r=Ce,ae(t,function(o){o=y5(o),o&&(o[0]!=="."&&(o="."+o),r+=o)})):r=y5(t),r&&(r[0]!=="."&&(r="."+r),e=(e||Ce)+r)}var i=qbe.exec(e||Ce)||[];return n={},n[ii]=i[1],n.ns=(i[2]||Ce).replace(Fbe,".").replace(Mbe,Ce)[Pu](".").sort().join("."),n}function EN(e,t,n){var r=[],i=Ky.get(e,cS,{},!1),o=lS(t,n);return St(i,function(s,a){ae(a,function(u){var c;(!o[ii]||o[ii]===u.evtName[ii])&&(!o.ns||o.ns===o.ns)&&r[Me]((c={},c[Gn]=u.evtName[ii]+(u.evtName.ns?"."+u.evtName.ns:Ce),c.handler=u[Iy],c))})}),r}function T5(e,t,n){n===void 0&&(n=!0);var r=Ky.get(e,cS,{},n),i=r[t];return i||(i=r[t]=[]),i}function I5(e,t,n,r){e&&t&&t[ii]&&(e[v5]?e[v5](t[ii],n,r):e[g5]&&e[g5](w5+t[ii],n))}function $be(e,t,n,r){var i=!1;return e&&t&&t[ii]&&n&&(e[h5]?(e[h5](t[ii],n,r),i=!0):e[m5]&&(e[m5](w5+t[ii],n),i=!0)),i}function x5(e,t,n,r){for(var i=t[ge];i--;){var o=t[i];o&&(!n.ns||n.ns===o.evtName.ns)&&(!r||r(o))&&(I5(e,o.evtName,o[Iy],o.capture),t[Ja](i,1))}}function jbe(e,t,n){if(t[ii])x5(e,T5(e,t[ii]),t,n);else{var r=Ky.get(e,cS,{});St(r,function(i,o){x5(e,o,t,n)}),Pr(r)[ge]===0&&Ky.kill(e,cS)}}function ac(e,t){var n;return t?(Te(t)?n=[e].concat(t):n=[e,t],n=lS("xx",n).ns[Pu](".")):n=e,n}function Dd(e,t,n,r,i){var o;i===void 0&&(i=!1);var s=!1;if(e)try{var a=lS(t,r);if(s=$be(e,a,n,i),s&&Ky.accept(e)){var u=(o={guid:Ube++,evtName:a},o[Iy]=n,o.capture=i,o);T5(e,a.type)[Me](u)}}catch{}return s}function kd(e,t,n,r,i){if(i===void 0&&(i=!1),e)try{var o=lS(t,r),s=!1;jbe(e,o,function(a){return o.ns&&!n||a[Iy]===n?(s=!0,!0):!1}),s||I5(e,o,n,i)}catch{}}function Hm(e,t,n,r){return r===void 0&&(r=!1),Dd(e,t,n,null,r)}function Bm(e,t,n,r){r===void 0&&(r=!1),kd(e,t,n,null,r)}function Hu(e,t,n){var r=!1,i=Xs();i&&(r=Dd(i,e,t,n),r=Dd(i.body,e,t,n)||r);var o=ui();return o&&(r=Dd(o,e,t,n)||r),r}function dS(e,t,n){var r=Xs();r&&(kd(r,e,t,n),kd(r.body,e,t,n));var i=ui();i&&kd(i,e,t,n)}function jm(e,t,n,r){var i=!1;return t&&e&&e[ge]>0&&ae(e,function(o){o&&(!n||In(n,o)===-1)&&(i=Hu(o,t,r)||i)}),i}function pS(e,t,n,r){var i=!1;return t&&e&&Te(e)&&(i=jm(e,t,n,r),!i&&n&&n[ge]>0&&(i=jm(e,t,null,r))),i}function ju(e,t,n){e&&Te(e)&&ae(e,function(r){r&&dS(r,t,n)})}function Od(e,t,n){return pS([_5,b5,uS],e,t,n)}function Xy(e,t){ju([_5,b5,uS],e,t)}function Vm(e,t,n){function r(s){var a=ui();e&&a&&a.visibilityState==="hidden"&&e(s)}var i=ac(C5,n),o=jm([uS],e,t,i);return(!t||In(t,Yy)===-1)&&(o=jm([Yy],r,t,i)||o),!o&&t&&(o=Vm(e,null,n)),o}function Qy(e,t){var n=ac(C5,t);ju([uS],e,n),ju([Yy],null,n)}function Wm(e,t,n){function r(s){var a=ui();e&&a&&a.visibilityState==="visible"&&e(s)}var i=ac(S5,n),o=jm([E5],e,t,i);return o=jm([Yy],r,t,i)||o,!o&&t&&(o=Wm(e,null,n)),o}function Jy(e,t){var n=ac(S5,t);ju([E5],e,n),ju([Yy],null,n)}var w5,m5,h5,g5,v5,cS,Yy,uS,E5,b5,_5,C5,S5,Fbe,Mbe,Ube,Ky,qbe,bN=S(()=>{cn();Gy();_o();ln();qn();w5="on",m5="attachEvent",h5="addEventListener",g5="detachEvent",v5="removeEventListener",cS="events",Yy="visibilitychange",uS="pagehide",E5="pageshow",b5="unload",_5="beforeunload",C5=ps("aiEvtPageHide"),S5=ps("aiEvtPageShow"),Fbe=/\.[\.]+/g,Mbe=/[\.]+$/,Ube=1,Ky=iS("events"),qbe=/^([^.]*)(?:\.(.+)|)/});function Gm(){var e=cc();return e[is](0,8)+"-"+e[is](8,12)+"-"+e[is](12,16)+"-"+e[is](16,20)+"-"+e[is](20)}function zm(){var e=Nm();return e&&e.now?e.now():Pn()}function cc(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t=Ce,n,r=0;r<4;r++)n=ds(),t+=e[n&15]+e[n>>4&15]+e[n>>8&15]+e[n>>12&15]+e[n>>16&15]+e[n>>20&15]+e[n>>24&15]+e[n>>28&15];var i=e[8+(ds()&3)|0];return t[Ru](0,8)+t[Ru](9,4)+"4"+t[Ru](13,3)+i+t[Ru](16,3)+t[Ru](19,12)}var _N,CN=S(()=>{"use strict";cn();_o();bN();ln();qn();rS();_N={Attach:Hm,AttachEvent:Hm,Detach:Bm,DetachEvent:Bm}});function uc(e,t,n){return e&&e[ge]===t&&e!==n?!!e.match(/^[\da-f]*$/):!1}function R5(e,t,n){return uc(e,t)?e:n}function A5(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t[ge]<2;)t="0"+t;return t}function IN(e,t,n,r){var i;return i={},i[Ry]=uc(r,2,TN)?r:SN,i[gd]=Ym(e)?e:cc(),i.spanId=Km(t)?t:cc()[Ru](0,16),i.traceFlags=n>=0&&n<=255?n:1,i}function Zy(e){var t;if(!e||(Te(e)&&(e=e[0]||""),!e||!Ht(e)||e[ge]>8192))return null;var n=Hbe.exec(Tt(e));return!n||n[1]===TN||n[2]===fS||n[3]===mS?null:(t={},t[Ry]=n[1],t[gd]=n[2],t[_m]=n[3],t[Au]=parseInt(n[4],16),t)}function Ym(e){return uc(e,32,fS)}function Km(e){return uc(e,16,mS)}function hS(e){return!(!e||!uc(e[Ry],2,TN)||!uc(e[gd],32,fS)||!uc(e[_m],16,mS)||!uc(A5(e[Au]),2))}function PN(e){return hS(e)?(e[Au]&P5)===P5:!1}function RN(e){if(e){var t=A5(e[Au]);uc(t,2)||(t="01");var n=e[Ry]||SN;return n!=="00"&&n!=="ff"&&(n=SN),"".concat(n,"-").concat(R5(e.traceId,32,fS),"-").concat(R5(e.spanId,16,mS),"-").concat(t)}return""}function AN(){var e="traceparent",t=Zy(sN(e));return t||(t=Zy(aN(e))),t}var Hbe,SN,TN,fS,mS,P5,DN=S(()=>{cn();CN();_o();ln();Hbe=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,SN="00",TN="ff",fS="00000000000000000000000000000000",mS="0000000000000000",P5=1});function lc(e){return Bbe.get(e,"state",{},!0)}function gS(e,t){for(var n=[],r=null,i=e[Ui](),o;i;){var s=i[pd]();if(s){r&&Be(r[Tu])&&Be(s[oi])&&r[Tu](s);var a=!1;Be(s[Fi])?a=s[Fi]():(o=lc(s),a=o[Fi]),a||n[Me](s),r=s,i=i[Ui]()}}ae(n,function(u){var c=e[jt]();u[ts](e.getCfg(),c,t,e[Ui]()),o=lc(u),!u[jt]&&!o[jt]&&(o[jt]=c),o[Fi]=!0,delete o[Mi]})}function vS(e){return e.sort(function(t,n){var r=0;if(n){var i=Be(n[oi]);Be(t[oi])?r=i?t[wo]-n[wo]:1:i&&(r=-1)}else r=t?1:-1;return r})}function D5(e){var t={};return{getName:function(){return t[Gn]},setName:function(n){e&&e.setName(n),t[Gn]=n},getTraceId:function(){return t[gd]},setTraceId:function(n){e&&e.setTraceId(n),Ym(n)&&(t[gd]=n)},getSpanId:function(){return t[_m]},setSpanId:function(n){e&&e.setSpanId(n),Km(n)&&(t[_m]=n)},getTraceFlags:function(){return t[Au]},setTraceFlags:function(n){e&&e.setTraceFlags(n),t[Au]=n}}}var Bbe,yS=S(()=>{"use strict";cn();Gy();ln();qn();DN();Bbe=iS("plugin")});function Wbe(e,t,n){for(;e;){if(e[pd]()===n)return e;e=e[Ui]()}return Qs([n],t[Ks]||{},t)}function kN(e,t,n,r){var i=null,o=[];r!==null&&(i=r?Wbe(e,n,r):e);var s={_next:u,ctx:{core:function(){return n},diagLog:function(){return qy(n,t)},getCfg:function(){return t},getExtCfg:c,getConfig:l,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(p){i=p},iterate:d,onComplete:a}};function a(p,f){for(var m=[],h=2;h<arguments.length;h++)m[h-2]=arguments[h];p&&o[Me]({func:p,self:ot(f)?s.ctx:f,args:m})}function u(){var p=i;if(i=p?p[Ui]():null,!p){var f=o;f&&f[ge]>0&&(ae(f,function(m){try{m.func[wn](m.self,m.args)}catch(h){Dt(n[ri],2,73,"Unexpected Exception during onComplete - "+Mt(h))}}),o=[])}return p}function c(p,f,m){f===void 0&&(f={}),m===void 0&&(m=0);var h;if(t){var g=t[Cm];g&&p&&(h=g[p])}if(!h)h=f;else if(zn(f)&&m!==0){var v=Dm(!0,f,h);t&&m===2&&St(f,function(y){if(De(v[y])){var x=t[y];De(x)||(v[y]=x)}}),h=v}return h}function l(p,f,m){m===void 0&&(m=!1);var h,g=c(p,null);return g&&!De(g[f])?h=g[f]:t&&!De(t[f])&&(h=t[f]),De(h)?m:h}function d(p){for(var f;f=s._next();){var m=f[pd]();m&&p(m)}}return s}function li(e,t,n,r){var i=kN(e,t,n,r),o=i.ctx;function s(u){var c=i._next();return c&&c[oi](u,o),!c}function a(u,c){return u===void 0&&(u=null),Te(u)&&(u=Qs(u,t,n,c)),li(u||o[Ui](),t,n,c)}return o[Ct]=s,o[Za]=a,o}function Xm(e,t,n){var r=t[Ks]||{},i=kN(e,r,t,n),o=i.ctx;function s(u){var c=i._next();return c&&c.unload(o,u),!c}function a(u,c){return u===void 0&&(u=null),Te(u)&&(u=Qs(u,r,t,c)),Xm(u||o[Ui](),t,c)}return o[Ct]=s,o[Za]=a,o}function ex(e,t,n){var r=t[Ks]||{},i=kN(e,r,t,n),o=i.ctx;function s(u){return o.iterate(function(c){Be(c[fd])&&c[fd](o,u)})}function a(u,c){return u===void 0&&(u=null),Te(u)&&(u=Qs(u,r,t,c)),ex(u||o[Ui](),t,c)}return o[Ct]=s,o[Za]=a,o}function Qs(e,t,n,r){var i=null,o=!r;if(Te(e)&&e[ge]>0){var s=null;ae(e,function(a){if(!o&&r===a&&(o=!0),o&&a&&Be(a[oi])){var u=Gbe(a,t,n);i||(i=u),s&&s._setNext(u),s=u}})}return r&&!i?Qs([r],t,n):i}function Gbe(e,t,n){var r=null,i=Be(e[oi]),o=Be(e[Tu]),s;e?s=e[ns]+"-"+e[wo]+"-"+N5++:s="Unknown-0-"+N5++;var a={getPlugin:function(){return e},getNext:function(){return r},processTelemetry:l,unload:d,update:p,_id:s,_setNext:function(f){r=f}};function u(){var f;return e&&Be(e[O5])&&(f=e[O5]()),f||(f=li(a,t,n)),f}function c(f,m,h,g,v){var y=!1,x=e?e[ns]:Vbe,E=f[k5];return E||(E=f[k5]={}),f.setNext(r),e&&Qt(f[jt](),function(){return x+":"+h},function(){E[s]=!0;try{var b=r?r._id:Ce;b&&(E[b]=!1),y=m(f)}catch(R){var C=r?E[r._id]:!0;C&&(y=!0),(!r||!C)&&Dt(f[xo](),1,73,"Plugin ["+x+"] failed during "+h+" - "+Mt(R)+", run flags: "+Mt(E))}},g,v),y}function l(f,m){m=m||u();function h(g){if(!e||!i)return!1;var v=lc(e);return v[Mi]||v[Ay]?!1:(o&&e[Tu](r),e[oi](f,g),!0)}c(m,h,"processTelemetry",function(){return{item:f}},!f.sync)||m[Ct](f)}function d(f,m){function h(){var g=!1;if(e){var v=lc(e),y=e[jt]||v[jt];e&&(!y||y===f.core())&&!v[Mi]&&(v[jt]=null,v[Mi]=!0,v[Fi]=!1,e[Mi]&&e[Mi](f,m)===!0&&(g=!0))}return g}c(f,h,"unload",function(){},m[rs])||f[Ct](m)}function p(f,m){function h(){var g=!1;if(e){var v=lc(e),y=e[jt]||v[jt];e&&(!y||y===f.core())&&!v[Mi]&&e[fd]&&e[fd](f,m)===!0&&(g=!0)}return g}c(f,h,"update",function(){},!1)||f[Ct](m)}return ai(a)}var Vbe,k5,O5,N5,ON,tx=S(()=>{"use strict";cn();Fu();_o();ln();qn();Hy();yS();Vbe="TelemetryPluginChain",k5="_hasRun",O5="_getTelCtx",N5=0;ON=function(){function e(t,n,r,i){var o=this,s=li(t,n,r,i);Cd(o,s,Pr(s))}return e}()});function L5(e,t,n){t&&Te(t)&&t[ge]>0&&(t=t.sort(function(r,i){return r[wo]-i[wo]}),ae(t,function(r){r[wo]<nx&&Rn(zbe+r[ns])}),e[Me]({queue:ai(t),chain:Qs(t,n[Ks],n)}))}function F5(e,t){function n(){return li(null,t[Ks],t,null)}function r(c,l,d,p){var f=c?c[ge]+1:1;function m(){f--,f===0&&(p&&p(),p=null)}f>0&&ae(c,function(h){if(h&&h.queue[ge]>0){var g=h.chain,v=l[Za](g);v[Cy](m),d(v)}else f--}),m()}function i(c,l){var d=l||{reason:0};return r(e,c,function(p){p[Ct](d)},function(){c[Ct](d)}),!0}function o(c,l){var d=l||{reason:0,isAsync:!1};return r(e,c,function(p){p[Ct](d)},function(){c[Ct](d),a=!1}),!0}function s(c){var l=null;return e&&e[ge]>0&&ae(e,function(d){if(d&&d.queue[ge]>0&&(ae(d.queue,function(p){if(p[ns]===c)return l=p,-1}),l))return-1}),l}var a=!1,u={identifier:"ChannelControllerPlugin",priority:nx,initialize:function(c,l,d,p){a=!0,ae(e,function(f){f&&f.queue[ge]>0&&gS(li(f.chain,c,l),d)})},isInitialized:function(){return a},processTelemetry:function(c,l){r(e,l||n(),function(d){d[Ct](c)},function(){l[Ct](c)})},update:i,pause:function(){r(e,n(),function(c){c.iterate(function(l){l.pause&&l.pause()})},null)},resume:function(){r(e,n(),function(c){c.iterate(function(l){l.resume&&l.resume()})},null)},teardown:o,getChannel:s,flush:function(c,l,d,p){var f=1,m=!1,h=null;p=p||5e3;function g(){f--,m&&f===0&&(h&&(clearTimeout(h),h=null),l&&l(m),l=null)}return r(e,n(),function(v){v.iterate(function(y){if(y[ym]){f++;var x=!1;y[ym](c,function(){x=!0,g()},d)||x||(c&&h==null?h=setTimeout(function(){h=null,g()},p):g())}})},function(){m=!0,g()}),!0},_setQueue:function(c){e=c}};return u}function M5(e,t,n){var r=[];if(e&&ae(e,function(o){return L5(r,o,n)}),t){var i=[];ae(t,function(o){o[wo]>nx&&i[Me](o)}),L5(r,i,n)}return r}var nx,zbe,U5=S(()=>{cn();ln();qn();tx();yS();nx=500,zbe="Channel has invalid priority - "});function Nd(){var e=[];function t(r){r&&e[Me](r)}function n(r,i){ae(e,function(o){try{o(r,i)}catch(s){Dt(r[xo](),2,73,"Unexpected error calling unload handler - "+Mt(s))}}),e=[]}return{add:t,run:n}}var xS=S(()=>{cn();Fu();_o();ln()});var Bu,Ld,NN=S(()=>{"use strict";Yn();cn();ln();qn();tx();xS();Bu="getPlugin",Ld=function(){function e(){var t=this,n,r,i,o,s;c(),Xe(e,t,function(l){l[ts]=function(d,p,f,m){u(d,p,m),n=!0},l[Mi]=function(d,p){var f,m=l[jt];if(!m||d&&m!==d[jt]())return;var h,g=!1,v=d||Xm(null,m,i&&i[Bu]?i[Bu]():i),y=p||(f={reason:0},f[rs]=!1,f);function x(){if(!g){g=!0,o.run(v,p);var E=s;s=[],ae(E,function(b){b.rm()}),h===!0&&v[Ct](y),c()}}return!l[wm]||l[wm](v,y,x)!==!0?x():h=!0,h},l[fd]=function(d,p){var f=l[jt];if(!f||d&&f!==d[jt]())return;var m,h=!1,g=d||ex(null,f,i&&i[Bu]?i[Bu]():i),v=p||{reason:0};function y(){h||(h=!0,u(g.getCfg(),g.core(),g[Ui]()))}return!l._doUpdate||l._doUpdate(g,v,y)!==!0?y():m=!0,m},l._addHook=function(d){d&&(Te(d)?s=s.concat(d):s[Me](d))},Nu(l,"_addUnloadCb",function(){return o},"add")}),t[xo]=function(l){return a(l)[xo]()},t[Fi]=function(){return n},t.setInitialized=function(l){n=l},t[Tu]=function(l){i=l},t[Ct]=function(l,d){d?d[Ct](l):i&&Be(i[oi])&&i[oi](l,null)},t._getTelCtx=a;function a(l){l===void 0&&(l=null);var d=l;if(!d){var p=r||li(null,{},t[jt]);i&&i[Bu]?d=p[Za](null,i[Bu]):d=p[Za](null,i)}return d}function u(l,d,p){l&&ci(l,Cm,[],null,De),!p&&d&&(p=d[OC]()[Ui]());var f=i;i&&i[Bu]&&(f=i[Bu]()),t[jt]=d,r=li(p,l,d,f)}function c(){n=!1,t[jt]=null,r=null,i=null,s=[],o=Nd()}}return e.__ieDyn=1,e}()});var q5,$5=S(()=>{ni();Yn();cn();NN();Fu();_o();ln();qn();q5=function(e){es(t,e);function t(){var n=e.call(this)||this;n.identifier="TelemetryInitializerPlugin",n.priority=199;var r,i;o(),Xe(t,n,function(s,a){s.addTelemetryInitializer=function(u){var c={id:r++,fn:u};i[Me](c);var l={remove:function(){ae(i,function(d,p){if(d.id===c.id)return i[Ja](p,1),-1})}};return l},s[oi]=function(u,c){for(var l=!1,d=i[ge],p=0;p<d;++p){var f=i[p];if(f)try{if(f.fn[bm](null,[u])===!1){l=!0;break}}catch(m){Dt(c[xo](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+_d(m),{exception:Mt(m)},!0)}}l||s[Ct](u,c)},s[wm]=function(){o()}});function o(){r=0,i=[]}return n}return t.__ieDyn=1,t}(Ld)});function Xbe(e,t){return new jy(t)}function Qbe(e,t,n){var r,i=[],o={};return ae(n,function(s){(De(s)||De(s[ts]))&&Rn(V5);var a=s[wo],u=s[ns];s&&a&&(De(o[a])?o[a]=u:ls(e,"Two extensions have same priority #"+a+" - "+o[a]+", "+u)),(!a||a<t)&&i[Me](s)}),r={all:n},r[jt]=i,r}function B5(e,t){var n=!1;return ae(t,function(r){if(r===e)return n=!0,-1}),n}function Jbe(){var e;return Ys((e={},e[ld]=function(t){},e[dd]=function(t){},e[Sm]=function(t){},e[Du]=function(t,n){},e[Tm]=function(t,n){},e))}var V5,j5,H5,Ybe,Kbe,Fd,LN=S(()=>{"use strict";ni();Yn();ni();cn();U5();wN();Gy();lN();Fu();ln();qn();Hy();tx();yS();$5();xS();V5="Plugins must provide initialize method",j5="_notificationManager",H5="SDK is still unloading...",Ybe="SDK is not initialized",Kbe={loggingLevelConsole:1};Fd=function(){function e(){var t,n,r,i,o,s,a,u,c,l,d,p,f,m,h,g,v,y,x,E,b=0;Xe(e,this,function(C){R(),C[Fi]=function(){return n},C[ts]=function(L,G,W,z){m&&Rn(H5),C[Fi]()&&Rn("Core should not be initialized more than once"),t=L||{},C[Ks]=t,De(L[kC])&&Rn("Please provide instrumentation key"),i=z,C[j5]=z,$(),M(),k(),W&&(C[ri]=W);var se=Ou(t,yK,[]);c=[],c[Me].apply(c,DC(DC([],G,!1),se,!1)),p=Ou(t,DO,[]),_(null),(!f||f[ge]===0)&&Rn("No "+DO+" available"),n=!0,C.releaseQueue()},C.getTransmissionControls=function(){var L=[];return f&&ae(f,function(G){L[Me](G.queue)}),ai(L)},C.track=function(L){L.iKey=L.iKey||t[kC],L[ud]=L[ud]||Eo(new Date),L.ver=L.ver||"4.0",!m&&C[Fi]()?T()[Ct](L):r[Me](L)},C[OC]=T,C[_y]=function(){return i||(i=Jbe(),C[j5]=i),i},C[ld]=function(L){i&&i[ld](L)},C[dd]=function(L){i&&i[dd](L)},C.getCookieMgr=function(){return a||(a=sc(t,C[ri])),a},C.setCookieMgr=function(L){a=L},C[vd]=function(){if(!o&&!s&&bo(t.enablePerfMgr)){var L=bo(t[kO]);Be(L)&&(s=L(C,C[_y]()))}return o||s||hN()},C.setPerfMgr=function(L){o=L},C.eventCnt=function(){return r[ge]},C.releaseQueue=function(){if(n&&r[ge]>0){var L=r;r=[],ae(L,function(G){T()[Ct](G)})}},C.pollInternalLogs=function(L){g=L||null;var G=bo(t.diagnosticLogInterval);return(!G||!(G>0))&&(G=1e4),b&&clearInterval(b),b=setInterval(function(){F()},G),b},C[PO]=function(){b&&(clearInterval(b),b=0,F())},Cd(C,function(){return h},["addTelemetryInitializer"]),C.unload=function(L,G,W){var z;L===void 0&&(L=!0),n||Rn(Ybe),m&&Rn(H5);var se=(z={reason:50},z[rs]=L,z.flushComplete=!1,z),_e=Xm(P(),C);_e[Cy](function(){R(),G&&G(se)},C);function Ue(je){se.flushComplete=je,m=!0,y.run(_e,se),C[PO](),_e[Ct](se)}q(L,Ue,6,W)||Ue(!1)},C[pd]=A,C.addPlugin=function(L,G,W,z){if(!L){z&&z(!1),V(V5);return}var se=A(L[ns]);if(se&&!G){z&&z(!1),V("Plugin ["+L[ns]+"] is already loaded!");return}var _e={reason:16};function Ue(dt){c[Me](L),_e.added=[L],_(_e),z&&z(!0)}if(se){var je=[se.plugin],rn={reason:2,isAsync:!!W};I(je,rn,function(dt){dt?(_e.removed=je,_e.reason|=32,Ue(!0)):z&&z(!1)})}else Ue(!1)},C.evtNamespace=function(){return v},C[ym]=q,C.getTraceCtx=function(L){return E||(E=D5()),E},C.setTraceCtx=function(L){E=L||null},Nu(C,"addUnloadCb",function(){return y},"add");function R(){n=!1,t=Dm(!0,{},Kbe),C[Ks]=t,C[ri]=new us(t),C[Sy]=[],h=new q5,r=[],i=null,o=null,s=null,a=null,u=null,l=null,c=[],d=null,p=null,f=null,m=!1,g=null,v=ps("AIBaseCore",!0),y=Nd(),E=null}function T(){return li(P(),t,C)}function _(L){var G=Qbe(C[ri],nx,c);l=G[jt],u=null;var W=G.all;if(f=ai(M5(p,W,C)),d){var z=In(W,d);z!==-1&&W[Ja](z,1),z=In(l,d),z!==-1&&l[Ja](z,1),d._setQueue(f)}else d=F5(f,C);W[Me](d),l[Me](d),C[Sy]=vS(W),d[ts](t,C,W),gS(T(),W),C[Sy]=ai(vS(l||[])).slice(),L&&U(L)}function A(L){var G,W=null,z=null;return ae(C[Sy],function(se){if(se[ns]===L&&se!==d&&se!==h)return z=se,-1}),!z&&d&&(z=d.getChannel(L)),z&&(W=(G={plugin:z},G[Ty]=function(se){lc(z)[Ay]=!se},G.isEnabled=function(){var se=lc(z);return!se[Mi]&&!se[Ay]},G.remove=function(se,_e){var Ue;se===void 0&&(se=!0);var je=[z],rn=(Ue={reason:1},Ue[rs]=se,Ue);I(je,rn,function(dt){dt&&_({reason:32,removed:je}),_e&&_e(dt)})},G)),W}function P(){if(!u){var L=(l||[]).slice();In(L,h)===-1&&L[Me](h),u=Qs(vS(L),t,C)}return u}function I(L,G,W){if(L&&L[ge]>0){var z=Qs(L,t,C),se=Xm(z,C);se[Cy](function(){var _e=!1,Ue=[];ae(c,function(rn,dt){B5(rn,L)?_e=!0:Ue[Me](rn)}),c=Ue;var je=[];p&&(ae(p,function(rn,dt){var bt=[];ae(rn,function(Hr){B5(Hr,L)?_e=!0:bt[Me](Hr)}),je[Me](bt)}),p=je),W&&W(_e)}),se[Ct](G)}else W(!1)}function F(){var L=C[ri]?C[ri].queue:[];L&&(ae(L,function(G){var W,z=(W={},W[Gn]=g||"InternalMessageId: "+G[xm],W.iKey=bo(t[kC]),W.time=Eo(new Date),W.baseType=Rd.dataType,W.baseData={message:G[Su]},W);C.track(z)}),L[ge]=0)}function q(L,G,W,z){return d?d[ym](L,G,W||6,z):(G&&G(!1),!0)}function $(){var L=bo(t.disableDbgExt);L===!0&&x&&(i[dd](x),x=null),i&&!x&&L!==!0&&(x=zK(t),i[ld](x))}function M(){var L=bo(t.enablePerfMgr);!L&&s&&(s=null),L&&Ou(t,kO,Xbe)}function k(){var L=Ou(t,Cm,{});L.NotificationManager=i}function U(L){var G=ex(P(),C);(!C._updateHook||C._updateHook(G,L)!==!0)&&G[Ct](L)}function V(L){var G=C[ri];G?Dt(G,2,73,L):Rn(L)}})}return e.__ieDyn=1,e}()});function wS(e,t,n,r){ae(e,function(i){if(i&&i[t])if(n)setTimeout(function(){return r(i)},0);else try{r(i)}catch{}})}var rx,FN=S(()=>{Yn();cn();ln();qn();rx=function(){function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;Xe(e,this,function(r){r[ld]=function(i){r.listeners[Me](i)},r[dd]=function(i){for(var o=In(r[md],i);o>-1;)r.listeners[Ja](o,1),o=In(r[md],i)},r[Sm]=function(i){wS(r[md],Sm,!0,function(o){o[Sm](i)})},r[Du]=function(i,o){wS(r[md],Du,!0,function(s){s[Du](i,o)})},r[Tm]=function(i,o){wS(r[md],Tm,o,function(s){s[Tm](i,o)})},r[ku]=function(i){i&&(n||!i[Py]())&&wS(r[md],ku,!1,function(o){i[rs]?setTimeout(function(){return o[ku](i)},0):o[ku](i)})}})}return e.__ieDyn=1,e}()});var ix,W5=S(()=>{ni();Yn();cn();LN();Fu();ln();qn();FN();Hy();ix=function(e){es(t,e);function t(){var n=e.call(this)||this;return Xe(t,n,function(r,i){r[ts]=function(a,u,c,l){i[ts](a,u,c||new us(a),l||new rx(a))},r.track=function(a){Qt(r[vd](),function(){return"AppInsightsCore:track"},function(){a===null&&(s(a),Rn("Invalid telemetry item")),o(a),i.track(a)},function(){return{item:a}},!a.sync)};function o(a){De(a[Gn])&&(s(a),Rn("telemetry name required"))}function s(a){var u=r[_y]();u&&u[Du]([a],2)}}),n}return t.__ieDyn=1,t}(Fd)});var ne,gt,Md,ms,G5,z5,ES,MN,ox,bS,Qm,hs,Vu,dc,sx,Y5,UN,ax,K5=S(()=>{jC();gt="Failed",Md=gt+"MonitorAjax",ms="Track",G5="Start",z5="Stop",ES="Event",MN="AuthContext",ox="Exception",bS="Local",Qm="Session",hs="Storage",Vu="Browser",dc="Cannot",sx="Buffer",Y5="InstrumentationKey",UN=Rr({CRITICAL:1,WARNING:2}),ax=Rr((ne={},ne[Vu+"DoesNotSupport"+bS+hs]=0,ne[Vu+dc+"Read"+bS+hs]=1,ne[Vu+dc+"Read"+Qm+hs]=2,ne[Vu+dc+"Write"+bS+hs]=3,ne[Vu+dc+"Write"+Qm+hs]=4,ne[Vu+gt+"RemovalFrom"+bS+hs]=5,ne[Vu+gt+"RemovalFrom"+Qm+hs]=6,ne[dc+"SendEmptyTelemetry"]=7,ne.ClientPerformanceMathError=8,ne["ErrorParsingAI"+Qm+"Cookie"]=9,ne.ErrorPVCalc=10,ne[ox+"WhileLoggingError"]=11,ne[gt+"AddingTelemetryTo"+sx]=12,ne[Md+"Abort"]=13,ne[Md+"Dur"]=14,ne[Md+"Open"]=15,ne[Md+"RSC"]=16,ne[Md+"Send"]=17,ne[Md+"GetCorrelationHeader"]=18,ne[gt+"ToAddHandlerForOnBeforeUnload"]=19,ne[gt+"ToSendQueuedTelemetry"]=20,ne[gt+"ToReportDataLoss"]=21,ne["Flush"+gt]=22,ne.MessageLimitPerPVExceeded=23,ne.MissingRequiredFieldSpecification=24,ne.NavigationTimingNotSupported=25,ne.OnError=26,ne[Qm+"RenewalDateIsZero"]=27,ne.SenderNotInitialized=28,ne[G5+ms+ES+gt]=29,ne[z5+ms+ES+gt]=30,ne[G5+ms+gt]=31,ne[z5+ms+gt]=32,ne.TelemetrySampledAndNotSent=33,ne[ms+ES+gt]=34,ne[ms+ox+gt]=35,ne[ms+"Metric"+gt]=36,ne[ms+"PV"+gt]=37,ne[ms+"PV"+gt+"Calc"]=38,ne[ms+"Trace"+gt]=39,ne["Transmission"+gt]=40,ne[gt+"ToSet"+hs+sx]=41,ne[gt+"ToRestore"+hs+sx]=42,ne.InvalidBackendResponse=43,ne[gt+"ToFixDepricatedValues"]=44,ne.InvalidDurationValue=45,ne.TelemetryEnvelopeInvalid=46,ne.CreateEnvelopeError=47,ne[dc+"SerializeObject"]=48,ne[dc+"SerializeObjectNonSerializable"]=49,ne.CircularReferenceDetected=50,ne["Clear"+MN+gt]=51,ne[ox+"Truncated"]=52,ne.IllegalCharsInName=53,ne.ItemNotInArray=54,ne.MaxAjaxPerPVExceeded=55,ne.MessageTruncated=56,ne.NameTooLong=57,ne.SampleRateOutOfRange=58,ne["Set"+MN+gt]=59,ne["Set"+MN+gt+"AccountName"]=60,ne.StringValueTooLong=61,ne.StartCalledMoreThanOnce=62,ne.StopCalledWithoutStart=63,ne["TelemetryInitializer"+gt]=64,ne.TrackArgumentsNotSpecified=65,ne.UrlTooLong=66,ne[Qm+hs+sx+"Full"]=67,ne[dc+"AccessCookie"]=68,ne.IdTooLong=69,ne.InvalidEvent=70,ne[Md+"SetRequestHeader"]=71,ne["Send"+Vu+"InfoOnUserInit"]=72,ne["Plugin"+ox]=73,ne["Notification"+ox]=74,ne.SnippetScriptLoadFailure=99,ne["Invalid"+Y5]=100,ne[dc+"ParseAiBlobValue"]=101,ne.InvalidContentBlob=102,ne[ms+"PageAction"+ES+gt]=103,ne[gt+"AddingCustomDefinedRequestContext"]=104,ne["InMemory"+hs+sx+"Full"]=105,ne[Y5+"Deprecation"]=106,ne))});var pc=S(()=>{vK();OK();W5();LN();NN();rS();CN();ln();jC();bN();_o();ni();FN();Hy();Fu();tx();K5();wN();Gy();xS();DN()});var X5,Q5,J5,Z5,e8,t8,n8=S(()=>{ni();pc();X5=Rr({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),Q5=Rr({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),J5=Rr({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),Z5=Rr({Normal:1,Critical:2}),e8=Rr({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),t8=ai(AC(AC({},ax),Rr({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})))});var gs,_S,Zbe,Q6e,qN,CS,cx=S(()=>{gs="",_S="https://browser.events.data.microsoft.com/OneCollector/1.0/",Zbe="pluginVersionString",Q6e=Zbe+"Arr",qN="version",CS="properties"});function En(e){return!(e===gs||De(e))}function lx(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return gs}function HN(){return $N===null&&($N=!ot(Uint8Array)&&!i_e()&&!oc()),$N}function dx(e){return!!(e&&si(e)&&e>=1&&e<=4)}function px(e,t,n){if(!t&&!En(t)||typeof e!="string")return null;var r=typeof t;if(r==="string"||r==="number"||r==="boolean"||Te(t))t={value:t};else if(r==="object"&&!Li.call(t,"value"))t={value:n?JSON.stringify(t):t};else if(De(t.value)||t.value===gs||!Ht(t.value)&&!si(t.value)&&!tc(t.value)&&!Te(t.value))return null;if(Te(t.value)&&!TS(t.value))return null;if(!De(t.kind)){if(Te(t.value)||!Jm(t.kind))return null;t.value=t.value.toString()}return t}function fx(e,t,n){var r=-1;if(!ot(e))if(t>0&&(t===32?r=1<<13:t<=13&&(r=t<<5)),r_e(n))r===-1&&(r=0),r|=n;else{var i=n_e[vs(e)]||-1;r!==-1&&i!==-1?r|=i:i===6&&(r=i)}return r}function BN(){$u(null).setEnabled(!1)}function VN(e,t,n){fs(null)&&$u(null).set(e,t,n*86400,null,"/")}function WN(e){fs(null)&&$u(null).del(e)}function GN(e){return fs(null)?zN($u(null),e):gs}function zN(e,t,n){n===void 0&&(n=!0);var r;return e&&(r=e.get(t),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||gs}function YN(e){e===void 0&&(e="D");var t=Gm();return e==="B"?t="{"+t+"}":e==="P"?t="("+t+")":e==="N"&&(t=t.replace(/-/g,gs)),t}function Wu(e,t,n,r,i){var o={},s=!1,a=0,u=arguments.length,c=Object[xn],l=arguments;for(c.toString.call(l[0])==="[object Boolean]"&&(s=l[0],a++);a<u;a++){var e=l[a];St(e,function(p,f){s&&f&&zn(f)?Te(f)?(o[p]=o[p]||[],ae(f,function(m,h){m&&zn(m)?o[p][h]=Wu(!0,o[p][h],m):o[p][h]=m})):o[p]=Wu(!0,o[p],f):o[p]=f})}return o}function Jm(e){return e===0||e>0&&e<=13||e===32}function r_e(e){return e>=0&&e<=9}function i_e(){var e=$i();if(!ot(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0)return!0}return!1}function TS(e){return e.length>0}function Ud(e,t){var n=e;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[t]=Ar()}function vs(e){var t=0;if(e!=null){var n=typeof e;n==="string"?t=1:n==="number"?t=2:n==="boolean"?t=3:n===vn&&(t=4,Te(e)?(t=4096,e.length>0&&(t|=vs(e[0]))):Li.call(e,"value")&&(t=8192|vs(e.value)))}return t}function IS(){return!!Bt("chrome")}function PS(e,t,n,r,i,o){r===void 0&&(r=!1),i===void 0&&(i=!1);function s(u,c,l){try{u[c]=l}catch{}}var a=new XMLHttpRequest;return r&&s(a,e_e,r),n&&s(a,r8,n),a.open(e,t,!i),n&&s(a,r8,n),!i&&o&&s(a,t_e,o),a}var fc,SS,mc,e_e,r8,t_e,n_e,$N,ux,jN,Ar,i8,o8,mx=S(()=>{pc();ni();cx();SS="3.2.9",mc="1DS-Web-JS-"+SS,e_e="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",r8="withCredentials",t_e="timeout",n_e=(fc={},fc[0]=0,fc[2]=6,fc[1]=1,fc[3]=7,fc[4098]=6,fc[4097]=1,fc[4099]=7,fc),$N=null,ux=!!ui(),jN=!!Xs();Ar=zm;i8={Version:SS,FullVersionString:mc,strUndefined:yn,strObject:vn,Undefined:yn,arrForEach:ae,arrIndexOf:In,arrMap:Ed,arrReduce:bd,objKeys:Pr,toISOString:Eo,isReactNative:oc,isString:Ht,isNumber:si,isBoolean:tc,isFunction:Be,isArray:Te,isObject:zn,strTrim:Tt,isDocumentObjectAvailable:ux,isWindowObjectAvailable:jN,isValueAssigned:En,getTenantId:lx,isBeaconsSupported:Lu,isUint8ArrayAvailable:HN,isLatency:dx,sanitizeProperty:px,getISOString:Eo,useXDomainRequest:Pd,getCommonSchemaMetaData:fx,cookieAvailable:fs,disallowsSameSiteNone:$m,setCookie:VN,deleteCookie:WN,getCookie:GN,createGuid:YN,extend:Wu,getTime:Ar,isValueKind:Jm,isArrayValid:TS,objDefineAccessors:qi,addPageUnloadEventListener:Od,setProcessTelemetryTimings:Ud,addEventHandler:Hu,getFieldValueType:vs,strEndsWith:xd,objForEachKey:St},o8={_canUseCookies:void 0,isTypeof:Im,isUndefined:ot,isNullOrUndefined:De,hasOwnProperty:ec,isFunction:Be,isObject:zn,isDate:Rm,isArray:Te,isError:wd,isString:Ht,isNumber:si,isBoolean:tc,toISOString:Eo,arrForEach:ae,arrIndexOf:In,arrMap:Ed,arrReduce:bd,strTrim:Tt,objCreate:Ys,objKeys:Pr,objDefineAccessors:qi,addEventHandler:Hu,dateNow:Pn,isIE:cs,disableCookies:BN,newGuid:Gm,perfNow:zm,newId:Uu,randomValue:qm,random32:ds,mwcRandomSeed:nS,mwcRandom32:Wy,generateW3CId:cc}});var o_e,s8,a8=S(()=>{ni();Yn();pc();cx();mx();o_e=function(e){es(t,e);function t(){var n=e.call(this)||this;return n.pluginVersionStringArr=[],Xe(t,n,function(r,i){(!r.logger||!r.logger.queue)&&(r.logger=new us({loggingLevelConsole:1})),r.initialize=function(o,s,a,u){Qt(r,function(){return"AppInsightsCore.initialize"},function(){var c=r.pluginVersionStringArr;if(o){o.endpointUrl||(o.endpointUrl=_S);var l=o.propertyStorageOverride;l&&(!l.getProperty||!l.setProperty)&&Rn("Invalid property storage override passed."),o.channels&&ae(o.channels,function(f){f&&ae(f,function(m){if(m.identifier&&m.version){var h=m.identifier+"="+m.version;c.push(h)}})})}r.getWParam=function(){return typeof document<"u"||o.enableWParam?0:-1},s&&ae(s,function(f){if(f&&f.identifier&&f.version){var m=f.identifier+"="+f.version;c.push(m)}}),r.pluginVersionString=c.join(";"),r.pluginVersionStringArr=c;try{i.initialize(o,s,a,u),r.pollInternalLogs("InternalLog")}catch(f){var d=r.logger,p=Mt(f);p.indexOf("channels")!==-1&&(p+=`
 - Channels must be provided through config.channels only!`),Dt(d,1,514,"SDK Initialization Failed - no telemetry will be sent: "+p)}},function(){return{config:o,extensions:s,logger:a,notificationManager:u}})},r.track=function(o){Qt(r,function(){return"AppInsightsCore.track"},function(){var s=o;if(s){s.timings=s.timings||{},s.timings.trackStart=Ar(),dx(s.latency)||(s.latency=1);var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=mc;var u=s.baseData=s.baseData||{};u[CS]=u[CS]||{};var c=u[CS];c[qN]=c[qN]||r.pluginVersionString||gs}i.track(s)},function(){return{item:o}},!o.sync)}}),n}return t.__ieDyn=1,t}(ix),s8=o_e});var s_e,c8,u8=S(()=>{ni();Yn();pc();cx();mx();s_e=function(e){es(t,e);function t(){var n=e.call(this)||this;return Xe(t,n,function(r,i){r.initialize=function(o,s,a,u){o&&!o.endpointUrl&&(o.endpointUrl=_S),r.getWParam=function(){return ux||o.enableWParam?0:-1};try{i.initialize(o,s,a,u)}catch(c){Dt(r.logger,1,514,"Initialization Failed: "+Mt(c)+`
 - Note: Channels must be provided through config.channels only`)}},r.track=function(o){var s=o;if(s){var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=mc}i.track(s)}}),n}return t.__ieDyn=1,t}(Fd),c8=s_e});function a_e(e,t,n){return function(r){e[t]=r,n()}}var qd,c_e,Gu,KN=S(()=>{Yn();pc();qd=Be;c_e=function(){function e(t){var n=0,r=null,i=[];Xe(e,this,function(c){c.then=function(l,d){return new e(function(p,f){o(l,d,p,f)})},c.catch=function(l){return c.then(null,l)}});function o(c,l,d,p){i.push(function(){var f;try{n===1?f=qd(c)?c(r):r:f=qd(l)?l(r):r,f instanceof e?f.then(d,p):n===2&&!qd(l)?p(f):d(f)}catch(m){p(m);return}}),n!==0&&s()}function s(){if(i.length>0){var c=i.slice();i=[],setTimeout(function(){for(var l=0,d=c.length;l<d;++l)try{c[l]()}catch{}},0)}}function a(c){n===0&&(r=c,n=1,s())}function u(c){n===0&&(r=c,n=2,s())}(function(){if(!qd(t))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{t(a,u)}catch(l){u(l)}})()}return e.resolve=function(t){return t instanceof e?t:t&&qd(t.then)?new e(function(n,r){try{t.then(n,r)}catch(i){r(i)}}):new e(function(n){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.all=function(t){if(!(!t||!t.length))return new e(function(n,r){try{for(var i=[],o=0,s=0;s<t.length;s++){var a=t[s];a&&qd(a.then)?(o++,a.then(a_e(i,s,function(){--o===0&&n(i)}),r)):i[s]=a}o===0&&setTimeout(function(){n(i)},0)}catch(u){r(u)}})},e.race=function(t){return new e(function(n,r){if(!(!t||!t.length))try{for(var i=function(s){var a=t[s];a&&qd(a.then)?a.then(n,r):setTimeout(function(){n(a)},0)},o=0;o<t.length;o++)i(o)}catch(s){r(s)}})},e}(),Gu=c_e});function Zm(){return new Date().getTime()}var u_e,l8,hx,$d,XN,l_e,d8,p8=S(()=>{Yn();KN();pc();u_e=6e5,l8=0,hx=[],$d=[],XN=[];l_e=function(){function e(t,n){var r=0,i=(t||"<unnamed>")+"."+l8;l8++,Xe(e,this,function(a){var u=null,c=0;a.scheduleEvent=function(d,p,f){var m=i+"."+c;c++,p&&(m+="-("+p+")");var h=m+"{"+r+"}";r++;var g={evt:null,tm:Zm(),id:h,isRunning:!1,isAborted:!1};return u?g.evt=R(g,u):g.evt=C(g),u=g,u.evt._schId=h,g.evt;function v(T){for(var _=Zm(),A=_-u_e,P=T.length,I=0;I<P;){var F=T[I];if(F&&F.tm<A){var q=null;F.abort?(q="Aborting ["+F.id+"] due to Excessive runtime ("+(_-F.tm)+" ms)",F.abort(q)):q="Removing ["+F.id+"] due to Excessive runtime ("+(_-F.tm)+" ms)",s(q),T.splice(I,1),P--}else I++}}function y(T,_){var A=!1,P=l(hx,T);if(P||(P=l(XN,T),A=!0),P){P.to&&(clearTimeout(P.to),P.to=null);var I=Zm()-P.tm;_?A?s("Timed out event ["+T+"] finally complete -- "+I+" ms"):o("Promise ["+T+"] Complete -- "+I+" ms"):(XN.push(P),s("Event ["+T+"] Timed out and removed -- "+I+" ms"))}else o("Failed to remove ["+T+"] from running queue");u&&u.id===T&&(u=null),v(hx),v($d),v(XN)}function x(T,_){return function(A){return y(T,!0),_&&_(A),A}}function E(T,_,A,P){_.then(function(I){return I instanceof Gu?(o("Event ["+T+"] returned a promise -- waiting"),E(T,I,A,P),I):x(T,A)(I)},x(T,P))}function b(T,_){var A=T.id;return new Gu(function(P,I){o("Event ["+A+"] Starting -- waited for "+(T.wTm||"--")+" ms"),T.isRunning=!0,T.abort=function(q){T.abort=null,T.isAborted=!0,y(A,!1),I(new Error(q))};var F=_(A);F instanceof Gu?(f&&(T.to=setTimeout(function(){y(A,!1),I(new Error("Timed out after ["+f+"] ms"))},f)),E(A,F,function(q){o("Event ["+A+"] Resolving after "+(Zm()-T.tm)+" ms"),P(q)},I)):(o("Promise ["+A+"] Auto completed as the start action did not return a promise"),P())})}function C(T){var _=Zm();return T.wTm=_-T.tm,T.tm=_,T.isAborted?Gu.reject(new Error("["+m+"] was aborted")):(hx.push(T),b(T,d))}function R(T,_){var A=new Gu(function(P,I){var F=Zm()-_.tm,q=_.id;o("["+m+"] is waiting for ["+q+":"+F+" ms] to complete before starting -- ["+$d.length+"] waiting and ["+hx.length+"] running"),T.abort=function($){T.abort=null,l($d,m),T.isAborted=!0,I(new Error($))},_.evt.then(function($){l($d,m),C(T).then(P,I)},function($){l($d,m),C(T).then(P,I)})});return $d.push(T),A}};function l(d,p){for(var f=0;f<d.length;f++)if(d[f].id===p)return d.splice(f,1)[0];return null}});function o(a){var u=Zo();u&&u.QUnit&&console&&console.log("ESPromiseScheduler["+i+"] "+a)}function s(a){ls(n,"ESPromiseScheduler["+i+"] "+a)}}return e.incomplete=function(){return hx},e.waitingToStart=function(){return $d},e}(),d8=l_e});var f8,m8=S(()=>{pc();cx();mx();f8=function(){function e(t){var n=this,r={},i=[],o=[];t&&o.push(t);function s(l,d){var p,f=r[l];if(f&&(p=f[d]),!p&&p!==null){if(Ht(l)&&Ht(d))if(o.length>0){for(var m=0;m<o.length;m++)if(o[m].handleField(l,d)){p={canHandle:!0,fieldHandler:o[m]};break}}else i.length===0&&(p={canHandle:!0});if(!p&&p!==null){p=null;for(var m=0;m<i.length;m++)if(i[m].handleField(l,d)){p={canHandle:!0,handler:i[m],fieldHandler:null};break}}f||(f=r[l]={}),f[d]=p}return p}n.addSanitizer=function(l){l&&(i.push(l),r={})},n.addFieldSanitizer=function(l){l&&(o.push(l),r={})},n.handleField=function(l,d){var p=s(l,d);return p?p.canHandle:!1},n.value=function(l,d,p,f){var m=s(l,d);if(m&&m.canHandle){if(!m||!m.canHandle)return null;if(m.handler)return m.handler.value(l,d,p,f);if(!Ht(d)||De(p)||p===gs)return null;var h=null,g=vs(p);if((g&8192)===8192){var v=g&-8193;if(h=p,!En(h.value)||v!==1&&v!==2&&v!==3&&(v&4096)!==4096)return null}else g===1||g===2||g===3||(g&4096)===4096?h=u(l,d,p):g===4&&(h=u(l,d,f?JSON.stringify(p):p));if(h)return a(m,l,d,g,h,f)}return null},n.property=function(l,d,p,f){var m=s(l,d);if(!m||!m.canHandle||!Ht(d)||De(p)||!En(p.value))return null;var h=vs(p.value);return h===0?null:a(m,l,d,h,p,f)};function a(l,d,p,f,m,h){if(l.handler)return l.handler.property(d,p,m,h);if(!De(m.kind)){if((f&4096)===4096||!Jm(m.kind))return null;m.value=m.value.toString()}return c(l.fieldHandler,d,p,f,m)}function u(l,d,p){return En(p)?{value:p}:null}function c(l,d,p,f,m){if(m&&l){var h=l.getSanitizer(d,p,f,m.kind,m.propertyType);if(h)if(f===4){var g={},v=m.value;St(v,function(x,E){var b=d+"."+p;if(En(E)){var C=u(b,x,E);C=c(l,b,x,vs(E),C),C&&(g[x]=C.value)}}),m.value=g}else{var y={path:d,name:p,type:f,prop:m,sanitizer:n};m=h.call(n,y)}}return m}}return e.getFieldType=vs,e}()});var h8={};As(h8,{AppInsightsCore:()=>s8,BaseCore:()=>c8,BaseTelemetryPlugin:()=>Ld,CoreUtils:()=>o8,DiagnosticLogger:()=>us,ESPromise:()=>Gu,ESPromiseScheduler:()=>d8,EventHelper:()=>_N,EventLatency:()=>Q5,EventPersistence:()=>Z5,EventPropertyType:()=>J5,EventsDiscardedReason:()=>as,FullVersionString:()=>mc,InternalAppInsightsCore:()=>ix,InternalBaseCore:()=>Fd,LoggingSeverity:()=>UN,MinChannelPriorty:()=>IO,NotificationManager:()=>rx,PerfEvent:()=>Ad,PerfManager:()=>jy,ProcessTelemetryContext:()=>ON,TraceLevel:()=>e8,Undefined:()=>yn,Utils:()=>i8,ValueKind:()=>X5,ValueSanitizer:()=>f8,Version:()=>SS,_ExtendedInternalMessageId:()=>t8,_InternalLogMessage:()=>Rd,_InternalMessageId:()=>ax,__getRegisteredEvents:()=>EN,_logInternalMessage:()=>pN,_throwInternal:()=>Dt,_warnToConsole:()=>ls,addEventHandler:()=>Hu,addEventListeners:()=>pS,addPageHideEventListener:()=>Vm,addPageShowEventListener:()=>Wm,addPageUnloadEventListener:()=>Od,areCookiesSupported:()=>fs,arrForEach:()=>ae,arrIndexOf:()=>In,arrMap:()=>Ed,arrReduce:()=>bd,attachEvent:()=>Hm,cookieAvailable:()=>fs,createCookieMgr:()=>sc,createEnumStyle:()=>Rr,createGuid:()=>YN,createProcessTelemetryContext:()=>li,createTraceParent:()=>IN,createUniqueNamespace:()=>ps,createUnloadHandlerContainer:()=>Nd,dateNow:()=>Pn,deleteCookie:()=>WN,detachEvent:()=>Bm,disableCookies:()=>BN,disallowsSameSiteNone:()=>$m,doPerf:()=>Qt,dumpObj:()=>Mt,eventOff:()=>kd,eventOn:()=>Dd,extend:()=>Wu,findW3cTraceParent:()=>AN,formatTraceParent:()=>RN,generateW3CId:()=>cc,getCommonSchemaMetaData:()=>fx,getConsole:()=>Fy,getCookie:()=>GN,getCookieValue:()=>zN,getCrypto:()=>My,getDocument:()=>ui,getExceptionName:()=>_d,getFieldValueType:()=>vs,getGlobal:()=>Zo,getGlobalInst:()=>Bt,getHistory:()=>iN,getIEVersion:()=>oN,getISOString:()=>Eo,getJSON:()=>Lm,getLocation:()=>Td,getMsCrypto:()=>Uy,getNavigator:()=>$i,getPerformance:()=>Nm,getSetValue:()=>Ou,getTenantId:()=>lx,getTime:()=>Ar,getWindow:()=>Xs,hasDocument:()=>JC,hasHistory:()=>ZC,hasJSON:()=>Id,hasNavigator:()=>Ly,hasOwnProperty:()=>ec,hasWindow:()=>Ny,isArray:()=>Te,isArrayValid:()=>TS,isBeaconsSupported:()=>Lu,isBoolean:()=>tc,isChromium:()=>IS,isDate:()=>Rm,isDocumentObjectAvailable:()=>ux,isError:()=>wd,isFetchSupported:()=>Fm,isFunction:()=>Be,isIE:()=>cs,isLatency:()=>dx,isNotTruthy:()=>jO,isNullOrUndefined:()=>De,isNumber:()=>si,isObject:()=>zn,isReactNative:()=>oc,isSampledFlag:()=>PN,isString:()=>Ht,isTruthy:()=>Am,isTypeof:()=>Im,isUint8ArrayAvailable:()=>HN,isUndefined:()=>ot,isValidSpanId:()=>Km,isValidTraceId:()=>Ym,isValidTraceParent:()=>hS,isValueAssigned:()=>En,isValueKind:()=>Jm,isWindowObjectAvailable:()=>jN,isXhrSupported:()=>Mm,mergeEvtNamespace:()=>ac,newGuid:()=>Gm,newId:()=>Uu,normalizeJsName:()=>yd,objCreate:()=>Ys,objDefineAccessors:()=>qi,objForEachKey:()=>St,objFreeze:()=>ai,objKeys:()=>Pr,objSeal:()=>$O,openXhr:()=>PS,optimizeObject:()=>nc,parseTraceParent:()=>Zy,perfNow:()=>zm,proxyAssign:()=>HO,proxyFunctionAs:()=>Nu,proxyFunctions:()=>Cd,random32:()=>ds,randomValue:()=>qm,removeEventHandler:()=>dS,removeEventListeners:()=>ju,removePageHideEventListener:()=>Qy,removePageShowEventListener:()=>Jy,removePageUnloadEventListener:()=>Xy,safeGetCookieMgr:()=>$u,safeGetLogger:()=>qy,sanitizeProperty:()=>px,setCookie:()=>VN,setEnableEnvMocks:()=>rN,setProcessTelemetryTimings:()=>Ud,setValue:()=>ci,strContains:()=>un,strEndsWith:()=>xd,strFunction:()=>yo,strObject:()=>vn,strPrototype:()=>xn,strStartsWith:()=>Pm,strTrim:()=>Tt,strUndefined:()=>yn,throwError:()=>Rn,toISOString:()=>Eo,useXDomainRequest:()=>Pd});var jd=S(()=>{n8();a8();u8();KN();p8();m8();pc();mx()});var Hd,RS,AS,QN=S(()=>{Hd="REAL_TIME",RS="NEAR_REAL_TIME",AS="BEST_EFFORT"});var ys,DS,g8,kS,v8,JN,y8,x8,w8,ZN,eL,OS,E8,tL,b8,nL,NS,rL,LS,FS,MS,gx,iL,_8,eh,oL,US,vx=S(()=>{ys="",DS="POST",g8="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",kS="drop",v8="send",JN="requeue",y8="rspFail",x8="oth",w8="no-cache, no-store",ZN="application/x-json-stream",eL="cache-control",OS="content-type",E8="kill-tokens",tL="kill-duration",b8="kill-duration-seconds",nL="time-delta-millis",NS="client-version",rL="client-id",LS="time-delta-to-apply-millis",FS="upload-time",MS="apikey",gx="AuthMsaDeviceTicket",iL="AuthXToken",_8="NoResponseBody",eh="msfpc",oL="trace",US="user"});function S8(e){var t=(e.ext||{}).intweb;return t&&En(t[eh])?t[eh]:null}function C8(e){for(var t=null,n=0;t===null&&n<e.length;n++)t=S8(e[n]);return t}var th,sL=S(()=>{jd();vx();th=function(){function e(t,n){var r=n?[].concat(n):[],i=this,o=C8(r);i.iKey=function(){return t},i.Msfpc=function(){return o||ys},i.count=function(){return r.length},i.events=function(){return r},i.addEvent=function(s){return s?(r.push(s),o||(o=S8(s)),!0):!1},i.split=function(s,a){var u;if(s<r.length){var c=r.length-s;De(a)||(c=a<c?a:c),u=r.splice(s,c),o=C8(r)}return new e(t,u)}}return e.create=function(t,n){return new e(t,n)},e}()});var d_e,T8,I8=S(()=>{Yn();d_e=function(){function e(){var t=!0,n=!0,r=!0,i="use-collector-delta",o=!1;Xe(e,this,function(s){s.allowRequestSending=function(){return t},s.firstRequestSent=function(){r&&(r=!1,o||(t=!1))},s.shouldAddClockSkewHeaders=function(){return n},s.getClockSkewHeaderValue=function(){return i},s.setClockSkew=function(a){o||(a?(i=a,n=!0,o=!0):n=!1,t=!0)}})}return e.__ieDyn=1,e}(),T8=d_e});var p_e,f_e,P8,R8=S(()=>{Yn();jd();p_e=1e3,f_e=function(){function e(){var t={};function n(r){var i=[];return r&&ae(r,function(o){i.push(Tt(o))}),i}Xe(e,this,function(r){r.setKillSwitchTenants=function(i,o){if(i&&o)try{var s=n(i.split(","));if(o==="this-request-only")return s;for(var a=parseInt(o,10)*p_e,u=0;u<s.length;++u)t[s[u]]=Pn()+a}catch{return[]}return[]},r.isTenantKilled=function(i){var o=t,s=Tt(i);return o[s]!==void 0&&o[s]>Pn()?!0:(delete o[s],!1)}})}return e.__ieDyn=1,e}(),P8=f_e});function D8(e){return!(e>=300&&e<500&&e!=408&&e!=429||e==501||e==505)}function qS(e){var t=0,n=A8*m_e,r=A8*h_e,i=Math.floor(Math.random()*(r-n))+n;return t=Math.pow(2,e)*i,Math.min(t,g_e)}var m_e,h_e,A8,g_e,aL=S(()=>{m_e=.8,h_e=1.2,A8=3e3,g_e=6e5});function O8(e,t,n,r){if(r&&e){var i=fx(r.value,r.kind,r.propertyType);if(i>-1){var o=e[k8];o||(o=e[k8]={f:{}});var s=o[$S];if(s||(s=o[$S]={}),t)for(var a=0;a<t.length;a++){var u=t[a];s[u]||(s[u]={f:{}});var c=s[u][$S];c||(c=s[u][$S]={}),s=c}s=s[n]={},Te(r.value)?s.a={t:i}:s.t=i}}}var v_e,y_e,N8,L8,x_e,k8,$S,w_e,F8,M8=S(()=>{Yn();jd();sL();vx();v_e=20,y_e=3984588,N8=65e3,L8=2e6,x_e=Math.min(L8,N8),k8="metadata",$S="f",w_e=/\./,F8=function(){function e(t,n,r,i){var o="data",s="baseData",a="ext",u=!!i,c=!0,l=n,d={};Xe(e,this,function(p){p.createPayload=function(h,g,v,y,x,E){return{apiKeys:[],payloadBlob:ys,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:h,isTeardown:g,isSync:v,isBeacon:y,sendType:E,sendReason:x}},p.appendPayload=function(h,g,v){var y=h&&g&&!h.overflow;return y&&Qt(t,function(){return"Serializer:appendPayload"},function(){for(var x=g.events(),E=h.payloadBlob,b=h.numEvents,C=!1,R=[],T=[],_=h.isBeacon,A=_?N8:y_e,P=_?x_e:L8,I=0,F=0;I<x.length;){var q=x[I];if(q){if(b>=v){h.overflow=g.split(I);break}var $=p.getEventBlob(q);if($&&$.length<=P){var M=$.length,k=E.length;if(k+M>A){h.overflow=g.split(I);break}E&&(E+=`
`),E+=$,F++,F>v_e&&(E.substr(0,1),F=0),C=!0,b++}else $?R.push(q):T.push(q),x.splice(I,1),I--}I++}if(R&&R.length>0&&h.sizeExceed.push(th.create(g.iKey(),R)),T&&T.length>0&&h.failedEvts.push(th.create(g.iKey(),T)),C){h.batches.push(g),h.payloadBlob=E,h.numEvents=b;var U=g.iKey();In(h.apiKeys,U)===-1&&h.apiKeys.push(U)}},function(){return{payload:h,theBatch:{iKey:g.iKey(),evts:g.events()},max:v}}),y},p.getEventBlob=function(h){try{return Qt(t,function(){return"Serializer.getEventBlob"},function(){var g={};g.name=h.name,g.time=h.time,g.ver=h.ver,g.iKey="o:"+lx(h.iKey);var v={},y=h[a];y&&(g[a]=v,St(y,function(b,C){var R=v[b]={};m(C,R,"ext."+b,!0,null,null,!0)}));var x=g[o]={};x.baseType=h.baseType;var E=x[s]={};return m(h.baseData,E,s,!1,[s],function(b,C,R){O8(v,b,C,R)},c),m(h.data,x,o,!1,[],function(b,C,R){O8(v,b,C,R)},c),JSON.stringify(g)},function(){return{item:h}})}catch{return null}};function f(h,g){var v=d[h];return v===void 0&&(h.length>=7&&(v=Pm(h,"ext.metadata")||Pm(h,"ext.web")),d[h]=v),v}function m(h,g,v,y,x,E,b){St(h,function(C,R){var T=null;if(R||En(R)){var _=v,A=C,P=x,I=g;if(u&&!y&&w_e.test(C)){var F=C.split("."),q=F.length;if(q>1){P&&(P=P.slice());for(var $=0;$<q-1;$++){var M=F[$];I=I[M]=I[M]||{},_+="."+M,P&&P.push(M)}A=F[q-1]}}var k=y&&f(_,A);if(!k&&l&&l.handleField(_,A)?T=l.value(_,A,R,r):T=px(A,R,r),T){var U=T.value;if(I[A]=U,E&&E(P,A,T),b&&typeof U=="object"&&!Te(U)){var V=P;V&&(V=V.slice(),V.push(A)),m(R,U,_+"."+A,y,V,E,b)}}}})}})}return e.__ieDyn=1,e}()});function Vd(e,t,n){uL[e]=t,n!==!1&&(lL[t]=e)}function q8(e){try{return e.responseText}catch{}return ys}function $8(e,t){var n=!1;if(e&&t){var r=Pr(e);if(r&&r.length>0)for(var i=t.toLowerCase(),o=0;o<r.length;o++){var s=r[o];if(s&&ec(t,s)&&s.toLowerCase()===i){n=!0;break}}}return n}function nh(e,t,n,r){t&&n&&n.length>0&&(r&&uL[t]?(e.hdrs[uL[t]]=n,e.useHdrs=!0):e.url+="&"+t+"="+n)}function j8(e,t){return t&&(si(t)?e=[t].concat(e):Te(t)&&(e=t.concat(e))),e}var Bd,cL,U8,E_e,uL,lL,H8,B8=S(()=>{Yn();I8();R8();jd();vx();aL();M8();cL="sendAttempt",U8="&"+_8+"=true",E_e=(Bd={},Bd[1]=JN,Bd[100]=JN,Bd[200]="sent",Bd[8004]=kS,Bd[8003]=kS,Bd),uL={},lL={};Vd(gx,gx,!1);Vd(NS,NS);Vd(rL,"Client-Id");Vd(MS,MS);Vd(LS,LS);Vd(FS,FS);Vd(iL,iL);H8=function(){function e(t,n,r,i,o){this._responseHandlers=[];var s="?cors=true&"+OS.toLowerCase()+"="+ZN,a=new P8,u=!1,c=new T8,l=!1,d=0,p,f,m,h,g=!0,v=[],y={},x=[],E=null,b=!1,C,R=!1,T=!1,_,A,P,I,F;Xe(e,this,function(q){var $=!0;q.initialize=function(O,K,Z,re,ce){var ke;ce||(ce={}),s=O+s,T=ot(ce.avoidOptions)?!0:!ce.avoidOptions,h=K,C=K.getCookieMgr(),b=!h.config.disableEventTimings;var be=!!h.config.enableCompoundKey;p=Z,f=p.diagLog();var N=ce.valueSanitizer,H=ce.stringifyObjects;ot(ce.enableCompoundKey)||(be=!!ce.enableCompoundKey),_=ce.xhrTimeout,A=!!ce.disableXhrSync,P=!!ce.disableFetchKeepAlive,F=ce.addNoResponse!==!1,l=!oc(),E=new F8(h,N,H,be),De(ce.useSendBeacon)||(l=!!ce.useSendBeacon);var j=re,ie=ce.alwaysUseXhrOverride?re:null,ue=ce.alwaysUseXhrOverride?re:null,ye=[3,2];if(!re){g=!1;var Je=Td();Je&&Je.protocol&&Je.protocol.toLowerCase()==="file:"&&($=!1);var ct=[];oc()?(ct=[2,1],ye=[2,1,3]):ct=[1,2,3],ct=j8(ct,ce.transports),re=M(ct,!1),re||ls(f,"No available transport to send events"),j=M(ct,!0)}ie||(ye=j8(ye,ce.unloadTransports),ie=M(ye,!0)),I=!g&&(l&&Lu()||!P&&Fm(!0)),m=(ke={},ke[0]=re,ke[1]=j||M([1,2,3],!0),ke[2]=ie||j||M([1],!0),ke[3]=ue||M([2,3],!0)||j||M([1],!0),ke)};function M(O,K){for(var Z=0,re=null,ce=0;re==null&&ce<O.length;)Z=O[ce],Z===1?Pd()?re=k:Mm()&&(re=V):Z===2&&Fm(K)&&(!K||K&&!P)?re=U:l&&Z===3&&Lu()&&(re=G),ce++;return re?{_transport:Z,_isSync:K,sendPOST:re}:null}q._getDbgPlgTargets=function(){return[m[0],a,E,m]};function k(O,K,Z){var re=new XDomainRequest;re.open(DS,O.urlString),O.timeout&&(re.timeout=O.timeout),re.onload=function(){var ce=q8(re);L(K,200,{},ce),Hg(ce)},re.onerror=function(){L(K,400,{})},re.ontimeout=function(){L(K,500,{})},re.onprogress=function(){},Z?re.send(O.data):o.set(function(){re.send(O.data)},0)}function U(O,K,Z){var re,ce=O.urlString,ke=!1,be=!1,N=(re={body:O.data,method:DS},re[g8]=!0,re);Z&&(N.keepalive=!0,O._sendReason===2&&(ke=!0,F&&(ce+=U8))),$&&(N.credentials="include"),O.headers&&Pr(O.headers).length>0&&(N.headers=O.headers),fetch(ce,N).then(function(H){var j={},ie=ys,ue=H.headers;ue&&ue.forEach(function(ye,Je){j[Je]=ye}),H.body&&H.text().then(function(ye){ie=ye}),be||(be=!0,L(K,H.status,j,ie),Hg(ie))}).catch(function(H){be||(be=!0,L(K,0,{}))}),ke&&!be&&(be=!0,L(K,200,{})),!be&&O.timeout>0&&o.set(function(){be||(be=!0,L(K,500,{}))},O.timeout)}function V(O,K,Z){var re=O.urlString;function ce(H,j,ie){if(!H[ie]&&j&&j.getResponseHeader){var ue=j.getResponseHeader(ie);ue&&(H[ie]=Tt(ue))}return H}function ke(H){var j={};return H.getAllResponseHeaders?j=eR(H.getAllResponseHeaders()):(j=ce(j,H,nL),j=ce(j,H,tL),j=ce(j,H,b8)),j}function be(H,j){L(K,H.status,ke(H),j)}Z&&O.disableXhrSync&&(Z=!1);var N=PS(DS,re,$,!0,Z,O.timeout);St(O.headers,function(H,j){N.setRequestHeader(H,j)}),N.onload=function(){var H=q8(N);be(N,H),Hg(H)},N.onerror=function(){be(N)},N.ontimeout=function(){be(N)},N.send(O.data)}function L(O,K,Z,re){try{O(K,Z,re)}catch(ce){Dt(f,2,518,Mt(ce))}}function G(O,K,Z){var re=O,ce=200,ke=re._thePayload,be=O.urlString+(F?U8:ys);try{var N=$i();if(!N.sendBeacon(be,O.data))if(ke){var H=[];ae(ke.batches,function(j){if(H&&j&&j.count()>0){for(var ie=j.events(),ue=0;ue<ie.length;ue++)if(!N.sendBeacon(be,E.getEventBlob(ie[ue]))){H.push(j.split(ue));break}}else H.push(j.split(0))}),Ji(H,8003,ke.sendType,!0)}else ce=0}catch(j){ls(f,"Failed to send telemetry using sendBeacon API. Ex:"+Mt(j)),ce=0}finally{L(K,ce,{},ys)}}function W(O){return O===2||O===3}function z(O){return R&&W(O)&&(O=2),O}q.addQueryStringParameter=function(O,K){for(var Z=0;Z<v.length;Z++)if(v[Z].name===O){v[Z].value=K;return}v.push({name:O,value:K})},q.addHeader=function(O,K){y[O]=K},q.canSendRequest=function(){return se()&&c.allowRequestSending()},q.sendQueuedRequests=function(O,K){ot(O)&&(O=0),R&&(O=z(O),K=2),Ue(x,O,0)&&rn(_e(),0,!1,O,K||0)},q.isCompletelyIdle=function(){return!u&&d===0&&x.length===0},q.setUnloading=function(O){R=O},q.addBatch=function(O){if(O&&O.count()>0){if(a.isTenantKilled(O.iKey()))return!1;x.push(O)}return!0},q.teardown=function(){x.length>0&&rn(_e(),0,!0,2,2)},q.pause=function(){u=!0},q.resume=function(){u=!1,q.sendQueuedRequests(0,4)},q.sendSynchronousBatch=function(O,K,Z){O&&O.count()>0&&(De(K)&&(K=1),R&&(K=z(K),Z=2),rn([O],0,!1,K,Z||0))};function se(){return!u&&d<n}function _e(){var O=x;return x=[],O}function Ue(O,K,Z){var re=!1;return O&&O.length>0&&!u&&m[K]&&E&&(re=K!==0||se()&&(Z>0||c.allowRequestSending())),re}function je(O){var K={};return O&&ae(O,function(Z,re){K[re]={iKey:Z.iKey(),evts:Z.events()}}),K}function rn(O,K,Z,re,ce){if(!(!O||O.length===0)){if(u){Ji(O,1,re);return}re=z(re);try{var ke=O,be=re!==0;Qt(h,function(){return"HttpManager:_sendBatches"},function(N){N&&(O=O.slice(0));for(var H=[],j=null,ie=Ar(),ue=m[re]||(be?m[1]:m[0]),ye=ue&&ue._transport,Je=I&&(R||W(re)||ye===3||ue._isSync&&ye===2);Ue(O,re,K);){var ct=O.shift();ct&&ct.count()>0&&(a.isTenantKilled(ct.iKey())?H.push(ct):(j=j||E.createPayload(K,Z,be,Je,ce,re),E.appendPayload(j,ct,t)?j.overflow!==null&&(O=[j.overflow].concat(O),j.overflow=null,Hr(j,ie,Ar(),ce),ie=Ar(),j=null):(Hr(j,ie,Ar(),ce),ie=Ar(),O=[ct].concat(O),j=null)))}j&&Hr(j,ie,Ar(),ce),O.length>0&&(x=O.concat(x)),Ji(H,8004,re)},function(){return{batches:je(ke),retryCount:K,isTeardown:Z,isSynchronous:be,sendReason:ce,useSendBeacon:W(re),sendType:re}},!be)}catch(N){Dt(f,2,48,"Unexpected Exception sending batch: "+Mt(N))}}}function dt(O,K){var Z={url:s,hdrs:{},useHdrs:!1};K?(Z.hdrs=Wu(Z.hdrs,y),Z.useHdrs=Pr(Z.hdrs).length>0):St(y,function(N,H){lL[N]?nh(Z,lL[N],H,!1):(Z.hdrs[N]=H,Z.useHdrs=!0)}),nh(Z,rL,"NO_AUTH",K),nh(Z,NS,mc,K);var re=ys;ae(O.apiKeys,function(N){re.length>0&&(re+=","),re+=N}),nh(Z,MS,re,K),nh(Z,FS,Pn().toString(),K);var ce=gE(O);if(En(ce)&&(Z.url+="&ext.intweb.msfpc="+ce),c.shouldAddClockSkewHeaders()&&nh(Z,LS,c.getClockSkewHeaderValue(),K),h.getWParam){var ke=h.getWParam();ke>=0&&(Z.url+="&w="+ke)}for(var be=0;be<v.length;be++)Z.url+="&"+v[be].name+"="+v[be].value;return Z}function bt(O,K,Z){O[K]=O[K]||{},O[K][p.identifier]=Z}function Hr(O,K,Z,re){if(O&&O.payloadBlob&&O.payloadBlob.length>0){var ce=!!q.sendHook,ke=m[O.sendType];!W(O.sendType)&&O.isBeacon&&O.sendReason===2&&(ke=m[2]||m[3]||ke);var be=T;(O.isBeacon||ke._transport===3)&&(be=!1);var N=dt(O,be);be=be||N.useHdrs;var H=Ar();Qt(h,function(){return"HttpManager:_doPayloadSend"},function(){for(var j=0;j<O.batches.length;j++)for(var ie=O.batches[j],ue=ie.events(),ye=0;ye<ue.length;ye++){var Je=ue[ye];if(b){var ct=Je.timings=Je.timings||{};bt(ct,"sendEventStart",H),bt(ct,"serializationStart",K),bt(ct,"serializationCompleted",Z)}Je[cL]>0?Je[cL]++:Je[cL]=1}Ji(O.batches,1e3+(re||0),O.sendType,!0);var Nt={data:O.payloadBlob,urlString:N.url,headers:N.hdrs,_thePayload:O,_sendReason:re,timeout:_,disableXhrSync:A,disableFetchKeepAlive:P};be&&($8(Nt.headers,eL)||(Nt.headers[eL]=w8),$8(Nt.headers,OS)||(Nt.headers[OS]=ZN));var Vg=null;ke&&(Vg=function(vE){c.firstRequestSent();var Wg=function(tR,yue){mE(tR,yue,O,re)},Rs=O.isTeardown||O.isSync;try{ke.sendPOST(vE,Wg,Rs),q.sendListener&&q.sendListener(Nt,vE,Rs,O.isBeacon)}catch(tR){ls(f,"Unexpected exception sending payload. Ex:"+Mt(tR)),L(Wg,0,{})}}),Qt(h,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Vg)if(O.sendType===0&&d++,ce&&!O.isBeacon&&ke._transport!==3){var vE={data:Nt.data,urlString:Nt.urlString,headers:Wu({},Nt.headers),timeout:Nt.timeout,disableXhrSync:Nt.disableXhrSync,disableFetchKeepAlive:Nt.disableFetchKeepAlive},Wg=!1;Qt(h,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{q.sendHook(vE,function(Rs){Wg=!0,!g&&!Rs._thePayload&&(Rs._thePayload=Rs._thePayload||Nt._thePayload,Rs._sendReason=Rs._sendReason||Nt._sendReason),Vg(Rs)},O.isSync||O.isTeardown)}catch{Wg||Vg(Nt)}})}else Vg(Nt)})},function(){return{thePayload:O,serializationStart:K,serializationCompleted:Z,sendReason:re}},O.isSync)}O.sizeExceed&&O.sizeExceed.length>0&&Ji(O.sizeExceed,8003,O.sendType),O.failedEvts&&O.failedEvts.length>0&&Ji(O.failedEvts,8002,O.sendType)}function Gp(O,K){b&&ae(O,function(Z){var re=Z.timings=Z.timings||{};bt(re,"sendEventCompleted",K)})}function mE(O,K,Z,re){var ce=9e3,ke=null,be=!1,N=!1;try{var H=!0;if(typeof O!==yn){if(K){c.setClockSkew(K[nL]);var j=K[tL]||K["kill-duration-seconds"];ae(a.setKillSwitchTenants(K[E8],j),function(ue){ae(Z.batches,function(ye){if(ye.iKey()===ue){ke=ke||[];var Je=ye.split(0);Z.numEvents-=Je.count(),ke.push(Je)}})})}if(O==200||O==204){ce=200;return}(!D8(O)||Z.numEvents<=0)&&(H=!1),ce=9e3+O%1e3}if(H){ce=100;var ie=Z.retryCnt;Z.sendType===0&&(ie<r?(be=!0,jg(function(){Z.sendType===0&&d--,rn(Z.batches,ie+1,Z.isTeardown,R?2:Z.sendType,5)},R,qS(ie))):(N=!0,R&&(ce=8001)))}}finally{be||(c.setClockSkew(),$g(Z,ce,re,N)),Ji(ke,8004,Z.sendType)}}function $g(O,K,Z,re){try{re&&p._backOffTransmission(),K===200&&(!re&&!O.isSync&&p._clearBackOff(),hE(O.batches)),Ji(O.batches,K,O.sendType,!0)}finally{O.sendType===0&&(d--,Z!==5&&q.sendQueuedRequests(O.sendType,Z))}}function hE(O){if(b){var K=Ar();ae(O,function(Z){Z&&Z.count()>0&&Gp(Z.events(),K)})}}function jg(O,K,Z){K?O():o.set(O,Z)}function eR(O){var K={};if(Ht(O)){var Z=Tt(O).split(/[\r\n]+/);ae(Z,function(re){if(re){var ce=re.indexOf(": ");if(ce!==-1){var ke=Tt(re.substring(0,ce)).toLowerCase(),be=Tt(re.substring(ce+1));K[ke]=be}else K[Tt(re)]=1}})}return K}function gE(O){for(var K=0;K<O.batches.length;K++){var Z=O.batches[K].Msfpc();if(Z)return encodeURIComponent(Z)}return ys}function Hg(O){var K=q._responseHandlers;try{for(var Z=0;Z<K.length;Z++)try{K[Z](O)}catch(ce){Dt(f,1,519,"Response handler failed: "+ce)}if(O){var re=JSON.parse(O);En(re.webResult)&&En(re.webResult[eh])&&C.set("MSFPC",re.webResult[eh],365*86400)}}catch{}}function Ji(O,K,Z,re){if(O&&O.length>0&&i){var ce=i[Bg(K)];if(ce){var ke=Z!==0;Qt(h,function(){return"HttpManager:_sendBatchesNotification"},function(){jg(function(){try{ce.call(i,O,K,ke,Z)}catch(be){Dt(f,1,74,"send request notification failed: "+be)}},re||ke,0)},function(){return{batches:je(O),reason:K,isSync:ke,sendSync:re,sendType:Z}},!ke)}}}function Bg(O){var K=E_e[O];return En(K)||(K=x8,O>=9e3&&O<=9999?K=y8:O>=8e3&&O<=8999?K=kS:O>=1e3&&O<=1999&&(K=v8)),K}})}return e.__ieDyn=1,e}()});function b_e(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout(e,t,n)}function __e(e){clearTimeout(e)}function yx(e,t){return{set:e||b_e,clear:t||__e}}var V8=S(()=>{});var C_e,W8,S_e,G8,z8,T_e,Y8,I_e,Wd,jS,K8,X8,P_e,R_e,Q8,J8=S(()=>{ni();Yn();jd();QN();sL();B8();vx();aL();V8();C_e=.25,W8=500,S_e=20,G8=6,z8=2,T_e=4,Y8=2,I_e=1,Wd="eventsDiscarded",jS="overrideInstrumentationKey",K8="maxEventRetryAttempts",X8="maxUnloadEventRetryAttempts",P_e="addUnloadCb",R_e=function(e){es(t,e);function t(){var n=e.call(this)||this;n.identifier="PostChannel",n.priority=1011,n.version="3.2.9";var r,i=!1,o=[],s=null,a=!1,u=0,c=500,l=0,d=1e4,p={},f=Hd,m=null,h=null,g=0,v=0,y,x,E={},b,C,R=-1,T,_=!0,A=!1,P=G8,I=z8,F,q;return Xe(t,n,function($,M){se(),$._getDbgPlgTargets=function(){return[x]},$.initialize=function(N,H,j){Qt(H,function(){return"PostChannel:initialize"},function(){var ie=H;M.initialize(N,H,j);try{var ue=!!H[P_e];F=ac(ps($.identifier),H.evtNamespace&&H.evtNamespace());var ye=$._getTelCtx();N.extensionConfig[$.identifier]=N.extensionConfig[$.identifier]||{},r=ye.getExtCfg($.identifier),q=yx(r.setTimeoutOverride,r.clearTimeoutOverride),_=!r.disableOptimizeObj&&IS(),k(ie),r.eventsLimitInMem>0&&(d=r.eventsLimitInMem),r.immediateEventLimit>0&&(c=r.immediateEventLimit),r.autoFlushEventsLimit>0&&(b=r.autoFlushEventsLimit),si(r[K8])&&(P=r[K8]),si(r[X8])&&(I=r[X8]),be(),r.httpXHROverride&&r.httpXHROverride.sendPOST&&(y=r.httpXHROverride),En(N.anonCookieName)&&x.addQueryStringParameter("anoncknm",N.anonCookieName),x.sendHook=r.payloadPreprocessor,x.sendListener=r.payloadListener;var Je=r.overrideEndpointUrl?r.overrideEndpointUrl:N.endpointUrl;$._notificationManager=H.getNotifyMgr(),x.initialize(Je,$.core,$,y,r);var ct=N.disablePageUnloadEvents||[];Od(U,ct,F),Vm(U,ct,F),Wm(V,N.disablePageShowEvents,F)}catch(Nt){throw $.setInitialized(!1),Nt}},function(){return{coreConfig:N,core:H,extensions:j}})},$.processTelemetry=function(N,H){Ud(N,$.identifier),H=$._getTelCtx(H);var j=H.getExtCfg($.identifier),ie=!!r.disableTelemetry;j&&(ie=ie||!!j.disableTelemetry);var ue=N;!ie&&!i&&(r[jS]&&(ue.iKey=r[jS]),j&&j[jS]&&(ue.iKey=j[jS]),L(ue,!0),A?je(2,2):z()),$.processNext(ue,H)},$._doTeardown=function(N,H){je(2,2),i=!0,x.teardown(),Xy(null,F),Qy(null,F),Jy(null,F),se()};function k(N){var H=N.getWParam;N.getWParam=function(){var j=0;return r.ignoreMc1Ms0CookieProcessing&&(j=j|2),j|H()}}function U(N){var H=N||Xs().event;H.type!=="beforeunload"&&(A=!0,x.setUnloading(A)),je(2,2)}function V(N){A=!1,x.setUnloading(A)}function L(N,H){if(N.sendAttempt||(N.sendAttempt=0),N.latency||(N.latency=1),N.ext&&N.ext[oL]&&delete N.ext[oL],N.ext&&N.ext[US]&&N.ext[US].id&&delete N.ext[US].id,_&&(Ud,N.ext=nc(N.ext),N.baseData&&(N.baseData=nc(N.baseData)),N.data&&(N.data=nc(N.data))),N.sync){if(g||a)N.latency=3,N.sync=!1;else if(x){_&&(N=nc(N)),x.sendSynchronousBatch(th.create(N.iKey,[N]),N.sync===!0?1:N.sync,3);return}}var j=N.latency,ie=l,ue=d;j===4&&(ie=u,ue=c);var ye=!1;if(ie<ue)ye=!Hr(N,H);else{var Je=1,ct=S_e;j===4&&(Je=4,ct=1),ye=!0,Gp(N.iKey,N.latency,Je,ct)&&(ye=!Hr(N,H))}ye&&Bg(Wd,[N],as.QueueFull)}$.setEventQueueLimits=function(N,H){d=N>0?N:1e4,b=H>0?H:0,be();var j=l>N;if(!j&&C>0)for(var ie=1;!j&&ie<=3;ie++){var ue=E[ie];ue&&ue.batches&&ae(ue.batches,function(ye){ye&&ye.count()>=C&&(j=!0)})}bt(!0,j)},$.pause=function(){Ue(),a=!0,x.pause()},$.resume=function(){a=!1,x.resume(),z()},$.addResponseHandler=function(N){x._responseHandlers.push(N)},$._loadTransmitProfiles=function(N){eR(),St(N,function(H,j){var ie=j.length;if(ie>=2){var ue=ie>2?j[2]:0;if(j.splice(0,ie-2),j[1]<0&&(j[0]=-1),j[1]>0&&j[0]>0){var ye=j[0]/j[1];j[0]=Math.ceil(ye)*j[1]}ue>=0&&j[1]>=0&&ue>j[1]&&(ue=j[1]),j.push(ue),p[H]=j}})},$.flush=function(N,H,j){if(N===void 0&&(N=!0),!a)if(j=j||1,N)s==null?(Ue(),$g(1,0,j),s=_e(function(){s=null,hE(H,j)},0)):o.push(H);else{var ie=Ue();G(1,1,j),H!=null&&H(),ie&&z()}},$.setMsaAuthTicket=function(N){x.addHeader(gx,N)},$.hasEvents=W,$._setTransmitProfile=function(N){f!==N&&p[N]!==void 0&&(Ue(),f=N,z())};function G(N,H,j){var ie=$g(N,H,j);return x.sendQueuedRequests(H,j),ie}function W(){return l>0}function z(){if(R>=0&&$g(R,0,T)&&x.sendQueuedRequests(0,T),u>0&&!h&&!a){var N=p[f][2];N>=0&&(h=_e(function(){h=null,G(4,0,1),z()},N))}var H=p[f][1];!m&&!s&&H>=0&&!a&&(W()?m=_e(function(){m=null,G(v===0?3:1,0,1),v++,v%=2,z()},H):v=0)}$._backOffTransmission=function(){g<T_e&&(g++,Ue(),z())},$._clearBackOff=function(){g&&(g=0,Ue(),z())};function se(){r=null,i=!1,o=[],s=null,a=!1,u=0,c=500,l=0,d=1e4,p={},f=Hd,m=null,h=null,g=0,v=0,y=null,E={},b=void 0,C=0,R=-1,T=null,_=!0,A=!1,P=G8,I=z8,F=null,q=yx(),x=new H8(W8,Y8,I_e,{requeue:Hg,send:K,sent:Z,drop:re,rspFail:ce,oth:ke},q),gE(),rn(),be()}function _e(N,H){H===0&&g&&(H=1);var j=1e3;return g&&(j=qS(g-1)),q.set(N,H*j)}function Ue(){return m!==null?(q.clear(m),m=null,v=0,!0):!1}function je(N,H){Ue(),s&&(q.clear(s),s=null),a||G(1,N,H)}function rn(){E[4]={batches:[],iKeyMap:{}},E[3]={batches:[],iKeyMap:{}},E[2]={batches:[],iKeyMap:{}},E[1]={batches:[],iKeyMap:{}}}function dt(N,H,j){var ie=E[H];ie||(H=1,ie=E[H]);var ue=ie.iKeyMap[N];return!ue&&j&&(ue=th.create(N),ie.batches.push(ue),ie.iKeyMap[N]=ue),ue}function bt(N,H){x.canSendRequest()&&!g&&(b>0&&l>b&&(H=!0),H&&s==null&&$.flush(N,null,20))}function Hr(N,H){_&&(N=nc(N));var j=N.latency,ie=dt(N.iKey,j,!0);return ie.addEvent(N)?(j!==4?(l++,H&&N.sendAttempt===0&&bt(!N.sync,C>0&&ie.count()>=C)):u++,!0):!1}function Gp(N,H,j,ie){for(;j<=H;){var ue=dt(N,H,!0);if(ue&&ue.count()>0){var ye=ue.split(0,ie),Je=ye.count();if(Je>0)return j===4?u-=Je:l-=Je,O(Wd,[ye],as.QueueFull),!0}j++}return mE(),!1}function mE(){for(var N=0,H=0,j=function(ue){var ye=E[ue];ye&&ye.batches&&ae(ye.batches,function(Je){ue===4?N+=Je.count():H+=Je.count()})},ie=1;ie<=4;ie++)j(ie);l=H,u=N}function $g(N,H,j){var ie=!1,ue=H===0;return!ue||x.canSendRequest()?Qt($.core,function(){return"PostChannel._queueBatches"},function(){for(var ye=[],Je=4;Je>=N;){var ct=E[Je];ct&&ct.batches&&ct.batches.length>0&&(ae(ct.batches,function(Nt){x.addBatch(Nt)?ie=ie||Nt&&Nt.count()>0:ye=ye.concat(Nt.events()),Je===4?u-=Nt.count():l-=Nt.count()}),ct.batches=[],ct.iKeyMap={}),Je--}ye.length>0&&Bg(Wd,ye,as.KillSwitch),ie&&R>=N&&(R=-1,T=0)},function(){return{latency:N,sendType:H,sendReason:j}},!ue):(R=R>=0?Math.min(R,N):N,T=Math.max(T,j)),ie}function hE(N,H){G(1,0,H),mE(),jg(function(){N&&N(),o.length>0?s=_e(function(){s=null,hE(o.shift(),H)},0):(s=null,z())})}function jg(N){x.isCompletelyIdle()?N():s=_e(function(){s=null,jg(N)},C_e)}function eR(){Ue(),gE(),f=Hd,z()}function gE(){p={},p[Hd]=[2,1,0],p[RS]=[6,3,0],p[AS]=[18,9,0]}function Hg(N,H){var j=[],ie=P;A&&(ie=I),ae(N,function(ue){ue&&ue.count()>0&&ae(ue.events(),function(ye){ye&&(ye.sync&&(ye.latency=4,ye.sync=!1),ye.sendAttempt<ie?(Ud(ye,$.identifier),L(ye,!1)):j.push(ye))})}),j.length>0&&Bg(Wd,j,as.NonRetryableStatus),A&&je(2,2)}function Ji(N,H){var j=$._notificationManager||{},ie=j[N];if(ie)try{ie.apply(j,H)}catch(ue){Dt($.diagLog(),1,74,N+" notification failed: "+ue)}}function Bg(N,H){for(var j=[],ie=2;ie<arguments.length;ie++)j[ie-2]=arguments[ie];H&&H.length>0&&Ji(N,[H].concat(j))}function O(N,H){for(var j=[],ie=2;ie<arguments.length;ie++)j[ie-2]=arguments[ie];H&&H.length>0&&ae(H,function(ue){ue&&ue.count()>0&&Ji(N,[ue.events()].concat(j))})}function K(N,H,j){N&&N.length>0&&Ji("eventsSendRequest",[H>=1e3&&H<=1999?H-1e3:0,j!==!0])}function Z(N,H){O("eventsSent",N,H),z()}function re(N,H){O(Wd,N,H>=8e3&&H<=8999?H-8e3:as.Unknown)}function ce(N){O(Wd,N,as.NonRetryableStatus),z()}function ke(N,H){O(Wd,N,as.Unknown),z()}function be(){!r||!r.disableAutoBatchFlushLimit?C=Math.max(W8*(Y8+1),d/6):C=0}qi($,"_setTimeoutOverride",function(){return q.set},function(N){q=yx(N,q.clear)}),qi($,"_clearTimeoutOverride",function(){return q.clear},function(N){q=yx(q.set,N)})}),n}return t.__ieDyn=1,t}(Ld),Q8=R_e});var Z8={};As(Z8,{BE_PROFILE:()=>AS,NRT_PROFILE:()=>RS,PostChannel:()=>Q8,RT_PROFILE:()=>Hd});var e9=S(()=>{J8();QN()});var n9=w(Js=>{"use strict";var A_e=Js&&Js.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),D_e=Js&&Js.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),t9=Js&&Js.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&A_e(t,e,n);return D_e(t,e),t};Object.defineProperty(Js,"__esModule",{value:!0});Js.oneDataSystemClientFactory=void 0;var k_e=async(e,t,n)=>{let r=await Promise.resolve().then(()=>t9((jd(),yi(h8)))),i=await Promise.resolve().then(()=>t9((e9(),yi(Z8)))),o=new r.AppInsightsCore,s=new i.PostChannel,a={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(n){a.extensionConfig={};let l={alwaysUseXhrOverride:!0,httpXHROverride:n};a.extensionConfig[s.identifier]=l}let c=t.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(a,[]),o.addTelemetryInitializer(l=>{c&&(l.ext=l.ext??{},l.ext.utc=l.ext.utc??{},l.ext.utc.flags=8462029)}),o},O_e=async(e,t,n)=>{let r=await k_e(e,t,n);return{logEvent:(o,s)=>{try{r==null||r.track({name:o,baseData:{name:o,properties:s==null?void 0:s.properties,measurements:s==null?void 0:s.measurements}})}catch(a){throw new Error(`Failed to log event to app insights!
`+a.message)}},flush:async()=>{try{r==null||r.unload()}catch(o){throw new Error(`Failed to flush app insights!
`+o.message)}}}};Js.oneDataSystemClientFactory=O_e});var fL=w($e=>{"use strict";var dL=$e&&$e.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},pL=$e&&$e.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty($e,"__esModule",{value:!0});$e.getShallowFileSize=$e.getShallowDirectorySizeSync=$e.getShallowDirectorySize=$e.confirmDirExists=$e.unlinkAsync=$e.readdirAsync=$e.readFileAsync=$e.writeFileAsync=$e.appendFileAsync=$e.accessAsync=$e.mkdirAsync=$e.lstatAsync=$e.statAsync=void 0;var xs=require("fs"),r9=require("path"),hc=require("util");$e.statAsync=hc.promisify(xs.stat);$e.lstatAsync=hc.promisify(xs.lstat);$e.mkdirAsync=hc.promisify(xs.mkdir);$e.accessAsync=hc.promisify(xs.access);$e.appendFileAsync=hc.promisify(xs.appendFile);$e.writeFileAsync=hc.promisify(xs.writeFile);$e.readFileAsync=hc.promisify(xs.readFile);$e.readdirAsync=hc.promisify(xs.readdir);$e.unlinkAsync=hc.promisify(xs.unlink);var N_e=function(e){return dL(void 0,void 0,void 0,function(){var t,n,r;return pL(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,$e.lstatAsync(e)];case 1:if(t=i.sent(),!t.isDirectory())throw new Error("Path existed but was not a directory");return[3,7];case 2:if(n=i.sent(),!(n&&n.code==="ENOENT"))return[3,6];i.label=3;case 3:return i.trys.push([3,5,,6]),[4,$e.mkdirAsync(e)];case 4:return i.sent(),[3,6];case 5:if(r=i.sent(),r&&r.code!=="EEXIST")throw r;return[3,6];case 6:return[3,7];case 7:return[2]}})})};$e.confirmDirExists=N_e;var L_e=function(e){return dL(void 0,void 0,void 0,function(){var t,n,r,i,o,s;return pL(this,function(a){switch(a.label){case 0:return[4,$e.readdirAsync(e)];case 1:t=a.sent(),n=0,r=0,i=t,a.label=2;case 2:return r<i.length?(o=i[r],[4,$e.statAsync(r9.join(e,o))]):[3,5];case 3:s=a.sent(),s.isFile()&&(n+=s.size),a.label=4;case 4:return r++,[3,2];case 5:return[2,n]}})})};$e.getShallowDirectorySize=L_e;var F_e=function(e){for(var t=xs.readdirSync(e),n=0,r=0;r<t.length;r++)n+=xs.statSync(r9.join(e,t[r])).size;return n};$e.getShallowDirectorySizeSync=F_e;var M_e=function(e){return dL(void 0,void 0,void 0,function(){var t;return pL(this,function(n){switch(n.label){case 0:return[4,$e.statAsync(e)];case 1:return t=n.sent(),t.isFile()?[2,t.size]:[2]}})})};$e.getShallowFileSize=M_e});var s9=w((zd,o9)=>{"use strict";var mL=zd&&zd.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},hL=zd&&zd.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},i9=zd&&zd.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},U_e=require("fs"),q_e=require("os"),Gd=require("path"),Zs=fL(),$_e=function(){function e(){var t=this;this.TAG="Logger",this._cleanupTimeOut=60*30*1e3,this._logToFile=!1,this._logToConsole=!0;var n=process.env.APPLICATIONINSIGHTS_LOG_DESTINATION;n=="file+console"&&(this._logToFile=!0),n=="file"&&(this._logToFile=!0,this._logToConsole=!1),this.maxSizeBytes=5e4,this.maxHistory=1,this._logFileName="applicationinsights.log";var r=process.env.APPLICATIONINSIGHTS_LOGDIR;r?Gd.isAbsolute(r)?this._tempDir=r:this._tempDir=Gd.join(process.cwd(),r):this._tempDir=Gd.join(q_e.tmpdir(),"appInsights-node"),this._fileFullPath=Gd.join(this._tempDir,this._logFileName),this._backUpNameFormat="."+this._logFileName,this._logToFile&&(e._fileCleanupTimer||(e._fileCleanupTimer=setInterval(function(){t._fileCleanupTask()},this._cleanupTimeOut),e._fileCleanupTimer.unref()))}return e.prototype.info=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t?i9([t],n):n;this._logToFile&&this._storeToDisk(i),this._logToConsole&&console.info.apply(console,i)},e.prototype.warning=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t?i9([t],n):n;this._logToFile&&this._storeToDisk(i),this._logToConsole&&console.warn.apply(console,i)},e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype._storeToDisk=function(t){return mL(this,void 0,void 0,function(){var n,r,i,o,s,a;return hL(this,function(u){switch(u.label){case 0:n=t+`\r
`,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Zs.confirmDirExists(this._tempDir)];case 2:return u.sent(),[3,4];case 3:return r=u.sent(),console.log(this.TAG,"Failed to create directory for log file: "+(r&&r.message)),[2];case 4:return u.trys.push([4,6,,11]),[4,Zs.accessAsync(this._fileFullPath,U_e.constants.F_OK)];case 5:return u.sent(),[3,11];case 6:i=u.sent(),u.label=7;case 7:return u.trys.push([7,9,,10]),[4,Zs.appendFileAsync(this._fileFullPath,n)];case 8:return u.sent(),[2];case 9:return o=u.sent(),console.log(this.TAG,"Failed to put log into file: "+(i&&i.message)),[2];case 10:return[3,11];case 11:return u.trys.push([11,17,,18]),[4,Zs.getShallowFileSize(this._fileFullPath)];case 12:return s=u.sent(),s>this.maxSizeBytes?[4,this._createBackupFile(n)]:[3,14];case 13:return u.sent(),[3,16];case 14:return[4,Zs.appendFileAsync(this._fileFullPath,n)];case 15:u.sent(),u.label=16;case 16:return[3,18];case 17:return a=u.sent(),console.log(this.TAG,"Failed to create backup file: "+(a&&a.message)),[3,18];case 18:return[2]}})})},e.prototype._createBackupFile=function(t){return mL(this,void 0,void 0,function(){var n,r,i;return hL(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,4,5]),[4,Zs.readFileAsync(this._fileFullPath)];case 1:return n=o.sent(),r=Gd.join(this._tempDir,new Date().getTime()+"."+this._logFileName),[4,Zs.writeFileAsync(r,n)];case 2:return o.sent(),[3,5];case 3:return i=o.sent(),console.log("Failed to generate backup log file",i),[3,5];case 4:return Zs.writeFileAsync(this._fileFullPath,t),[7];case 5:return[2]}})})},e.prototype._fileCleanupTask=function(){return mL(this,void 0,void 0,function(){var t,n,r,i,o,s=this;return hL(this,function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),[4,Zs.readdirAsync(this._tempDir)];case 1:t=a.sent(),t=t.filter(function(u){return Gd.basename(u).indexOf(s._backUpNameFormat)>-1}),t.sort(function(u,c){var l=new Date(parseInt(u.split(s._backUpNameFormat)[0])),d=new Date(parseInt(c.split(s._backUpNameFormat)[0]));if(l<d)return-1;if(l>=d)return 1}),n=t.length,r=0,a.label=2;case 2:return r<n-this.maxHistory?(i=Gd.join(this._tempDir,t[r]),[4,Zs.unlinkAsync(i)]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:return o=a.sent(),console.log(this.TAG,"Failed to cleanup log files: "+(o&&o.message)),[3,7];case 7:return[2]}})})},e._fileCleanupTimer=null,e}();o9.exports=$_e});var Vt=w((x5e,c9)=>{"use strict";var a9=s9(),j_e=function(){function e(){}return e.info=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.enableDebug&&a9.getInstance().info(this.TAG+t,n)},e.warn=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.disableWarnings||a9.getInstance().warning(this.TAG+t,n)},e.enableDebug=!1,e.disableWarnings=!1,e.TAG="ApplicationInsights:",e}();c9.exports=j_e});var VS=w(BS=>{"use strict";Object.defineProperty(BS,"__esModule",{value:!0});BS.JsonConfig=void 0;var H_e=require("fs"),HS=require("path"),u9=Vt(),B_e="APPLICATIONINSIGHTS_CONFIGURATION_FILE",V_e="APPLICATIONINSIGHTS_CONNECTION_STRING",l9="APPSETTING_",d9="APPINSIGHTS_INSTRUMENTATIONKEY",p9="APPINSIGHTS_INSTRUMENTATION_KEY",W_e="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",G_e="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",z_e="http_proxy",Y_e="https_proxy",K_e="APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL",X_e="APPLICATION_INSIGHTS_NO_STATSBEAT",Q_e="APPLICATION_INSIGHTS_NO_HTTP_AGENT_KEEP_ALIVE",J_e="APPLICATION_INSIGHTS_NO_PATCH_MODULES",Z_e="APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_ENABLED",eCe="APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_CONNECTION_STRING",tCe="APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_SOURCE",nCe="APPLICATIONINSIGHTS_WEB_SNIPPET_ENABLED",rCe="APPLICATIONINSIGHTS_WEB_SNIPPET_CONNECTION_STRING",iCe=function(){function e(){this.connectionString=process.env[V_e],this.instrumentationKey=process.env[d9]||process.env[l9+d9]||process.env[p9]||process.env[l9+p9],!this.connectionString&&this.instrumentationKey&&u9.warn("APPINSIGHTS_INSTRUMENTATIONKEY is in path of deprecation, please use APPLICATIONINSIGHTS_CONNECTION_STRING env variable to setup the SDK."),this.disableAllExtendedMetrics=!!process.env[G_e],this.extendedMetricDisablers=process.env[W_e],this.proxyHttpUrl=process.env[z_e],this.proxyHttpsUrl=process.env[Y_e],this.noDiagnosticChannel=!!process.env[K_e],this.disableStatsbeat=!!process.env[X_e],this.noHttpAgentKeepAlive=!!process.env[Q_e],this.noPatchModules=process.env[J_e]||"",this.enableWebInstrumentation=!!process.env[Z_e]||!!process.env[nCe],this.webInstrumentationSrc=process.env[tCe]||"",this.webInstrumentationConnectionString=process.env[eCe]||process.env[rCe]||"",this.enableAutoWebSnippetInjection=this.enableWebInstrumentation,this.webSnippetConnectionString=this.webInstrumentationConnectionString,this._loadJsonFile()}return e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype._loadJsonFile=function(){var t="applicationinsights.json",n=HS.join(__dirname,"../../"),r=HS.join(n,t),i=process.env[B_e];i&&(HS.isAbsolute(i)?r=i:r=HS.join(n,i));try{var o=JSON.parse(H_e.readFileSync(r,"utf8"));o.disableStatsbeat!=null&&(this.disableStatsbeat=o.disableStatsbeat),o.disableAllExtendedMetrics!=null&&(this.disableAllExtendedMetrics=o.disableStatsbeat),o.noDiagnosticChannel!=null&&(this.noDiagnosticChannel=o.noDiagnosticChannel),o.noHttpAgentKeepAlive!=null&&(this.noHttpAgentKeepAlive=o.noHttpAgentKeepAlive),o.connectionString!=null&&(this.connectionString=o.connectionString),o.extendedMetricDisablers!=null&&(this.extendedMetricDisablers=o.extendedMetricDisablers),o.noDiagnosticChannel!=null&&(this.noDiagnosticChannel=o.noDiagnosticChannel),o.proxyHttpUrl!=null&&(this.proxyHttpUrl=o.proxyHttpUrl),o.proxyHttpsUrl!=null&&(this.proxyHttpsUrl=o.proxyHttpsUrl),o.proxyHttpsUrl!=null&&(this.proxyHttpsUrl=o.proxyHttpsUrl),o.noPatchModules!=null&&(this.noPatchModules=o.noPatchModules),o.enableAutoWebSnippetInjection!=null&&(this.enableWebInstrumentation=o.enableAutoWebSnippetInjection,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation),o.enableWebInstrumentation!=null&&(this.enableWebInstrumentation=o.enableWebInstrumentation,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation),o.webSnippetConnectionString!=null&&(this.webInstrumentationConnectionString=o.webSnippetConnectionString,this.webSnippetConnectionString=this.webInstrumentationConnectionString),o.webInstrumentationConnectionString!=null&&(this.webInstrumentationConnectionString=o.webInstrumentationConnectionString,this.webSnippetConnectionString=this.webInstrumentationConnectionString),o.webInstrumentationConfig!=null&&(this.webInstrumentationConfig=o.webInstrumentationConfig),o.webInstrumentationSrc!=null&&(this.webInstrumentationSrc=o.webInstrumentationSrc),this.endpointUrl=o.endpointUrl,this.maxBatchSize=o.maxBatchSize,this.maxBatchIntervalMs=o.maxBatchIntervalMs,this.disableAppInsights=o.disableAppInsights,this.samplingPercentage=o.samplingPercentage,this.correlationIdRetryIntervalMs=o.correlationIdRetryIntervalMs,this.correlationHeaderExcludedDomains=o.correlationHeaderExcludedDomains,this.ignoreLegacyHeaders=o.ignoreLegacyHeaders,this.distributedTracingMode=o.distributedTracingMode,this.enableAutoCollectExternalLoggers=o.enableAutoCollectExternalLoggers,this.enableAutoCollectConsole=o.enableAutoCollectConsole,this.enableAutoCollectExceptions=o.enableAutoCollectExceptions,this.enableAutoCollectPerformance=o.enableAutoCollectPerformance,this.enableAutoCollectExtendedMetrics=o.enableAutoCollectExtendedMetrics,this.enableAutoCollectPreAggregatedMetrics=o.enableAutoCollectPreAggregatedMetrics,this.enableAutoCollectHeartbeat=o.enableAutoCollectHeartbeat,this.enableAutoCollectRequests=o.enableAutoCollectRequests,this.enableAutoCollectDependencies=o.enableAutoCollectDependencies,this.enableAutoDependencyCorrelation=o.enableAutoDependencyCorrelation,this.enableAutoCollectIncomingRequestAzureFunctions=o.enableAutoCollectIncomingRequestAzureFunctions,this.enableUseAsyncHooks=o.enableUseAsyncHooks,this.enableUseDiskRetryCaching=o.enableUseDiskRetryCaching,this.enableResendInterval=o.enableResendInterval,this.enableMaxBytesOnDisk=o.enableMaxBytesOnDisk,this.enableInternalDebugLogging=o.enableInternalDebugLogging,this.enableInternalWarningLogging=o.enableInternalWarningLogging,this.enableSendLiveMetrics=o.enableSendLiveMetrics,this.quickPulseHost=o.quickPulseHost}catch(s){u9.info("Missing or invalid JSON config file: ",s)}},e}();BS.JsonConfig=iCe});var R9=w((Ie,P9)=>{Ie=P9.exports=ze;var pt;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?pt=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:pt=function(){};Ie.SEMVER_SPEC_VERSION="2.0.0";var vL=256,WS=Number.MAX_SAFE_INTEGER||9007199254740991,gL=16,vt=Ie.re=[],X=Ie.src=[],Ve=0,rh=Ve++;X[rh]="0|[1-9]\\d*";var ih=Ve++;X[ih]="[0-9]+";var EL=Ve++;X[EL]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var m9=Ve++;X[m9]="("+X[rh]+")\\.("+X[rh]+")\\.("+X[rh]+")";var h9=Ve++;X[h9]="("+X[ih]+")\\.("+X[ih]+")\\.("+X[ih]+")";var yL=Ve++;X[yL]="(?:"+X[rh]+"|"+X[EL]+")";var xL=Ve++;X[xL]="(?:"+X[ih]+"|"+X[EL]+")";var bL=Ve++;X[bL]="(?:-("+X[yL]+"(?:\\."+X[yL]+")*))";var _L=Ve++;X[_L]="(?:-?("+X[xL]+"(?:\\."+X[xL]+")*))";var wL=Ve++;X[wL]="[0-9A-Za-z-]+";var Ex=Ve++;X[Ex]="(?:\\+("+X[wL]+"(?:\\."+X[wL]+")*))";var CL=Ve++,g9="v?"+X[m9]+X[bL]+"?"+X[Ex]+"?";X[CL]="^"+g9+"$";var SL="[v=\\s]*"+X[h9]+X[_L]+"?"+X[Ex]+"?",TL=Ve++;X[TL]="^"+SL+"$";var ah=Ve++;X[ah]="((?:<|>)?=?)";var GS=Ve++;X[GS]=X[ih]+"|x|X|\\*";var zS=Ve++;X[zS]=X[rh]+"|x|X|\\*";var Yd=Ve++;X[Yd]="[v=\\s]*("+X[zS]+")(?:\\.("+X[zS]+")(?:\\.("+X[zS]+")(?:"+X[bL]+")?"+X[Ex]+"?)?)?";var sh=Ve++;X[sh]="[v=\\s]*("+X[GS]+")(?:\\.("+X[GS]+")(?:\\.("+X[GS]+")(?:"+X[_L]+")?"+X[Ex]+"?)?)?";var v9=Ve++;X[v9]="^"+X[ah]+"\\s*"+X[Yd]+"$";var y9=Ve++;X[y9]="^"+X[ah]+"\\s*"+X[sh]+"$";var x9=Ve++;X[x9]="(?:^|[^\\d])(\\d{1,"+gL+"})(?:\\.(\\d{1,"+gL+"}))?(?:\\.(\\d{1,"+gL+"}))?(?:$|[^\\d])";var ZS=Ve++;X[ZS]="(?:~>?)";var YS=Ve++;X[YS]="(\\s*)"+X[ZS]+"\\s+";vt[YS]=new RegExp(X[YS],"g");var oCe="$1~",w9=Ve++;X[w9]="^"+X[ZS]+X[Yd]+"$";var E9=Ve++;X[E9]="^"+X[ZS]+X[sh]+"$";var eT=Ve++;X[eT]="(?:\\^)";var KS=Ve++;X[KS]="(\\s*)"+X[eT]+"\\s+";vt[KS]=new RegExp(X[KS],"g");var sCe="$1^",b9=Ve++;X[b9]="^"+X[eT]+X[Yd]+"$";var _9=Ve++;X[_9]="^"+X[eT]+X[sh]+"$";var IL=Ve++;X[IL]="^"+X[ah]+"\\s*("+SL+")$|^$";var PL=Ve++;X[PL]="^"+X[ah]+"\\s*("+g9+")$|^$";var xx=Ve++;X[xx]="(\\s*)"+X[ah]+"\\s*("+SL+"|"+X[Yd]+")";vt[xx]=new RegExp(X[xx],"g");var aCe="$1$2$3",C9=Ve++;X[C9]="^\\s*("+X[Yd]+")\\s+-\\s+("+X[Yd]+")\\s*$";var S9=Ve++;X[S9]="^\\s*("+X[sh]+")\\s+-\\s+("+X[sh]+")\\s*$";var T9=Ve++;X[T9]="(<|>)?=?\\s*\\*";for(zu=0;zu<Ve;zu++)pt(zu,X[zu]),vt[zu]||(vt[zu]=new RegExp(X[zu]));var zu;Ie.parse=Kd;function Kd(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof ze)return e;if(typeof e!="string"||e.length>vL)return null;var n=t.loose?vt[TL]:vt[CL];if(!n.test(e))return null;try{return new ze(e,t)}catch{return null}}Ie.valid=cCe;function cCe(e,t){var n=Kd(e,t);return n?n.version:null}Ie.clean=uCe;function uCe(e,t){var n=Kd(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}Ie.SemVer=ze;function ze(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof ze){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>vL)throw new TypeError("version is longer than "+vL+" characters");if(!(this instanceof ze))return new ze(e,t);pt("SemVer",e,t),this.options=t,this.loose=!!t.loose;var n=e.trim().match(t.loose?vt[TL]:vt[CL]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>WS||this.major<0)throw new TypeError("Invalid major version");if(this.minor>WS||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>WS||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var i=+r;if(i>=0&&i<WS)return i}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}ze.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};ze.prototype.toString=function(){return this.version};ze.prototype.compare=function(e){return pt("SemVer.compare",this.version,this.options,e),e instanceof ze||(e=new ze(e,this.options)),this.compareMain(e)||this.comparePre(e)};ze.prototype.compareMain=function(e){return e instanceof ze||(e=new ze(e,this.options)),oh(this.major,e.major)||oh(this.minor,e.minor)||oh(this.patch,e.patch)};ze.prototype.comparePre=function(e){if(e instanceof ze||(e=new ze(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],r=e.prerelease[t];if(pt("prerelease compare",t,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return oh(n,r)}while(++t)};ze.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};Ie.inc=lCe;function lCe(e,t,n,r){typeof n=="string"&&(r=n,n=void 0);try{return new ze(e,n).inc(t,r).version}catch{return null}}Ie.diff=dCe;function dCe(e,t){if(RL(e,t))return null;var n=Kd(e),r=Kd(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if((s==="major"||s==="minor"||s==="patch")&&n[s]!==r[s])return i+s;return o}Ie.compareIdentifiers=oh;var f9=/^[0-9]+$/;function oh(e,t){var n=f9.test(e),r=f9.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}Ie.rcompareIdentifiers=pCe;function pCe(e,t){return oh(t,e)}Ie.major=fCe;function fCe(e,t){return new ze(e,t).major}Ie.minor=mCe;function mCe(e,t){return new ze(e,t).minor}Ie.patch=hCe;function hCe(e,t){return new ze(e,t).patch}Ie.compare=gc;function gc(e,t,n){return new ze(e,n).compare(new ze(t,n))}Ie.compareLoose=gCe;function gCe(e,t){return gc(e,t,!0)}Ie.rcompare=vCe;function vCe(e,t,n){return gc(t,e,n)}Ie.sort=yCe;function yCe(e,t){return e.sort(function(n,r){return Ie.compare(n,r,t)})}Ie.rsort=xCe;function xCe(e,t){return e.sort(function(n,r){return Ie.rcompare(n,r,t)})}Ie.gt=wx;function wx(e,t,n){return gc(e,t,n)>0}Ie.lt=XS;function XS(e,t,n){return gc(e,t,n)<0}Ie.eq=RL;function RL(e,t,n){return gc(e,t,n)===0}Ie.neq=I9;function I9(e,t,n){return gc(e,t,n)!==0}Ie.gte=AL;function AL(e,t,n){return gc(e,t,n)>=0}Ie.lte=DL;function DL(e,t,n){return gc(e,t,n)<=0}Ie.cmp=QS;function QS(e,t,n,r){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return RL(e,n,r);case"!=":return I9(e,n,r);case">":return wx(e,n,r);case">=":return AL(e,n,r);case"<":return XS(e,n,r);case"<=":return DL(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}Ie.Comparator=Co;function Co(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Co){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof Co))return new Co(e,t);pt("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===bx?this.value="":this.value=this.operator+this.semver.version,pt("comp",this)}var bx={};Co.prototype.parse=function(e){var t=this.options.loose?vt[IL]:vt[PL],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],this.operator==="="&&(this.operator=""),n[2]?this.semver=new ze(n[2],this.options.loose):this.semver=bx};Co.prototype.toString=function(){return this.value};Co.prototype.test=function(e){return pt("Comparator.test",e,this.options.loose),this.semver===bx?!0:(typeof e=="string"&&(e=new ze(e,this.options)),QS(e,this.operator,this.semver,this.options))};Co.prototype.intersects=function(e,t){if(!(e instanceof Co))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var n;if(this.operator==="")return n=new Wt(e.value,t),JS(this.value,n,t);if(e.operator==="")return n=new Wt(this.value,t),JS(e.semver,n,t);var r=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),o=this.semver.version===e.semver.version,s=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=QS(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=QS(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return r||i||o&&s||a||u};Ie.Range=Wt;function Wt(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Wt)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Wt(e.raw,t);if(e instanceof Co)return new Wt(e.value,t);if(!(this instanceof Wt))return new Wt(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(n){return this.parseRange(n.trim())},this).filter(function(n){return n.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}Wt.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};Wt.prototype.toString=function(){return this.range};Wt.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?vt[S9]:vt[C9];e=e.replace(n,RCe),pt("hyphen replace",e),e=e.replace(vt[xx],aCe),pt("comparator trim",e,vt[xx]),e=e.replace(vt[YS],oCe),e=e.replace(vt[KS],sCe),e=e.split(/\s+/).join(" ");var r=t?vt[IL]:vt[PL],i=e.split(" ").map(function(o){return ECe(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(r)})),i=i.map(function(o){return new Co(o,this.options)},this),i};Wt.prototype.intersects=function(e,t){if(!(e instanceof Wt))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(r){return e.set.some(function(i){return i.every(function(o){return r.intersects(o,t)})})})})};Ie.toComparators=wCe;function wCe(e,t){return new Wt(e,t).set.map(function(n){return n.map(function(r){return r.value}).join(" ").trim().split(" ")})}function ECe(e,t){return pt("comp",e,t),e=CCe(e,t),pt("caret",e),e=bCe(e,t),pt("tildes",e),e=TCe(e,t),pt("xrange",e),e=PCe(e,t),pt("stars",e),e}function Dr(e){return!e||e.toLowerCase()==="x"||e==="*"}function bCe(e,t){return e.trim().split(/\s+/).map(function(n){return _Ce(n,t)}).join(" ")}function _Ce(e,t){var n=t.loose?vt[E9]:vt[w9];return e.replace(n,function(r,i,o,s,a){pt("tilde",e,r,i,o,s,a);var u;return Dr(i)?u="":Dr(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Dr(s)?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":a?(pt("replaceTilde pr",a),u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0"):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0",pt("tilde return",u),u})}function CCe(e,t){return e.trim().split(/\s+/).map(function(n){return SCe(n,t)}).join(" ")}function SCe(e,t){pt("caret",e,t);var n=t.loose?vt[_9]:vt[b9];return e.replace(n,function(r,i,o,s,a){pt("caret",e,r,i,o,s,a);var u;return Dr(i)?u="":Dr(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Dr(s)?i==="0"?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+".0 <"+(+i+1)+".0.0":a?(pt("replaceCaret pr",a),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+"-"+a+" <"+(+i+1)+".0.0"):(pt("no pr"),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+" <"+(+i+1)+".0.0"),pt("caret return",u),u})}function TCe(e,t){return pt("replaceXRanges",e,t),e.split(/\s+/).map(function(n){return ICe(n,t)}).join(" ")}function ICe(e,t){e=e.trim();var n=t.loose?vt[y9]:vt[v9];return e.replace(n,function(r,i,o,s,a,u){pt("xRange",e,r,i,o,s,a,u);var c=Dr(o),l=c||Dr(s),d=l||Dr(a),p=d;return i==="="&&p&&(i=""),c?i===">"||i==="<"?r="<0.0.0":r="*":i&&p?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),r=i+o+"."+s+"."+a):l?r=">="+o+".0.0 <"+(+o+1)+".0.0":d&&(r=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),pt("xRange return",r),r})}function PCe(e,t){return pt("replaceStars",e,t),e.trim().replace(vt[T9],"")}function RCe(e,t,n,r,i,o,s,a,u,c,l,d,p){return Dr(n)?t="":Dr(r)?t=">="+n+".0.0":Dr(i)?t=">="+n+"."+r+".0":t=">="+t,Dr(u)?a="":Dr(c)?a="<"+(+u+1)+".0.0":Dr(l)?a="<"+u+"."+(+c+1)+".0":d?a="<="+u+"."+c+"."+l+"-"+d:a="<="+a,(t+" "+a).trim()}Wt.prototype.test=function(e){if(!e)return!1;typeof e=="string"&&(e=new ze(e,this.options));for(var t=0;t<this.set.length;t++)if(ACe(this.set[t],e,this.options))return!0;return!1};function ACe(e,t,n){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(r=0;r<e.length;r++)if(pt(e[r].semver),e[r].semver!==bx&&e[r].semver.prerelease.length>0){var i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}Ie.satisfies=JS;function JS(e,t,n){try{t=new Wt(t,n)}catch{return!1}return t.test(e)}Ie.maxSatisfying=DCe;function DCe(e,t,n){var r=null,i=null;try{var o=new Wt(t,n)}catch{return null}return e.forEach(function(s){o.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new ze(r,n))}),r}Ie.minSatisfying=kCe;function kCe(e,t,n){var r=null,i=null;try{var o=new Wt(t,n)}catch{return null}return e.forEach(function(s){o.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new ze(r,n))}),r}Ie.minVersion=OCe;function OCe(e,t){e=new Wt(e,t);var n=new ze("0.0.0");if(e.test(n)||(n=new ze("0.0.0-0"),e.test(n)))return n;n=null;for(var r=0;r<e.set.length;++r){var i=e.set[r];i.forEach(function(o){var s=new ze(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!n||wx(n,s))&&(n=s);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return n&&e.test(n)?n:null}Ie.validRange=NCe;function NCe(e,t){try{return new Wt(e,t).range||"*"}catch{return null}}Ie.ltr=LCe;function LCe(e,t,n){return kL(e,t,"<",n)}Ie.gtr=FCe;function FCe(e,t,n){return kL(e,t,">",n)}Ie.outside=kL;function kL(e,t,n,r){e=new ze(e,r),t=new Wt(t,r);var i,o,s,a,u;switch(n){case">":i=wx,o=DL,s=XS,a=">",u=">=";break;case"<":i=XS,o=AL,s=wx,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(JS(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],d=null,p=null;if(l.forEach(function(f){f.semver===bx&&(f=new Co(">=0.0.0")),d=d||f,p=p||f,i(f.semver,d.semver,r)?d=f:s(f.semver,p.semver,r)&&(p=f)}),d.operator===a||d.operator===u||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===u&&s(e,p.semver))return!1}return!0}Ie.prerelease=MCe;function MCe(e,t){var n=Kd(e,t);return n&&n.prerelease.length?n.prerelease:null}Ie.intersects=UCe;function UCe(e,t,n){return e=new Wt(e,n),t=new Wt(t,n),e.intersects(t)}Ie.coerce=qCe;function qCe(e){if(e instanceof ze)return e;if(typeof e!="string")return null;var t=e.match(vt[x9]);return t==null?null:Kd(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}});var OL=w(tT=>{"use strict";Object.defineProperty(tT,"__esModule",{value:!0});tT.makePatchingRequire=void 0;var $Ce=require("path"),jCe=R9(),A9=Jt(),k9=require("module"),HCe=Object.keys(process.binding("natives")),D9=k9.prototype.require;function BCe(e){var t={};return function(r){var i=D9.apply(this,arguments);if(e[r]){var o=k9._resolveFilename(r,this);if(t.hasOwnProperty(o))return t[o];var s=void 0;if(HCe.indexOf(r)<0)try{s=D9.call(this,$Ce.join(r,"package.json")).version}catch{return i}else s=process.version.substring(1);var a=s.indexOf("-");a>=0&&(s=s.substring(0,a));for(var u=i,c=0,l=e[r];c<l.length;c++){var d=l[c];if(jCe.satisfies(s,d.versionSpecifier)&&(u=d.patch(u,o),A9.channel)){var p=d.publisherName||r;A9.channel.addPatchedModule(p,s)}}return t[o]=u}return i}}tT.makePatchingRequire=BCe});var O9=w((b5e,VCe)=>{VCe.exports={name:"diagnostic-channel",version:"1.1.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js",debug:"mocha --inspect-brk ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",sinon:"1.17.6",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}});var Jt=w(So=>{"use strict";Object.defineProperty(So,"__esModule",{value:!0});So.channel=So.ContextPreservingEventEmitter=So.trueFilter=So.makePatchingRequire=void 0;var WCe=OL(),GCe=OL();Object.defineProperty(So,"makePatchingRequire",{enumerable:!0,get:function(){return GCe.makePatchingRequire}});var zCe=function(e){return!0};So.trueFilter=zCe;var L9=function(){function e(){this.version=O9().version,this.subscribers={},this.contextPreservationFunction=function(t){return t},this.knownPatches={},this.modulesPatched=[],this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(t){var n=this.subscribers[t];return n?n.some(function(r){var i=r.filter;return!i||i(!1)}):!1},e.prototype.publish=function(t,n){if(!this.currentlyPublishing){var r=this.subscribers[t];if(r){var i={timestamp:Date.now(),data:n};this.currentlyPublishing=!0,r.forEach(function(o){var s=o.listener,a=o.filter;try{a&&a(!0)&&s(i)}catch{}}),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(t,n,r,i){r===void 0&&(r=So.trueFilter),this.subscribers[t]||(this.subscribers[t]=[]),this.subscribers[t].push({listener:n,filter:r,patchCallback:i});var o=this.checkIfModuleIsAlreadyPatched(t);o&&i&&i(o.name,o.version)},e.prototype.unsubscribe=function(t,n,r){r===void 0&&(r=So.trueFilter);var i=this.subscribers[t];if(i){for(var o=0;o<i.length;++o)if(i[o].listener===n&&i[o].filter===r)return i.splice(o,1),!0}return!1},e.prototype.reset=function(){var t=this;this.subscribers={},this.contextPreservationFunction=function(n){return n},Object.getOwnPropertyNames(this.knownPatches).forEach(function(n){return delete t.knownPatches[n]})},e.prototype.bindToContext=function(t){return this.contextPreservationFunction(t)},e.prototype.addContextPreservation=function(t){var n=this.contextPreservationFunction;this.contextPreservationFunction=function(r){return t(n(r))}},e.prototype.registerMonkeyPatch=function(t,n){this.knownPatches[t]||(this.knownPatches[t]=[]),this.knownPatches[t].push(n)},e.prototype.getPatchesObject=function(){return this.knownPatches},e.prototype.addPatchedModule=function(t,n){for(var r=0,i=this.modulesPatched;r<i.length;r++){var o=i[r];if(o.name===t)return}this.modulesPatched.push({name:t,version:n});var s=this.subscribers[t];s&&s.forEach(function(a){a.patchCallback&&a.patchCallback(t,n)})},e.prototype.checkIfModuleIsAlreadyPatched=function(t){for(var n=0,r=this.modulesPatched;n<r.length;n++){var i=r[n];if(i.name===t)return i}return null},e}();So.ContextPreservingEventEmitter=L9;global.diagnosticsSource||(global.diagnosticsSource=new L9,N9=require("module"),N9.prototype.require=WCe.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));var N9;So.channel=global.diagnosticsSource});var F9,M9=S(()=>{F9=typeof globalThis=="object"?globalThis:global});var U9=S(()=>{M9()});var q9=S(()=>{U9()});var Yu,NL=S(()=>{Yu="1.3.0"});function YCe(e){var t=new Set([e]),n=new Set,r=e.match($9);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(i.prerelease!=null)return function(u){return u===e};function o(a){return n.add(a),!1}function s(a){return t.add(a),!0}return function(u){if(t.has(u))return!0;if(n.has(u))return!1;var c=u.match($9);if(!c)return o(u);var l={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return l.prerelease!=null||i.major!==l.major?o(u):i.major===0?i.minor===l.minor&&i.patch<=l.patch?s(u):o(u):i.minor<=l.minor?s(u):o(u)}}var $9,j9,H9=S(()=>{NL();$9=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;j9=YCe(Yu)});function ea(e,t,n,r){var i;r===void 0&&(r=!1);var o=Cx[_x]=(i=Cx[_x])!==null&&i!==void 0?i:{version:Yu};if(!r&&o[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(s.stack||s.message),!1}if(o.version!==Yu){var s=new Error("@opentelemetry/api: All API registration versions must match");return n.error(s.stack||s.message),!1}return o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+Yu+"."),!0}function ji(e){var t,n,r=(t=Cx[_x])===null||t===void 0?void 0:t.version;if(!(!r||!j9(r)))return(n=Cx[_x])===null||n===void 0?void 0:n[e]}function ta(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Yu+".");var n=Cx[_x];n&&delete n[e]}var KCe,_x,Cx,Xd=S(()=>{q9();NL();H9();KCe=Yu.split(".")[0],_x=Symbol.for("opentelemetry.js.api."+KCe),Cx=F9});function Sx(e,t,n){var r=ji("diag");if(r)return n.unshift(t),r[e].apply(r,QCe([],XCe(n),!1))}var XCe,QCe,B9,V9=S(()=>{Xd();XCe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},QCe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},B9=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Sx("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Sx("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Sx("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Sx("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Sx("verbose",this._namespace,t)},e}()});var It,nT=S(()=>{(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(It||(It={}))});function W9(e,t){e<It.NONE?e=It.NONE:e>It.ALL&&(e=It.ALL),t=t||{};function n(r,i){var o=t[r];return typeof o=="function"&&e>=i?o.bind(t):function(){}}return{error:n("error",It.ERROR),warn:n("warn",It.WARN),info:n("info",It.INFO),debug:n("debug",It.DEBUG),verbose:n("verbose",It.VERBOSE)}}var G9=S(()=>{nT()});var JCe,ZCe,eSe,gr,Qd=S(()=>{V9();G9();nT();Xd();JCe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},ZCe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},eSe="diag",gr=function(){function e(){function t(i){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=ji("diag");if(a)return a[i].apply(a,ZCe([],JCe(o),!1))}}var n=this,r=function(i,o){var s,a,u;if(o===void 0&&(o={logLevel:It.INFO}),i===n){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((s=c.stack)!==null&&s!==void 0?s:c.message),!1}typeof o=="number"&&(o={logLevel:o});var l=ji("diag"),d=W9((a=o.logLevel)!==null&&a!==void 0?a:It.INFO,i);if(l&&!o.suppressOverrideMessage){var p=(u=new Error().stack)!==null&&u!==void 0?u:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+p),d.warn("Current logger will overwrite one already registered from "+p)}return ea("diag",d,n,!0)};n.setLogger=r,n.disable=function(){ta(eSe,n)},n.createComponentLogger=function(i){return new B9(i)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()});var tSe,nSe,z9,Y9=S(()=>{tSe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},nSe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},z9=function(){function e(t){this._entries=t?new Map(t):new Map}return e.prototype.getEntry=function(t){var n=this._entries.get(t);if(n)return Object.assign({},n)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(t){var n=tSe(t,2),r=n[0],i=n[1];return[r,i]})},e.prototype.setEntry=function(t,n){var r=new e(this._entries);return r._entries.set(t,n),r},e.prototype.removeEntry=function(t){var n=new e(this._entries);return n._entries.delete(t),n},e.prototype.removeEntries=function(){for(var t,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=new e(this._entries);try{for(var s=nSe(r),a=s.next();!a.done;a=s.next()){var u=a.value;o._entries.delete(u)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return o},e.prototype.clear=function(){return new e},e}()});var K9,X9=S(()=>{K9=Symbol("BaggageEntryMetadata")});function Q9(e){return e===void 0&&(e={}),new z9(new Map(Object.entries(e)))}function rT(e){return typeof e!="string"&&(rSe.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:K9,toString:function(){return e}}}var rSe,LL=S(()=>{Qd();Y9();X9();rSe=gr.instance()});function na(e){return Symbol.for(e)}var iSe,iT,Tx=S(()=>{iSe=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,i){var o=new e(n._currentContext);return o._currentContext.set(r,i),o},n.deleteValue=function(r){var i=new e(n._currentContext);return i._currentContext.delete(r),i}}return e}(),iT=new iSe});var FL,J9,Z9=S(()=>{FL=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],J9=function(){function e(){function t(r){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(console){var s=console[r];if(typeof s!="function"&&(s=console.log),typeof s=="function")return s.apply(console,i)}}}for(var n=0;n<FL.length;n++)this[FL[n].n]=t(FL[n].c)}return e}()});function eX(){return qL}var ch,oSe,ML,sSe,aSe,cSe,UL,uSe,lSe,dSe,qL,pSe,fSe,mSe,hSe,gSe,vSe,$L=S(()=>{ch=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),oSe=function(){function e(){}return e.prototype.createHistogram=function(t,n){return fSe},e.prototype.createCounter=function(t,n){return pSe},e.prototype.createUpDownCounter=function(t,n){return mSe},e.prototype.createObservableGauge=function(t,n){return gSe},e.prototype.createObservableCounter=function(t,n){return hSe},e.prototype.createObservableUpDownCounter=function(t,n){return vSe},e.prototype.addBatchObservableCallback=function(t,n){},e.prototype.removeBatchObservableCallback=function(t){},e}(),ML=function(){function e(){}return e}(),sSe=function(e){ch(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(ML),aSe=function(e){ch(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.add=function(n,r){},t}(ML),cSe=function(e){ch(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.record=function(n,r){},t}(ML),UL=function(){function e(){}return e.prototype.addCallback=function(t){},e.prototype.removeCallback=function(t){},e}(),uSe=function(e){ch(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(UL),lSe=function(e){ch(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(UL),dSe=function(e){ch(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(UL),qL=new oSe,pSe=new sSe,fSe=new cSe,mSe=new aSe,hSe=new uSe,gSe=new lSe,vSe=new dSe});var oT,tX=S(()=>{(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(oT||(oT={}))});var sT,aT,jL=S(()=>{sT={get:function(e,t){if(e!=null)return e[t]},keys:function(e){return e==null?[]:Object.keys(e)}},aT={set:function(e,t,n){e!=null&&(e[t]=n)}}});var ySe,xSe,nX,rX=S(()=>{Tx();ySe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},xSe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},nX=function(){function e(){}return e.prototype.active=function(){return iT},e.prototype.with=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return n.call.apply(n,xSe([r],ySe(i),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}()});var wSe,ESe,HL,bSe,uh,cT=S(()=>{rX();Xd();Qd();wSe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},ESe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},HL="context",bSe=new nX,uh=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return ea(HL,t,gr.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,ESe([t,n,r],wSe(o),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return ji(HL)||bSe},e.prototype.disable=function(){this._getContextManager().disable(),ta(HL,gr.instance())},e}()});var dn,BL=S(()=>{(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(dn||(dn={}))});var Ix,Px,lh,uT=S(()=>{BL();Ix="0000000000000000",Px="00000000000000000000000000000000",lh={traceId:Px,spanId:Ix,traceFlags:dn.NONE}});var Ku,lT=S(()=>{uT();Ku=function(){function e(t){t===void 0&&(t=lh),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}()});function dT(e){return e.getValue(VL)||void 0}function iX(){return dT(uh.getInstance().active())}function Rx(e,t){return e.setValue(VL,t)}function oX(e){return e.deleteValue(VL)}function sX(e,t){return Rx(e,new Ku(t))}function pT(e){var t;return(t=dT(e))===null||t===void 0?void 0:t.spanContext()}var VL,WL=S(()=>{Tx();lT();cT();VL=na("OpenTelemetry Context Key SPAN")});function Jd(e){return _Se.test(e)&&e!==Px}function GL(e){return CSe.test(e)&&e!==Ix}function To(e){return Jd(e.traceId)&&GL(e.spanId)}function aX(e){return new Ku(e)}var _Se,CSe,fT=S(()=>{uT();lT();_Se=/^([0-9a-f]{32})$/i,CSe=/^[0-9a-f]{16}$/i});function SSe(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var cX,mT,zL=S(()=>{cT();WL();lT();fT();cX=uh.getInstance(),mT=function(){function e(){}return e.prototype.startSpan=function(t,n,r){var i=!!(n!=null&&n.root);if(i)return new Ku;var o=r&&pT(r);return SSe(o)&&To(o)?new Ku(o):new Ku},e.prototype.startActiveSpan=function(t,n,r,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=n:arguments.length===3?(o=n,a=r):(o=n,s=r,a=i);var u=s??cX.active(),c=this.startSpan(t,o,u),l=Rx(u,c);return cX.with(l,a,void 0,c)}},e}()});var TSe,hT,YL=S(()=>{zL();TSe=new mT,hT=function(){function e(t,n,r,i){this._provider=t,this.name=n,this.version=r,this.options=i}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,i){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):TSe},e}()});var uX,lX=S(()=>{zL();uX=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new mT},e}()});var ISe,Ax,KL=S(()=>{YL();lX();ISe=new uX,Ax=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var i;return(i=this.getDelegateTracer(t,n,r))!==null&&i!==void 0?i:new hT(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:ISe},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,n,r)},e}()});var di,dX=S(()=>{(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(di||(di={}))});var dh,pX=S(()=>{(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(dh||(dh={}))});var ph,fX=S(()=>{(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(ph||(ph={}))});function mX(e){return ASe.test(e)}function hX(e){return DSe.test(e)&&!kSe.test(e)}var XL,PSe,RSe,ASe,DSe,kSe,gX=S(()=>{XL="[_0-9a-z-*/]",PSe="[a-z]"+XL+"{0,255}",RSe="[a-z0-9]"+XL+"{0,240}@[a-z]"+XL+"{0,13}",ASe=new RegExp("^(?:"+PSe+"|"+RSe+")$"),DSe=/^[ -~]{0,255}[!-~]$/,kSe=/,|=/});var vX,OSe,yX,xX,wX,EX=S(()=>{gX();vX=32,OSe=512,yX=",",xX="=",wX=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,n){var r=this._clone();return r._internalState.has(t)&&r._internalState.delete(t),r._internalState.set(t,n),r},e.prototype.unset=function(t){var n=this._clone();return n._internalState.delete(t),n},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(n,r){return n.push(r+xX+t.get(r)),n},[]).join(yX)},e.prototype._parse=function(t){t.length>OSe||(this._internalState=t.split(yX).reverse().reduce(function(n,r){var i=r.trim(),o=i.indexOf(xX);if(o!==-1){var s=i.slice(0,o),a=i.slice(o+1,r.length);mX(s)&&hX(a)&&n.set(s,a)}return n},new Map),this._internalState.size>vX&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,vX))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}()});function bX(e){return new wX(e)}var _X=S(()=>{EX()});var kr,CX=S(()=>{cT();kr=uh.getInstance()});var Oe,SX=S(()=>{Qd();Oe=gr.instance()});var NSe,TX,IX=S(()=>{$L();NSe=function(){function e(){}return e.prototype.getMeter=function(t,n,r){return qL},e}(),TX=new NSe});var QL,PX,RX=S(()=>{IX();Xd();Qd();QL="metrics",PX=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(t){return ea(QL,t,gr.instance())},e.prototype.getMeterProvider=function(){return ji(QL)||TX},e.prototype.getMeter=function(t,n,r){return this.getMeterProvider().getMeter(t,n,r)},e.prototype.disable=function(){ta(QL,gr.instance())},e}()});var JL,AX=S(()=>{RX();JL=PX.getInstance()});var DX,kX=S(()=>{DX=function(){function e(){}return e.prototype.inject=function(t,n){},e.prototype.extract=function(t,n){return t},e.prototype.fields=function(){return[]},e}()});function OX(e){return e.getValue(ZL)||void 0}function NX(e,t){return e.setValue(ZL,t)}function LX(e){return e.deleteValue(ZL)}var ZL,FX=S(()=>{Tx();ZL=na("OpenTelemetry Baggage Key")});var eF,LSe,MX,UX=S(()=>{Xd();kX();jL();FX();LL();Qd();eF="propagation",LSe=new DX,MX=function(){function e(){this.createBaggage=Q9,this.getBaggage=OX,this.setBaggage=NX,this.deleteBaggage=LX}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(t){return ea(eF,t,gr.instance())},e.prototype.inject=function(t,n,r){return r===void 0&&(r=aT),this._getGlobalPropagator().inject(t,n,r)},e.prototype.extract=function(t,n,r){return r===void 0&&(r=sT),this._getGlobalPropagator().extract(t,n,r)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){ta(eF,gr.instance())},e.prototype._getGlobalPropagator=function(){return ji(eF)||LSe},e}()});var vc,qX=S(()=>{UX();vc=MX.getInstance()});var tF,$X,jX=S(()=>{Xd();KL();fT();WL();Qd();tF="trace",$X=function(){function e(){this._proxyTracerProvider=new Ax,this.wrapSpanContext=aX,this.isSpanContextValid=To,this.deleteSpan=oX,this.getSpan=dT,this.getActiveSpan=iX,this.getSpanContext=pT,this.setSpan=Rx,this.setSpanContext=sX}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=ea(tF,this._proxyTracerProvider,gr.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return ji(tF)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){ta(tF,gr.instance()),this._proxyTracerProvider=new Ax},e}()});var An,HX=S(()=>{jX();An=$X.getInstance()});var Zd={};As(Zd,{DiagConsoleLogger:()=>J9,DiagLogLevel:()=>It,INVALID_SPANID:()=>Ix,INVALID_SPAN_CONTEXT:()=>lh,INVALID_TRACEID:()=>Px,ProxyTracer:()=>hT,ProxyTracerProvider:()=>Ax,ROOT_CONTEXT:()=>iT,SamplingDecision:()=>di,SpanKind:()=>dh,SpanStatusCode:()=>ph,TraceFlags:()=>dn,ValueType:()=>oT,baggageEntryMetadataFromString:()=>rT,context:()=>kr,createContextKey:()=>na,createNoopMeter:()=>eX,createTraceState:()=>bX,default:()=>FSe,defaultTextMapGetter:()=>sT,defaultTextMapSetter:()=>aT,diag:()=>Oe,isSpanContextValid:()=>To,isValidSpanId:()=>GL,isValidTraceId:()=>Jd,metrics:()=>JL,propagation:()=>vc,trace:()=>An});var FSe,lt=S(()=>{LL();Tx();Z9();nT();$L();tX();jL();YL();KL();dX();pX();fX();BL();_X();fT();uT();CX();SX();AX();qX();HX();FSe={context:kr,diag:Oe,metrics:JL,propagation:vc,trace:An}});function Dx(e){return e.setValue(nF,!0)}function MSe(e){return e.deleteValue(nF)}function ep(e){return e.getValue(nF)===!0}var nF,kx=S(()=>{lt();nF=na("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var BX,gT,fh,vT,VX,WX,GX,rF=S(()=>{BX="=",gT=";",fh=",",vT="baggage",VX=180,WX=4096,GX=8192});var sF={};As(sF,{getKeyPairs:()=>oF,parseKeyPairsIntoRecord:()=>qSe,parsePairKeyValue:()=>yT,serializeKeyPairs:()=>iF});function iF(e){return e.reduce(function(t,n){var r=""+t+(t!==""?fh:"")+n;return r.length>GX?t:r},"")}function oF(e){return e.getAllEntries().map(function(t){var n=USe(t,2),r=n[0],i=n[1],o=encodeURIComponent(r)+"="+encodeURIComponent(i.value);return i.metadata!==void 0&&(o+=gT+i.metadata.toString()),o})}function yT(e){var t=e.split(gT);if(!(t.length<=0)){var n=t.shift();if(n){var r=n.split(BX);if(r.length===2){var i=decodeURIComponent(r[0].trim()),o=decodeURIComponent(r[1].trim()),s;return t.length>0&&(s=rT(t.join(gT))),{key:i,value:o,metadata:s}}}}}function qSe(e){return typeof e!="string"||e.length===0?{}:e.split(fh).map(function(t){return yT(t)}).filter(function(t){return t!==void 0&&t.value.length>0}).reduce(function(t,n){return t[n.key]=n.value,t},{})}var USe,aF=S(()=>{lt();rF();USe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}});var cF,zX=S(()=>{lt();kx();rF();aF();cF=function(){function e(){}return e.prototype.inject=function(t,n,r){var i=vc.getBaggage(t);if(!(!i||ep(t))){var o=oF(i).filter(function(a){return a.length<=WX}).slice(0,VX),s=iF(o);s.length>0&&r.set(n,vT,s)}},e.prototype.extract=function(t,n,r){var i=r.get(n,vT),o=Array.isArray(i)?i.join(fh):i;if(!o)return t;var s={};if(o.length===0)return t;var a=o.split(fh);return a.forEach(function(u){var c=yT(u);if(c){var l={value:c.value};c.metadata&&(l.metadata=c.metadata),s[c.key]=l}}),Object.entries(s).length===0?t:vc.setBaggage(t,vc.createBaggage(s))},e.prototype.fields=function(){return[vT]},e}()});var $Se,YX=S(()=>{$Se=function(){function e(t,n){this._monotonicClock=n,this._epochMillis=t.now(),this._performanceMillis=n.now()}return e.prototype.now=function(){var t=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+t},e}()});function tp(e){var t,n,r={};if(typeof e!="object"||e==null)return r;try{for(var i=KX(Object.entries(e)),o=i.next();!o.done;o=i.next()){var s=jSe(o.value,2),a=s[0],u=s[1];if(!XX(a)){Oe.warn("Invalid attribute key: "+a);continue}if(!xT(u)){Oe.warn("Invalid attribute value set for key: "+a);continue}Array.isArray(u)?r[a]=u.slice():r[a]=u}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function XX(e){return typeof e=="string"&&e.length>0}function xT(e){return e==null?!0:Array.isArray(e)?HSe(e):QX(e)}function HSe(e){var t,n,r;try{for(var i=KX(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(s!=null){if(!r){if(QX(s)){r=typeof s;continue}return!1}if(typeof s!==r)return!1}}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0}function QX(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}var KX,jSe,JX=S(()=>{lt();KX=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jSe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}});function uF(){return function(e){Oe.error(BSe(e))}}function BSe(e){return typeof e=="string"?e:JSON.stringify(VSe(e))}function VSe(e){for(var t={},n=e;n!==null;)Object.getOwnPropertyNames(n).forEach(function(r){if(!t[r]){var i=n[r];i&&(t[r]=String(i))}}),n=Object.getPrototypeOf(n);return t}var lF=S(()=>{lt()});function WSe(e){ZX=e}function Io(e){try{ZX(e)}catch{}}var ZX,dF=S(()=>{lF();ZX=uF()});var Hi,pF=S(()=>{(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(Hi||(Hi={}))});var e7,t7=S(()=>{e7=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});function YSe(e){return zSe.indexOf(e)>-1}function XSe(e){return KSe.indexOf(e)>-1}function QSe(e,t,n,r,i){if(r===void 0&&(r=-1/0),i===void 0&&(i=1/0),typeof n[e]<"u"){var o=Number(n[e]);isNaN(o)||(o<r?t[e]=r:o>i?t[e]=i:t[e]=o)}}function JSe(e,t,n,r){r===void 0&&(r=GSe);var i=n[e];typeof i=="string"&&(t[e]=i.split(r).map(function(o){return o.trim()}))}function eTe(e,t,n){var r=n[e];if(typeof r=="string"){var i=ZSe[r.toUpperCase()];i!=null&&(t[e]=i)}}function Lx(e){var t={};for(var n in wT){var r=n;switch(r){case"OTEL_LOG_LEVEL":eTe(r,t,e);break;default:if(YSe(r))QSe(r,t,e);else if(XSe(r))JSe(r,t,e);else{var i=e[r];typeof i<"u"&&i!==null&&(t[r]=String(i))}}}return t}function fF(){return Lx(typeof process<"u"?process.env:e7)}var GSe,zSe,KSe,Ox,Nx,wT,ZSe,mF=S(()=>{lt();pF();t7();GSe=",",zSe=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];KSe=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];Ox=1/0,Nx=128,wT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:It.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ox,OTEL_ATTRIBUTE_COUNT_LIMIT:Nx,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:Ox,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:Nx,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"otlp",OTEL_TRACES_SAMPLER:Hi.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};ZSe={ALL:It.ALL,VERBOSE:It.VERBOSE,DEBUG:It.DEBUG,INFO:It.INFO,WARN:It.WARN,ERROR:It.ERROR,NONE:It.NONE}});function Kn(){var e=Lx(process.env);return Object.assign({HOSTNAME:n7.hostname()},wT,e)}var n7,r7=S(()=>{n7=B(require("os"));mF()});var tTe,i7=S(()=>{tTe=typeof globalThis=="object"?globalThis:global});function o7(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}function iTe(e){var t;e.length===16?t=nTe:e.length===32?t=rTe:t=Buffer.alloc(e.length/2);for(var n=0,r=0;r<e.length;r+=2){var i=o7(e.charCodeAt(r)),o=o7(e.charCodeAt(r+1));t.writeUInt8(i<<4|o,n++)}return t.toString("base64")}var nTe,rTe,s7=S(()=>{nTe=Buffer.alloc(8),rTe=Buffer.alloc(16)});function a7(e){return function(){for(var n=0;n<e/4;n++)ET.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,n*4);for(var n=0;n<e&&!(ET[n]>0);n++)n===e-1&&(ET[e-1]=1);return ET.toString("hex",0,e)}}var oTe,c7,sTe,ET,u7=S(()=>{oTe=8,c7=16,sTe=function(){function e(){this.generateTraceId=a7(c7),this.generateSpanId=a7(oTe)}return e}(),ET=Buffer.allocUnsafe(c7)});var l7,np,d7=S(()=>{l7=require("perf_hooks"),np=l7.performance});var hF,bT=S(()=>{hF="1.8.0"});var yc,aTe,cTe,uTe,lTe,dTe,pTe,fTe,mTe,hTe,gTe,vTe,yTe,xTe,p7=S(()=>{yc={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"},aTe={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"},cTe={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"},uTe={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"},lTe={INSERT:"insert",EDIT:"edit",DELETE:"delete"},dTe={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},pTe={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"},fTe={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"},mTe={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"},hTe={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"},gTe={QUEUE:"queue",TOPIC:"topic"},vTe={RECEIVE:"receive",PROCESS:"process"},yTe={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},xTe={SENT:"SENT",RECEIVED:"RECEIVED"}});var f7=S(()=>{p7()});var Le,wTe,ETe,bTe,_Te,CTe,gF,m7=S(()=>{Le={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},wTe={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},ETe={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"},bTe={EC2:"ec2",FARGATE:"fargate"},_Te={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"},CTe={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"},gF={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var h7=S(()=>{m7()});var vF={};As(vF,{AwsEcsLaunchtypeValues:()=>bTe,CloudPlatformValues:()=>ETe,CloudProviderValues:()=>wTe,DbCassandraConsistencyLevelValues:()=>cTe,DbSystemValues:()=>aTe,FaasDocumentOperationValues:()=>lTe,FaasInvokedProviderValues:()=>dTe,FaasTriggerValues:()=>uTe,HostArchValues:()=>_Te,HttpFlavorValues:()=>hTe,MessageTypeValues:()=>xTe,MessagingDestinationKindValues:()=>gTe,MessagingOperationValues:()=>vTe,NetHostConnectionSubtypeValues:()=>mTe,NetHostConnectionTypeValues:()=>fTe,NetTransportValues:()=>pTe,OsTypeValues:()=>CTe,RpcGrpcStatusCodeValues:()=>yTe,SemanticAttributes:()=>yc,SemanticResourceAttributes:()=>Le,TelemetrySdkLanguageValues:()=>gF});var ws=S(()=>{f7();h7()});var mh,Fx,g7=S(()=>{bT();ws();Fx=(mh={},mh[Le.TELEMETRY_SDK_NAME]="opentelemetry",mh[Le.PROCESS_RUNTIME_NAME]="node",mh[Le.TELEMETRY_SDK_LANGUAGE]=gF.NODEJS,mh[Le.TELEMETRY_SDK_VERSION]=hF,mh)});function yF(e){e.unref()}var v7=S(()=>{});var y7=S(()=>{r7();i7();s7();u7();d7();g7();v7()});var xF=S(()=>{y7()});function _T(e){var t=e/1e3,n=Math.trunc(t),r=Number((t-n).toFixed(wF))*Mx;return[n,r]}function x7(){var e=np.timeOrigin;if(typeof e!="number"){var t=np;e=t.timing&&t.timing.fetchStart}return e}function w7(e){var t=_T(x7()),n=_T(typeof e=="number"?e:np.now()),r=t[0]+n[0],i=t[1]+n[1];return i>Mx&&(i-=Mx,r+=1),[r,i]}function Ux(e){if(bF(e))return e;if(typeof e=="number")return e<x7()?w7(e):_T(e);if(e instanceof Date)return _T(e.getTime());throw TypeError("Invalid input type")}function EF(e,t){var n=t[0]-e[0],r=t[1]-e[1];return r<0&&(n-=1,r+=Mx),[n,r]}function STe(e){var t=wF,n=""+"0".repeat(t)+e[1]+"Z",r=n.substr(n.length-t-1),i=new Date(e[0]*1e3).toISOString();return i.replace("000Z",r)}function TTe(e){return e[0]*Mx+e[1]}function ITe(e){return Math.round(e[0]*1e3+e[1]/1e6)}function CT(e){return Math.round(e[0]*1e6+e[1]/1e3)}function bF(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}function _F(e){return bF(e)||typeof e=="number"||e instanceof Date}var wF,Mx,E7=S(()=>{xF();wF=9,Mx=Math.pow(10,wF)});var b7=S(()=>{});var Po,_7=S(()=>{(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(Po||(Po={}))});var PTe,CF,C7=S(()=>{lt();PTe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},CF=function(){function e(t){t===void 0&&(t={});var n;this._propagators=(n=t.propagators)!==null&&n!==void 0?n:[],this._fields=Array.from(new Set(this._propagators.map(function(r){return typeof r.fields=="function"?r.fields():[]}).reduce(function(r,i){return r.concat(i)},[])))}return e.prototype.inject=function(t,n,r){var i,o;try{for(var s=PTe(this._propagators),a=s.next();!a.done;a=s.next()){var u=a.value;try{u.inject(t,n,r)}catch(c){Oe.warn("Failed to inject with "+u.constructor.name+". Err: "+c.message)}}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}},e.prototype.extract=function(t,n,r){return this._propagators.reduce(function(i,o){try{return o.extract(i,n,r)}catch(s){Oe.warn("Failed to inject with "+o.constructor.name+". Err: "+s.message)}return i},t)},e.prototype.fields=function(){return this._fields.slice()},e}()});function S7(e){return DTe.test(e)}function T7(e){return kTe.test(e)&&!OTe.test(e)}var SF,RTe,ATe,DTe,kTe,OTe,I7=S(()=>{SF="[_0-9a-z-*/]",RTe="[a-z]"+SF+"{0,255}",ATe="[a-z0-9]"+SF+"{0,240}@[a-z]"+SF+"{0,13}",DTe=new RegExp("^(?:"+RTe+"|"+ATe+")$"),kTe=/^[ -~]{0,255}[!-~]$/,OTe=/,|=/});var P7,NTe,R7,A7,TF,IF=S(()=>{I7();P7=32,NTe=512,R7=",",A7="=",TF=function(){function e(t){this._internalState=new Map,t&&this._parse(t)}return e.prototype.set=function(t,n){var r=this._clone();return r._internalState.has(t)&&r._internalState.delete(t),r._internalState.set(t,n),r},e.prototype.unset=function(t){var n=this._clone();return n._internalState.delete(t),n},e.prototype.get=function(t){return this._internalState.get(t)},e.prototype.serialize=function(){var t=this;return this._keys().reduce(function(n,r){return n.push(r+A7+t.get(r)),n},[]).join(R7)},e.prototype._parse=function(t){t.length>NTe||(this._internalState=t.split(R7).reverse().reduce(function(n,r){var i=r.trim(),o=i.indexOf(A7);if(o!==-1){var s=i.slice(0,o),a=i.slice(o+1,r.length);S7(s)&&T7(a)&&n.set(s,a)}return n},new Map),this._internalState.size>P7&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,P7))))},e.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},e.prototype._clone=function(){var t=new e;return t._internalState=new Map(this._internalState),t},e}()});function D7(e){var t=$Te.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}var ST,TT,LTe,FTe,MTe,UTe,qTe,$Te,PF,k7=S(()=>{lt();kx();IF();ST="traceparent",TT="tracestate",LTe="00",FTe="(?!ff)[\\da-f]{2}",MTe="(?![0]{32})[\\da-f]{32}",UTe="(?![0]{16})[\\da-f]{16}",qTe="[\\da-f]{2}",$Te=new RegExp("^\\s?("+FTe+")-("+MTe+")-("+UTe+")-("+qTe+")(-.*)?\\s?$");PF=function(){function e(){}return e.prototype.inject=function(t,n,r){var i=An.getSpanContext(t);if(!(!i||ep(t)||!To(i))){var o=LTe+"-"+i.traceId+"-"+i.spanId+"-0"+Number(i.traceFlags||dn.NONE).toString(16);r.set(n,ST,o),i.traceState&&r.set(n,TT,i.traceState.serialize())}},e.prototype.extract=function(t,n,r){var i=r.get(n,ST);if(!i)return t;var o=Array.isArray(i)?i[0]:i;if(typeof o!="string")return t;var s=D7(o);if(!s)return t;s.isRemote=!0;var a=r.get(n,TT);if(a){var u=Array.isArray(a)?a.join(","):a;s.traceState=new TF(typeof u=="string"?u:void 0)}return An.setSpanContext(t,s)},e.prototype.fields=function(){return[ST,TT]},e}()});var O7=S(()=>{});function jTe(e,t){return e.setValue(AF,t)}function HTe(e){return e.deleteValue(AF)}function BTe(e){return e.getValue(AF)}var AF,RF,N7=S(()=>{lt();AF=na("OpenTelemetry SDK Context Key RPC_METADATA");(function(e){e.HTTP="http"})(RF||(RF={}))});var IT,DF=S(()=>{lt();IT=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:di.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}()});var qx,kF=S(()=>{lt();qx=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:di.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}()});var VTe,L7=S(()=>{lt();dF();DF();kF();VTe=function(){function e(t){var n,r,i,o;this._root=t.root,this._root||(Io(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new qx),this._remoteParentSampled=(n=t.remoteParentSampled)!==null&&n!==void 0?n:new qx,this._remoteParentNotSampled=(r=t.remoteParentNotSampled)!==null&&r!==void 0?r:new IT,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new qx,this._localParentNotSampled=(o=t.localParentNotSampled)!==null&&o!==void 0?o:new IT}return e.prototype.shouldSample=function(t,n,r,i,o,s){var a=An.getSpanContext(t);return!a||!To(a)?this._root.shouldSample(t,n,r,i,o,s):a.isRemote?a.traceFlags&dn.SAMPLED?this._remoteParentSampled.shouldSample(t,n,r,i,o,s):this._remoteParentNotSampled.shouldSample(t,n,r,i,o,s):a.traceFlags&dn.SAMPLED?this._localParentSampled.shouldSample(t,n,r,i,o,s):this._localParentNotSampled.shouldSample(t,n,r,i,o,s)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}()});var WTe,F7=S(()=>{lt();WTe=function(){function e(t){t===void 0&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}return e.prototype.shouldSample=function(t,n){return{decision:Jd(n)&&this._accumulate(n)<this._upperBound?di.RECORD_AND_SAMPLED:di.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t},e.prototype._accumulate=function(t){for(var n=0,r=0;r<t.length/8;r++){var i=r*8,o=parseInt(t.slice(i,i+8),16);n=(n^o)>>>0}return n},e}()});function JTe(e,t){return function(n){return e(t(n))}}function OF(e){if(!ZTe(e)||eIe(e)!==GTe)return!1;var t=QTe(e);if(t===null)return!0;var n=q7.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&M7.call(n)===XTe}function ZTe(e){return e!=null&&typeof e=="object"}function eIe(e){return e==null?e===void 0?YTe:zTe:rp&&rp in Object(e)?tIe(e):nIe(e)}function tIe(e){var t=q7.call(e,rp),n=e[rp],r=!1;try{e[rp]=void 0,r=!0}catch{}var i=$7.call(e);return r&&(t?e[rp]=n:delete e[rp]),i}function nIe(e){return $7.call(e)}var GTe,zTe,YTe,KTe,M7,XTe,QTe,U7,q7,rp,$7,j7=S(()=>{GTe="[object Object]",zTe="[object Null]",YTe="[object Undefined]",KTe=Function.prototype,M7=KTe.toString,XTe=M7.call(Object),QTe=JTe(Object.getPrototypeOf,Object),U7=Object.prototype,q7=U7.hasOwnProperty,rp=Symbol?Symbol.toStringTag:void 0,$7=U7.toString});function LF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.shift(),r=new WeakMap;e.length>0;)n=B7(n,e.shift(),0,r);return n}function NF(e){return RT(e)?e.slice():e}function B7(e,t,n,r){n===void 0&&(n=0);var i;if(!(n>rIe)){if(n++,PT(e)||PT(t)||V7(t))i=NF(t);else if(RT(e)){if(i=e.slice(),RT(t))for(var o=0,s=t.length;o<s;o++)i.push(NF(t[o]));else if($x(t))for(var a=Object.keys(t),o=0,s=a.length;o<s;o++){var u=a[o];i[u]=NF(t[u])}}else if($x(e))if($x(t)){if(!iIe(e,t))return t;i=Object.assign({},e);for(var a=Object.keys(t),o=0,s=a.length;o<s;o++){var u=a[o],c=t[u];if(PT(c))typeof c>"u"?delete i[u]:i[u]=c;else{var l=i[u],d=c;if(H7(e,u,r)||H7(t,u,r))delete i[u];else{if($x(l)&&$x(d)){var p=r.get(l)||[],f=r.get(d)||[];p.push({obj:e,key:u}),f.push({obj:t,key:u}),r.set(l,p),r.set(d,f)}i[u]=B7(i[u],c,n,r)}}}}else i=t;return i}}function H7(e,t,n){for(var r=n.get(e[t])||[],i=0,o=r.length;i<o;i++){var s=r[i];if(s.key===t&&s.obj===e)return!0}return!1}function RT(e){return Array.isArray(e)}function V7(e){return typeof e=="function"}function $x(e){return!PT(e)&&!RT(e)&&!V7(e)&&typeof e=="object"}function PT(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}function iIe(e,t){return!(!OF(e)||!OF(t))}var rIe,W7=S(()=>{j7();rIe=20});function G7(e,t){return typeof t=="string"?e===t:!!e.match(t)}function sIe(e,t){var n,r;if(!t)return!1;try{for(var i=oIe(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(G7(e,s))return!0}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}var oIe,z7=S(()=>{oIe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}});function aIe(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}var Y7=S(()=>{});var K7,X7=S(()=>{K7=function(){function e(){var t=this;this._promise=new Promise(function(n,r){t._resolve=n,t._reject=r})}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),e.prototype.resolve=function(t){this._resolve(t)},e.prototype.reject=function(t){this._reject(t)},e}()});var cIe,uIe,jx,Q7=S(()=>{X7();cIe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},uIe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},jx=function(){function e(t,n){this._callback=t,this._that=n,this._isCalled=!1,this._deferred=new K7}return Object.defineProperty(e.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),e.prototype.call=function(){for(var t,n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((t=this._callback).call.apply(t,uIe([this._that],cIe(r),!1))).then(function(o){return n._deferred.resolve(o)},function(o){return n._deferred.reject(o)})}catch(o){this._deferred.reject(o)}}return this._deferred.promise},e}()});function J7(e,t){return new Promise(function(n){kr.with(Dx(kr.active()),function(){e.export(t,function(r){n(r)})})})}var Z7=S(()=>{lt();kx()});var eQ={};As(eQ,{AlwaysOffSampler:()=>IT,AlwaysOnSampler:()=>qx,AnchoredClock:()=>$Se,BindOnceFuture:()=>jx,CompositePropagator:()=>CF,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>Nx,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>Ox,DEFAULT_ENVIRONMENT:()=>wT,ExportResultCode:()=>Po,ParentBasedSampler:()=>VTe,RPCType:()=>RF,RandomIdGenerator:()=>sTe,SDK_INFO:()=>Fx,TRACE_PARENT_HEADER:()=>ST,TRACE_STATE_HEADER:()=>TT,TraceIdRatioBasedSampler:()=>WTe,TraceState:()=>TF,TracesSamplerValues:()=>Hi,VERSION:()=>hF,W3CBaggagePropagator:()=>cF,W3CTraceContextPropagator:()=>PF,_globalThis:()=>tTe,baggageUtils:()=>sF,deleteRPCMetadata:()=>HTe,getEnv:()=>Kn,getEnvWithoutDefaults:()=>fF,getRPCMetadata:()=>BTe,globalErrorHandler:()=>Io,hexToBase64:()=>iTe,hrTime:()=>w7,hrTimeDuration:()=>EF,hrTimeToMicroseconds:()=>CT,hrTimeToMilliseconds:()=>ITe,hrTimeToNanoseconds:()=>TTe,hrTimeToTimeStamp:()=>STe,internal:()=>FF,isAttributeKey:()=>XX,isAttributeValue:()=>xT,isTimeInput:()=>_F,isTimeInputHrTime:()=>bF,isTracingSuppressed:()=>ep,isUrlIgnored:()=>sIe,isWrapped:()=>aIe,loggingErrorHandler:()=>uF,merge:()=>LF,otperformance:()=>np,parseEnvironment:()=>Lx,parseTraceParent:()=>D7,sanitizeAttributes:()=>tp,setGlobalErrorHandler:()=>WSe,setRPCMetadata:()=>jTe,suppressTracing:()=>Dx,timeInputToHrTime:()=>Ux,unrefTimer:()=>yF,unsuppressTracing:()=>MSe,urlMatches:()=>G7});var FF,Or=S(()=>{zX();YX();JX();dF();lF();E7();b7();_7();bT();aF();xF();C7();k7();O7();N7();DF();kF();L7();F7();kx();IF();mF();W7();pF();z7();Y7();Q7();bT();Z7();FF={_export:J7}});var tQ,nQ=S(()=>{tQ="exception"});var lIe,dIe,MF,UF=S(()=>{lt();Or();ws();nQ();lIe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},dIe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},MF=function(){function e(t,n,r,i,o,s,a,u,c){a===void 0&&(a=[]),c===void 0&&(c=np),this.attributes={},this.links=[],this.events=[],this.status={code:ph.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this._clock=c,this.name=r,this._spanContext=i,this.parentSpanId=s,this.kind=o,this.links=a,this.startTime=Ux(u??c.now()),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,n),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return n==null||this._isSpanEnded()?this:t.length===0?(Oe.warn("Invalid attribute key: "+t),this):xT(n)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?this:(this.attributes[t]=this._truncateToSize(n),this):(Oe.warn("Invalid attribute value set for key: "+t),this)},e.prototype.setAttributes=function(t){var n,r;try{for(var i=lIe(Object.entries(t)),o=i.next();!o.done;o=i.next()){var s=dIe(o.value,2),a=s[0],u=s[1];this.setAttribute(a,u)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},e.prototype.addEvent=function(t,n,r){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return Oe.warn("No events allowed."),this;this.events.length>=this._spanLimits.eventCountLimit&&(Oe.warn("Dropping extra events."),this.events.shift()),_F(n)&&(typeof r>"u"&&(r=n),n=void 0),typeof r>"u"&&(r=this._clock.now());var i=tp(n);return this.events.push({name:t,attributes:i,time:Ux(r)}),this},e.prototype.setStatus=function(t){return this._isSpanEnded()?this:(this.status=t,this)},e.prototype.updateName=function(t){return this._isSpanEnded()?this:(this.name=t,this)},e.prototype.end=function(t){if(this._isSpanEnded()){Oe.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=Ux(t??this._clock.now()),this._duration=EF(this.startTime,this.endTime),this._duration[0]<0&&(Oe.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this)},e.prototype.isRecording=function(){return this._ended===!1},e.prototype.recordException=function(t,n){n===void 0&&(n=this._clock.now());var r={};typeof t=="string"?r[yc.EXCEPTION_MESSAGE]=t:t&&(t.code?r[yc.EXCEPTION_TYPE]=t.code.toString():t.name&&(r[yc.EXCEPTION_TYPE]=t.name),t.message&&(r[yc.EXCEPTION_MESSAGE]=t.message),t.stack&&(r[yc.EXCEPTION_STACKTRACE]=t.stack)),r[yc.EXCEPTION_TYPE]||r[yc.EXCEPTION_MESSAGE]?this.addEvent(tQ,r,n):Oe.warn("Failed to record an exception "+t)},Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),e.prototype._isSpanEnded=function(){return this._ended&&Oe.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},e.prototype._truncateToLimitUtil=function(t,n){return t.length<=n?t:t.substr(0,n)},e.prototype._truncateToSize=function(t){var n=this,r=this._attributeValueLengthLimit;return r<=0?(Oe.warn("Attribute value limit must be positive, got "+r),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(function(i){return typeof i=="string"?n._truncateToLimitUtil(i,r):i}):t},e}()});var ra,Hx=S(()=>{(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(ra||(ra={}))});var ip,AT=S(()=>{Hx();ip=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:ra.NOT_RECORD}},e.prototype.toString=function(){return"AlwaysOffSampler"},e}()});var xc,DT=S(()=>{Hx();xc=function(){function e(){}return e.prototype.shouldSample=function(){return{decision:ra.RECORD_AND_SAMPLED}},e.prototype.toString=function(){return"AlwaysOnSampler"},e}()});var Bx,qF=S(()=>{lt();Or();AT();DT();Bx=function(){function e(t){var n,r,i,o;this._root=t.root,this._root||(Io(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new xc),this._remoteParentSampled=(n=t.remoteParentSampled)!==null&&n!==void 0?n:new xc,this._remoteParentNotSampled=(r=t.remoteParentNotSampled)!==null&&r!==void 0?r:new ip,this._localParentSampled=(i=t.localParentSampled)!==null&&i!==void 0?i:new xc,this._localParentNotSampled=(o=t.localParentNotSampled)!==null&&o!==void 0?o:new ip}return e.prototype.shouldSample=function(t,n,r,i,o,s){var a=An.getSpanContext(t);return!a||!To(a)?this._root.shouldSample(t,n,r,i,o,s):a.isRemote?a.traceFlags&dn.SAMPLED?this._remoteParentSampled.shouldSample(t,n,r,i,o,s):this._remoteParentNotSampled.shouldSample(t,n,r,i,o,s):a.traceFlags&dn.SAMPLED?this._localParentSampled.shouldSample(t,n,r,i,o,s):this._localParentNotSampled.shouldSample(t,n,r,i,o,s)},e.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},e}()});var kT,$F=S(()=>{lt();Hx();kT=function(){function e(t){t===void 0&&(t=0),this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}return e.prototype.shouldSample=function(t,n){return{decision:Jd(n)&&this._accumulate(n)<this._upperBound?ra.RECORD_AND_SAMPLED:ra.NOT_RECORD}},e.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},e.prototype._normalize=function(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t},e.prototype._accumulate=function(t){for(var n=0,r=0;r<t.length/8;r++){var i=r*8,o=parseInt(t.slice(i,i+8),16);n=(n^o)>>>0}return n},e}()});function OT(){return{sampler:jF(pIe),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:Kn().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:Kn().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:Kn().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:Kn().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:Kn().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:Kn().OTEL_SPAN_EVENT_COUNT_LIMIT}}}function jF(e){switch(e===void 0&&(e=Kn()),e.OTEL_TRACES_SAMPLER){case Hi.AlwaysOn:return new xc;case Hi.AlwaysOff:return new ip;case Hi.ParentBasedAlwaysOn:return new Bx({root:new xc});case Hi.ParentBasedAlwaysOff:return new Bx({root:new ip});case Hi.TraceIdRatio:return new kT(rQ(e));case Hi.ParentBasedTraceIdRatio:return new Bx({root:new kT(rQ(e))});default:return Oe.error('OTEL_TRACES_SAMPLER value "'+e.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+fIe+'".'),new xc}}function rQ(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return Oe.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+hh+"."),hh;var t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(Oe.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+hh+"."),hh):t<0||t>1?(Oe.error("OTEL_TRACES_SAMPLER_ARG="+e.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+hh+"."),hh):t}var pIe,fIe,hh,HF=S(()=>{lt();Or();AT();DT();qF();$F();pIe=Kn(),fIe=Hi.AlwaysOn,hh=1});function iQ(e){var t={sampler:jF()},n=OT(),r=Object.assign({},n,t,e);return r.generalLimits=Object.assign({},n.generalLimits,e.generalLimits||{}),r.spanLimits=Object.assign({},n.spanLimits,e.spanLimits||{}),r}function oQ(e){var t,n,r,i,o,s,a,u,c,l,d,p,f=Object.assign({},e.spanLimits),m=fF();return f.attributeCountLimit=(s=(o=(i=(n=(t=e.spanLimits)===null||t===void 0?void 0:t.attributeCountLimit)!==null&&n!==void 0?n:(r=e.generalLimits)===null||r===void 0?void 0:r.attributeCountLimit)!==null&&i!==void 0?i:m.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:m.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:Nx,f.attributeValueLengthLimit=(p=(d=(l=(u=(a=e.spanLimits)===null||a===void 0?void 0:a.attributeValueLengthLimit)!==null&&u!==void 0?u:(c=e.generalLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&l!==void 0?l:m.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&d!==void 0?d:m.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&p!==void 0?p:Ox,Object.assign({},e,{spanLimits:f})}var BF=S(()=>{HF();Or()});var sQ,aQ=S(()=>{lt();Or();sQ=function(){function e(t,n){this._exporter=t,this._finishedSpans=[];var r=Kn();this._maxExportBatchSize=typeof(n==null?void 0:n.maxExportBatchSize)=="number"?n.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(n==null?void 0:n.maxQueueSize)=="number"?n.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(n==null?void 0:n.scheduledDelayMillis)=="number"?n.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(n==null?void 0:n.exportTimeoutMillis)=="number"?n.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new jx(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(Oe.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return e.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){this._shutdownOnce.isCalled||t.spanContext().traceFlags&dn.SAMPLED&&this._addToBuffer(t)},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){var t=this;return Promise.resolve().then(function(){return t.onShutdown()}).then(function(){return t._flushAll()}).then(function(){return t._exporter.shutdown()})},e.prototype._addToBuffer=function(t){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(t),this._maybeStartTimer())},e.prototype._flushAll=function(){var t=this;return new Promise(function(n,r){for(var i=[],o=Math.ceil(t._finishedSpans.length/t._maxExportBatchSize),s=0,a=o;s<a;s++)i.push(t._flushOneBatch());Promise.all(i).then(function(){n()}).catch(r)})},e.prototype._flushOneBatch=function(){var t=this;return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise(function(n,r){var i=setTimeout(function(){r(new Error("Timeout"))},t._exportTimeoutMillis);kr.with(Dx(kr.active()),function(){t._exporter.export(t._finishedSpans.splice(0,t._maxExportBatchSize),function(o){var s;clearTimeout(i),o.code===Po.SUCCESS?n():r((s=o.error)!==null&&s!==void 0?s:new Error("BatchSpanProcessor: span export failed"))})})})},e.prototype._maybeStartTimer=function(){var t=this;this._timer===void 0&&(this._timer=setTimeout(function(){t._flushOneBatch().then(function(){t._finishedSpans.length>0&&(t._clearTimer(),t._maybeStartTimer())}).catch(function(n){Io(n)})},this._scheduledDelayMillis),yF(this._timer))},e.prototype._clearTimer=function(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)},e}()});var mIe,VF,cQ=S(()=>{aQ();mIe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),VF=function(e){mIe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onShutdown=function(){},t}(sQ)});function uQ(e){return function(){for(var n=0;n<e/4;n++)NT.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,n*4);for(var n=0;n<e&&!(NT[n]>0);n++)n===e-1&&(NT[e-1]=1);return NT.toString("hex",0,e)}}var hIe,lQ,WF,NT,dQ=S(()=>{hIe=8,lQ=16,WF=function(){function e(){this.generateTraceId=uQ(lQ),this.generateSpanId=uQ(hIe)}return e}(),NT=Buffer.allocUnsafe(lQ)});var pQ=S(()=>{cQ();dQ()});var LT=S(()=>{pQ()});var GF,fQ=S(()=>{lt();Or();UF();BF();LT();GF=function(){function e(t,n,r){this._tracerProvider=r;var i=iQ(n);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=n.idGenerator||new WF,this.resource=r.resource,this.instrumentationLibrary=t}return e.prototype.startSpan=function(t,n,r){var i,o;n===void 0&&(n={}),r===void 0&&(r=kr.active()),n.root&&(r=An.deleteSpan(r));var s=An.getSpan(r);if(ep(r)){Oe.debug("Instrumentation suppressed, returning Noop Span");var a=An.wrapSpanContext(lh);return a}var u=s==null?void 0:s.spanContext(),c=this._idGenerator.generateSpanId(),l,d,p;!u||!An.isSpanContextValid(u)?l=this._idGenerator.generateTraceId():(l=u.traceId,d=u.traceState,p=u.spanId);var f=(i=n.kind)!==null&&i!==void 0?i:dh.INTERNAL,m=((o=n.links)!==null&&o!==void 0?o:[]).map(function(b){return{context:b.context,attributes:tp(b.attributes)}}),h=tp(n.attributes),g=this._sampler.shouldSample(r,l,t,f,h,m),v=g.decision===di.RECORD_AND_SAMPLED?dn.SAMPLED:dn.NONE,y={traceId:l,spanId:c,traceFlags:v,traceState:d};if(g.decision===di.NOT_RECORD){Oe.debug("Recording is off, propagating context in a non-recording span");var a=An.wrapSpanContext(y);return a}var x=new MF(this,r,t,y,f,p,m,n.startTime),E=tp(Object.assign(h,g.attributes));return x.setAttributes(E),x},e.prototype.startActiveSpan=function(t,n,r,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=n:arguments.length===3?(o=n,a=r):(o=n,s=r,a=i);var u=s??kr.active(),c=this.startSpan(t,o,u),l=An.setSpan(u,c);return kr.with(l,a,void 0,c)}},e.prototype.getGeneralLimits=function(){return this._generalLimits},e.prototype.getSpanLimits=function(){return this._spanLimits},e.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},e}()});function mQ(){return"unknown_service:"+process.argv0}var hQ=S(()=>{});var gQ=S(()=>{});var FT,gIe,vIe,yIe,HQe,vQ=S(()=>{ws();gh();FT=require("os"),gIe=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},vIe=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},yIe=function(){function e(){}return e.prototype.detect=function(t){return gIe(this,void 0,void 0,function(){var n,r;return vIe(this,function(i){return n=(r={},r[Le.HOST_NAME]=(0,FT.hostname)(),r[Le.HOST_ARCH]=this._normalizeArch((0,FT.arch)()),r),[2,new Xn(n)]})})},e.prototype._normalizeArch=function(t){switch(t){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return t}},e}(),HQe=new yIe});var MT,xIe,wIe,EIe,GQe,yQ=S(()=>{ws();gh();MT=require("os"),xIe=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},wIe=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},EIe=function(){function e(){}return e.prototype.detect=function(t){return xIe(this,void 0,void 0,function(){var n,r;return wIe(this,function(i){return n=(r={},r[Le.OS_TYPE]=this._normalizeType((0,MT.platform)()),r[Le.OS_VERSION]=(0,MT.release)(),r),[2,new Xn(n)]})})},e.prototype._normalizeType=function(t){switch(t){case"sunos":return"solaris";case"win32":return"windows";default:return t}},e}(),GQe=new EIe});var xQ=S(()=>{hQ();gQ();vQ();yQ()});var zF=S(()=>{xQ()});var Xn,gh=S(()=>{ws();Or();zF();Xn=function(){function e(t){this.attributes=t}return e.empty=function(){return e.EMPTY},e.default=function(){var t;return new e((t={},t[Le.SERVICE_NAME]=mQ(),t[Le.TELEMETRY_SDK_LANGUAGE]=Fx[Le.TELEMETRY_SDK_LANGUAGE],t[Le.TELEMETRY_SDK_NAME]=Fx[Le.TELEMETRY_SDK_NAME],t[Le.TELEMETRY_SDK_VERSION]=Fx[Le.TELEMETRY_SDK_VERSION],t))},e.prototype.merge=function(t){if(!t||!Object.keys(t.attributes).length)return this;var n=Object.assign({},this.attributes,t.attributes);return new e(n)},e.EMPTY=new e({}),e}()});var wQ=S(()=>{});var EQ=S(()=>{});var YF,bIe,_Ie,CIe,cJe,bQ=S(()=>{lt();ws();KF();YF=function(){return YF=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},YF.apply(this,arguments)},bIe=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},_Ie=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},CIe=function(){function e(){}return e.prototype.detect=function(t){return bIe(this,void 0,void 0,function(){var n,r,i;return _Ie(this,function(o){return n=typeof navigator<"u",n?(r=(i={},i[Le.PROCESS_RUNTIME_NAME]="browser",i[Le.PROCESS_RUNTIME_DESCRIPTION]="Web Browser",i[Le.PROCESS_RUNTIME_VERSION]=navigator.userAgent,i),[2,this._getResourceAttributes(r,t)]):[2,Xn.empty()]})})},e.prototype._getResourceAttributes=function(t,n){return t[Le.PROCESS_RUNTIME_VERSION]===""?(Oe.debug("BrowserDetector failed: Unable to find required browser resources. "),Xn.empty()):new Xn(YF({},t))},e}(),cJe=new CIe});var SIe,TIe,IIe,PIe,RIe,mJe,_Q=S(()=>{lt();Or();ws();gh();SIe=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},TIe=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},IIe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},PIe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},RIe=function(){function e(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}return e.prototype.detect=function(t){return SIe(this,void 0,void 0,function(){var n,r,i,o,s;return TIe(this,function(a){if(n={},r=Kn(),i=r.OTEL_RESOURCE_ATTRIBUTES,o=r.OTEL_SERVICE_NAME,i)try{s=this._parseResourceAttributes(i),Object.assign(n,s)}catch(u){Oe.debug("EnvDetector failed: "+u.message)}return o&&(n[Le.SERVICE_NAME]=o),[2,new Xn(n)]})})},e.prototype._parseResourceAttributes=function(t){var n,r;if(!t)return{};var i={},o=t.split(this._COMMA_SEPARATOR,-1);try{for(var s=IIe(o),a=s.next();!a.done;a=s.next()){var u=a.value,c=u.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(c.length===2){var l=PIe(c,2),d=l[0],p=l[1];if(d=d.trim(),p=p.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(d))throw new Error("Attribute key "+this._ERROR_MESSAGE_INVALID_CHARS);if(!this._isValid(p))throw new Error("Attribute value "+this._ERROR_MESSAGE_INVALID_VALUE);i[d]=decodeURIComponent(p)}}}catch(f){n={error:f}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},e.prototype._isValid=function(t){return t.length<=this._MAX_LENGTH&&this._isBaggageOctetString(t)},e.prototype._isBaggageOctetString=function(t){for(var n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<33||r===44||r===59||r===92||r>126)return!1}return!0},e.prototype._isValidAndNotEmpty=function(t){return t.length>0&&this._isValid(t)},e}(),mJe=new RIe});var XF,AIe,DIe,kIe,xJe,CQ=S(()=>{lt();ws();gh();XF=function(){return XF=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},XF.apply(this,arguments)},AIe=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},DIe=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},kIe=function(){function e(){}return e.prototype.detect=function(t){return AIe(this,void 0,void 0,function(){var n,r;return DIe(this,function(i){return typeof process!="object"?[2,Xn.empty()]:(n=(r={},r[Le.PROCESS_PID]=process.pid,r[Le.PROCESS_EXECUTABLE_NAME]=process.title||"",r[Le.PROCESS_COMMAND]=process.argv[1]||"",r[Le.PROCESS_COMMAND_LINE]=process.argv.join(" ")||"",r[Le.PROCESS_RUNTIME_VERSION]=process.versions.node,r[Le.PROCESS_RUNTIME_NAME]="nodejs",r[Le.PROCESS_RUNTIME_DESCRIPTION]="Node.js",r),[2,this._getResourceAttributes(n,t)])})})},e.prototype._getResourceAttributes=function(t,n){return t[Le.PROCESS_EXECUTABLE_NAME]===""||t[Le.PROCESS_EXECUTABLE_PATH]===""||t[Le.PROCESS_COMMAND]===""||t[Le.PROCESS_COMMAND_LINE]===""||t[Le.PROCESS_RUNTIME_VERSION]===""?(Oe.debug("ProcessDetector failed: Unable to find required process resources. "),Xn.empty()):new Xn(XF({},t))},e}(),xJe=new kIe});var SQ=S(()=>{bQ();_Q();CQ()});var KF=S(()=>{gh();zF();wQ();EQ();SQ()});var UT,TQ,IQ=S(()=>{Or();UT=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},TQ=function(){function e(t){this._spanProcessors=t}return e.prototype.forceFlush=function(){var t,n,r=[];try{for(var i=UT(this._spanProcessors),o=i.next();!o.done;o=i.next()){var s=o.value;r.push(s.forceFlush())}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return new Promise(function(a){Promise.all(r).then(function(){a()}).catch(function(u){Io(u||new Error("MultiSpanProcessor: forceFlush failed")),a()})})},e.prototype.onStart=function(t,n){var r,i;try{for(var o=UT(this._spanProcessors),s=o.next();!s.done;s=o.next()){var a=s.value;a.onStart(t,n)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},e.prototype.onEnd=function(t){var n,r;try{for(var i=UT(this._spanProcessors),o=i.next();!o.done;o=i.next()){var s=o.value;s.onEnd(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.shutdown=function(){var t,n,r=[];try{for(var i=UT(this._spanProcessors),o=i.next();!o.done;o=i.next()){var s=o.value;r.push(s.shutdown())}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return new Promise(function(a,u){Promise.all(r).then(function(){a()},u)})},e}()});var QF,JF=S(()=>{QF=function(){function e(){}return e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){},e.prototype.shutdown=function(){return Promise.resolve()},e.prototype.forceFlush=function(){return Promise.resolve()},e}()});var Xu,OIe,PQ=S(()=>{lt();Or();KF();ZF();HF();IQ();JF();LT();BF();(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(Xu||(Xu={}));OIe=function(){function e(t){t===void 0&&(t={});var n;this._registeredSpanProcessors=[],this._tracers=new Map;var r=LF({},OT(),oQ(t));this.resource=(n=r.resource)!==null&&n!==void 0?n:Xn.empty(),this.resource=Xn.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});var i=this._buildExporterFromEnv();if(i!==void 0){var o=new VF(i);this.activeSpanProcessor=o}else this.activeSpanProcessor=new QF}return e.prototype.getTracer=function(t,n,r){var i=t+"@"+(n||"")+":"+((r==null?void 0:r.schemaUrl)||"");return this._tracers.has(i)||this._tracers.set(i,new GF({name:t,version:n,schemaUrl:r==null?void 0:r.schemaUrl},this._config,this)),this._tracers.get(i)},e.prototype.addSpanProcessor=function(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(function(n){return Oe.error("Error while trying to shutdown current span processor",n)}),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new TQ(this._registeredSpanProcessors)},e.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},e.prototype.register=function(t){t===void 0&&(t={}),An.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&kr.setGlobalContextManager(t.contextManager),t.propagator&&vc.setGlobalPropagator(t.propagator)},e.prototype.forceFlush=function(){var t=this._config.forceFlushTimeoutMillis,n=this._registeredSpanProcessors.map(function(r){return new Promise(function(i){var o,s=setTimeout(function(){i(new Error("Span processor did not completed within timeout period of "+t+" ms")),o=Xu.timeout},t);r.forceFlush().then(function(){clearTimeout(s),o!==Xu.timeout&&(o=Xu.resolved,i(o))}).catch(function(a){clearTimeout(s),o=Xu.error,i(a)})})});return new Promise(function(r,i){Promise.all(n).then(function(o){var s=o.filter(function(a){return a!==Xu.resolved});s.length>0?i(s):r()}).catch(function(o){return i([o])})})},e.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},e.prototype._getPropagator=function(t){var n;return(n=this.constructor._registeredPropagators.get(t))===null||n===void 0?void 0:n()},e.prototype._getSpanExporter=function(t){var n;return(n=this.constructor._registeredExporters.get(t))===null||n===void 0?void 0:n()},e.prototype._buildPropagatorFromEnv=function(){var t=this,n=Array.from(new Set(Kn().OTEL_PROPAGATORS)),r=n.map(function(o){var s=t._getPropagator(o);return s||Oe.warn('Propagator "'+o+'" requested through environment variable is unavailable.'),s}),i=r.reduce(function(o,s){return s&&o.push(s),o},[]);if(i.length!==0)return n.length===1?i[0]:new CF({propagators:i})},e.prototype._buildExporterFromEnv=function(){var t=Kn().OTEL_TRACES_EXPORTER;if(t!=="none"){var n=this._getSpanExporter(t);return n||Oe.error('Exporter "'+t+'" requested through environment variable is unavailable.'),n}},e._registeredPropagators=new Map([["tracecontext",function(){return new PF}],["baggage",function(){return new cF}]]),e._registeredExporters=new Map,e}()});var NIe,LIe,RQ=S(()=>{Or();NIe=function(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},LIe=function(){function e(){}return e.prototype.export=function(t,n){return this._sendSpans(t,n)},e.prototype.shutdown=function(){return this._sendSpans([]),Promise.resolve()},e.prototype._exportInfo=function(t){return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:CT(t.startTime),duration:CT(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}},e.prototype._sendSpans=function(t,n){var r,i;try{for(var o=NIe(t),s=o.next();!s.done;s=o.next()){var a=s.value;console.dir(this._exportInfo(a),{depth:3})}}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}if(n)return n({code:Po.SUCCESS})},e}()});var FIe,MIe,UIe,AQ=S(()=>{Or();FIe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},MIe=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},UIe=function(){function e(){this._finishedSpans=[],this._stopped=!1}return e.prototype.export=function(t,n){var r;if(this._stopped)return n({code:Po.FAILED,error:new Error("Exporter has been stopped")});(r=this._finishedSpans).push.apply(r,MIe([],FIe(t),!1)),setTimeout(function(){return n({code:Po.SUCCESS})},0)},e.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()},e.prototype.reset=function(){this._finishedSpans=[]},e.prototype.getFinishedSpans=function(){return this._finishedSpans},e}()});var DQ=S(()=>{});var qIe,kQ=S(()=>{lt();Or();qIe=function(){function e(t){this._exporter=t,this._shutdownOnce=new jx(this._shutdown,this)}return e.prototype.forceFlush=function(){return Promise.resolve()},e.prototype.onStart=function(t,n){},e.prototype.onEnd=function(t){this._shutdownOnce.isCalled||t.spanContext().traceFlags&dn.SAMPLED&&FF._export(this._exporter,[t]).then(function(n){var r;n.code!==Po.SUCCESS&&Io((r=n.error)!==null&&r!==void 0?r:new Error("SimpleSpanProcessor: span export failed (status "+n+")"))}).catch(function(n){Io(n)})},e.prototype.shutdown=function(){return this._shutdownOnce.call()},e.prototype._shutdown=function(){return this._exporter.shutdown()},e}()});var OQ=S(()=>{});var NQ=S(()=>{});var LQ=S(()=>{});var FQ=S(()=>{});var MQ=S(()=>{});var UQ={};As(UQ,{AlwaysOffSampler:()=>ip,AlwaysOnSampler:()=>xc,BasicTracerProvider:()=>OIe,BatchSpanProcessor:()=>VF,ConsoleSpanExporter:()=>LIe,ForceFlushState:()=>Xu,InMemorySpanExporter:()=>UIe,NoopSpanProcessor:()=>QF,ParentBasedSampler:()=>Bx,RandomIdGenerator:()=>WF,SamplingDecision:()=>ra,SimpleSpanProcessor:()=>qIe,Span:()=>MF,TraceIdRatioBasedSampler:()=>kT,Tracer:()=>GF});var ZF=S(()=>{fQ();PQ();LT();RQ();AQ();DQ();kQ();OQ();JF();AT();DT();qF();$F();Hx();UF();NQ();LQ();FQ();MQ()});var $Q=w(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.enable=Ro.azureCoreTracing=Ro.AzureMonitorSymbol=void 0;var e1=Jt();Ro.AzureMonitorSymbol="Azure_Monitor_Tracer";var t1="azure-coretracing",qQ=!1,$Ie=function(e){if(qQ)return e;try{var t=(ZF(),yi(UQ)),n=(lt(),yi(Zd)),r=new t.BasicTracerProvider,i=r.getTracer("applicationinsights tracer");if(e.setTracer){var o=e.setTracer;e.setTracer=function(c){var l=c.startSpan;c.startSpan=function(d,p,f){var m=l.call(this,d,p,f),h=m.end;return m.end=function(){var g=h.apply(this,arguments);return e1.channel.publish(t1,m),g},m},c[Ro.AzureMonitorSymbol]=!0,o.call(this,c)},n.trace.getSpan(n.context.active()),e.setTracer(i)}else{var s=n.trace.setGlobalTracerProvider;n.trace.setGlobalTracerProvider=function(c){var l=c.getTracer;return c.getTracer=function(d,p){var f=l.call(this,d,p);if(!f[Ro.AzureMonitorSymbol]){var m=f.startSpan;f.startSpan=function(h,g,v){var y=m.call(this,h,g,v),x=y.end;return y.end=function(){var E=x.apply(this,arguments);return e1.channel.publish(t1,y),E},y},f[Ro.AzureMonitorSymbol]=!0}return f},s.call(this,c)},r.register(),n.trace.getSpan(n.context.active());var a=require("@opentelemetry/instrumentation"),u=require("@azure/opentelemetry-instrumentation-azure-sdk");a.registerInstrumentations({instrumentations:[u.createAzureSdkInstrumentation()]})}qQ=!0}catch{}return e};Ro.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:$Ie,publisherName:t1};function jIe(){e1.channel.registerMonkeyPatch("@azure/core-tracing",Ro.azureCoreTracing)}Ro.enable=jIe});var HQ=w(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});op.enable=op.bunyan=void 0;var jQ=Jt(),HIe=function(e){var t=e.prototype._emit;return e.prototype._emit=function(n,r){var i=t.apply(this,arguments);if(!r){var o=i;o||(o=t.call(this,n,!0)),jQ.channel.publish("bunyan",{level:n.level,result:o})}return i},e};op.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:HIe};function BIe(){jQ.channel.registerMonkeyPatch("bunyan",op.bunyan)}op.enable=BIe});var VQ=w(sp=>{"use strict";Object.defineProperty(sp,"__esModule",{value:!0});sp.enable=sp.console=void 0;var n1=Jt(),BQ=require("stream"),VIe=function(e){var t=new BQ.Writable,n=new BQ.Writable;t.write=function(c){if(!c)return!0;var l=c.toString();return n1.channel.publish("console",{message:l}),!0},n.write=function(c){if(!c)return!0;var l=c.toString();return n1.channel.publish("console",{message:l,stderr:!0}),!0};for(var r=new e.Console(t,n),i=["log","info","warn","error","dir","time","timeEnd","trace","assert"],o=function(c){var l=e[c];l&&(e[c]=function(){if(r[c])try{r[c].apply(r,arguments)}catch{}return l.apply(e,arguments)})},s=0,a=i;s<a.length;s++){var u=a[s];o(u)}return e};sp.console={versionSpecifier:">= 4.0.0",patch:VIe};function WIe(){n1.channel.registerMonkeyPatch("console",sp.console),require("console")}sp.enable=WIe});var WQ=w(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.enable=ap.mongoCore=void 0;var r1=Jt(),GIe=function(e){var t=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var r=t.apply(this,arguments),i=this.s.pool.write;this.s.pool.write=function(){var a=typeof arguments[1]=="function"?1:2;return typeof arguments[a]=="function"&&(arguments[a]=r1.channel.bindToContext(arguments[a])),i.apply(this,arguments)};var o=this.s.pool.logout;return this.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=r1.channel.bindToContext(arguments[1])),o.apply(this,arguments)},r},e};ap.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:GIe};function zIe(){r1.channel.registerMonkeyPatch("mongodb-core",ap.mongoCore)}ap.enable=zIe});var GQ=w(Nr=>{"use strict";var vh=Nr&&Nr.__assign||function(){return vh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},vh.apply(this,arguments)};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.enable=Nr.mongo330=Nr.mongo3=Nr.mongo2=void 0;var vr=Jt(),YIe=function(e){var t=e.instrument({operationIdGenerator:{next:function(){return vr.channel.bindToContext(function(r){return r()})}}}),n={};return t.on("started",function(r){n[r.requestId]||(n[r.requestId]=vh(vh({},r),{time:new Date}))}),t.on("succeeded",function(r){var i=n[r.requestId];i&&delete n[r.requestId],typeof r.operationId=="function"?r.operationId(function(){return vr.channel.publish("mongodb",{startedData:i,event:r,succeeded:!0})}):vr.channel.publish("mongodb",{startedData:i,event:r,succeeded:!0})}),t.on("failed",function(r){var i=n[r.requestId];i&&delete n[r.requestId],typeof r.operationId=="function"?r.operationId(function(){return vr.channel.publish("mongodb",{startedData:i,event:r,succeeded:!1})}):vr.channel.publish("mongodb",{startedData:i,event:r,succeeded:!1})}),e},KIe=function(e){var t=e.instrument(),n={},r={};return t.on("started",function(i){n[i.requestId]||(r[i.requestId]=vr.channel.bindToContext(function(o){return o()}),n[i.requestId]=vh(vh({},i),{time:new Date}))}),t.on("succeeded",function(i){var o=n[i.requestId];o&&delete n[i.requestId],typeof i=="object"&&typeof r[i.requestId]=="function"&&(r[i.requestId](function(){return vr.channel.publish("mongodb",{startedData:o,event:i,succeeded:!0})}),delete r[i.requestId])}),t.on("failed",function(i){var o=n[i.requestId];o&&delete n[i.requestId],typeof i=="object"&&typeof r[i.requestId]=="function"&&(r[i.requestId](function(){return vr.channel.publish("mongodb",{startedData:o,event:i,succeeded:!1})}),delete r[i.requestId])}),e},XIe=function(e){var t=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var r=t.apply(this,arguments),i=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var a=typeof arguments[1]=="function"?1:2;return typeof arguments[a]=="function"&&(arguments[a]=vr.channel.bindToContext(arguments[a])),i.apply(this,arguments)};var o=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=vr.channel.bindToContext(arguments[1])),o.apply(this,arguments)},r},e},QIe=function(e){XIe(e);var t=e.instrument(),n={},r={};return t.on("started",function(i){n[i.requestId]||(r[i.requestId]=vr.channel.bindToContext(function(o){return o()}),n[i.requestId]=i)}),t.on("succeeded",function(i){var o=n[i.requestId];o&&delete n[i.requestId],typeof i=="object"&&typeof r[i.requestId]=="function"&&(r[i.requestId](function(){return vr.channel.publish("mongodb",{startedData:o,event:i,succeeded:!0})}),delete r[i.requestId])}),t.on("failed",function(i){var o=n[i.requestId];o&&delete n[i.requestId],typeof i=="object"&&typeof r[i.requestId]=="function"&&(r[i.requestId](function(){return vr.channel.publish("mongodb",{startedData:o,event:i,succeeded:!1})}),delete r[i.requestId])}),e};Nr.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:YIe};Nr.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:KIe};Nr.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:QIe};function JIe(){vr.channel.registerMonkeyPatch("mongodb",Nr.mongo2),vr.channel.registerMonkeyPatch("mongodb",Nr.mongo3),vr.channel.registerMonkeyPatch("mongodb",Nr.mongo330)}Nr.enable=JIe});var YQ=w(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});cp.enable=cp.mysql=void 0;var qT=Jt(),zQ=require("path"),ZIe=function(e,t){var n=function(u,c){return function(l,d){var p=u[l];p&&(u[l]=function(){for(var m=arguments.length-1,h=arguments.length-1;h>=0;--h)if(typeof arguments[h]=="function"){m=h;break}else if(typeof arguments[h]<"u")break;var g=arguments[m],v={result:null,startTime:null,startDate:null};typeof g=="function"&&(d?(v.startTime=process.hrtime(),v.startDate=new Date,arguments[m]=qT.channel.bindToContext(d(v,g))):arguments[m]=qT.channel.bindToContext(g));var y=p.apply(this,arguments);return v.result=y,y})}},r=function(u,c){return n(u.prototype,c+".prototype")},i=["connect","changeUser","ping","statistics","end"],o=require(zQ.dirname(t)+"/lib/Connection");i.forEach(function(u){return r(o,"Connection")(u)}),n(o,"Connection")("createQuery",function(u,c){return function(l){var d=process.hrtime(u.startTime),p=d[0]*1e3+d[1]/1e6|0;qT.channel.publish("mysql",{query:u.result,callbackArgs:arguments,err:l,duration:p,time:u.startDate}),c.apply(this,arguments)}});var s=["_enqueueCallback"],a=require(zQ.dirname(t)+"/lib/Pool");return s.forEach(function(u){return r(a,"Pool")(u)}),e};cp.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:ZIe};function ePe(){qT.channel.registerMonkeyPatch("mysql",cp.mysql)}cp.enable=ePe});var XQ=w(up=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});up.enable=up.postgresPool1=void 0;var KQ=Jt();function tPe(e){var t=e.prototype.connect;return e.prototype.connect=function(r){return r&&(arguments[0]=KQ.channel.bindToContext(r)),t.apply(this,arguments)},e}up.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:tPe};function nPe(){KQ.channel.registerMonkeyPatch("pg-pool",up.postgresPool1)}up.enable=nPe});var JQ=w(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.enable=ia.postgres7=ia.postgres6=void 0;var yh=Jt(),QQ=require("events"),i1="postgres";function rPe(e,t){var n=e.Client.prototype.query,r="__diagnosticOriginalFunc";return e.Client.prototype.query=function(o,s,a){var u={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},c=process.hrtime(),l;function d(p){p&&p[r]&&(p=p[r]);var f=yh.channel.bindToContext(function(m,h){var g=process.hrtime(c);if(u.result=h&&{rowCount:h.rowCount,command:h.command},u.error=m,u.duration=Math.ceil(g[0]*1e3+g[1]/1e6),yh.channel.publish(i1,u),m){if(p)return p.apply(this,arguments);l&&l instanceof QQ.EventEmitter&&l.emit("error",m)}else p&&p.apply(this,arguments)});try{return Object.defineProperty(f,r,{value:p}),f}catch{return p}}try{typeof o=="string"?s instanceof Array?(u.query.preparable={text:o,args:s},a=d(a)):(u.query.text=o,a?a=d(a):s=d(s)):(typeof o.name=="string"?u.query.plan=o.name:o.values instanceof Array?u.query.preparable={text:o.text,args:o.values}:u.query.text=o.text,a?a=d(a):s?s=d(s):o.callback=d(o.callback))}catch{return n.apply(this,arguments)}return arguments[0]=o,arguments[1]=s,arguments[2]=a,arguments.length=arguments.length>3?arguments.length:3,l=n.apply(this,arguments),l},e}function iPe(e,t){var n=e.Client.prototype.query,r="__diagnosticOriginalFunc";return e.Client.prototype.query=function(o,s,a){var u=this,c=!!a,l={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},d=process.hrtime(),p;function f(m){m&&m[r]&&(m=m[r]);var h=yh.channel.bindToContext(function(g,v){var y=process.hrtime(d);if(l.result=v&&{rowCount:v.rowCount,command:v.command},l.error=g,l.duration=Math.ceil(y[0]*1e3+y[1]/1e6),yh.channel.publish(i1,l),g){if(m)return m.apply(this,arguments);p&&p instanceof QQ.EventEmitter&&p.emit("error",g)}else m&&m.apply(this,arguments)});try{return Object.defineProperty(h,r,{value:m}),h}catch{return m}}try{typeof o=="string"?s instanceof Array?(l.query.preparable={text:o,args:s},c=typeof a=="function",a=c?f(a):a):(l.query.text=o,a?(c=typeof a=="function",a=c?f(a):a):(c=typeof s=="function",s=c?f(s):s)):(typeof o.name=="string"?l.query.plan=o.name:o.values instanceof Array?l.query.preparable={text:o.text,args:o.values}:l.query.text=o.text,a?(c=typeof a=="function",a=f(a)):s?(c=typeof s=="function",s=c?f(s):s):(c=typeof o.callback=="function",o.callback=c?f(o.callback):o.callback))}catch{return n.apply(this,arguments)}return arguments[0]=o,arguments[1]=s,arguments[2]=a,arguments.length=arguments.length>3?arguments.length:3,p=n.apply(this,arguments),c?p:p.then(function(m){return f()(void 0,m),new u._Promise(function(h,g){h(m)})}).catch(function(m){return f()(m,void 0),new u._Promise(function(h,g){g(m)})})},e}ia.postgres6={versionSpecifier:"6.*",patch:rPe};ia.postgres7={versionSpecifier:">=7.* <=8.*",patch:iPe,publisherName:i1};function oPe(){yh.channel.registerMonkeyPatch("pg",ia.postgres6),yh.channel.registerMonkeyPatch("pg",ia.postgres7)}ia.enable=oPe});var ZQ=w(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.enable=lp.redis=void 0;var o1=Jt(),sPe=function(e){var t=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(n){if(n){var r=n.callback;if(!r||!r.pubsubBound){var i=this.address,o=process.hrtime(),s=new Date;n.callback=o1.channel.bindToContext(function(a,u){var c=process.hrtime(o),l=c[0]*1e3+c[1]/1e6|0;o1.channel.publish("redis",{duration:l,address:i,commandObj:n,err:a,result:u,time:s}),typeof r=="function"&&r.apply(this,arguments)}),n.callback.pubsubBound=!0}}return t.call(this,n)},e};lp.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:sPe};function aPe(){o1.channel.registerMonkeyPatch("redis",lp.redis)}lp.enable=aPe});var eJ=w(wc=>{"use strict";var $T=wc&&wc.__assign||function(){return $T=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},$T.apply(this,arguments)};Object.defineProperty(wc,"__esModule",{value:!0});wc.enable=wc.tedious=void 0;var s1=Jt(),cPe=function(e){var t=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=function(){function r(o){var s=process.hrtime(),a={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return s1.channel.bindToContext(function(u,c,l){var d=process.hrtime(s);a=$T($T({},a),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!u&&{rowCount:c,rows:l},query:{text:this.parametersByName.statement.value},error:u,duration:Math.ceil(d[0]*1e3+d[1]/1e6)}),s1.channel.publish("tedious",a),o.call(this,u,c,l)})}var i=arguments[0];arguments[0].callback=r(i.callback),t.apply(this,arguments)},e};wc.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:cPe};function uPe(){s1.channel.registerMonkeyPatch("tedious",wc.tedious)}wc.enable=uPe});var tJ=w(pi=>{"use strict";var lPe=pi&&pi.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dPe=pi&&pi.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};Object.defineProperty(pi,"__esModule",{value:!0});pi.enable=pi.winston2=pi.winston3=void 0;var jT=Jt(),pPe=function(e){var t=e.Logger.prototype.log,n,r=function(i,o,s){var a;return n===e.config.npm.levels?a="npm":n===e.config.syslog.levels?a="syslog":a="unknown",jT.channel.publish("winston",{level:i,message:o,meta:s,levelKind:a}),o};return e.Logger.prototype.log=function(){return n=this.levels,!this.filters||this.filters.length===0?this.filters=[r]:this.filters[this.filters.length-1]!==r&&(this.filters=this.filters.filter(function(o){return o!==r}),this.filters.push(r)),t.apply(this,arguments)},e},fPe=function(e){var t=function(s,a){var u;return s.config.npm.levels[a]!=null?u="npm":s.config.syslog.levels[a]!=null?u="syslog":u="unknown",u},n=function(s){lPe(a,s);function a(u,c){var l=s.call(this,c)||this;return l.winston=u,l}return a.prototype.log=function(u,c){var l=u.message,d=u.level,p=u.meta,f=dPe(u,["message","level","meta"]);d=typeof Symbol.for=="function"?u[Symbol.for("level")]:d,l=u instanceof Error?u:l;var m=t(this.winston,d);p=p||{};for(var h in f)f.hasOwnProperty(h)&&(p[h]=f[h]);jT.channel.publish("winston",{message:l,level:d,levelKind:m,meta:p}),c()},a}(e.Transport);function r(){var s=e.config.npm.levels;arguments&&arguments[0]&&arguments[0].levels&&(s=arguments[0].levels);var a;for(var u in s)s.hasOwnProperty(u)&&(a=a===void 0||s[u]>s[a]?u:a);this.add(new n(e,{level:a}))}var i=e.createLogger;e.createLogger=function(){var a=e.config.npm.levels;arguments&&arguments[0]&&arguments[0].levels&&(a=arguments[0].levels);var u;for(var c in a)a.hasOwnProperty(c)&&(u=u===void 0||a[c]>a[u]?c:u);var l=i.apply(this,arguments);l.add(new n(e,{level:u}));var d=l.configure;return l.configure=function(){d.apply(this,arguments),r.apply(this,arguments)},l};var o=e.configure;return e.configure=function(){o.apply(this,arguments),r.apply(this,arguments)},e.add(new n(e)),e};pi.winston3={versionSpecifier:"3.x",patch:fPe};pi.winston2={versionSpecifier:"2.x",patch:pPe};function mPe(){jT.channel.registerMonkeyPatch("winston",pi.winston2),jT.channel.registerMonkeyPatch("winston",pi.winston3)}pi.enable=mPe});var fJ=w(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.enable=Pt.tedious=Pt.pgPool=Pt.pg=Pt.winston=Pt.redis=Pt.mysql=Pt.mongodb=Pt.mongodbCore=Pt.console=Pt.bunyan=Pt.azuresdk=void 0;var nJ=$Q();Pt.azuresdk=nJ;var rJ=HQ();Pt.bunyan=rJ;var iJ=VQ();Pt.console=iJ;var oJ=WQ();Pt.mongodbCore=oJ;var sJ=GQ();Pt.mongodb=sJ;var aJ=YQ();Pt.mysql=aJ;var cJ=XQ();Pt.pgPool=cJ;var uJ=JQ();Pt.pg=uJ;var lJ=ZQ();Pt.redis=lJ;var dJ=eJ();Pt.tedious=dJ;var pJ=tJ();Pt.winston=pJ;function hPe(){rJ.enable(),iJ.enable(),oJ.enable(),sJ.enable(),aJ.enable(),uJ.enable(),cJ.enable(),lJ.enable(),pJ.enable(),nJ.enable(),dJ.enable()}Pt.enable=hPe});var VT=w(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.registerContextPreservation=Qu.IsInitialized=void 0;var a1=Vt(),hJ=VS();Qu.IsInitialized=!hJ.JsonConfig.getInstance().noDiagnosticChannel;var c1="DiagnosticChannel";if(Qu.IsInitialized){Es=fJ(),mJ=hJ.JsonConfig.getInstance().noPatchModules,HT=mJ.split(","),u1={bunyan:Es.bunyan,console:Es.console,mongodb:Es.mongodb,mongodbCore:Es.mongodbCore,mysql:Es.mysql,redis:Es.redis,pg:Es.pg,pgPool:Es.pgPool,winston:Es.winston,azuresdk:Es.azuresdk};for(BT in u1)HT.indexOf(BT)===-1&&(u1[BT].enable(),a1.info(c1,"Subscribed to "+BT+" events"));HT.length>0&&a1.info(c1,"Some modules will not be patched",HT)}else a1.info(c1,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");var Es,mJ,HT,u1,BT;function gPe(e){if(Qu.IsInitialized){var t=Jt();t.channel.addContextPreservation(e)}}Qu.registerContextPreservation=gPe});var xh=w((RZe,gJ)=>{"use strict";gJ.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}});var Qn=w((p1,vJ)=>{"use strict";var Zu=p1&&p1.__assign||function(){return Zu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Zu.apply(this,arguments)},vPe=require("http"),l1=require("https"),d1=require("url"),Ju=require("constants"),dp=Vt(),wh=xh(),yPe=VS(),xPe=function(){function e(){e._addCloseHandler()}return e.getCookie=function(t,n){var r="";if(t&&t.length&&typeof n=="string")for(var i=t+"=",o=n.split(";"),s=0;s<o.length;s++){var n=o[s];if(n=e.trim(n),n&&n.indexOf(i)===0){r=n.substring(i.length,o[s].length);break}}return r},e.trim=function(t){return typeof t=="string"?t.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(t){var n=function(a,u){return String.fromCharCode(a>>u&255)},r=function(a){return n(a,24)+n(a,16)+n(a,8)+n(a,0)},i=t.map(r).join(""),o=Buffer.from?Buffer.from(i,"binary"):new Buffer(i,"binary"),s=o.toString("base64");return s.substr(0,s.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r,i=0;i<4;i++)r=e.random32(),n+=t[r&15]+t[r>>4&15]+t[r>>8&15]+t[r>>12&15]+t[r>>16&15]+t[r>>20&15]+t[r>>24&15]+t[r>>28&15];var o=t[8+Math.random()*4|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+o+n.substr(16,3)+n.substr(19,12)},e.w3cSpanId=function(){return e.w3cTraceId().substring(16)},e.isValidW3CId=function(t){return t.length===32&&t!=="00000000000000000000000000000000"},e.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"},e.isError=function(t){return Object.prototype.toString.call(t)==="[object Error]"},e.isPrimitive=function(t){var n=typeof t;return n==="string"||n==="number"||n==="boolean"},e.isDate=function(t){return Object.prototype.toString.call(t)==="[object Date]"},e.msToTimeSpan=function(t){(isNaN(t)||t<0)&&(t=0);var n=(t/1e3%60).toFixed(7).replace(/0{0,4}$/,""),r=""+Math.floor(t/(1e3*60))%60,i=""+Math.floor(t/(1e3*60*60))%24,o=Math.floor(t/(1e3*60*60*24));n=n.indexOf(".")<2?"0"+n:n,r=r.length<2?"0"+r:r,i=i.length<2?"0"+i:i;var s=o>0?o+".":"";return s+i+":"+r+":"+n},e.extractError=function(t){var n=t;return{message:t.message,code:n.code||n.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):typeof t.toJSON=="function"?t.toJSON():t},e.validateStringMap=function(t){if(typeof t!="object"){dp.info("Invalid properties dropped from payload");return}var n={};for(var r in t){var i="",o=t[r],s=typeof o;if(e.isPrimitive(o))i=o.toString();else if(o===null||s==="undefined")i="";else if(s==="function"){dp.info("key: "+r+" was function; will not serialize");continue}else{var a=e.isArray(o)?o:e.extractObject(o);try{e.isPrimitive(a)?i=a:i=JSON.stringify(a)}catch(u){i=o.constructor.name.toString()+" (Error: "+u.message+")",dp.info("key: "+r+", could not be serialized")}}n[r]=i.substring(0,e.MAX_PROPERTY_LENGTH)}return n},e.canIncludeCorrelationHeader=function(t,n){var r=t&&t.config&&t.config.correlationHeaderExcludedDomains;if(!r||r.length==0||!n)return!0;for(var i=0;i<r.length;i++){var o=new RegExp(r[i].replace(/\./g,".").replace(/\*/g,".*"));try{if(o.test(new d1.URL(n).hostname))return!1}catch{}}return!0},e.getCorrelationContextTarget=function(t,n){var r=t.headers&&t.headers[wh.requestContextHeader];if(r)for(var i=r.split(","),o=0;o<i.length;++o){var s=i[o].split("=");if(s.length==2&&s[0]==n)return s[1]}},e.makeRequest=function(t,n,r,i,o,s){o===void 0&&(o=!0),s===void 0&&(s=!0),n&&n.indexOf("//")===0&&(n="https:"+n);var a=new d1.URL(n),u=Zu(Zu({},r),{host:a.hostname,port:a.port,path:a.pathname}),c=void 0;if(o&&(a.protocol==="https:"&&(c=t.proxyHttpsUrl||void 0),a.protocol==="http:"&&(c=t.proxyHttpUrl||void 0),c)){c.indexOf("//")===0&&(c="http:"+c);try{var l=new d1.URL(c);l.protocol==="https:"?(dp.info("Proxies that use HTTPS are not supported"),c=void 0):u=Zu(Zu({},u),{host:l.hostname,port:l.port||"80",path:n,headers:Zu(Zu({},u.headers),{Host:a.hostname})})}catch{dp.warn("Wrong proxy URL provided")}}var d=a.protocol==="https:"&&!c;return s&&(d&&t.httpsAgent!==void 0?u.agent=t.httpsAgent:!d&&t.httpAgent!==void 0?u.agent=t.httpAgent:d&&(u.agent=e._useKeepAlive?e.keepAliveAgent:e.tlsRestrictedAgent)),d?l1.request(u,i):vPe.request(u,i)},e.safeIncludeCorrelationHeader=function(t,n,r){var i;if(typeof r=="string")i=r;else if(r instanceof Array)i=r.join(",");else if(r&&typeof r.toString=="function")try{i=r.toString()}catch(o){dp.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",o,r)}i?e.addCorrelationIdHeaderFromString(t,n,i):n.setHeader(wh.requestContextHeader,wh.requestContextSourceKey+"="+t.config.correlationId)},e.dumpObj=function(t){if(t)try{var n=Object.prototype.toString.call(t),r="";return n==="[object Error]"?r="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t.name+"'":r=this.stringify(t),n+r}catch{return t.toString()}},e.stringify=function(t){try{return JSON.stringify(t)}catch(n){dp.warn("Failed to serialize payload",n,t)}},e.addCorrelationIdHeaderFromString=function(t,n,r){var i=r.split(","),o=wh.requestContextSourceKey+"=",s=i.some(function(a){return a.substring(0,o.length)===o});s||n.setHeader(wh.requestContextHeader,r+","+wh.requestContextSourceKey+"="+t.config.correlationId)},e._addCloseHandler=function(){e._listenerAttached||(process.on("exit",function(){e.isNodeExit=!0,e._useKeepAlive=!1}),e._listenerAttached=!0)},e._useKeepAlive=!yPe.JsonConfig.getInstance().noHttpAgentKeepAlive,e._listenerAttached=!1,e.MAX_PROPERTY_LENGTH=8192,e.keepAliveAgent=new l1.Agent({keepAlive:!0,maxSockets:25,secureOptions:Ju.SSL_OP_NO_SSLv2|Ju.SSL_OP_NO_SSLv3|Ju.SSL_OP_NO_TLSv1|Ju.SSL_OP_NO_TLSv1_1}),e.tlsRestrictedAgent=new l1.Agent({secureOptions:Ju.SSL_OP_NO_SSLv2|Ju.SSL_OP_NO_SSLv3|Ju.SSL_OP_NO_TLSv1|Ju.SSL_OP_NO_TLSv1_1}),e.isNodeExit=!1,e}();vJ.exports=xPe});var pp=w((AZe,yJ)=>{"use strict";var f1=Qn(),wPe=function(){function e(){}return e.queryCorrelationId=function(t,n){},e.cancelCorrelationIdQuery=function(t,n){},e.generateRequestId=function(t){if(t){t=t[0]=="|"?t:"|"+t,t[t.length-1]!=="."&&(t+=".");var n=(e.currentRootId++).toString(16);return e.appendSuffix(t,n,"_")}else return e.generateRootId()},e.getRootId=function(t){var n=t.indexOf(".");n<0&&(n=t.length);var r=t[0]==="|"?1:0;return t.substring(r,n)},e.generateRootId=function(){return"|"+f1.w3cTraceId()+"."},e.appendSuffix=function(t,n,r){if(t.length+n.length<e.requestIdMaxLength)return t+n+r;var i=e.requestIdMaxLength-9;if(t.length>i)for(;i>1;--i){var o=t[i-1];if(o==="."||o==="_")break}if(i<=1)return e.generateRootId();for(n=f1.randomu32().toString(16);n.length<8;)n="0"+n;return t.substring(0,i)+n+"#"},e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!0,e.HTTP_TIMEOUT=2500,e.requestIdMaxLength=1024,e.currentRootId=f1.randomu32(),e}();yJ.exports=wPe});var WT=w((DZe,xJ)=>{"use strict";var Jn=Qn(),EPe=pp(),bPe=function(){function e(t,n){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&typeof t=="string")if(t.split(",").length>1)this.traceId=Jn.w3cTraceId(),this.spanId=Jn.w3cTraceId().substr(0,16);else{var r=t.trim().split("-"),i=r.length;i>=4?(this.version=r[0],this.traceId=r[1],this.spanId=r[2],this.traceFlag=r[3]):(this.traceId=Jn.w3cTraceId(),this.spanId=Jn.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=Jn.w3cTraceId()),this.version==="00"&&i!==4&&(this.traceId=Jn.w3cTraceId(),this.spanId=Jn.w3cTraceId().substr(0,16)),this.version==="ff"&&(this.version=e.DEFAULT_VERSION,this.traceId=Jn.w3cTraceId(),this.spanId=Jn.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=Jn.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=Jn.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=Jn.w3cTraceId().substr(0,16),this.traceId=Jn.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(n){this.parentId=n.slice();var o=EPe.getRootId(n);e.isValidTraceId(o)||(this.legacyRootId=o,o=Jn.w3cTraceId()),n.indexOf("|")!==-1&&(n=n.substring(1+n.substring(0,n.length-1).lastIndexOf("."),n.length-1)),this.traceId=o,this.spanId=n}else this.traceId=Jn.w3cTraceId(),this.spanId=Jn.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(t){return t.match(/^[0-9a-f]{32}$/)&&t!=="00000000000000000000000000000000"},e.isValidSpanId=function(t){return t.match(/^[0-9a-f]{16}$/)&&t!=="0000000000000000"},e.formatOpenTelemetryTraceFlags=function(t){var n="0"+t.toString(16);return n.substring(n.length-2)},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=Jn.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();xJ.exports=bPe});var m1=w((kZe,wJ)=>{"use strict";var _Pe=function(){function e(t){this.fieldmap=[],t&&(this.fieldmap=this.parseHeader(t))}return e.prototype.toString=function(){var t=this.fieldmap;return!t||t.length==0?null:t.join(", ")},e.validateKeyChars=function(t){var n=t.split("@");if(n.length==2){var r=n[0].trim(),i=n[1].trim(),o=!!r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/),s=!!i.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/);return o&&s}else if(n.length==1)return!!t.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/);return!1},e.prototype.parseHeader=function(t){var n=[],r={},i=t.split(",");if(i.length>32)return null;for(var o=0,s=i;o<s.length;o++){var a=s[o],u=a.trim();if(u.length!==0){var c=u.split("=");if(c.length!==2||!e.validateKeyChars(c[0])||r[c[0]])return null;r[c[0]]=!0,n.push(u)}}return n},e.strict=!0,e}();wJ.exports=_Pe});var Ec=w((OZe,EJ)=>{"use strict";var CPe=function(){function e(){}return e}();EJ.exports=CPe});var _J=w((h1,bJ)=>{"use strict";var SPe=h1&&h1.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),TPe=Ec(),IPe=function(e){SPe(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return t}(TPe);bJ.exports=IPe});var g1=w((NZe,CJ)=>{"use strict";var PPe=function(){function e(){}return e}();CJ.exports=PPe});var TJ=w((LZe,SJ)=>{"use strict";var RPe=function(){function e(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}return e}();SJ.exports=RPe});var PJ=w((v1,IJ)=>{"use strict";var APe=v1&&v1.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),DPe=g1(),kPe=function(e){APe(t,e);function t(){return e.call(this)||this}return t}(DPe);IJ.exports=kPe});var x1=w((FZe,RJ)=>{"use strict";var y1;(function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"})(y1||(y1={}));RJ.exports=y1});var DJ=w((MZe,AJ)=>{"use strict";var OPe=x1(),NPe=function(){function e(){this.kind=OPe.Measurement}return e}();AJ.exports=NPe});var OJ=w((UZe,kJ)=>{"use strict";var LPe=function(){function e(){this.ver=1,this.sampleRate=100,this.tags={}}return e}();kJ.exports=LPe});var E1=w((w1,NJ)=>{"use strict";var FPe=w1&&w1.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),MPe=Ec(),UPe=function(e){FPe(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return t}(MPe);NJ.exports=UPe});var FJ=w((b1,LJ)=>{"use strict";var qPe=b1&&b1.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$Pe=Ec(),jPe=function(e){qPe(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.exceptions=[],n.properties={},n.measurements={},n}return t}($Pe);LJ.exports=jPe});var UJ=w((qZe,MJ)=>{"use strict";var HPe=function(){function e(){this.hasFullStack=!0,this.parsedStack=[]}return e}();MJ.exports=HPe});var $J=w((_1,qJ)=>{"use strict";var BPe=_1&&_1.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),VPe=Ec(),WPe=function(e){BPe(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n}return t}(VPe);qJ.exports=WPe});var HJ=w((C1,jJ)=>{"use strict";var GPe=C1&&C1.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zPe=Ec(),YPe=function(e){GPe(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.metrics=[],n.properties={},n}return t}(zPe);jJ.exports=YPe});var VJ=w((S1,BJ)=>{"use strict";var KPe=S1&&S1.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),XPe=E1(),QPe=function(e){KPe(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return t}(XPe);BJ.exports=QPe});var GJ=w((T1,WJ)=>{"use strict";var JPe=T1&&T1.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ZPe=Ec(),e0e=function(e){JPe(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.success=!0,n.properties={},n.measurements={},n}return t}(ZPe);WJ.exports=e0e});var YJ=w((I1,zJ)=>{"use strict";var t0e=I1&&I1.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),n0e=Ec(),r0e=function(e){t0e(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return t}(n0e);zJ.exports=r0e});var XJ=w(($Ze,KJ)=>{"use strict";var P1;(function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"})(P1||(P1={}));KJ.exports=P1});var JJ=w((jZe,QJ)=>{"use strict";var i0e=function(){function e(){}return e}();QJ.exports=i0e});var R1=w(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.AvailabilityData=_J();bn.Base=g1();bn.ContextTagKeys=TJ();bn.Data=PJ();bn.DataPoint=DJ();bn.DataPointType=x1();bn.Domain=Ec();bn.Envelope=OJ();bn.EventData=E1();bn.ExceptionData=FJ();bn.ExceptionDetails=UJ();bn.MessageData=$J();bn.MetricData=HJ();bn.PageViewData=VJ();bn.RemoteDependencyData=GJ();bn.RequestData=YJ();bn.SeverityLevel=XJ();bn.StackFrame=JJ()});var ZJ=w(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.domainSupportsProperties=Eh.RemoteDependencyDataConstants=void 0;var fp=R1(),o0e=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();Eh.RemoteDependencyDataConstants=o0e;function s0e(e){return"properties"in e||e instanceof fp.EventData||e instanceof fp.ExceptionData||e instanceof fp.MessageData||e instanceof fp.MetricData||e instanceof fp.PageViewData||e instanceof fp.RemoteDependencyData||e instanceof fp.RequestData}Eh.domainSupportsProperties=s0e});var tZ=w(eZ=>{"use strict";Object.defineProperty(eZ,"__esModule",{value:!0})});var rZ=w(nZ=>{"use strict";Object.defineProperty(nZ,"__esModule",{value:!0})});var oZ=w(iZ=>{"use strict";Object.defineProperty(iZ,"__esModule",{value:!0})});var aZ=w(sZ=>{"use strict";Object.defineProperty(sZ,"__esModule",{value:!0})});var uZ=w(cZ=>{"use strict";Object.defineProperty(cZ,"__esModule",{value:!0})});var dZ=w(lZ=>{"use strict";Object.defineProperty(lZ,"__esModule",{value:!0})});var fZ=w(pZ=>{"use strict";Object.defineProperty(pZ,"__esModule",{value:!0})});var hZ=w(mZ=>{"use strict";Object.defineProperty(mZ,"__esModule",{value:!0})});var vZ=w(gZ=>{"use strict";Object.defineProperty(gZ,"__esModule",{value:!0})});var xZ=w(yZ=>{"use strict";Object.defineProperty(yZ,"__esModule",{value:!0})});var EZ=w(wZ=>{"use strict";Object.defineProperty(wZ,"__esModule",{value:!0})});var _Z=w(bZ=>{"use strict";Object.defineProperty(bZ,"__esModule",{value:!0})});var CZ=w(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.TelemetryType=bs.TelemetryTypeString=bs.baseTypeToTelemetryType=bs.telemetryTypeToBaseType=void 0;function a0e(e){switch(e){case Zn.Event:return"EventData";case Zn.Exception:return"ExceptionData";case Zn.Trace:return"MessageData";case Zn.Metric:return"MetricData";case Zn.Request:return"RequestData";case Zn.Dependency:return"RemoteDependencyData";case Zn.Availability:return"AvailabilityData";case Zn.PageView:return"PageViewData"}}bs.telemetryTypeToBaseType=a0e;function c0e(e){switch(e){case"EventData":return Zn.Event;case"ExceptionData":return Zn.Exception;case"MessageData":return Zn.Trace;case"MetricData":return Zn.Metric;case"RequestData":return Zn.Request;case"RemoteDependencyData":return Zn.Dependency;case"AvailabilityData":return Zn.Availability;case"PageViewData":return Zn.PageView}}bs.baseTypeToTelemetryType=c0e;bs.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"};var Zn;(function(e){e[e.Event=0]="Event",e[e.Exception=1]="Exception",e[e.Trace=2]="Trace",e[e.Metric=3]="Metric",e[e.Request=4]="Request",e[e.Dependency=5]="Dependency",e[e.Availability=6]="Availability",e[e.PageView=7]="PageView"})(Zn=bs.TelemetryType||(bs.TelemetryType={}))});var SZ=w(Dn=>{"use strict";var u0e=Dn&&Dn.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),Bi=Dn&&Dn.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&u0e(t,e,n)};Object.defineProperty(Dn,"__esModule",{value:!0});Bi(tZ(),Dn);Bi(rZ(),Dn);Bi(oZ(),Dn);Bi(aZ(),Dn);Bi(uZ(),Dn);Bi(dZ(),Dn);Bi(fZ(),Dn);Bi(hZ(),Dn);Bi(vZ(),Dn);Bi(xZ(),Dn);Bi(EZ(),Dn);Bi(_Z(),Dn);Bi(CZ(),Dn)});var IZ=w(TZ=>{"use strict";Object.defineProperty(TZ,"__esModule",{value:!0})});var RZ=w(PZ=>{"use strict";Object.defineProperty(PZ,"__esModule",{value:!0})});var DZ=w(AZ=>{"use strict";Object.defineProperty(AZ,"__esModule",{value:!0})});var OZ=w(kZ=>{"use strict";Object.defineProperty(kZ,"__esModule",{value:!0})});var LZ=w(NZ=>{"use strict";Object.defineProperty(NZ,"__esModule",{value:!0})});var MZ=w(FZ=>{"use strict";Object.defineProperty(FZ,"__esModule",{value:!0})});var qZ=w(UZ=>{"use strict";Object.defineProperty(UZ,"__esModule",{value:!0})});var jZ=w($Z=>{"use strict";Object.defineProperty($Z,"__esModule",{value:!0})});var HZ=w(fi=>{"use strict";var l0e=fi&&fi.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),el=fi&&fi.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&l0e(t,e,n)};Object.defineProperty(fi,"__esModule",{value:!0});el(IZ(),fi);el(RZ(),fi);el(DZ(),fi);el(OZ(),fi);el(LZ(),fi);el(MZ(),fi);el(qZ(),fi);el(jZ(),fi)});var yr=w(oa=>{"use strict";var d0e=oa&&oa.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),GT=oa&&oa.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&d0e(t,e,n)};Object.defineProperty(oa,"__esModule",{value:!0});GT(ZJ(),oa);GT(R1(),oa);GT(SZ(),oa);GT(HZ(),oa)});var A1=w((het,BZ)=>{"use strict";var p0e=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(t,n){var r=+new Date;this.duration=r-this.startTime,this.statusCode=t;var i=this.properties||{};if(n){if(typeof n=="string")i.error=n;else if(n instanceof Error)i.error=n.message;else if(typeof n=="object")for(var o in n)i[o]=n[o]&&n[o].toString&&n[o].toString()}this.properties=i},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();BZ.exports=p0e});var O1=w((k1,WZ)=>{"use strict";var f0e=k1&&k1.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zT=require("url"),m0e=yr(),VZ=Qn(),Vi=xh(),h0e=A1(),tl=pp(),g0e=m1(),D1=WT(),v0e=function(e){f0e(t,e);function t(n,r){var i=e.call(this)||this;return n&&(i.method=n.method,i.url=i._getAbsoluteUrl(n),i.startTime=+new Date,i.socketRemoteAddress=n.socket&&n.socket.remoteAddress,i.parseHeaders(n,r),n.connection&&(i.connectionRemoteAddress=n.connection.remoteAddress,i.legacySocketRemoteAddress=n.connection.socket&&n.connection.socket.remoteAddress)),i}return t.prototype.onError=function(n,r){this._setStatus(void 0,n),r&&(this.duration=r)},t.prototype.onResponse=function(n,r){this._setStatus(n.statusCode,void 0),r&&(this.duration=r)},t.prototype.getRequestTelemetry=function(n){var r=this.method;try{r+=" "+new zT.URL(this.url).pathname}catch{}var i={id:this.requestId,name:r,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(n&&n.time?i.time=n.time:this.startTime&&(i.time=new Date(this.startTime)),n){for(var o in n)i[o]||(i[o]=n[o]);if(n.properties)for(var o in n.properties)i.properties[o]=n.properties[o]}return i},t.prototype.getRequestTags=function(n){var r={};for(var i in n)r[i]=n[i];return r[t.keys.locationIp]=n[t.keys.locationIp]||this._getIp(),r[t.keys.sessionId]=n[t.keys.sessionId]||this._getId("ai_session"),r[t.keys.userId]=n[t.keys.userId]||this._getId("ai_user"),r[t.keys.userAuthUserId]=n[t.keys.userAuthUserId]||this._getId("ai_authUser"),r[t.keys.operationName]=this.getOperationName(n),r[t.keys.operationParentId]=this.getOperationParentId(n),r[t.keys.operationId]=this.getOperationId(n),r},t.prototype.getOperationId=function(n){return n[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(n){return n[t.keys.operationParentId]||this.parentId||this.getOperationId(n)},t.prototype.getOperationName=function(n){if(n[t.keys.operationName])return n[t.keys.operationName];var r="";try{r=new zT.URL(this.url).pathname}catch{}var i=this.method;return r&&(i+=" "+r),i},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(n){if(!n.headers)return n.url;var r=n.connection?n.connection.encrypted:null,i=r||n.headers["x-forwarded-proto"]=="https"?"https":"http",o=i+"://"+n.headers.host+"/",s="",a="";try{var u=new zT.URL(n.url,o);s=u.pathname,a=u.search}catch{}var c=zT.format({protocol:i,host:n.headers.host,pathname:s,search:a});return c},t.prototype._getIp=function(){var n=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,r=function(o){var s=n.exec(o);if(s)return s[0]},i=r(this.rawHeaders["x-forwarded-for"])||r(this.rawHeaders["x-client-ip"])||r(this.rawHeaders["x-real-ip"])||r(this.connectionRemoteAddress)||r(this.socketRemoteAddress)||r(this.legacySocketRemoteAddress);return!i&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&this.connectionRemoteAddress.substr(0,2)==="::"&&(i="127.0.0.1"),i},t.prototype._getId=function(n){var r=this.rawHeaders&&this.rawHeaders.cookie&&typeof this.rawHeaders.cookie=="string"&&this.rawHeaders.cookie||"",i=t.parseId(VZ.getCookie(n,r));return i},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(n,r){if(this.rawHeaders=n.headers||n.rawHeaders,this.userAgent=n.headers&&n.headers["user-agent"],this.sourceCorrelationId=VZ.getCorrelationContextTarget(n,Vi.requestContextSourceKey),n.headers){var i=n.headers[Vi.traceStateHeader]?n.headers[Vi.traceStateHeader].toString():null,o=n.headers[Vi.traceparentHeader]?n.headers[Vi.traceparentHeader].toString():null,s=n.headers[Vi.requestIdHeader]?n.headers[Vi.requestIdHeader].toString():null,a=n.headers[Vi.parentIdHeader]?n.headers[Vi.parentIdHeader].toString():null,u=n.headers[Vi.rootIdHeader]?n.headers[Vi.rootIdHeader].toString():null;this.correlationContextHeader=n.headers[Vi.correlationContextHeader]?n.headers[Vi.correlationContextHeader].toString():null,tl.w3cEnabled&&(o||i)?(this.traceparent=new D1(o?o.toString():null),this.tracestate=o&&i&&new g0e(i?i.toString():null),this.setBackCompatFromThisTraceContext()):s?tl.w3cEnabled?(this.traceparent=new D1(null,s),this.setBackCompatFromThisTraceContext()):(this.parentId=s,this.requestId=tl.generateRequestId(this.parentId),this.operationId=tl.getRootId(this.requestId)):tl.w3cEnabled?(this.traceparent=new D1,this.traceparent.parentId=a,this.traceparent.legacyRootId=u||a,this.setBackCompatFromThisTraceContext()):(this.parentId=a,this.requestId=tl.generateRequestId(u||this.parentId),this.correlationContextHeader=null,this.operationId=tl.getRootId(this.requestId)),r&&(this.requestId=r,this.operationId=tl.getRootId(this.requestId))}},t.parseId=function(n){var r=n.split("|");return r.length>0?r[0]:""},t.keys=new m0e.ContextTagKeys,t}(h0e);WZ.exports=v0e});var cee=w((Pe,aee)=>{Pe=aee.exports=Ye;var ft;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?ft=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:ft=function(){};Pe.SEMVER_SPEC_VERSION="2.0.0";var L1=256,YT=Number.MAX_SAFE_INTEGER||9007199254740991,N1=16,yt=Pe.re=[],Q=Pe.src=[],We=0,bh=We++;Q[bh]="0|[1-9]\\d*";var _h=We++;Q[_h]="[0-9]+";var q1=We++;Q[q1]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var zZ=We++;Q[zZ]="("+Q[bh]+")\\.("+Q[bh]+")\\.("+Q[bh]+")";var YZ=We++;Q[YZ]="("+Q[_h]+")\\.("+Q[_h]+")\\.("+Q[_h]+")";var F1=We++;Q[F1]="(?:"+Q[bh]+"|"+Q[q1]+")";var M1=We++;Q[M1]="(?:"+Q[_h]+"|"+Q[q1]+")";var $1=We++;Q[$1]="(?:-("+Q[F1]+"(?:\\."+Q[F1]+")*))";var j1=We++;Q[j1]="(?:-?("+Q[M1]+"(?:\\."+Q[M1]+")*))";var U1=We++;Q[U1]="[0-9A-Za-z-]+";var Gx=We++;Q[Gx]="(?:\\+("+Q[U1]+"(?:\\."+Q[U1]+")*))";var H1=We++,KZ="v?"+Q[zZ]+Q[$1]+"?"+Q[Gx]+"?";Q[H1]="^"+KZ+"$";var B1="[v=\\s]*"+Q[YZ]+Q[j1]+"?"+Q[Gx]+"?",V1=We++;Q[V1]="^"+B1+"$";var Th=We++;Q[Th]="((?:<|>)?=?)";var KT=We++;Q[KT]=Q[_h]+"|x|X|\\*";var XT=We++;Q[XT]=Q[bh]+"|x|X|\\*";var mp=We++;Q[mp]="[v=\\s]*("+Q[XT]+")(?:\\.("+Q[XT]+")(?:\\.("+Q[XT]+")(?:"+Q[$1]+")?"+Q[Gx]+"?)?)?";var Sh=We++;Q[Sh]="[v=\\s]*("+Q[KT]+")(?:\\.("+Q[KT]+")(?:\\.("+Q[KT]+")(?:"+Q[j1]+")?"+Q[Gx]+"?)?)?";var XZ=We++;Q[XZ]="^"+Q[Th]+"\\s*"+Q[mp]+"$";var QZ=We++;Q[QZ]="^"+Q[Th]+"\\s*"+Q[Sh]+"$";var JZ=We++;Q[JZ]="(?:^|[^\\d])(\\d{1,"+N1+"})(?:\\.(\\d{1,"+N1+"}))?(?:\\.(\\d{1,"+N1+"}))?(?:$|[^\\d])";var nI=We++;Q[nI]="(?:~>?)";var QT=We++;Q[QT]="(\\s*)"+Q[nI]+"\\s+";yt[QT]=new RegExp(Q[QT],"g");var y0e="$1~",ZZ=We++;Q[ZZ]="^"+Q[nI]+Q[mp]+"$";var eee=We++;Q[eee]="^"+Q[nI]+Q[Sh]+"$";var rI=We++;Q[rI]="(?:\\^)";var JT=We++;Q[JT]="(\\s*)"+Q[rI]+"\\s+";yt[JT]=new RegExp(Q[JT],"g");var x0e="$1^",tee=We++;Q[tee]="^"+Q[rI]+Q[mp]+"$";var nee=We++;Q[nee]="^"+Q[rI]+Q[Sh]+"$";var W1=We++;Q[W1]="^"+Q[Th]+"\\s*("+B1+")$|^$";var G1=We++;Q[G1]="^"+Q[Th]+"\\s*("+KZ+")$|^$";var Vx=We++;Q[Vx]="(\\s*)"+Q[Th]+"\\s*("+B1+"|"+Q[mp]+")";yt[Vx]=new RegExp(Q[Vx],"g");var w0e="$1$2$3",ree=We++;Q[ree]="^\\s*("+Q[mp]+")\\s+-\\s+("+Q[mp]+")\\s*$";var iee=We++;Q[iee]="^\\s*("+Q[Sh]+")\\s+-\\s+("+Q[Sh]+")\\s*$";var oee=We++;Q[oee]="(<|>)?=?\\s*\\*";for(nl=0;nl<We;nl++)ft(nl,Q[nl]),yt[nl]||(yt[nl]=new RegExp(Q[nl]));var nl;Pe.parse=hp;function hp(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Ye)return e;if(typeof e!="string"||e.length>L1)return null;var n=t.loose?yt[V1]:yt[H1];if(!n.test(e))return null;try{return new Ye(e,t)}catch{return null}}Pe.valid=E0e;function E0e(e,t){var n=hp(e,t);return n?n.version:null}Pe.clean=b0e;function b0e(e,t){var n=hp(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}Pe.SemVer=Ye;function Ye(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Ye){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>L1)throw new TypeError("version is longer than "+L1+" characters");if(!(this instanceof Ye))return new Ye(e,t);ft("SemVer",e,t),this.options=t,this.loose=!!t.loose;var n=e.trim().match(t.loose?yt[V1]:yt[H1]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>YT||this.major<0)throw new TypeError("Invalid major version");if(this.minor>YT||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>YT||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var i=+r;if(i>=0&&i<YT)return i}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}Ye.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};Ye.prototype.toString=function(){return this.version};Ye.prototype.compare=function(e){return ft("SemVer.compare",this.version,this.options,e),e instanceof Ye||(e=new Ye(e,this.options)),this.compareMain(e)||this.comparePre(e)};Ye.prototype.compareMain=function(e){return e instanceof Ye||(e=new Ye(e,this.options)),Ch(this.major,e.major)||Ch(this.minor,e.minor)||Ch(this.patch,e.patch)};Ye.prototype.comparePre=function(e){if(e instanceof Ye||(e=new Ye(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],r=e.prerelease[t];if(ft("prerelease compare",t,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return Ch(n,r)}while(++t)};Ye.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};Pe.inc=_0e;function _0e(e,t,n,r){typeof n=="string"&&(r=n,n=void 0);try{return new Ye(e,n).inc(t,r).version}catch{return null}}Pe.diff=C0e;function C0e(e,t){if(z1(e,t))return null;var n=hp(e),r=hp(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if((s==="major"||s==="minor"||s==="patch")&&n[s]!==r[s])return i+s;return o}Pe.compareIdentifiers=Ch;var GZ=/^[0-9]+$/;function Ch(e,t){var n=GZ.test(e),r=GZ.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}Pe.rcompareIdentifiers=S0e;function S0e(e,t){return Ch(t,e)}Pe.major=T0e;function T0e(e,t){return new Ye(e,t).major}Pe.minor=I0e;function I0e(e,t){return new Ye(e,t).minor}Pe.patch=P0e;function P0e(e,t){return new Ye(e,t).patch}Pe.compare=bc;function bc(e,t,n){return new Ye(e,n).compare(new Ye(t,n))}Pe.compareLoose=R0e;function R0e(e,t){return bc(e,t,!0)}Pe.rcompare=A0e;function A0e(e,t,n){return bc(t,e,n)}Pe.sort=D0e;function D0e(e,t){return e.sort(function(n,r){return Pe.compare(n,r,t)})}Pe.rsort=k0e;function k0e(e,t){return e.sort(function(n,r){return Pe.rcompare(n,r,t)})}Pe.gt=Wx;function Wx(e,t,n){return bc(e,t,n)>0}Pe.lt=ZT;function ZT(e,t,n){return bc(e,t,n)<0}Pe.eq=z1;function z1(e,t,n){return bc(e,t,n)===0}Pe.neq=see;function see(e,t,n){return bc(e,t,n)!==0}Pe.gte=Y1;function Y1(e,t,n){return bc(e,t,n)>=0}Pe.lte=K1;function K1(e,t,n){return bc(e,t,n)<=0}Pe.cmp=eI;function eI(e,t,n,r){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return z1(e,n,r);case"!=":return see(e,n,r);case">":return Wx(e,n,r);case">=":return Y1(e,n,r);case"<":return ZT(e,n,r);case"<=":return K1(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}Pe.Comparator=Ao;function Ao(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Ao){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof Ao))return new Ao(e,t);ft("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===zx?this.value="":this.value=this.operator+this.semver.version,ft("comp",this)}var zx={};Ao.prototype.parse=function(e){var t=this.options.loose?yt[W1]:yt[G1],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],this.operator==="="&&(this.operator=""),n[2]?this.semver=new Ye(n[2],this.options.loose):this.semver=zx};Ao.prototype.toString=function(){return this.value};Ao.prototype.test=function(e){return ft("Comparator.test",e,this.options.loose),this.semver===zx?!0:(typeof e=="string"&&(e=new Ye(e,this.options)),eI(e,this.operator,this.semver,this.options))};Ao.prototype.intersects=function(e,t){if(!(e instanceof Ao))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var n;if(this.operator==="")return n=new Gt(e.value,t),tI(this.value,n,t);if(e.operator==="")return n=new Gt(this.value,t),tI(e.semver,n,t);var r=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),o=this.semver.version===e.semver.version,s=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=eI(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=eI(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return r||i||o&&s||a||u};Pe.Range=Gt;function Gt(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Gt)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Gt(e.raw,t);if(e instanceof Ao)return new Gt(e.value,t);if(!(this instanceof Gt))return new Gt(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(n){return this.parseRange(n.trim())},this).filter(function(n){return n.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}Gt.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};Gt.prototype.toString=function(){return this.range};Gt.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?yt[iee]:yt[ree];e=e.replace(n,H0e),ft("hyphen replace",e),e=e.replace(yt[Vx],w0e),ft("comparator trim",e,yt[Vx]),e=e.replace(yt[QT],y0e),e=e.replace(yt[JT],x0e),e=e.split(/\s+/).join(" ");var r=t?yt[W1]:yt[G1],i=e.split(" ").map(function(o){return N0e(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(r)})),i=i.map(function(o){return new Ao(o,this.options)},this),i};Gt.prototype.intersects=function(e,t){if(!(e instanceof Gt))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(r){return e.set.some(function(i){return i.every(function(o){return r.intersects(o,t)})})})})};Pe.toComparators=O0e;function O0e(e,t){return new Gt(e,t).set.map(function(n){return n.map(function(r){return r.value}).join(" ").trim().split(" ")})}function N0e(e,t){return ft("comp",e,t),e=M0e(e,t),ft("caret",e),e=L0e(e,t),ft("tildes",e),e=q0e(e,t),ft("xrange",e),e=j0e(e,t),ft("stars",e),e}function Lr(e){return!e||e.toLowerCase()==="x"||e==="*"}function L0e(e,t){return e.trim().split(/\s+/).map(function(n){return F0e(n,t)}).join(" ")}function F0e(e,t){var n=t.loose?yt[eee]:yt[ZZ];return e.replace(n,function(r,i,o,s,a){ft("tilde",e,r,i,o,s,a);var u;return Lr(i)?u="":Lr(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Lr(s)?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":a?(ft("replaceTilde pr",a),u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0"):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0",ft("tilde return",u),u})}function M0e(e,t){return e.trim().split(/\s+/).map(function(n){return U0e(n,t)}).join(" ")}function U0e(e,t){ft("caret",e,t);var n=t.loose?yt[nee]:yt[tee];return e.replace(n,function(r,i,o,s,a){ft("caret",e,r,i,o,s,a);var u;return Lr(i)?u="":Lr(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Lr(s)?i==="0"?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+".0 <"+(+i+1)+".0.0":a?(ft("replaceCaret pr",a),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+"-"+a+" <"+(+i+1)+".0.0"):(ft("no pr"),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+" <"+(+i+1)+".0.0"),ft("caret return",u),u})}function q0e(e,t){return ft("replaceXRanges",e,t),e.split(/\s+/).map(function(n){return $0e(n,t)}).join(" ")}function $0e(e,t){e=e.trim();var n=t.loose?yt[QZ]:yt[XZ];return e.replace(n,function(r,i,o,s,a,u){ft("xRange",e,r,i,o,s,a,u);var c=Lr(o),l=c||Lr(s),d=l||Lr(a),p=d;return i==="="&&p&&(i=""),c?i===">"||i==="<"?r="<0.0.0":r="*":i&&p?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),r=i+o+"."+s+"."+a):l?r=">="+o+".0.0 <"+(+o+1)+".0.0":d&&(r=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),ft("xRange return",r),r})}function j0e(e,t){return ft("replaceStars",e,t),e.trim().replace(yt[oee],"")}function H0e(e,t,n,r,i,o,s,a,u,c,l,d,p){return Lr(n)?t="":Lr(r)?t=">="+n+".0.0":Lr(i)?t=">="+n+"."+r+".0":t=">="+t,Lr(u)?a="":Lr(c)?a="<"+(+u+1)+".0.0":Lr(l)?a="<"+u+"."+(+c+1)+".0":d?a="<="+u+"."+c+"."+l+"-"+d:a="<="+a,(t+" "+a).trim()}Gt.prototype.test=function(e){if(!e)return!1;typeof e=="string"&&(e=new Ye(e,this.options));for(var t=0;t<this.set.length;t++)if(B0e(this.set[t],e,this.options))return!0;return!1};function B0e(e,t,n){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(r=0;r<e.length;r++)if(ft(e[r].semver),e[r].semver!==zx&&e[r].semver.prerelease.length>0){var i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}Pe.satisfies=tI;function tI(e,t,n){try{t=new Gt(t,n)}catch{return!1}return t.test(e)}Pe.maxSatisfying=V0e;function V0e(e,t,n){var r=null,i=null;try{var o=new Gt(t,n)}catch{return null}return e.forEach(function(s){o.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new Ye(r,n))}),r}Pe.minSatisfying=W0e;function W0e(e,t,n){var r=null,i=null;try{var o=new Gt(t,n)}catch{return null}return e.forEach(function(s){o.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new Ye(r,n))}),r}Pe.minVersion=G0e;function G0e(e,t){e=new Gt(e,t);var n=new Ye("0.0.0");if(e.test(n)||(n=new Ye("0.0.0-0"),e.test(n)))return n;n=null;for(var r=0;r<e.set.length;++r){var i=e.set[r];i.forEach(function(o){var s=new Ye(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!n||Wx(n,s))&&(n=s);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return n&&e.test(n)?n:null}Pe.validRange=z0e;function z0e(e,t){try{return new Gt(e,t).range||"*"}catch{return null}}Pe.ltr=Y0e;function Y0e(e,t,n){return X1(e,t,"<",n)}Pe.gtr=K0e;function K0e(e,t,n){return X1(e,t,">",n)}Pe.outside=X1;function X1(e,t,n,r){e=new Ye(e,r),t=new Gt(t,r);var i,o,s,a,u;switch(n){case">":i=Wx,o=K1,s=ZT,a=">",u=">=";break;case"<":i=ZT,o=Y1,s=Wx,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(tI(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],d=null,p=null;if(l.forEach(function(f){f.semver===zx&&(f=new Ao(">=0.0.0")),d=d||f,p=p||f,i(f.semver,d.semver,r)?d=f:s(f.semver,p.semver,r)&&(p=f)}),d.operator===a||d.operator===u||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===u&&s(e,p.semver))return!1}return!0}Pe.prerelease=X0e;function X0e(e,t){var n=hp(e,t);return n&&n.prerelease.length?n.prerelease:null}Pe.intersects=Q0e;function Q0e(e,t,n){return e=new Gt(e,n),t=new Gt(t,n),e.intersects(t)}Pe.coerce=J0e;function J0e(e){if(e instanceof Ye)return e;if(typeof e!="string")return null;var t=e.match(yt[JZ]);return t==null?null:hp(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}});var iI=w((get,dee)=>{"use strict";function Q1(e){return typeof e=="function"}var Fr=console.error.bind(console);function Yx(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function Kx(e){e&&e.logger&&(Q1(e.logger)?Fr=e.logger:Fr("new logger isn't a function, not replacing"))}function uee(e,t,n){if(!e||!e[t]){Fr("no original function "+t+" to wrap");return}if(!n){Fr("no wrapper function"),Fr(new Error().stack);return}if(!Q1(e[t])||!Q1(n)){Fr("original object and wrapper must be functions");return}var r=e[t],i=n(r,t);return Yx(i,"__original",r),Yx(i,"__unwrap",function(){e[t]===i&&Yx(e,t,r)}),Yx(i,"__wrapped",!0),Yx(e,t,i),i}function Z0e(e,t,n){if(e)Array.isArray(e)||(e=[e]);else{Fr("must provide one or more modules to patch"),Fr(new Error().stack);return}if(!(t&&Array.isArray(t))){Fr("must provide one or more functions to wrap on modules");return}e.forEach(function(r){t.forEach(function(i){uee(r,i,n)})})}function lee(e,t){if(!e||!e[t]){Fr("no function to unwrap."),Fr(new Error().stack);return}if(!e[t].__unwrap)Fr("no original to unwrap to -- has "+t+" already been unwrapped?");else return e[t].__unwrap()}function eRe(e,t){if(e)Array.isArray(e)||(e=[e]);else{Fr("must provide one or more modules to patch"),Fr(new Error().stack);return}if(!(t&&Array.isArray(t))){Fr("must provide one or more functions to unwrap on modules");return}e.forEach(function(n){t.forEach(function(r){lee(n,r)})})}Kx.wrap=uee;Kx.massWrap=Z0e;Kx.unwrap=lee;Kx.massUnwrap=eRe;dee.exports=Kx});var aI=w((vet,hee)=>{"use strict";var fee=iI(),Ih=fee.wrap,oI=fee.unwrap,_c="wrap@before";function sI(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function tRe(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r],o=e[_c];if(typeof o=="function")o(i);else if(Array.isArray(o))for(var s=o.length,a=0;a<s;a++)o[a](i)}}function mee(e,t){var n;return n=e._events&&e._events[t],Array.isArray(n)||(n?n=[n]:n=[]),n}function nRe(e,t,n){var r=mee(e,t),i=r.filter(function(o){return n.indexOf(o)===-1});i.length>0&&tRe(e,i)}function pee(e,t){if(e){var n=e;if(typeof e=="function")n=t(e);else if(Array.isArray(e)){n=[];for(var r=0;r<e.length;r++)n[r]=t(e[r])}return n}}hee.exports=function(t,n,r){if(!t||!t.on||!t.addListener||!t.removeListener||!t.emit)throw new Error("can only wrap real EEs");if(!n)throw new Error("must have function to run on listener addition");if(!r)throw new Error("must have function to wrap listeners when emitting");function i(s){return function(u,c){var l=mee(this,u).slice();try{var d=s.call(this,u,c);return nRe(this,u,l),d}finally{this.on.__wrapped||Ih(this,"on",i),this.addListener.__wrapped||Ih(this,"addListener",i)}}}function o(s){return function(u){if(!this._events||!this._events[u])return s.apply(this,arguments);var c=this._events[u];function l(d){return function(){this._events[u]=c;try{return d.apply(this,arguments)}finally{c=this._events[u],this._events[u]=pee(c,r)}}}Ih(this,"removeListener",l);try{return this._events[u]=pee(c,r),s.apply(this,arguments)}finally{oI(this,"removeListener"),this._events[u]=c}}}t[_c]?typeof t[_c]=="function"?sI(t,_c,[t[_c],n]):Array.isArray(t[_c])&&t[_c].push(n):sI(t,_c,n),t.__wrapped||(Ih(t,"addListener",i),Ih(t,"on",i),Ih(t,"emit",o),sI(t,"__unwrap",function(){oI(t,"addListener"),oI(t,"on"),oI(t,"emit"),delete t[_c],delete t.__wrapped}),sI(t,"__wrapped",!0))}});var xee=w((yet,yee)=>{"use strict";var at=require("util"),Cc=require("assert"),rRe=aI(),kt=require("async_hooks"),Xx="cls@contexts",Qx="error@context",zt=process.env.DEBUG_CLS_HOOKED,st=-1;yee.exports={getNamespace:gee,createNamespace:iRe,destroyNamespace:vee,reset:oRe,ERROR_SYMBOL:Qx};function Do(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}Do.prototype.set=function(t,n){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[t]=n,zt){let r=" ".repeat(this._indent<0?0:this._indent);Ut(r+"CONTEXT-SET KEY:"+t+"="+n+" in ns:"+this.name+" currentUid:"+st+" active:"+at.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return n};Do.prototype.get=function(t){if(!this.active){if(zt){let n=kt.currentId(),r=kt.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);Ut(`${i}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${t}=undefined currentUid:${st} asyncHooksCurrentId:${n} triggerId:${r} len:${this._set.length}`)}return}if(zt){let n=kt.executionAsyncId(),r=kt.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);Ut(i+"CONTEXT-GETTING KEY:"+t+"="+this.active[t]+" ("+this.name+") currentUid:"+st+" active:"+at.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),Ut(`${i}CONTEXT-GETTING KEY: (${this.name}) ${t}=${this.active[t]} currentUid:${st} asyncHooksCurrentId:${n} triggerId:${r} len:${this._set.length} active:${at.inspect(this.active)}`)}return this.active[t]};Do.prototype.createContext=function(){let t=Object.create(this.active?this.active:Object.prototype);if(t._ns_name=this.name,t.id=st,zt){let n=kt.executionAsyncId(),r=kt.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);Ut(`${i}CONTEXT-CREATED Context: (${this.name}) currentUid:${st} asyncHooksCurrentId:${n} triggerId:${r} len:${this._set.length} context:${at.inspect(t,{showHidden:!0,depth:2,colors:!0})}`)}return t};Do.prototype.run=function(t){let n=this.createContext();this.enter(n);try{if(zt){let r=kt.triggerAsyncId(),i=kt.executionAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);Ut(`${o}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${st} triggerId:${r} asyncHooksCurrentId:${i} len:${this._set.length} context:${at.inspect(n)}`)}return t(n),n}catch(r){throw r&&(r[Qx]=n),r}finally{if(zt){let r=kt.triggerAsyncId(),i=kt.executionAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);Ut(`${o}CONTEXT-RUN END: (${this.name}) currentUid:${st} triggerId:${r} asyncHooksCurrentId:${i} len:${this._set.length} ${at.inspect(n)}`)}this.exit(n)}};Do.prototype.runAndReturn=function(t){let n;return this.run(function(r){n=t(r)}),n};Do.prototype.runPromise=function(t){let n=this.createContext();this.enter(n);let r=t(n);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return zt&&Ut("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+st+" len:"+this._set.length+" "+at.inspect(n)),r.then(i=>(zt&&Ut("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+st+" len:"+this._set.length+" "+at.inspect(n)),this.exit(n),i)).catch(i=>{throw i[Qx]=n,zt&&Ut("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+st+" len:"+this._set.length+" "+at.inspect(n)),this.exit(n),i})};Do.prototype.bind=function(t,n){n||(this.active?n=this.active:n=this.createContext());let r=this;return function(){r.enter(n);try{return t.apply(this,arguments)}catch(o){throw o&&(o[Qx]=n),o}finally{r.exit(n)}}};Do.prototype.enter=function(t){if(Cc.ok(t,"context must be provided for entering"),zt){let n=kt.executionAsyncId(),r=kt.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);Ut(`${i}CONTEXT-ENTER: (${this.name}) currentUid:${st} triggerId:${r} asyncHooksCurrentId:${n} len:${this._set.length} ${at.inspect(t)}`)}this._set.push(this.active),this.active=t};Do.prototype.exit=function(t){if(Cc.ok(t,"context must be provided for exiting"),zt){let r=kt.executionAsyncId(),i=kt.triggerAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);Ut(`${o}CONTEXT-EXIT: (${this.name}) currentUid:${st} triggerId:${i} asyncHooksCurrentId:${r} len:${this._set.length} ${at.inspect(t)}`)}if(this.active===t){Cc.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let n=this._set.lastIndexOf(t);n<0?(zt&&Ut("??ERROR?? context exiting but not entered - ignoring: "+at.inspect(t)),Cc.ok(n>=0,`context not currently entered; can't exit. 
`+at.inspect(this)+`
`+at.inspect(t))):(Cc.ok(n,"can't remove top context"),this._set.splice(n,1))};Do.prototype.bindEmitter=function(t){Cc.ok(t.on&&t.addListener&&t.emit,"can only bind real EEs");let n=this,r="context@"+this.name;function i(s){s&&(s[Xx]||(s[Xx]=Object.create(null)),s[Xx][r]={namespace:n,context:n.active})}function o(s){if(!(s&&s[Xx]))return s;let a=s,u=s[Xx];return Object.keys(u).forEach(function(c){let l=u[c];a=l.namespace.bind(a,l.context)}),a}rRe(t,i,o)};Do.prototype.fromException=function(t){return t[Qx]};function gee(e){return process.namespaces[e]}function iRe(e){Cc.ok(e,"namespace must be given a name."),zt&&Ut(`NS-CREATING NAMESPACE (${e})`);let t=new Do(e);return t.id=st,kt.createHook({init(r,i,o,s){if(st=kt.executionAsyncId(),t.active){if(t._contexts.set(r,t.active),zt){let a=" ".repeat(t._indent<0?0:t._indent);Ut(`${a}INIT [${i}] (${e}) asyncId:${r} currentUid:${st} triggerId:${o} active:${at.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}}else if(st===0){let a=kt.triggerAsyncId(),u=t._contexts.get(a);if(u){if(t._contexts.set(r,u),zt){let c=" ".repeat(t._indent<0?0:t._indent);Ut(`${c}INIT USING CONTEXT FROM TRIGGERID [${i}] (${e}) asyncId:${r} currentUid:${st} triggerId:${a} active:${at.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}}else if(zt){let c=" ".repeat(t._indent<0?0:t._indent);Ut(`${c}INIT MISSING CONTEXT [${i}] (${e}) asyncId:${r} currentUid:${st} triggerId:${a} active:${at.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}}if(zt&&i==="PROMISE"){Ut(at.inspect(s,{showHidden:!0}));let a=s.parentId,u=" ".repeat(t._indent<0?0:t._indent);Ut(`${u}INIT RESOURCE-PROMISE [${i}] (${e}) parentId:${a} asyncId:${r} currentUid:${st} triggerId:${o} active:${at.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}},before(r){st=kt.executionAsyncId();let i;if(i=t._contexts.get(r)||t._contexts.get(st),i){if(zt){let o=kt.triggerAsyncId(),s=" ".repeat(t._indent<0?0:t._indent);Ut(`${s}BEFORE (${e}) asyncId:${r} currentUid:${st} triggerId:${o} active:${at.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${at.inspect(i)}`),t._indent+=2}t.enter(i)}else if(zt){let o=kt.triggerAsyncId(),s=" ".repeat(t._indent<0?0:t._indent);Ut(`${s}BEFORE MISSING CONTEXT (${e}) asyncId:${r} currentUid:${st} triggerId:${o} active:${at.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${at.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(r){st=kt.executionAsyncId();let i;if(i=t._contexts.get(r)||t._contexts.get(st),i){if(zt){let o=kt.triggerAsyncId();t._indent-=2;let s=" ".repeat(t._indent<0?0:t._indent);Ut(`${s}AFTER (${e}) asyncId:${r} currentUid:${st} triggerId:${o} active:${at.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${at.inspect(i)}`)}t.exit(i)}else if(zt){let o=kt.triggerAsyncId();t._indent-=2;let s=" ".repeat(t._indent<0?0:t._indent);Ut(`${s}AFTER MISSING CONTEXT (${e}) asyncId:${r} currentUid:${st} triggerId:${o} active:${at.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${at.inspect(i)}`)}},destroy(r){if(st=kt.executionAsyncId(),zt){let i=kt.triggerAsyncId(),o=" ".repeat(t._indent<0?0:t._indent);Ut(`${o}DESTROY (${e}) currentUid:${st} asyncId:${r} triggerId:${i} active:${at.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${at.inspect(t._contexts.get(st))}`)}t._contexts.delete(r)}}).enable(),process.namespaces[e]=t,t}function vee(e){let t=gee(e);Cc.ok(t,`can't delete nonexistent namespace! "`+e+'"'),Cc.ok(t.id,"don't assign to process.namespaces directly! "+at.inspect(t)),process.namespaces[e]=null}function oRe(){process.namespaces&&Object.keys(process.namespaces).forEach(function(e){vee(e)}),process.namespaces=Object.create(null)}process.namespaces={};function Ut(...e){zt&&process._rawDebug(`${at.format(...e)}`)}});var Eee=w((xet,wee)=>{"use strict";function sRe(){}wee.exports=function(){let t=this._hooks,n=this._state,r=process.nextTick;process.nextTick=function(){if(!n.enabled)return r.apply(process,arguments);let i=new Array(arguments.length);for(let u=0;u<arguments.length;u++)i[u]=arguments[u];let o=i[0];if(typeof o!="function")throw new TypeError("callback is not a function");let s=new sRe,a=--n.counter;return t.init.call(s,a,0,null,null),i[0]=function(){t.pre.call(s,a);let u=!0;try{o.apply(this,arguments),u=!1}finally{u&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){t.post.call(s,a,!0),t.destroy.call(null,a)})}t.post.call(s,a,!1),t.destroy.call(null,a)},r.apply(process,i)}}});var _ee=w((wet,bee)=>{"use strict";function aRe(){}bee.exports=function(){let t=this._hooks,n=this._state,r=global.Promise,i=r.prototype.then;r.prototype.then=u;function o(c,l,d,p){return typeof c!="function"?p?s(d):a(d):function(){t.pre.call(l,d);try{return c.apply(this,arguments)}finally{t.post.call(l,d,!1),t.destroy.call(null,d)}}}function s(c){return function(d){return t.destroy.call(null,c),d}}function a(c){return function(d){throw t.destroy.call(null,c),d}}function u(c,l){if(!n.enabled)return i.call(this,c,l);let d=new aRe,p=--n.counter;return t.init.call(d,p,0,null,null),i.call(this,o(c,d,p,!0),o(l,d,p,!1))}}});var See=w((Eet,Cee)=>{"use strict";var Wi=require("timers");function cRe(){}function uRe(){}function lRe(){}var dRe=new Map,pRe=new Map,fRe=new Map,J1=null,Z1=!1;Cee.exports=function(){eM(this._hooks,this._state,"setTimeout","clearTimeout",cRe,dRe,!0),eM(this._hooks,this._state,"setInterval","clearInterval",uRe,pRe,!1),eM(this._hooks,this._state,"setImmediate","clearImmediate",lRe,fRe,!0),global.setTimeout=Wi.setTimeout,global.setInterval=Wi.setInterval,global.setImmediate=Wi.setImmediate,global.clearTimeout=Wi.clearTimeout,global.clearInterval=Wi.clearInterval,global.clearImmediate=Wi.clearImmediate};function eM(e,t,n,r,i,o,s){let a=Wi[n],u=Wi[r];Wi[n]=function(){if(!t.enabled)return a.apply(Wi,arguments);let c=new Array(arguments.length);for(let m=0;m<arguments.length;m++)c[m]=arguments[m];let l=c[0];if(typeof l!="function")throw new TypeError('"callback" argument must be a function');let d=new i,p=--t.counter,f;return e.init.call(d,p,0,null,null),c[0]=function(){J1=f,e.pre.call(d,p);let m=!0;try{l.apply(this,arguments),m=!1}finally{m&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){e.post.call(d,p,!0),o.delete(f),e.destroy.call(null,p)})}e.post.call(d,p,!1),J1=null,(s||Z1)&&(Z1=!1,o.delete(f),e.destroy.call(null,p))},f=a.apply(Wi,c),o.set(f,p),f},Wi[r]=function(c){if(J1===c&&c!==null)Z1=!0;else if(o.has(c)){let l=o.get(c);o.delete(c),e.destroy.call(null,l)}u.apply(Wi,arguments)}}});var tM=w((bet,mRe)=>{mRe.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}});var Pee=w((_et,Iee)=>{"use strict";var Zx=process.binding("async_wrap"),hRe=Zx.Providers.TIMERWRAP,Tee={nextTick:Eee(),promise:_ee(),timers:See()},Jx=new Set;function gRe(){this.enabled=!1,this.counter=0}function nM(){let e=this.initFns=[],t=this.preFns=[],n=this.postFns=[],r=this.destroyFns=[];this.init=function(i,o,s,a){if(o===hRe){Jx.add(i);return}for(let u of e)u(i,this,o,s,a)},this.pre=function(i){if(!Jx.has(i))for(let o of t)o(i,this)},this.post=function(i,o){if(!Jx.has(i))for(let s of n)s(i,this,o)},this.destroy=function(i){if(Jx.has(i)){Jx.delete(i);return}for(let o of r)o(i)}}nM.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)};function cI(e,t){let n=e.indexOf(t);n!==-1&&e.splice(n,1)}nM.prototype.remove=function(e){e.init&&cI(this.initFns,e.init),e.pre&&cI(this.preFns,e.pre),e.post&&cI(this.postFns,e.post),e.destroy&&cI(this.destroyFns,e.destroy)};function ew(){this._state=new gRe,this._hooks=new nM,this.version=tM().version,this.providers=Zx.Providers;for(let e of Object.keys(Tee))Tee[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),Zx.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}Iee.exports=ew;ew.prototype.addHooks=function(e){this._hooks.add(e)};ew.prototype.removeHooks=function(e){this._hooks.remove(e)};ew.prototype.enable=function(){this._state.enabled=!0,Zx.enable()};ew.prototype.disable=function(){this._state.enabled=!1,Zx.disable()}});var rM=w((Cet,vRe)=>{vRe.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}});var Aee=w((Tet,Ree)=>{function yRe(e){try{return Error.prototype.toString.call(e)}catch(t){try{return"<error: "+t+">"}catch{return"<error>"}}}Ree.exports=function(t,n){var r=[];r.push(yRe(t));for(var i=0;i<n.length;i++){var o=n[i],s;try{s=o.toString()}catch(a){try{s="<error: "+a+">"}catch{s="<error>"}}r.push("    at "+s)}return r.join(`
`)}});var Nee=w((Iet,Oee)=>{var uI=Aee();function kee(){this.extend=new tw,this.filter=new tw,this.format=new nw,this.version=rM().version}var oM=!1;kee.prototype.callSite=function e(t){t||(t={}),oM=!0;var n={};Error.captureStackTrace(n,e);var r=n.stack;return oM=!1,r=r.slice(t.slice||0),t.extend&&(r=this.extend._modify(n,r)),t.filter&&(r=this.filter._modify(n,r)),r};var rl=new kee;function tw(){this._modifiers=[]}tw.prototype._modify=function(e,t){for(var n=0,r=this._modifiers.length;n<r;n++)t=this._modifiers[n](e,t);return t};tw.prototype.attach=function(e){this._modifiers.push(e)};tw.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return t===-1?!1:(this._modifiers.splice(t,1),!0)};function nw(){this._formater=uI,this._previous=void 0}nw.prototype.replace=function(e){e?this._formater=e:this.restore()};nw.prototype.restore=function(){this._formater=uI,this._previous=void 0};nw.prototype._backup=function(){this._previous=this._formater};nw.prototype._roolback=function(){this._previous===uI?this.replace(void 0):this.replace(this._previous),this._previous=void 0};Error.prepareStackTrace&&rl.format.replace(Error.prepareStackTrace);var iM=!1;function Dee(e,t){if(oM)return t;if(iM)return uI(e,t);var n=t.concat();n=rl.extend._modify(e,n),n=rl.filter._modify(e,n),n=n.slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&Object.getOwnPropertyDescriptor(e,"callSite")===void 0&&(e.callSite={original:t,mutated:n}),iM=!0;var r=rl.format._formater(e,n);return iM=!1,r}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return Dee},set:function(e){e===Dee?rl.format._roolback():(rl.format._backup(),rl.format.replace(e))}});function xRe(){return this.stack,this.callSite}Object.defineProperty(Error.prototype,"callSite",{get:xRe,set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0});Oee.exports=rl});var aM=w((Pet,sM)=>{if(global._stackChain)if(global._stackChain.version===rM().version)sM.exports=global._stackChain;else throw new Error("Conflicting version of stack-chain found");else sM.exports=global._stackChain=Nee()});var Lee=w((Ret,cM)=>{"use strict";var wRe=Pee();if(global._asyncHook)if(global._asyncHook.version===tM().version)cM.exports=global._asyncHook;else throw new Error("Conflicting version of async-hook-jl found");else aM().filter.attach(function(t,n){return n.filter(function(r){let i=r.getFileName();return!(i&&i.slice(0,__dirname.length)===__dirname)})}),cM.exports=global._asyncHook=new wRe});var jee=w((Aet,$ee)=>{"use strict";var fn=require("util"),Sc=require("assert"),ERe=aI(),Ph=Lee(),rw="cls@contexts",iw="error@context",Mee=[];for(let e in Ph.providers)Mee[Ph.providers[e]]=e;var Zt=process.env.DEBUG_CLS_HOOKED,_n=-1;$ee.exports={getNamespace:Uee,createNamespace:bRe,destroyNamespace:qee,reset:_Re,ERROR_SYMBOL:iw};function ko(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}ko.prototype.set=function(t,n){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return Zt&&pn("    SETTING KEY:"+t+"="+n+" in ns:"+this.name+" uid:"+_n+" active:"+fn.inspect(this.active,!0)),this.active[t]=n,n};ko.prototype.get=function(t){if(!this.active){Zt&&pn("    GETTING KEY:"+t+"=undefined "+this.name+" uid:"+_n+" active:"+fn.inspect(this.active,!0));return}return Zt&&pn("    GETTING KEY:"+t+"="+this.active[t]+" "+this.name+" uid:"+_n+" active:"+fn.inspect(this.active,!0)),this.active[t]};ko.prototype.createContext=function(){Zt&&pn("   CREATING Context: "+this.name+" uid:"+_n+" len:"+this._set.length+"  active:"+fn.inspect(this.active,!0,2,!0));let t=Object.create(this.active?this.active:Object.prototype);return t._ns_name=this.name,t.id=_n,Zt&&pn("   CREATED Context: "+this.name+" uid:"+_n+" len:"+this._set.length+"  context:"+fn.inspect(t,!0,2,!0)),t};ko.prototype.run=function(t){let n=this.createContext();this.enter(n);try{return Zt&&pn(" BEFORE RUN: "+this.name+" uid:"+_n+" len:"+this._set.length+" "+fn.inspect(n)),t(n),n}catch(r){throw r&&(r[iw]=n),r}finally{Zt&&pn(" AFTER RUN: "+this.name+" uid:"+_n+" len:"+this._set.length+" "+fn.inspect(n)),this.exit(n)}};ko.prototype.runAndReturn=function(t){var n;return this.run(function(r){n=t(r)}),n};ko.prototype.runPromise=function(t){let n=this.createContext();this.enter(n);let r=t(n);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return Zt&&pn(" BEFORE runPromise: "+this.name+" uid:"+_n+" len:"+this._set.length+" "+fn.inspect(n)),r.then(i=>(Zt&&pn(" AFTER runPromise: "+this.name+" uid:"+_n+" len:"+this._set.length+" "+fn.inspect(n)),this.exit(n),i)).catch(i=>{throw i[iw]=n,Zt&&pn(" AFTER runPromise: "+this.name+" uid:"+_n+" len:"+this._set.length+" "+fn.inspect(n)),this.exit(n),i})};ko.prototype.bind=function(t,n){n||(this.active?n=this.active:n=this.createContext());let r=this;return function(){r.enter(n);try{return t.apply(this,arguments)}catch(o){throw o&&(o[iw]=n),o}finally{r.exit(n)}}};ko.prototype.enter=function(t){Sc.ok(t,"context must be provided for entering"),Zt&&pn("  ENTER "+this.name+" uid:"+_n+" len:"+this._set.length+" context: "+fn.inspect(t)),this._set.push(this.active),this.active=t};ko.prototype.exit=function(t){if(Sc.ok(t,"context must be provided for exiting"),Zt&&pn("  EXIT "+this.name+" uid:"+_n+" len:"+this._set.length+" context: "+fn.inspect(t)),this.active===t){Sc.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let n=this._set.lastIndexOf(t);n<0?(Zt&&pn("??ERROR?? context exiting but not entered - ignoring: "+fn.inspect(t)),Sc.ok(n>=0,`context not currently entered; can't exit. 
`+fn.inspect(this)+`
`+fn.inspect(t))):(Sc.ok(n,"can't remove top context"),this._set.splice(n,1))};ko.prototype.bindEmitter=function(t){Sc.ok(t.on&&t.addListener&&t.emit,"can only bind real EEs");let n=this,r="context@"+this.name;function i(s){s&&(s[rw]||(s[rw]=Object.create(null)),s[rw][r]={namespace:n,context:n.active})}function o(s){if(!(s&&s[rw]))return s;let a=s,u=s[rw];return Object.keys(u).forEach(function(c){let l=u[c];a=l.namespace.bind(a,l.context)}),a}ERe(t,i,o)};ko.prototype.fromException=function(t){return t[iw]};function Uee(e){return process.namespaces[e]}function bRe(e){Sc.ok(e,"namespace must be given a name."),Zt&&pn("CREATING NAMESPACE "+e);let t=new ko(e);return t.id=_n,Ph.addHooks({init(n,r,i,o,s){_n=n,o?(t._contexts.set(n,t._contexts.get(o)),Zt&&pn("PARENTID: "+e+" uid:"+n+" parent:"+o+" provider:"+i)):t._contexts.set(_n,t.active),Zt&&pn("INIT "+e+" uid:"+n+" parent:"+o+" provider:"+Mee[i]+" active:"+fn.inspect(t.active,!0))},pre(n,r){_n=n;let i=t._contexts.get(n);i?(Zt&&pn(" PRE "+e+" uid:"+n+" handle:"+lI(r)+" context:"+fn.inspect(i)),t.enter(i)):Zt&&pn(" PRE MISSING CONTEXT "+e+" uid:"+n+" handle:"+lI(r))},post(n,r){_n=n;let i=t._contexts.get(n);i?(Zt&&pn(" POST "+e+" uid:"+n+" handle:"+lI(r)+" context:"+fn.inspect(i)),t.exit(i)):Zt&&pn(" POST MISSING CONTEXT "+e+" uid:"+n+" handle:"+lI(r))},destroy(n){_n=n,Zt&&pn("DESTROY "+e+" uid:"+n+" context:"+fn.inspect(t._contexts.get(_n))+" active:"+fn.inspect(t.active,!0)),t._contexts.delete(n)}}),process.namespaces[e]=t,t}function qee(e){let t=Uee(e);Sc.ok(t,`can't delete nonexistent namespace! "`+e+'"'),Sc.ok(t.id,"don't assign to process.namespaces directly! "+fn.inspect(t)),process.namespaces[e]=null}function _Re(){process.namespaces&&Object.keys(process.namespaces).forEach(function(e){qee(e)}),process.namespaces=Object.create(null)}process.namespaces={};Ph._state&&!Ph._state.enabled&&Ph.enable();function pn(e){process.env.DEBUG&&process._rawDebug(e)}function lI(e){if(!e)return e;if(typeof e=="function")return e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1];if(e.constructor&&e.constructor.name)return e.constructor.name}if(Zt){uM=aM();for(Fee in uM.filter._modifiers)uM.filter.deattach(Fee)}var uM,Fee});var Hee=w((Det,lM)=>{"use strict";var CRe=cee();process&&CRe.gte(process.versions.node,"8.0.0")?lM.exports=xee():lM.exports=jee()});var ote=w((Re,ite)=>{Re=ite.exports=Ke;var mt;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?mt=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:mt=function(){};Re.SEMVER_SPEC_VERSION="2.0.0";var pM=256,dI=Number.MAX_SAFE_INTEGER||9007199254740991,dM=16,xt=Re.re=[],J=Re.src=[],Ge=0,Rh=Ge++;J[Rh]="0|[1-9]\\d*";var Ah=Ge++;J[Ah]="[0-9]+";var gM=Ge++;J[gM]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var Vee=Ge++;J[Vee]="("+J[Rh]+")\\.("+J[Rh]+")\\.("+J[Rh]+")";var Wee=Ge++;J[Wee]="("+J[Ah]+")\\.("+J[Ah]+")\\.("+J[Ah]+")";var fM=Ge++;J[fM]="(?:"+J[Rh]+"|"+J[gM]+")";var mM=Ge++;J[mM]="(?:"+J[Ah]+"|"+J[gM]+")";var vM=Ge++;J[vM]="(?:-("+J[fM]+"(?:\\."+J[fM]+")*))";var yM=Ge++;J[yM]="(?:-?("+J[mM]+"(?:\\."+J[mM]+")*))";var hM=Ge++;J[hM]="[0-9A-Za-z-]+";var aw=Ge++;J[aw]="(?:\\+("+J[hM]+"(?:\\."+J[hM]+")*))";var xM=Ge++,Gee="v?"+J[Vee]+J[vM]+"?"+J[aw]+"?";J[xM]="^"+Gee+"$";var wM="[v=\\s]*"+J[Wee]+J[yM]+"?"+J[aw]+"?",EM=Ge++;J[EM]="^"+wM+"$";var Oh=Ge++;J[Oh]="((?:<|>)?=?)";var pI=Ge++;J[pI]=J[Ah]+"|x|X|\\*";var fI=Ge++;J[fI]=J[Rh]+"|x|X|\\*";var gp=Ge++;J[gp]="[v=\\s]*("+J[fI]+")(?:\\.("+J[fI]+")(?:\\.("+J[fI]+")(?:"+J[vM]+")?"+J[aw]+"?)?)?";var kh=Ge++;J[kh]="[v=\\s]*("+J[pI]+")(?:\\.("+J[pI]+")(?:\\.("+J[pI]+")(?:"+J[yM]+")?"+J[aw]+"?)?)?";var zee=Ge++;J[zee]="^"+J[Oh]+"\\s*"+J[gp]+"$";var Yee=Ge++;J[Yee]="^"+J[Oh]+"\\s*"+J[kh]+"$";var Kee=Ge++;J[Kee]="(?:^|[^\\d])(\\d{1,"+dM+"})(?:\\.(\\d{1,"+dM+"}))?(?:\\.(\\d{1,"+dM+"}))?(?:$|[^\\d])";var xI=Ge++;J[xI]="(?:~>?)";var mI=Ge++;J[mI]="(\\s*)"+J[xI]+"\\s+";xt[mI]=new RegExp(J[mI],"g");var SRe="$1~",Xee=Ge++;J[Xee]="^"+J[xI]+J[gp]+"$";var Qee=Ge++;J[Qee]="^"+J[xI]+J[kh]+"$";var wI=Ge++;J[wI]="(?:\\^)";var hI=Ge++;J[hI]="(\\s*)"+J[wI]+"\\s+";xt[hI]=new RegExp(J[hI],"g");var TRe="$1^",Jee=Ge++;J[Jee]="^"+J[wI]+J[gp]+"$";var Zee=Ge++;J[Zee]="^"+J[wI]+J[kh]+"$";var bM=Ge++;J[bM]="^"+J[Oh]+"\\s*("+wM+")$|^$";var _M=Ge++;J[_M]="^"+J[Oh]+"\\s*("+Gee+")$|^$";var ow=Ge++;J[ow]="(\\s*)"+J[Oh]+"\\s*("+wM+"|"+J[gp]+")";xt[ow]=new RegExp(J[ow],"g");var IRe="$1$2$3",ete=Ge++;J[ete]="^\\s*("+J[gp]+")\\s+-\\s+("+J[gp]+")\\s*$";var tte=Ge++;J[tte]="^\\s*("+J[kh]+")\\s+-\\s+("+J[kh]+")\\s*$";var nte=Ge++;J[nte]="(<|>)?=?\\s*\\*";for(il=0;il<Ge;il++)mt(il,J[il]),xt[il]||(xt[il]=new RegExp(J[il]));var il;Re.parse=vp;function vp(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Ke)return e;if(typeof e!="string"||e.length>pM)return null;var n=t.loose?xt[EM]:xt[xM];if(!n.test(e))return null;try{return new Ke(e,t)}catch{return null}}Re.valid=PRe;function PRe(e,t){var n=vp(e,t);return n?n.version:null}Re.clean=RRe;function RRe(e,t){var n=vp(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}Re.SemVer=Ke;function Ke(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Ke){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>pM)throw new TypeError("version is longer than "+pM+" characters");if(!(this instanceof Ke))return new Ke(e,t);mt("SemVer",e,t),this.options=t,this.loose=!!t.loose;var n=e.trim().match(t.loose?xt[EM]:xt[xM]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>dI||this.major<0)throw new TypeError("Invalid major version");if(this.minor>dI||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>dI||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var i=+r;if(i>=0&&i<dI)return i}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}Ke.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};Ke.prototype.toString=function(){return this.version};Ke.prototype.compare=function(e){return mt("SemVer.compare",this.version,this.options,e),e instanceof Ke||(e=new Ke(e,this.options)),this.compareMain(e)||this.comparePre(e)};Ke.prototype.compareMain=function(e){return e instanceof Ke||(e=new Ke(e,this.options)),Dh(this.major,e.major)||Dh(this.minor,e.minor)||Dh(this.patch,e.patch)};Ke.prototype.comparePre=function(e){if(e instanceof Ke||(e=new Ke(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],r=e.prerelease[t];if(mt("prerelease compare",t,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return Dh(n,r)}while(++t)};Ke.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};Re.inc=ARe;function ARe(e,t,n,r){typeof n=="string"&&(r=n,n=void 0);try{return new Ke(e,n).inc(t,r).version}catch{return null}}Re.diff=DRe;function DRe(e,t){if(CM(e,t))return null;var n=vp(e),r=vp(t),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if((s==="major"||s==="minor"||s==="patch")&&n[s]!==r[s])return i+s;return o}Re.compareIdentifiers=Dh;var Bee=/^[0-9]+$/;function Dh(e,t){var n=Bee.test(e),r=Bee.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1}Re.rcompareIdentifiers=kRe;function kRe(e,t){return Dh(t,e)}Re.major=ORe;function ORe(e,t){return new Ke(e,t).major}Re.minor=NRe;function NRe(e,t){return new Ke(e,t).minor}Re.patch=LRe;function LRe(e,t){return new Ke(e,t).patch}Re.compare=Tc;function Tc(e,t,n){return new Ke(e,n).compare(new Ke(t,n))}Re.compareLoose=FRe;function FRe(e,t){return Tc(e,t,!0)}Re.rcompare=MRe;function MRe(e,t,n){return Tc(t,e,n)}Re.sort=URe;function URe(e,t){return e.sort(function(n,r){return Re.compare(n,r,t)})}Re.rsort=qRe;function qRe(e,t){return e.sort(function(n,r){return Re.rcompare(n,r,t)})}Re.gt=sw;function sw(e,t,n){return Tc(e,t,n)>0}Re.lt=gI;function gI(e,t,n){return Tc(e,t,n)<0}Re.eq=CM;function CM(e,t,n){return Tc(e,t,n)===0}Re.neq=rte;function rte(e,t,n){return Tc(e,t,n)!==0}Re.gte=SM;function SM(e,t,n){return Tc(e,t,n)>=0}Re.lte=TM;function TM(e,t,n){return Tc(e,t,n)<=0}Re.cmp=vI;function vI(e,t,n,r){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return CM(e,n,r);case"!=":return rte(e,n,r);case">":return sw(e,n,r);case">=":return SM(e,n,r);case"<":return gI(e,n,r);case"<=":return TM(e,n,r);default:throw new TypeError("Invalid operator: "+t)}}Re.Comparator=Oo;function Oo(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Oo){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof Oo))return new Oo(e,t);mt("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===cw?this.value="":this.value=this.operator+this.semver.version,mt("comp",this)}var cw={};Oo.prototype.parse=function(e){var t=this.options.loose?xt[bM]:xt[_M],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],this.operator==="="&&(this.operator=""),n[2]?this.semver=new Ke(n[2],this.options.loose):this.semver=cw};Oo.prototype.toString=function(){return this.value};Oo.prototype.test=function(e){return mt("Comparator.test",e,this.options.loose),this.semver===cw?!0:(typeof e=="string"&&(e=new Ke(e,this.options)),vI(e,this.operator,this.semver,this.options))};Oo.prototype.intersects=function(e,t){if(!(e instanceof Oo))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var n;if(this.operator==="")return n=new Yt(e.value,t),yI(this.value,n,t);if(e.operator==="")return n=new Yt(this.value,t),yI(e.semver,n,t);var r=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),o=this.semver.version===e.semver.version,s=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=vI(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=vI(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return r||i||o&&s||a||u};Re.Range=Yt;function Yt(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Yt)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Yt(e.raw,t);if(e instanceof Oo)return new Yt(e.value,t);if(!(this instanceof Yt))return new Yt(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(n){return this.parseRange(n.trim())},this).filter(function(n){return n.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}Yt.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};Yt.prototype.toString=function(){return this.range};Yt.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var n=t?xt[tte]:xt[ete];e=e.replace(n,KRe),mt("hyphen replace",e),e=e.replace(xt[ow],IRe),mt("comparator trim",e,xt[ow]),e=e.replace(xt[mI],SRe),e=e.replace(xt[hI],TRe),e=e.split(/\s+/).join(" ");var r=t?xt[bM]:xt[_M],i=e.split(" ").map(function(o){return jRe(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(r)})),i=i.map(function(o){return new Oo(o,this.options)},this),i};Yt.prototype.intersects=function(e,t){if(!(e instanceof Yt))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(r){return e.set.some(function(i){return i.every(function(o){return r.intersects(o,t)})})})})};Re.toComparators=$Re;function $Re(e,t){return new Yt(e,t).set.map(function(n){return n.map(function(r){return r.value}).join(" ").trim().split(" ")})}function jRe(e,t){return mt("comp",e,t),e=VRe(e,t),mt("caret",e),e=HRe(e,t),mt("tildes",e),e=GRe(e,t),mt("xrange",e),e=YRe(e,t),mt("stars",e),e}function Mr(e){return!e||e.toLowerCase()==="x"||e==="*"}function HRe(e,t){return e.trim().split(/\s+/).map(function(n){return BRe(n,t)}).join(" ")}function BRe(e,t){var n=t.loose?xt[Qee]:xt[Xee];return e.replace(n,function(r,i,o,s,a){mt("tilde",e,r,i,o,s,a);var u;return Mr(i)?u="":Mr(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Mr(s)?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":a?(mt("replaceTilde pr",a),u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0"):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0",mt("tilde return",u),u})}function VRe(e,t){return e.trim().split(/\s+/).map(function(n){return WRe(n,t)}).join(" ")}function WRe(e,t){mt("caret",e,t);var n=t.loose?xt[Zee]:xt[Jee];return e.replace(n,function(r,i,o,s,a){mt("caret",e,r,i,o,s,a);var u;return Mr(i)?u="":Mr(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":Mr(s)?i==="0"?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+".0 <"+(+i+1)+".0.0":a?(mt("replaceCaret pr",a),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+"-"+a+" <"+(+i+1)+".0.0"):(mt("no pr"),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+" <"+(+i+1)+".0.0"),mt("caret return",u),u})}function GRe(e,t){return mt("replaceXRanges",e,t),e.split(/\s+/).map(function(n){return zRe(n,t)}).join(" ")}function zRe(e,t){e=e.trim();var n=t.loose?xt[Yee]:xt[zee];return e.replace(n,function(r,i,o,s,a,u){mt("xRange",e,r,i,o,s,a,u);var c=Mr(o),l=c||Mr(s),d=l||Mr(a),p=d;return i==="="&&p&&(i=""),c?i===">"||i==="<"?r="<0.0.0":r="*":i&&p?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),r=i+o+"."+s+"."+a):l?r=">="+o+".0.0 <"+(+o+1)+".0.0":d&&(r=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),mt("xRange return",r),r})}function YRe(e,t){return mt("replaceStars",e,t),e.trim().replace(xt[nte],"")}function KRe(e,t,n,r,i,o,s,a,u,c,l,d,p){return Mr(n)?t="":Mr(r)?t=">="+n+".0.0":Mr(i)?t=">="+n+"."+r+".0":t=">="+t,Mr(u)?a="":Mr(c)?a="<"+(+u+1)+".0.0":Mr(l)?a="<"+u+"."+(+c+1)+".0":d?a="<="+u+"."+c+"."+l+"-"+d:a="<="+a,(t+" "+a).trim()}Yt.prototype.test=function(e){if(!e)return!1;typeof e=="string"&&(e=new Ke(e,this.options));for(var t=0;t<this.set.length;t++)if(XRe(this.set[t],e,this.options))return!0;return!1};function XRe(e,t,n){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(r=0;r<e.length;r++)if(mt(e[r].semver),e[r].semver!==cw&&e[r].semver.prerelease.length>0){var i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}Re.satisfies=yI;function yI(e,t,n){try{t=new Yt(t,n)}catch{return!1}return t.test(e)}Re.maxSatisfying=QRe;function QRe(e,t,n){var r=null,i=null;try{var o=new Yt(t,n)}catch{return null}return e.forEach(function(s){o.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new Ke(r,n))}),r}Re.minSatisfying=JRe;function JRe(e,t,n){var r=null,i=null;try{var o=new Yt(t,n)}catch{return null}return e.forEach(function(s){o.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new Ke(r,n))}),r}Re.minVersion=ZRe;function ZRe(e,t){e=new Yt(e,t);var n=new Ke("0.0.0");if(e.test(n)||(n=new Ke("0.0.0-0"),e.test(n)))return n;n=null;for(var r=0;r<e.set.length;++r){var i=e.set[r];i.forEach(function(o){var s=new Ke(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!n||sw(n,s))&&(n=s);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return n&&e.test(n)?n:null}Re.validRange=eAe;function eAe(e,t){try{return new Yt(e,t).range||"*"}catch{return null}}Re.ltr=tAe;function tAe(e,t,n){return IM(e,t,"<",n)}Re.gtr=nAe;function nAe(e,t,n){return IM(e,t,">",n)}Re.outside=IM;function IM(e,t,n,r){e=new Ke(e,r),t=new Yt(t,r);var i,o,s,a,u;switch(n){case">":i=sw,o=TM,s=gI,a=">",u=">=";break;case"<":i=gI,o=SM,s=sw,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(yI(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var l=t.set[c],d=null,p=null;if(l.forEach(function(f){f.semver===cw&&(f=new Oo(">=0.0.0")),d=d||f,p=p||f,i(f.semver,d.semver,r)?d=f:s(f.semver,p.semver,r)&&(p=f)}),d.operator===a||d.operator===u||(!p.operator||p.operator===a)&&o(e,p.semver))return!1;if(p.operator===u&&s(e,p.semver))return!1}return!0}Re.prerelease=rAe;function rAe(e,t){var n=vp(e,t);return n&&n.prerelease.length?n.prerelease:null}Re.intersects=iAe;function iAe(e,t,n){return e=new Yt(e,n),t=new Yt(t,n),e.intersects(t)}Re.coerce=oAe;function oAe(e){if(e instanceof Ke)return e;if(typeof e!="string")return null;var t=e.match(xt[Kee]);return t==null?null:vp(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}});var cte=w((ket,ate)=>{var sAe=iI().wrap,RM=1<<0,AM=1<<1,DM=1<<2,bI=1<<3,wt=[],aAe=0,xr=!1,ol=[],Nh,kM;function OM(e,t){var n=e.length,r=t.length,i=[];if(n===0&&r===0)return i;for(var o=0;o<n;o++)i[o]=e[o];if(r===0)return i;for(var s=0;s<r;s++){var a=!0;for(o=0;o<n;o++)if(e[o].uid===t[s].uid){a=!1;break}a&&i.push(t[s])}return i}process._fatalException?(EI=!1,Nh=function(t){var n=wt.length;if(EI||n===0)return!1;var r=!1;EI=!0;for(var i=0;i<n;++i){var o=wt[i];if(o.flags&bI){var s=Lh&&Lh[o.uid];r=o.error(s,t)||r}}return EI=!1,ol.length>0&&(wt=ol.pop()),Lh=void 0,r&&!xr},kM=function(t,n,r){var i=[];xr=!0;for(var o=0;o<r;++o){var s=n[o];if(i[s.uid]=s.data,!!(s.flags&RM)){var a=s.create(s.data);a!==void 0&&(i[s.uid]=a)}}return xr=!1,function(){Lh=i,ol.push(wt),wt=OM(n,wt),xr=!0;for(var u=0;u<r;++u)(n[u].flags&AM)>0&&n[u].before(this,i[n[u].uid]);xr=!1;var c=t.apply(this,arguments);for(xr=!0,u=0;u<r;++u)(n[u].flags&DM)>0&&n[u].after(this,i[n[u].uid]);return xr=!1,wt=ol.pop(),Lh=void 0,c}},sAe(process,"_fatalException",function(e){return function(n){return Nh(n)||e(n)}})):(PM=!1,Nh=function(t){if(PM)throw t;for(var n=!1,r=wt.length,i=0;i<r;++i){var o=wt[i];o.flags&bI&&(n=o.error(null,t)||n)}if(!n&&xr)throw t},kM=function(t,n,r){var i=[];xr=!0;for(var o=0;o<r;++o){var s=n[o];if(i[s.uid]=s.data,!!(s.flags&RM)){var a=s.create(s.data);a!==void 0&&(i[s.uid]=a)}}return xr=!1,function(){var u=!1,c=!1;ol.push(wt),wt=OM(n,wt),xr=!0;for(var l=0;l<r;++l)(n[l].flags&AM)>0&&n[l].before(this,i[n[l].uid]);xr=!1;var d;try{d=t.apply(this,arguments)}catch(p){u=!0;for(var l=0;l<r;++l)if(wt[l].flags&bI)try{c=wt[l].error(i[n[l].uid],p)||c}catch(m){throw PM=!0,m}if(!c)throw process.removeListener("uncaughtException",Nh),process._originalNextTick(function(){process.addListener("uncaughtException",Nh)}),p}finally{if(!u||c){for(xr=!0,l=0;l<r;++l)(n[l].flags&DM)>0&&n[l].after(this,i[n[l].uid]);xr=!1}wt=ol.pop()}return d}},process.addListener("uncaughtException",Nh));var EI,Lh,PM;function cAe(e,t,n){xr=!0;for(var r=0;r<n;++r){var i=t[r];i.create&&i.create(i.data)}return xr=!1,function(){ol.push(wt),wt=OM(t,wt);var o=e.apply(this,arguments);return wt=ol.pop(),o}}function uAe(e){var t=wt.length;if(t===0)return e;for(var n=wt.slice(),r=0;r<t;++r)if(n[r].flags>0)return kM(e,n,t);return cAe(e,n,t)}function sa(e,t){typeof e.create=="function"&&(this.create=e.create,this.flags|=RM),typeof e.before=="function"&&(this.before=e.before,this.flags|=AM),typeof e.after=="function"&&(this.after=e.after,this.flags|=DM),typeof e.error=="function"&&(this.error=e.error,this.flags|=bI),this.uid=++aAe,this.data=t===void 0?null:t}sa.prototype.create=void 0;sa.prototype.before=void 0;sa.prototype.after=void 0;sa.prototype.error=void 0;sa.prototype.data=void 0;sa.prototype.uid=0;sa.prototype.flags=0;function ste(e,t){if(typeof e!="object"||!e)throw new TypeError("callbacks argument must be an object");return e instanceof sa?e:new sa(e,t)}function lAe(e,t){var n;e instanceof sa?n=e:n=ste(e,t);for(var r=!1,i=0;i<wt.length;i++)if(n===wt[i]){r=!0;break}return r||wt.push(n),n}function dAe(e){for(var t=0;t<wt.length;t++)if(e===wt[t]){wt.splice(t,1);break}}process.createAsyncListener=ste;process.addAsyncListener=lAe;process.removeAsyncListener=dAe;ate.exports=uAe});var lte=w((Net,ute)=>{"use strict";ute.exports=(e,t)=>class extends e{constructor(r){var i,o;super(a);var s=this;try{r.apply(i,o)}catch(u){o[1](u)}return s;function a(u,c){i=this,o=[l,d];function l(p){return t(s,!1),u(p)}function d(p){return t(s,!1),c(p)}}}}});var vte=w(()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var mte=iI(),CI=ote(),mi=mte.wrap,sl=mte.massWrap,Kt=cte(),pAe=require("util"),fAe=CI.gte(process.version,"6.0.0"),FM=CI.gte(process.version,"7.0.0"),mAe=CI.gte(process.version,"8.0.0"),hAe=CI.gte(process.version,"11.0.0"),aa=require("net");FM&&!aa._normalizeArgs?aa._normalizeArgs=function(e){if(e.length===0)return[{},null];var t=e[0],n={};typeof t=="object"&&t!==null?n=t:wAe(t)?n.path=t:(n.port=t,e.length>1&&typeof e[1]=="string"&&(n.host=e[1]));var r=e[e.length-1];return typeof r!="function"?[n,null]:[n,r]}:!FM&&!aa._normalizeConnectArgs&&(aa._normalizeConnectArgs=function(e){var t={};function n(i){return(i=Number(i))>=0?i:!1}typeof e[0]=="object"&&e[0]!==null?t=e[0]:typeof e[0]=="string"&&n(e[0])===!1?t.path=e[0]:(t.port=e[0],typeof e[1]=="string"&&(t.host=e[1]));var r=e[e.length-1];return typeof r=="function"?[t,r]:[t]});"_setUpListenHandle"in aa.Server.prototype?mi(aa.Server.prototype,"_setUpListenHandle",dte):mi(aa.Server.prototype,"_listen2",dte);function dte(e){return function(){this.on("connection",function(t){t._handle&&(t._handle.onread=Kt(t._handle.onread))});try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=Kt(this._handle.onconnection))}}}function hte(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=Kt(t._originalOnread)}}mi(aa.Socket.prototype,"connect",function(e){return function(){var t;mAe&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?t=arguments[0]:t=FM?aa._normalizeArgs(arguments):aa._normalizeConnectArgs(arguments),t[1]&&(t[1]=Kt(t[1]));var n=e.apply(this,t);return hte(this),n}});var gAe=require("http");mi(gAe.Agent.prototype,"addRequest",function(e){return function(t){var n=t.onSocket;return t.onSocket=Kt(function(r){return hte(r),n.apply(this,arguments)}),e.apply(this,arguments)}});var NM=require("child_process");function pte(e){Array.isArray(e.stdio)&&e.stdio.forEach(function(t){t&&t._handle&&(t._handle.onread=Kt(t._handle.onread),mi(t._handle,"close",SI))}),e._handle&&(e._handle.onexit=Kt(e._handle.onexit))}NM.ChildProcess?mi(NM.ChildProcess.prototype,"spawn",function(e){return function(){var t=e.apply(this,arguments);return pte(this),t}}):sl(NM,["execFile","fork","spawn"],function(e){return function(){var t=e.apply(this,arguments);return pte(t),t}});process._fatalException||(process._originalNextTick=process.nextTick);var qM=[];process._nextDomainTick&&qM.push("_nextDomainTick");process._tickDomainCallback&&qM.push("_tickDomainCallback");sl(process,qM,ca);mi(process,"nextTick",SI);var $M=["setTimeout","setInterval"];global.setImmediate&&$M.push("setImmediate");var gte=require("timers"),vAe=global.setTimeout===gte.setTimeout;sl(gte,$M,SI);vAe&&sl(global,$M,SI);var MM=require("dns");sl(MM,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],ca);MM.resolveNaptr&&mi(MM,"resolveNaptr",ca);var xp=require("fs");sl(xp,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],ca);xp.lchown&&mi(xp,"lchown",ca);xp.lchmod&&mi(xp,"lchmod",ca);xp.ftruncate&&mi(xp,"ftruncate",ca);var uw;try{uw=require("zlib")}catch{}uw&&uw.Deflate&&uw.Deflate.prototype&&(yp=Object.getPrototypeOf(uw.Deflate.prototype),yp._transform?mi(yp,"_transform",ca):yp.write&&yp.flush&&yp.end&&sl(yp,["write","flush","end"],ca));var yp,UM;try{UM=require("crypto")}catch{}UM&&(LM=["pbkdf2","randomBytes"],hAe||LM.push("pseudoRandomBytes"),sl(UM,LM,ca));var LM,_I=!!global.Promise&&Promise.toString()==="function Promise() { [native code] }"&&Promise.toString.toString()==="function toString() { [native code] }";_I&&(fte=process.addAsyncListener({create:function(){_I=!1}}),global.Promise.resolve(!0).then(function(){_I=!1}),process.removeAsyncListener(fte));var fte;_I&&yAe();function yAe(){var e=global.Promise;function t(s){if(!(this instanceof t))return e(s);if(typeof s!="function")return new e(s);var a,u,c=new e(l);c.__proto__=t.prototype;try{s.apply(a,u)}catch(d){u[1](d)}return c;function l(d,p){a=this,u=[f,m];function f(h){return r(c,!1),d(h)}function m(h){return r(c,!1),p(h)}}}if(pAe.inherits(t,e),mi(e.prototype,"then",o),e.prototype.chain&&mi(e.prototype,"chain",o),fAe)global.Promise=lte()(e,r);else{var n=["all","race","reject","resolve","accept","defer"];n.forEach(function(s){typeof e[s]=="function"&&(t[s]=e[s])}),global.Promise=t}function r(s,a){(!s.__asl_wrapper||a)&&(s.__asl_wrapper=Kt(i))}function i(s,a,u,c){var l;try{return l=a.call(s,u),{returnVal:l,error:!1}}catch(d){return{errorVal:d,error:!0}}finally{l instanceof e?c.__asl_wrapper=function(){var p=l.__asl_wrapper||i;return p.apply(this,arguments)}:r(c,!0)}}function o(s){return function(){var u=this,c=s.apply(u,Array.prototype.map.call(arguments,l));return c.__asl_wrapper=function(p,f,m,h){return u.__asl_wrapper?(u.__asl_wrapper(p,function(){},null,c),c.__asl_wrapper(p,f,m,h)):i(p,f,m,h)},c;function l(d){return typeof d!="function"?d:Kt(function(p){var f=(u.__asl_wrapper||i)(this,d,p,c);if(f.error)throw f.errorVal;return f.returnVal})}}}}function ca(e){var t=function(){var n,r=arguments.length-1;if(typeof arguments[r]=="function"){n=Array(arguments.length);for(var i=0;i<arguments.length-1;i++)n[i]=arguments[i];n[r]=Kt(arguments[r])}return e.apply(this,n||arguments)};switch(e.length){case 1:return function(n){return arguments.length!==1?t.apply(this,arguments):(typeof n=="function"&&(n=Kt(n)),e.call(this,n))};case 2:return function(n,r){return arguments.length!==2?t.apply(this,arguments):(typeof r=="function"&&(r=Kt(r)),e.call(this,n,r))};case 3:return function(n,r,i){return arguments.length!==3?t.apply(this,arguments):(typeof i=="function"&&(i=Kt(i)),e.call(this,n,r,i))};case 4:return function(n,r,i,o){return arguments.length!==4?t.apply(this,arguments):(typeof o=="function"&&(o=Kt(o)),e.call(this,n,r,i,o))};case 5:return function(n,r,i,o,s){return arguments.length!==5?t.apply(this,arguments):(typeof s=="function"&&(s=Kt(s)),e.call(this,n,r,i,o,s))};case 6:return function(n,r,i,o,s,a){return arguments.length!==6?t.apply(this,arguments):(typeof a=="function"&&(a=Kt(a)),e.call(this,n,r,i,o,s,a))};default:return t}}function SI(e){var t=function(){var n;if(typeof arguments[0]=="function"){n=Array(arguments.length),n[0]=Kt(arguments[0]);for(var r=1;r<arguments.length;r++)n[r]=arguments[r]}return e.apply(this,n||arguments)};switch(e.length){case 1:return function(n){return arguments.length!==1?t.apply(this,arguments):(typeof n=="function"&&(n=Kt(n)),e.call(this,n))};case 2:return function(n,r){return arguments.length!==2?t.apply(this,arguments):(typeof n=="function"&&(n=Kt(n)),e.call(this,n,r))};case 3:return function(n,r,i){return arguments.length!==3?t.apply(this,arguments):(typeof n=="function"&&(n=Kt(n)),e.call(this,n,r,i))};case 4:return function(n,r,i,o){return arguments.length!==4?t.apply(this,arguments):(typeof n=="function"&&(n=Kt(n)),e.call(this,n,r,i,o))};case 5:return function(n,r,i,o,s){return arguments.length!==5?t.apply(this,arguments):(typeof n=="function"&&(n=Kt(n)),e.call(this,n,r,i,o,s))};case 6:return function(n,r,i,o,s,a){return arguments.length!==6?t.apply(this,arguments):(typeof n=="function"&&(n=Kt(n)),e.call(this,n,r,i,o,s,a))};default:return t}}function xAe(e){return(e=Number(e))>=0?e:!1}function wAe(e){return typeof e=="string"&&xAe(e)===!1}});var bte=w((Met,Ete)=>{"use strict";var Ic=require("assert"),EAe=aI(),lw="cls@contexts",jM="error@context";process.addAsyncListener||vte();function _s(e){this.name=e,this.active=null,this._set=[],this.id=null}_s.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t};_s.prototype.get=function(e){if(this.active)return this.active[e]};_s.prototype.createContext=function(){return Object.create(this.active)};_s.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(n){throw n&&(n[jM]=t),n}finally{this.exit(t)}};_s.prototype.runAndReturn=function(e){var t;return this.run(function(n){t=e(n)}),t};_s.prototype.bind=function(e,t){t||(this.active?t=this.active:t=this.createContext());var n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(r){throw r&&(r[jM]=t),r}finally{n.exit(t)}}};_s.prototype.enter=function(e){Ic.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e};_s.prototype.exit=function(e){if(Ic.ok(e,"context must be provided for exiting"),this.active===e){Ic.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}var t=this._set.lastIndexOf(e);Ic.ok(t>=0,"context not currently entered; can't exit"),Ic.ok(t,"can't remove top context"),this._set.splice(t,1)};_s.prototype.bindEmitter=function(e){Ic.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,n="context@"+this.name;function r(o){o&&(o[lw]||(o[lw]=Object.create(null)),o[lw][n]={namespace:t,context:t.active})}function i(o){if(!(o&&o[lw]))return o;var s=o,a=o[lw];return Object.keys(a).forEach(function(u){var c=a[u];s=c.namespace.bind(s,c.context)}),s}EAe(e,r,i)};_s.prototype.fromException=function(e){return e[jM]};function yte(e){return process.namespaces[e]}function bAe(e){Ic.ok(e,"namespace must be given a name!");var t=new _s(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(n,r){r&&t.enter(r)},after:function(n,r){r&&t.exit(r)},error:function(n){n&&t.exit(n)}}),process.namespaces[e]=t,t}function xte(e){var t=yte(e);Ic.ok(t,"can't delete nonexistent namespace!"),Ic.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function wte(){process.namespaces&&Object.keys(process.namespaces).forEach(function(e){xte(e)}),process.namespaces=Object.create(null)}process.namespaces||wte();Ete.exports={getNamespace:yte,createNamespace:bAe,destroyNamespace:xte,reset:wte}});var al=w(II=>{"use strict";Object.defineProperty(II,"__esModule",{value:!0});II.CorrelationContextManager=void 0;var Fh=Vt(),_Ae=VT(),wp=WT(),HM=m1(),_te=O1(),TI=Qn(),CAe=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return t===void 0?null:t},e.generateContextObject=function(t,n,r,i,o,s){return n=n||t,this.enabled?{operation:{name:r,id:t,parentId:n,traceparent:o,tracestate:s},customProperties:new SAe(i)}:null},e.spanToContextObject=function(t,n,r){var i=new wp;return i.traceId=t.traceId,i.spanId=t.spanId,i.traceFlag=wp.formatOpenTelemetryTraceFlags(t.traceFlags)||wp.DEFAULT_TRACE_FLAG,i.parentId=n,e.generateContextObject(i.traceId,i.parentId,r,null,i)},e.runWithContext=function(t,n){var r;if(e.enabled)try{return e.session.bind(n,(r={},r[e.CONTEXT_NAME]=t,r))()}catch(i){Fh.warn("Error binding to session context",TI.dumpObj(i))}return n()},e.wrapEmitter=function(t){if(e.enabled)try{e.session.bindEmitter(t)}catch(n){Fh.warn("Error binding to session context",TI.dumpObj(n))}},e.wrapCallback=function(t,n){var r;if(e.enabled)try{return e.session.bind(t,n?(r={},r[e.CONTEXT_NAME]=n,r):void 0)}catch(i){Fh.warn("Error binding to session context",TI.dumpObj(i))}return t},e.enable=function(t){if(!this.enabled){if(!this.isNodeVersionCompatible()){this.enabled=!1;return}e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,typeof this.cls>"u"&&(e.forceClsHooked===!0||e.forceClsHooked===void 0&&e.shouldUseClsHooked()?this.cls=Hee():this.cls=bte()),e.session=this.cls.createNamespace("AI-CLS-Session"),_Ae.registerContextPreservation(function(n){try{return e.session.bind(n)}catch(r){Fh.warn("Error binding to session context",TI.dumpObj(r))}})),this.enabled=!0}},e.startOperation=function(t,n){var r=t&&t.traceContext||null,i=t&&t.spanContext?t:null,o=t&&t.traceId?t:null,s=t&&t.headers;if(i)return this.spanToContextObject(i.spanContext(),i.parentSpanId,i.name);if(o)return this.spanToContextObject(o,"|"+o.traceId+"."+o.spanId+".",typeof n=="string"?n:"");var a=typeof n=="string"?n:"";if(r){var u=null,c=null;if(a=r.attributes.OperationName||a,n){var l=n;l.headers&&(l.headers.traceparent?u=new wp(l.headers.traceparent):l.headers["request-id"]&&(u=new wp(null,l.headers["request-id"])),l.headers.tracestate&&(c=new HM(l.headers.tracestate)))}u||(u=new wp(r.traceparent)),c||(c=new HM(r.tracestate));var d=void 0;if(typeof n=="object"){var p=new _te(n);d=p.getCorrelationContextHeader(),a=p.getOperationName({})}var f=e.generateContextObject(u.traceId,u.parentId,a,d,u,c);return f}if(s){var u=new wp(s.traceparent?s.traceparent.toString():null),c=new HM(s.tracestate?s.tracestate.toString():null),p=new _te(t),f=e.generateContextObject(u.traceId,u.parentId,p.getOperationName({}),p.getCorrelationContextHeader(),u,c);return f}return Fh.warn("startOperation was called with invalid arguments",arguments),null},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var t=process.versions.node.split(".");return parseInt(t[0])>3||parseInt(t[0])>2&&parseInt(t[1])>2},e.shouldUseClsHooked=function(){var t=process.versions.node.split(".");return parseInt(t[0])>8||parseInt(t[0])>=8&&parseInt(t[1])>=2},e.canUseClsHooked=function(){var t=process.versions.node.split("."),n=parseInt(t[0])>8||parseInt(t[0])>=8&&parseInt(t[1])>=0,r=parseInt(t[0])<8||parseInt(t[0])<=8&&parseInt(t[1])<2,i=parseInt(t[0])>4||parseInt(t[0])>=4&&parseInt(t[1])>=7;return!(n&&r)&&i},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();II.CorrelationContextManager=CAe;var SAe=function(){function e(t){this.props=[],this.addHeaderData(t)}return e.prototype.addHeaderData=function(t){var n=t?t.split(", "):[];this.props=n.map(function(r){var i=r.split("=");return{key:i[0],value:i[1]}}).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map(function(t){return t.key+"="+t.value}).join(", ")},e.prototype.getProperty=function(t){for(var n=0;n<this.props.length;++n){var r=this.props[n];if(r.key===t)return r.value}},e.prototype.setProperty=function(t,n){if(e.bannedCharacters.test(t)||e.bannedCharacters.test(n)){Fh.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+t+" and value: "+n);return}for(var r=0;r<this.props.length;++r){var i=this.props[r];if(i.key===t){i.value=n;return}}this.props.push({key:t,value:n})},e.bannedCharacters=/[,=]/,e}()});var en=w(oe=>{"use strict";var Cs;Object.defineProperty(oe,"__esModule",{value:!0});oe.WEB_INSTRUMENTATION_DEPRECATED_SOURCE=oe.WEB_INSTRUMENTATION_DEFAULT_SOURCE=oe.TIME_SINCE_ENQUEUED=oe.ENQUEUED_TIME=oe.MessageBusDestination=oe.MicrosoftEventHub=oe.AzNamespace=oe.StatsbeatNetworkCategory=oe.StatsbeatFeatureType=oe.StatsbeatInstrumentation=oe.StatsbeatFeature=oe.StatsbeatCounter=oe.StatsbeatAttach=oe.StatsbeatResourceProvider=oe.StatsbeatTelemetryName=oe.HeartBeatMetricName=oe.DependencyTypeName=oe.TelemetryTypeStringToQuickPulseDocumentType=oe.TelemetryTypeStringToQuickPulseType=oe.QuickPulseType=oe.QuickPulseDocumentType=oe.PerformanceToQuickPulseCounter=oe.MetricId=oe.PerformanceCounter=oe.QuickPulseCounter=oe.DEFAULT_LIVEMETRICS_HOST=oe.DEFAULT_LIVEMETRICS_ENDPOINT=oe.DEFAULT_BREEZE_ENDPOINT=oe.APPLICATION_INSIGHTS_SDK_VERSION=void 0;oe.APPLICATION_INSIGHTS_SDK_VERSION="2.5.0";oe.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com";oe.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com";oe.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com";var wr;(function(e){e.COMMITTED_BYTES="\\Memory\\Committed Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",e.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",e.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",e.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",e.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",e.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",e.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"})(wr=oe.QuickPulseCounter||(oe.QuickPulseCounter={}));var PI;(function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"})(PI=oe.PerformanceCounter||(oe.PerformanceCounter={}));var TAe;(function(e){e.REQUESTS_DURATION="requests/duration",e.DEPENDENCIES_DURATION="dependencies/duration",e.EXCEPTIONS_COUNT="exceptions/count",e.TRACES_COUNT="traces/count"})(TAe=oe.MetricId||(oe.MetricId={}));oe.PerformanceToQuickPulseCounter=(Cs={},Cs[PI.PROCESSOR_TIME]=wr.PROCESSOR_TIME,Cs[PI.REQUEST_RATE]=wr.REQUEST_RATE,Cs[PI.REQUEST_DURATION]=wr.REQUEST_DURATION,Cs[wr.COMMITTED_BYTES]=wr.COMMITTED_BYTES,Cs[wr.REQUEST_FAILURE_RATE]=wr.REQUEST_FAILURE_RATE,Cs[wr.DEPENDENCY_RATE]=wr.DEPENDENCY_RATE,Cs[wr.DEPENDENCY_FAILURE_RATE]=wr.DEPENDENCY_FAILURE_RATE,Cs[wr.DEPENDENCY_DURATION]=wr.DEPENDENCY_DURATION,Cs[wr.EXCEPTION_RATE]=wr.EXCEPTION_RATE,Cs);oe.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"};oe.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"};oe.TelemetryTypeStringToQuickPulseType={EventData:oe.QuickPulseType.Event,ExceptionData:oe.QuickPulseType.Exception,MessageData:oe.QuickPulseType.Trace,MetricData:oe.QuickPulseType.Metric,RequestData:oe.QuickPulseType.Request,RemoteDependencyData:oe.QuickPulseType.Dependency,AvailabilityData:oe.QuickPulseType.Availability,PageViewData:oe.QuickPulseType.PageView};oe.TelemetryTypeStringToQuickPulseDocumentType={EventData:oe.QuickPulseDocumentType.Event,ExceptionData:oe.QuickPulseDocumentType.Exception,MessageData:oe.QuickPulseDocumentType.Trace,MetricData:oe.QuickPulseDocumentType.Metric,RequestData:oe.QuickPulseDocumentType.Request,RemoteDependencyData:oe.QuickPulseDocumentType.Dependency,AvailabilityData:oe.QuickPulseDocumentType.Availability,PageViewData:oe.QuickPulseDocumentType.PageView};oe.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc",Sql:"SQL",QueueMessage:"Queue Message"};oe.HeartBeatMetricName="HeartBeat";oe.StatsbeatTelemetryName="Statsbeat";oe.StatsbeatResourceProvider={appsvc:"appsvc",functions:"functions",vm:"vm",unknown:"unknown"};oe.StatsbeatAttach={codeless:"codeless",sdk:"sdk"};oe.StatsbeatCounter={REQUEST_SUCCESS:"Request Success Count",REQUEST_FAILURE:"Request Failure Count",REQUEST_DURATION:"Request Duration",RETRY_COUNT:"Retry Count",THROTTLE_COUNT:"Throttle Count",EXCEPTION_COUNT:"Exception Count",ATTACH:"Attach",FEATURE:"Feature"};var IAe;(function(e){e[e.NONE=0]="NONE",e[e.DISK_RETRY=1]="DISK_RETRY",e[e.AAD_HANDLING=2]="AAD_HANDLING",e[e.WEB_SNIPPET=4]="WEB_SNIPPET"})(IAe=oe.StatsbeatFeature||(oe.StatsbeatFeature={}));var PAe;(function(e){e[e.NONE=0]="NONE",e[e.AZURE_CORE_TRACING=1]="AZURE_CORE_TRACING",e[e.MONGODB=2]="MONGODB",e[e.MYSQL=4]="MYSQL",e[e.REDIS=8]="REDIS",e[e.POSTGRES=16]="POSTGRES",e[e.BUNYAN=32]="BUNYAN",e[e.WINSTON=64]="WINSTON",e[e.CONSOLE=128]="CONSOLE"})(PAe=oe.StatsbeatInstrumentation||(oe.StatsbeatInstrumentation={}));var RAe;(function(e){e[e.Feature=0]="Feature",e[e.Instrumentation=1]="Instrumentation"})(RAe=oe.StatsbeatFeatureType||(oe.StatsbeatFeatureType={}));var AAe;(function(e){e[e.Breeze=0]="Breeze",e[e.Quickpulse=1]="Quickpulse"})(AAe=oe.StatsbeatNetworkCategory||(oe.StatsbeatNetworkCategory={}));oe.AzNamespace="az.namespace";oe.MicrosoftEventHub="Microsoft.EventHub";oe.MessageBusDestination="message_bus.destination";oe.ENQUEUED_TIME="enqueuedTime";oe.TIME_SINCE_ENQUEUED="timeSinceEnqueued";oe.WEB_INSTRUMENTATION_DEFAULT_SOURCE="https://js.monitor.azure.com/scripts/b/ai";oe.WEB_INSTRUMENTATION_DEPRECATED_SOURCE="https://az416426.vo.msecnd.net/scripts/b/ai"});var Ste=w(Mh=>{"use strict";Object.defineProperty(Mh,"__esModule",{value:!0});Mh.dispose=Mh.enable=void 0;var Cte=yr(),DAe=en(),RI=Jt(),cl=[],BM=function(e){var t=e.data.message;cl.forEach(function(n){t instanceof Error?n.trackException({exception:t}):(t.lastIndexOf(`
`)==t.length-1&&(t=t.substring(0,t.length-1)),n.trackTrace({message:t,severity:e.data.stderr?Cte.SeverityLevel.Warning:Cte.SeverityLevel.Information}))})};function kAe(e,t){if(e){var n=cl.find(function(r){return r==t});if(n)return;cl.length===0&&RI.channel.subscribe("console",BM,RI.trueFilter,function(r,i){var o=t.getStatsbeat();o&&o.addInstrumentation(DAe.StatsbeatInstrumentation.CONSOLE)}),cl.push(t)}else cl=cl.filter(function(r){return r!=t}),cl.length===0&&RI.channel.unsubscribe("console",BM)}Mh.enable=kAe;function OAe(){RI.channel.unsubscribe("console",BM),cl=[]}Mh.dispose=OAe});var Tte=w(qh=>{"use strict";Object.defineProperty(qh,"__esModule",{value:!0});qh.dispose=qh.enable=void 0;var Uh=yr(),NAe=en(),AI=Jt(),ul=[],LAe={10:Uh.SeverityLevel.Verbose,20:Uh.SeverityLevel.Verbose,30:Uh.SeverityLevel.Information,40:Uh.SeverityLevel.Warning,50:Uh.SeverityLevel.Error,60:Uh.SeverityLevel.Critical},VM=function(e){var t=e.data.result;ul.forEach(function(n){try{var r=JSON.parse(t);if(r.err){var i=new Error(r.err.message);i.name=r.err.name,i.stack=r.err.stack,n.trackException({exception:i});return}}catch{}var o=LAe[e.data.level];n.trackTrace({message:t,severity:o})})};function FAe(e,t){if(e){var n=ul.find(function(r){return r==t});if(n)return;ul.length===0&&AI.channel.subscribe("bunyan",VM,AI.trueFilter,function(r,i){var o=t.getStatsbeat();o&&o.addInstrumentation(NAe.StatsbeatInstrumentation.BUNYAN)}),ul.push(t)}else ul=ul.filter(function(r){return r!=t}),ul.length===0&&AI.channel.unsubscribe("bunyan",VM)}qh.enable=FAe;function MAe(){AI.channel.unsubscribe("bunyan",VM),ul=[]}qh.dispose=MAe});var Ite=w($h=>{"use strict";Object.defineProperty($h,"__esModule",{value:!0});$h.dispose=$h.enable=void 0;var UAe=en(),er=yr(),DI=Jt(),ll=[],qAe={syslog:function(e){var t={emerg:er.SeverityLevel.Critical,alert:er.SeverityLevel.Critical,crit:er.SeverityLevel.Critical,error:er.SeverityLevel.Error,warning:er.SeverityLevel.Warning,notice:er.SeverityLevel.Information,info:er.SeverityLevel.Information,debug:er.SeverityLevel.Verbose};return t[e]===void 0?er.SeverityLevel.Information:t[e]},npm:function(e){var t={error:er.SeverityLevel.Error,warn:er.SeverityLevel.Warning,info:er.SeverityLevel.Information,verbose:er.SeverityLevel.Verbose,debug:er.SeverityLevel.Verbose,silly:er.SeverityLevel.Verbose};return t[e]===void 0?er.SeverityLevel.Information:t[e]},unknown:function(e){return er.SeverityLevel.Information}},WM=function(e){var t=e.data.message;ll.forEach(function(n){if(t instanceof Error)n.trackException({exception:t,properties:e.data.meta});else{var r=qAe[e.data.levelKind](e.data.level);n.trackTrace({message:t,severity:r,properties:e.data.meta})}})};function $Ae(e,t){if(e){var n=ll.find(function(r){return r==t});if(n)return;ll.length===0&&DI.channel.subscribe("winston",WM,DI.trueFilter,function(r,i){var o=t.getStatsbeat();o&&o.addInstrumentation(UAe.StatsbeatInstrumentation.WINSTON)}),ll.push(t)}else ll=ll.filter(function(r){return r!=t}),ll.length===0&&DI.channel.unsubscribe("winston",WM)}$h.enable=$Ae;function jAe(){DI.channel.unsubscribe("winston",WM),ll=[]}$h.dispose=jAe});var Rte=w((Bet,Pte)=>{"use strict";var HAe=VT(),BAe=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(t,n){HAe.IsInitialized&&(Ste().enable(t&&n,this._client),Tte().enable(t,this._client),Ite().enable(t,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();Pte.exports=BAe});var Dte=w((Vet,Ate)=>{"use strict";var VAe=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var n=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(n[0])>13||parseInt(n[0])===13&&parseInt(n[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var n=this;if(t){if(this._isInitialized=!0,!this._exceptionListenerHandle){var r=function(i,o,s){s===void 0&&(s=new Error(e._FALLBACK_ERROR_MESSAGE));var a={exception:s};a.contextObjects={},a.contextObjects.Error=s,n._client.trackException(a),n._client.flush({isAppCrashing:!0}),i&&o&&process.listeners(o).length===1&&(console.error(s),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=r.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=r.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=r.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();Ate.exports=VAe});var OI=w((Wet,kte)=>{"use strict";var kI=require("os"),No=en(),WAe=function(){function e(t,n,r){n===void 0&&(n=6e4),r===void 0&&(r=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._lastRequests={totalRequestCount:0,totalFailedRequestCount:0,time:0},this._lastDependencies={totalDependencyCount:0,totalFailedDependencyCount:0,time:0},this._lastExceptions={totalExceptionCount:0,time:0},this._isInitialized=!1,this._client=t,this._collectionInterval=n,this._enableLiveMetricsCounters=r}return e.prototype.enable=function(t,n){var r=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=kI.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},typeof process.cpuUsage=="function"&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=n||this._collectionInterval,this._handle=setInterval(function(){return r.trackPerformance()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,n){var r;if(e.isEnabled()){if(typeof t=="string")r=+new Date("1970-01-01T"+t+"Z");else if(typeof t=="number")r=t;else return;e._intervalRequestExecutionTime+=r,n===!1&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,n){var r;if(e.isEnabled()){if(typeof t=="string")r=+new Date("1970-01-01T"+t+"Z");else if(typeof t=="number")r=t;else return;e._intervalDependencyExecutionTime+=r,n===!1&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var t=kI.cpus();if(t&&t.length&&this._lastCpus&&t.length===this._lastCpus.length){for(var n=0,r=0,i=0,o=0,s=0,a=0;t&&a<t.length;a++){var u=t[a],c=this._lastCpus[a],l="% cpu("+a+") ",d=u.model,p=u.speed,f=u.times,m=c.times,h=f.user-m.user||0;n+=h;var g=f.sys-m.sys||0;r+=g;var v=f.nice-m.nice||0;i+=v;var y=f.idle-m.idle||0;o+=y;var x=f.irq-m.irq||0;s+=x}var E=void 0;if(typeof process.cpuUsage=="function"){var b=process.cpuUsage(),C=process.hrtime(),R=b.user-this._lastAppCpuUsage.user+(b.system-this._lastAppCpuUsage.system)||0;if(typeof this._lastHrtime<"u"&&this._lastHrtime.length===2){var T=(C[0]-this._lastHrtime[0])*1e6+(C[1]-this._lastHrtime[1])/1e3||0;E=100*R/(T*t.length)}this._lastAppCpuUsage=b,this._lastHrtime=C}var _=n+r+i+o+s||1;this._client.trackMetric({name:No.PerformanceCounter.PROCESSOR_TIME,value:(_-o)/_*100}),this._client.trackMetric({name:No.PerformanceCounter.PROCESS_TIME,value:E||n/_*100})}this._lastCpus=t},e.prototype._trackMemory=function(){var t=kI.freemem(),n=process.memoryUsage().rss,r=kI.totalmem()-t;this._client.trackMetric({name:No.PerformanceCounter.PRIVATE_BYTES,value:n}),this._client.trackMetric({name:No.PerformanceCounter.AVAILABLE_BYTES,value:t}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:No.QuickPulseCounter.COMMITTED_BYTES,value:r})},e.prototype._trackNetwork=function(){var t=this._lastRequests,n={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},r=n.totalRequestCount-t.totalRequestCount||0,i=n.totalFailedRequestCount-t.totalFailedRequestCount||0,o=n.time-t.time,s=o/1e3,a=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/r||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,o>0){var u=r/s,c=i/s;this._client.trackMetric({name:No.PerformanceCounter.REQUEST_RATE,value:u}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:No.PerformanceCounter.REQUEST_DURATION,value:a}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:No.QuickPulseCounter.REQUEST_FAILURE_RATE,value:c})}this._lastRequests=n},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,n={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},r=n.totalDependencyCount-t.totalDependencyCount||0,i=n.totalFailedDependencyCount-t.totalFailedDependencyCount||0,o=n.time-t.time,s=o/1e3,a=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/r||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,o>0){var u=r/s,c=i/s;this._client.trackMetric({name:No.QuickPulseCounter.DEPENDENCY_RATE,value:u}),this._client.trackMetric({name:No.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:c}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:No.QuickPulseCounter.DEPENDENCY_DURATION,value:a})}this._lastDependencies=n}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,n={totalExceptionCount:e._totalExceptionCount,time:+new Date},r=n.totalExceptionCount-t.totalExceptionCount||0,i=n.time-t.time,o=i/1e3;if(i>0){var s=r/o;this._client.trackMetric({name:No.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=n}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();kte.exports=WAe});var Ote=w(NI=>{"use strict";Object.defineProperty(NI,"__esModule",{value:!0});NI.AggregatedMetricCounter=void 0;var GAe=function(){function e(t){this.dimensions=t,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}return e}();NI.AggregatedMetricCounter=GAe});var Nte=w(LI=>{"use strict";Object.defineProperty(LI,"__esModule",{value:!0});LI.PreaggregatedMetricPropertyNames=void 0;LI.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}});var zM=w((GM,Lte)=>{"use strict";var MI=GM&&GM.__assign||function(){return MI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},MI.apply(this,arguments)},FI=en(),zAe=Ote(),YAe=Nte(),KAe=function(){function e(t,n){n===void 0&&(n=6e4),e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,e._dependencyCountersCollection=[],e._requestCountersCollection=[],e._exceptionCountersCollection=[],e._traceCountersCollection=[],this._client=t,this._collectionInterval=n}return e.prototype.enable=function(t,n){var r=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._collectionInterval=n||this._collectionInterval,this._handle=setInterval(function(){return r.trackPreAggregatedMetrics()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countException=function(t){if(e.isEnabled()){var n=e._getAggregatedCounter(t,this._exceptionCountersCollection);n.totalCount++}},e.countTrace=function(t){if(e.isEnabled()){var n=e._getAggregatedCounter(t,this._traceCountersCollection);n.totalCount++}},e.countRequest=function(t,n){if(e.isEnabled()){var r,i=e._getAggregatedCounter(n,this._requestCountersCollection);if(typeof t=="string")r=+new Date("1970-01-01T"+t+"Z");else if(typeof t=="number")r=t;else return;i.intervalExecutionTime+=r,i.totalCount++}},e.countDependency=function(t,n){if(e.isEnabled()){var r=e._getAggregatedCounter(n,this._dependencyCountersCollection),i;if(typeof t=="string")i=+new Date("1970-01-01T"+t+"Z");else if(typeof t=="number")i=t;else return;r.intervalExecutionTime+=i,r.totalCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},e._getAggregatedCounter=function(t,n){for(var r=!1,i=0;i<n.length;i++){if(t===n[i].dimensions)return n[i];if(Object.keys(t).length===Object.keys(n[i].dimensions).length){for(var o in t)if(t[o]!=n[i].dimensions[o]){r=!0;break}if(!r)return n[i];r=!1}}var s=new zAe.AggregatedMetricCounter(t);return n.push(s),s},e.prototype._trackRequestMetrics=function(){for(var t=0;t<e._requestCountersCollection.length;t++){var n=e._requestCountersCollection[t];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,i=n.time-n.lastTime,o=(n.intervalExecutionTime-n.lastIntervalExecutionTime)/r||0;n.lastIntervalExecutionTime=n.intervalExecutionTime,i>0&&r>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:n.dimensions,value:o,count:r,aggregationInterval:i,metricType:FI.MetricId.REQUESTS_DURATION}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackDependencyMetrics=function(){for(var t=0;t<e._dependencyCountersCollection.length;t++){var n=e._dependencyCountersCollection[t];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,i=n.time-n.lastTime,o=(n.intervalExecutionTime-n.lastIntervalExecutionTime)/r||0;n.lastIntervalExecutionTime=n.intervalExecutionTime,i>0&&r>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:n.dimensions,value:o,count:r,aggregationInterval:i,metricType:FI.MetricId.DEPENDENCIES_DURATION}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackExceptionMetrics=function(){for(var t=0;t<e._exceptionCountersCollection.length;t++){var n=e._exceptionCountersCollection[t];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,i=n.time-n.lastTime;i>0&&r>0&&this._trackPreAggregatedMetric({name:"Exceptions",dimensions:n.dimensions,value:r,count:r,aggregationInterval:i,metricType:FI.MetricId.EXCEPTIONS_COUNT}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackTraceMetrics=function(){for(var t=0;t<e._traceCountersCollection.length;t++){var n=e._traceCountersCollection[t];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,i=n.time-n.lastTime;i>0&&r>0&&this._trackPreAggregatedMetric({name:"Traces",dimensions:n.dimensions,value:r,count:r,aggregationInterval:i,metricType:FI.MetricId.TRACES_COUNT}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},e.prototype._trackPreAggregatedMetric=function(t){var n={};for(var r in t.dimensions)n[YAe.PreaggregatedMetricPropertyNames[r]]=t.dimensions[r];n=MI(MI({},n),{"_MS.MetricId":t.metricType,"_MS.AggregationIntervalMs":String(t.aggregationInterval),"_MS.IsAutocollected":"True"});var i={name:t.name,value:t.value,count:t.count,properties:n,kind:"Aggregation"};this._client.trackMetric(i)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();Lte.exports=KAe});var Mte=w((KM,Fte)=>{"use strict";var XAe=KM&&KM.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lo=require("url"),YM=yr(),QAe=Qn(),JAe=xh(),ZAe=A1(),eDe=pp(),tDe=function(e){XAe(t,e);function t(n,r){var i=e.call(this)||this;return r&&r.method&&n&&(i.method=r.method,i.url=t._getUrlFromRequestOptions(n,r),i.startTime=+new Date),i}return t.prototype.onError=function(n){this._setStatus(void 0,n)},t.prototype.onResponse=function(n){this._setStatus(n.statusCode,void 0),this.correlationId=QAe.getCorrelationContextTarget(n,JAe.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(n,r){var i=this.method.toUpperCase(),o=YM.RemoteDependencyDataConstants.TYPE_HTTP,s="";try{var a=new Lo.URL(this.url);a.search=void 0,a.hash=void 0,i+=" "+a.pathname,s=a.hostname,a.port&&(s+=":"+a.port)}catch{}this.correlationId?(o=YM.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==eDe.correlationIdPrefix&&(s+=" | "+this.correlationId)):o=YM.RemoteDependencyDataConstants.TYPE_HTTP;var u={id:r,name:i,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:o,target:s};if(n&&n.time?u.time=n.time:this.startTime&&(u.time=new Date(this.startTime)),n){for(var c in n)u[c]||(u[c]=n[c]);if(n.properties)for(var c in n.properties)u.properties[c]=n.properties[c]}return u},t._getUrlFromRequestOptions=function(n,r){if(typeof n=="string")if(n.indexOf("http://")===0||n.indexOf("https://")===0)try{n=new Lo.URL(n)}catch{}else try{var i=new Lo.URL("http://"+n);i.port==="443"?n=new Lo.URL("https://"+n):n=new Lo.URL("http://"+n)}catch{}else{if(n&&typeof Lo.URL=="function"&&n instanceof Lo.URL)return Lo.format(n);var o=n;n={},o&&Object.keys(o).forEach(function(u){n[u]=o[u]})}if(n.path&&n.host)try{var s=new Lo.URL(n.path,"http://"+n.host+n.path);n.pathname=s.pathname,n.search=s.search}catch{}if(n.path&&n.hostname&&!n.host)try{var s=new Lo.URL(n.path,"http://"+n.hostname+n.path);n.pathname=s.pathname,n.search=s.search}catch{}if(n.host&&n.port)try{var a=new Lo.URL("http://"+n.host);!a.port&&n.port&&(n.hostname=n.host,delete n.host)}catch{}return n.protocol=n.protocol||r.agent&&r.agent.protocol||r.protocol||void 0,n.hostname=n.hostname||"localhost",Lo.format(n)},t}(ZAe);Fte.exports=tDe});var Ute=w(jh=>{"use strict";var UI=jh&&jh.__assign||function(){return UI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},UI.apply(this,arguments)};Object.defineProperty(jh,"__esModule",{value:!0});jh.parseEventHubSpan=void 0;var XM=(lt(),yi(Zd)),nDe=(Or(),yi(eQ)),rDe=(ws(),yi(vF)),dw=en(),iDe=function(e){var t=0,n=0,r=nDe.hrTimeToMilliseconds(e.startTime);return e.links.forEach(function(i){var o=i.attributes,s=o==null?void 0:o[dw.ENQUEUED_TIME];s&&(t+=1,n+=r-(parseFloat(s.toString())||0))}),Math.max(n/(t||1),0)},oDe=function(e,t){var n,r=e.attributes[dw.AzNamespace],i=(e.attributes[rDe.SemanticAttributes.NET_PEER_NAME]||e.attributes["peer.address"]||"unknown").replace(/\/$/g,""),o=e.attributes[dw.MessageBusDestination]||"unknown";switch(e.kind){case XM.SpanKind.CLIENT:t.dependencyTypeName=r,t.target=i+"/"+o;break;case XM.SpanKind.PRODUCER:t.dependencyTypeName=dw.DependencyTypeName.QueueMessage+" | "+r,t.target=i+"/"+o;break;case XM.SpanKind.CONSUMER:t.source=i+"/"+o,t.measurements=UI(UI({},t.measurements),(n={},n[dw.TIME_SINCE_ENQUEUED]=iDe(e),n));break;default:}};jh.parseEventHubSpan=oDe});var jte=w(qI=>{"use strict";Object.defineProperty(qI,"__esModule",{value:!0});qI.spanToTelemetryContract=void 0;var qte=require("url"),Ss=(lt(),yi(Zd)),Fe=(ws(),yi(vF)),Pc=en(),sDe=Ute(),aDe=Qn();function cDe(e){for(var t={},n=0,r=Object.keys(e.attributes);n<r.length;n++){var i=r[n];i.startsWith("http.")||i.startsWith("rpc.")||i.startsWith("db.")||i.startsWith("peer.")||i.startsWith("net.")||(t[i]=e.attributes[i])}var o=e.links.map(function(s){return{operation_Id:s.context.traceId,id:s.context.spanId}});return o.length>0&&(t["_MS.links"]=aDe.stringify(o)),t}function uDe(e){return e===Fe.DbSystemValues.DB2||e===Fe.DbSystemValues.DERBY||e===Fe.DbSystemValues.MARIADB||e===Fe.DbSystemValues.MSSQL||e===Fe.DbSystemValues.ORACLE||e===Fe.DbSystemValues.SQLITE||e===Fe.DbSystemValues.OTHER_SQL||e===Fe.DbSystemValues.HSQLDB||e===Fe.DbSystemValues.H2}function $te(e){var t=e.attributes[Fe.SemanticAttributes.HTTP_METHOD];if(t){var n=e.attributes[Fe.SemanticAttributes.HTTP_URL];if(n)return String(n);var r=e.attributes[Fe.SemanticAttributes.HTTP_SCHEME],i=e.attributes[Fe.SemanticAttributes.HTTP_TARGET];if(r&&i){var o=e.attributes[Fe.SemanticAttributes.HTTP_HOST];if(o)return r+"://"+o+i;var s=e.attributes[Fe.SemanticAttributes.NET_PEER_PORT];if(s){var a=e.attributes[Fe.SemanticAttributes.NET_PEER_NAME];if(a)return r+"://"+a+":"+s+i;var u=e.attributes[Fe.SemanticAttributes.NET_PEER_IP];if(u)return r+"://"+u+":"+s+i}}}return""}function QM(e){var t=e.attributes[Fe.SemanticAttributes.PEER_SERVICE],n=e.attributes[Fe.SemanticAttributes.HTTP_HOST],r=e.attributes[Fe.SemanticAttributes.HTTP_URL],i=e.attributes[Fe.SemanticAttributes.NET_PEER_NAME],o=e.attributes[Fe.SemanticAttributes.NET_PEER_IP];return t?String(t):n?String(n):r?String(r):i?String(i):o?String(o):""}function lDe(e){var t={name:e.name,success:e.status.code!=Ss.SpanStatusCode.ERROR,resultCode:"0",duration:0,data:"",dependencyTypeName:""};e.kind===Ss.SpanKind.PRODUCER&&(t.dependencyTypeName=Pc.DependencyTypeName.QueueMessage),e.kind===Ss.SpanKind.INTERNAL&&e.parentSpanId&&(t.dependencyTypeName=Pc.DependencyTypeName.InProc);var n=e.attributes[Fe.SemanticAttributes.HTTP_METHOD],r=e.attributes[Fe.SemanticAttributes.DB_SYSTEM],i=e.attributes[Fe.SemanticAttributes.RPC_SYSTEM];if(n){t.dependencyTypeName=Pc.DependencyTypeName.Http;var o=e.attributes[Fe.SemanticAttributes.HTTP_URL];if(o){var s="";try{var a=new qte.URL(String(o));s=a.pathname}catch{}t.name=n+" "+s}t.data=$te(e);var u=e.attributes[Fe.SemanticAttributes.HTTP_STATUS_CODE];u&&(t.resultCode=String(u));var c=QM(e);if(c){try{var l=new RegExp(/(https?)(:\/\/.*)(:\d+)(\S*)/),d=l.exec(c);if(d!=null){var p=d[1],f=d[3];(p=="https"&&f==":443"||p=="http"&&f==":80")&&(c=d[1]+d[2]+d[4])}}catch{}t.target=""+c}}else if(r){String(r)===Fe.DbSystemValues.MYSQL?t.dependencyTypeName="mysql":String(r)===Fe.DbSystemValues.POSTGRESQL?t.dependencyTypeName="postgresql":String(r)===Fe.DbSystemValues.MONGODB?t.dependencyTypeName="mongodb":String(r)===Fe.DbSystemValues.REDIS?t.dependencyTypeName="redis":uDe(String(r))?t.dependencyTypeName="SQL":t.dependencyTypeName=String(r);var m=e.attributes[Fe.SemanticAttributes.DB_STATEMENT],h=e.attributes[Fe.SemanticAttributes.DB_OPERATION];m?t.data=String(m):h&&(t.data=String(h));var c=QM(e),g=e.attributes[Fe.SemanticAttributes.DB_NAME];c?t.target=g?c+"|"+g:""+c:t.target=g?""+g:""+r}else if(i){t.dependencyTypeName=Pc.DependencyTypeName.Grpc;var v=e.attributes[Fe.SemanticAttributes.RPC_GRPC_STATUS_CODE];v&&(t.resultCode=String(v));var c=QM(e);c?t.target=""+c:i&&(t.target=String(i))}return t}function dDe(e){var t={name:e.name,success:e.status.code!=Ss.SpanStatusCode.ERROR,resultCode:"0",duration:0,url:"",source:void 0},n=e.attributes[Fe.SemanticAttributes.HTTP_METHOD],r=e.attributes[Fe.SemanticAttributes.RPC_GRPC_STATUS_CODE];if(n){if(e.kind==Ss.SpanKind.SERVER){var i=e.attributes[Fe.SemanticAttributes.HTTP_ROUTE],o=e.attributes[Fe.SemanticAttributes.HTTP_URL];if(i)t.name=n+" "+i;else if(o)try{var s=new qte.URL(String(o));t.name=n+" "+s.pathname}catch{}}t.url=$te(e);var a=e.attributes[Fe.SemanticAttributes.HTTP_STATUS_CODE];a&&(t.resultCode=String(a))}else r&&(t.resultCode=String(r));return t}function pDe(e){var t;switch(e.kind){case Ss.SpanKind.CLIENT:case Ss.SpanKind.PRODUCER:case Ss.SpanKind.INTERNAL:t=lDe(e);break;case Ss.SpanKind.SERVER:case Ss.SpanKind.CONSUMER:t=dDe(e);break}var n=e.spanContext?e.spanContext():e.context(),r=""+n.spanId,i=Math.round(e.duration[0]*1e3+e.duration[1]/1e6);return t.id=r,t.duration=i,t.properties=cDe(e),e.attributes[Pc.AzNamespace]&&(e.kind===Ss.SpanKind.INTERNAL&&(t.dependencyTypeName=Pc.DependencyTypeName.InProc+" | "+e.attributes[Pc.AzNamespace]),e.attributes[Pc.AzNamespace]===Pc.MicrosoftEventHub&&sDe.parseEventHubSpan(e,t)),t}qI.spanToTelemetryContract=pDe});var Bte=w(pl=>{"use strict";var Hh=pl&&pl.__assign||function(){return Hh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Hh.apply(this,arguments)};Object.defineProperty(pl,"__esModule",{value:!0});pl.AsyncScopeManager=pl.OpenTelemetryScopeManagerWrapper=void 0;var dl=al(),fDe=require("events"),Hte=function(){function e(){}return e.prototype.active=function(){var t=this,n=dl.CorrelationContextManager.getCurrentContext();return Hh(Hh({},n),{getValue:function(r){return t._activeSymbol?r===t._activeSymbol?n:!1:(t._activeSymbol=r,n)},setValue:function(){}})},e.prototype.with=function(t,n){var r=t.parentSpanId,i=t.name,o=e._spanToContext(t,r,i);return dl.CorrelationContextManager.runWithContext(o,n)()},e.prototype.bind=function(t){return typeof t=="function"?dl.CorrelationContextManager.wrapCallback(t):(t instanceof fDe.EventEmitter&&dl.CorrelationContextManager.wrapEmitter(t),t)},e.prototype.enable=function(){return dl.CorrelationContextManager.enable(),this},e.prototype.disable=function(){return dl.CorrelationContextManager.disable(),this},e._spanToContext=function(t,n,r){var i=t.spanContext?t.spanContext():t.context(),o=Hh(Hh({},t.spanContext()),{traceFlags:t.spanContext().traceFlags}),s=n?"|"+i.traceId+"."+n+".":i.traceId,a=dl.CorrelationContextManager.getCurrentContext();a&&(o.traceId=a.operation.id,n||(s=a.operation.parentId));var u=dl.CorrelationContextManager.spanToContextObject(o,s,r);return u},e}();pl.OpenTelemetryScopeManagerWrapper=Hte;pl.AsyncScopeManager=new Hte});var Vte=w(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.enable=fl.subscriber=void 0;var pw=(lt(),yi(Zd)),mDe=en(),JM=Jt(),hDe=jte(),gDe=Bte(),Ep=[],vDe=function(e){try{var t=e.data,n=hDe.spanToTelemetryContract(t);gDe.AsyncScopeManager.with(t,function(){Ep.forEach(function(r){t.kind===pw.SpanKind.SERVER||t.kind===pw.SpanKind.CONSUMER?r.trackRequest(n):(t.kind===pw.SpanKind.CLIENT||t.kind===pw.SpanKind.INTERNAL||t.kind===pw.SpanKind.PRODUCER)&&r.trackDependency(n)})})}catch{}};fl.subscriber=vDe;function yDe(e,t){if(e){var n=Ep.find(function(r){return r==t});if(n)return;Ep.length===0&&JM.channel.subscribe("azure-coretracing",fl.subscriber,JM.trueFilter,function(r,i){var o=t.getStatsbeat();o&&o.addInstrumentation(mDe.StatsbeatInstrumentation.AZURE_CORE_TRACING)}),Ep.push(t)}else Ep=Ep.filter(function(r){return r!=t}),Ep.length===0&&JM.channel.unsubscribe("azure-coretracing",fl.subscriber)}fl.enable=yDe});var Wte=w(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.enable=ml.subscriber=void 0;var xDe=en(),ZM=Jt(),bp=[],wDe=function(e){e.data.event.commandName!=="ismaster"&&bp.forEach(function(t){var n=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:n,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",time:e.data.startedData.time,dependencyTypeName:"mongodb"})})};ml.subscriber=wDe;function EDe(e,t){if(e){var n=bp.find(function(r){return r==t});if(n)return;bp.length===0&&ZM.channel.subscribe("mongodb",ml.subscriber,ZM.trueFilter,function(r,i){var o=t.getStatsbeat();o&&o.addInstrumentation(xDe.StatsbeatInstrumentation.MONGODB)}),bp.push(t)}else bp=bp.filter(function(r){return r!=t}),bp.length===0&&ZM.channel.unsubscribe("mongodb",ml.subscriber)}ml.enable=EDe});var Gte=w(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.enable=hl.subscriber=void 0;var bDe=en(),eU=Jt(),_p=[],_De=function(e){_p.forEach(function(t){var n=e.data.query||{},r=n.sql||"Unknown query",i=!e.data.err,o=n._connection||{},s=o.config||{},a=s.socketPath?s.socketPath:(s.host||"localhost")+":"+s.port;t.trackDependency({target:a,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",time:e.data.time,dependencyTypeName:"mysql"})})};hl.subscriber=_De;function CDe(e,t){if(e){var n=_p.find(function(r){return r==t});if(n)return;_p.length===0&&eU.channel.subscribe("mysql",hl.subscriber,eU.trueFilter,function(r,i){var o=t.getStatsbeat();o&&o.addInstrumentation(bDe.StatsbeatInstrumentation.MYSQL)}),_p.push(t)}else _p=_p.filter(function(r){return r!=t}),_p.length===0&&eU.channel.unsubscribe("mysql",hl.subscriber)}hl.enable=CDe});var zte=w(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.enable=gl.subscriber=void 0;var SDe=en(),tU=Jt(),Cp=[],TDe=function(e){Cp.forEach(function(t){e.data.commandObj.command!=="info"&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",time:e.data.time,dependencyTypeName:"redis"})})};gl.subscriber=TDe;function IDe(e,t){if(e){var n=Cp.find(function(r){return r==t});if(n)return;Cp.length===0&&tU.channel.subscribe("redis",gl.subscriber,tU.trueFilter,function(r,i){var o=t.getStatsbeat();o&&o.addInstrumentation(SDe.StatsbeatInstrumentation.REDIS)}),Cp.push(t)}else Cp=Cp.filter(function(r){return r!=t}),Cp.length===0&&tU.channel.unsubscribe("redis",gl.subscriber)}gl.enable=IDe});var Yte=w(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.enable=vl.subscriber=void 0;var PDe=en(),nU=Jt(),Sp=[],RDe=function(e){Sp.forEach(function(t){var n=e.data.query,r=n.preparable&&n.preparable.text||n.plan||n.text||"unknown query",i=!e.data.error,o=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:o,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",time:e.data.time,dependencyTypeName:"postgres"})})};vl.subscriber=RDe;function ADe(e,t){if(e){var n=Sp.find(function(r){return r==t});if(n)return;Sp.length===0&&nU.channel.subscribe("postgres",vl.subscriber,nU.trueFilter,function(r,i){var o=t.getStatsbeat();o&&o.addInstrumentation(PDe.StatsbeatInstrumentation.POSTGRES)}),Sp.push(t)}else Sp=Sp.filter(function(r){return r!=t}),Sp.length===0&&nU.channel.unsubscribe("postgres",vl.subscriber)}vl.enable=ADe});var Wh=w((iU,Kte)=>{"use strict";var $I=iU&&iU.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},Bh=require("http"),Vh=require("https"),jI=Vt(),rU=Qn(),yl=xh(),DDe=Mte(),fw=al(),HI=WT(),kDe=VT(),mw=pp(),ODe=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(t){this._isEnabled=t,this._isEnabled&&!this._isInitialized&&this._initialize(),kDe.IsInitialized&&(Vte().enable(t,this._client),Wte().enable(t,this._client),Gte().enable(t,this._client),zte().enable(t,this._client),Yte().enable(t,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var n=Bh.request,r=Vh.request,i=function(o,s){try{var a=!s[e.disableCollectionRequestOption]&&!o[e.alreadyAutoCollectedFlag],u=null;if(s.headers&&(u=s.headers["User-Agent"]||s.headers["user-agent"],u&&u.toString().indexOf("azsdk-js")!==-1&&(a=!1)),o&&s&&a&&(fw.CorrelationContextManager.wrapEmitter(o),t._isEnabled))if(o[e.alreadyAutoCollectedFlag]=!0,fw.CorrelationContextManager.getCurrentContext())e.trackRequest(t._client,{options:s,request:o});else{var c=null;if(mw.w3cEnabled){var l=new HI;c=l.traceId}else{var d=mw.generateRequestId(null);c=mw.getRootId(d)}var p=fw.CorrelationContextManager.generateContextObject(c);fw.CorrelationContextManager.runWithContext(p,function(){e.trackRequest(t._client,{options:s,request:o})})}}catch(f){jI.warn("Failed to generate dependency telemetry.",rU.dumpObj(f))}};Bh.request=function(o){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];var u=n.call.apply(n,$I([Bh,o],s));return i(u,o),u},Vh.request=function(o){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];var u=r.call.apply(r,$I([Vh,o],s));return i(u,o),u},Bh.get=function(o){for(var s,a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];var c=(s=Bh.request).call.apply(s,$I([Bh,o],a));return c.end(),c},Vh.get=function(o){for(var s,a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];var c=(s=Vh.request).call.apply(s,$I([Vh,o],a));return c.end(),c}},e.trackRequest=function(t,n){if(!n.options||!n.request||!t){jI.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!n.options,!n.request,!t);return}var r=new DDe(n.options,n.request),i=fw.CorrelationContextManager.getCurrentContext(),o,s;if(i&&i.operation&&i.operation.traceparent&&HI.isValidTraceId(i.operation.traceparent.traceId))i.operation.traceparent.updateSpanId(),o=i.operation.traceparent.getBackCompatRequestId();else if(mw.w3cEnabled){var a=new HI;s=a.toString(),o=a.getBackCompatRequestId()}else o=i&&i.operation&&i.operation.parentId+e.requestNumber+++".";if(rU.canIncludeCorrelationHeader(t,r.getUrl())&&n.request.getHeader&&n.request.setHeader&&t.config&&t.config.correlationId){var u=n.request.getHeader(yl.requestContextHeader);try{rU.safeIncludeCorrelationHeader(t,n.request,u)}catch(d){jI.warn("Request-Context header could not be set. Correlation of requests may be lost",d)}if(i&&i.operation)try{if(n.request.setHeader(yl.requestIdHeader,o),t.config.ignoreLegacyHeaders||(n.request.setHeader(yl.parentIdHeader,i.operation.id),n.request.setHeader(yl.rootIdHeader,o)),s||i.operation.traceparent)n.request.setHeader(yl.traceparentHeader,s||i.operation.traceparent.toString());else if(mw.w3cEnabled){var a=new HI().toString();n.request.setHeader(yl.traceparentHeader,a)}if(i.operation.tracestate){var c=i.operation.tracestate.toString();c&&n.request.setHeader(yl.traceStateHeader,c)}var l=i.customProperties.serializeToHeader();l&&n.request.setHeader(yl.correlationContextHeader,l)}catch(d){jI.warn("Correlation headers could not be set. Correlation of requests may be lost.",d)}}n.request.on&&(n.request.on("response",function(d){if(!n.isProcessed){n.isProcessed=!0,r.onResponse(d);var p=r.getDependencyTelemetry(n,o);p.contextObjects=p.contextObjects||{},p.contextObjects["http.RequestOptions"]=n.options,p.contextObjects["http.ClientRequest"]=n.request,p.contextObjects["http.ClientResponse"]=d,t.trackDependency(p)}}),n.request.on("error",function(d){if(!n.isProcessed){n.isProcessed=!0,r.onError(d);var p=r.getDependencyTelemetry(n,o);p.contextObjects=p.contextObjects||{},p.contextObjects["http.RequestOptions"]=n.options,p.contextObjects["http.ClientRequest"]=n.request,p.contextObjects.Error=d,t.trackDependency(p)}}),n.request.on("abort",function(){if(!n.isProcessed){n.isProcessed=!0,r.onError(new Error("The request has been aborted and the network socket has closed."));var d=r.getDependencyTelemetry(n,o);d.contextObjects=d.contextObjects||{},d.contextObjects["http.RequestOptions"]=n.options,d.contextObjects["http.ClientRequest"]=n.request,t.trackDependency(d)}}))},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();Kte.exports=ODe});var oU=w(BI=>{"use strict";Object.defineProperty(BI,"__esModule",{value:!0});BI.AzureVirtualMachine=void 0;var Xte=Vt(),NDe=Qn(),LDe=Wh(),FDe="http://169.254.169.254/metadata/instance/compute",MDe="api-version=2017-12-01",UDe="format=json",qDe="UNREACH",$De=function(){function e(){}return e.getAzureComputeMetadata=function(t,n){var r,i=this,o={},s=FDe+"?"+MDe+"&"+UDe,a=(r={method:"GET"},r[LDe.disableCollectionRequestOption]=!0,r.headers={Metadata:"True"},r),u=NDe.makeRequest(t,s,a,function(c){if(c.statusCode===200){o.isVM=!0;var l="";c.on("data",function(d){l+=d}),c.on("end",function(){try{var d=JSON.parse(l);o.id=d.vmId||"",o.subscriptionId=d.subscriptionId||"",o.osType=d.osType||""}catch(p){Xte.info(e.TAG,p)}n(o)})}else n(o)},!1,!1);u&&(setTimeout(function(){i._requestTimedOut=!0,u.abort()},e.HTTP_TIMEOUT),u.on("error",function(c){i._requestTimedOut&&c&&(c.name="telemetry timeout",c.message="telemetry request timed out"),c&&c.message&&c.message.indexOf(qDe)>-1?o.isVM=!1:Xte.info(e.TAG,c),n(o)}),u.end())},e.HTTP_TIMEOUT=2500,e.TAG="AzureVirtualMachine",e}();BI.AzureVirtualMachine=$De});var Gh=w((rtt,Qte)=>{"use strict";var Rc=require("os"),jDe=require("fs"),HDe=require("path"),BDe=yr(),VDe=en(),WDe=Vt(),GDe=function(){function e(t){this.keys=new BDe.ContextTagKeys,this.tags={},this._loadApplicationContext(t),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(t){if(t=t||HDe.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";try{var n=JSON.parse(jDe.readFileSync(t,"utf8"));n&&typeof n.version=="string"&&(e.appVersion[t]=n.version)}catch(r){WDe.info("unable to read app version: ",r)}}this.tags[this.keys.applicationVersion]=e.appVersion[t]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=Rc&&Rc.hostname(),this.tags[this.keys.deviceOSVersion]=Rc&&Rc.type()+" "+Rc.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=Rc&&Rc.arch(),this.tags["ai.device.osPlatform"]=Rc&&Rc.platform()},e.prototype._loadInternalContext=function(){e.sdkVersion=VDe.APPLICATION_INSIGHTS_SDK_VERSION,this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();Qte.exports=GDe});var ene=w((itt,Zte)=>{"use strict";var zDe=require("os"),YDe=oU(),Jte=en(),KDe=Gh(),XDe=function(){function e(t){this._collectionInterval=9e5,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t}return e.prototype.enable=function(t){var n=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._handle=setInterval(function(){return n.trackHeartBeat(n._client.config,function(){})},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackHeartBeat=function(t,n){var r=this,i=!1,o={},s=KDe.sdkVersion;o.sdk=s,o.osType=zDe.type(),process.env.WEBSITE_SITE_NAME?(o.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",o.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",o.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?o.azfunction_appId=process.env.WEBSITE_HOSTNAME:t&&this._isVM===void 0&&(i=!0,YDe.AzureVirtualMachine.getAzureComputeMetadata(t,function(a){r._isVM=a.isVM,r._isVM&&(o.azInst_vmId=a.id,o.azInst_subscriptionId=a.subscriptionId,o.azInst_osType=a.osType),r._client.trackMetric({name:Jte.HeartBeatMetricName,value:0,properties:o}),n()})),i||(this._client.trackMetric({name:Jte.HeartBeatMetricName,value:0,properties:o}),n())},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();Zte.exports=XDe});var tne=w(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.isContentTypeHeaderHtml=Se.insertSnippetByIndex=Se.getContentEncodingFromHeaders=Se.isSupportedContentEncoding=Se.findBufferEncodingType=Se.isBufferType=Se.getBrotliDecompressSync=Se.getBrotliDecompressAsync=Se.getBrotliCompressSync=Se.getBrotliCompressAsync=Se.inflateAsync=Se.deflateAsync=Se.gunzipAsync=Se.gzipAsync=Se.isBrotliSupperted=Se.bufferEncodingTypes=Se.contentEncodingMethod=void 0;var WI=require("zlib"),zh=require("util"),VI;(function(e){e.GZIP="gzip",e.DEFLATE="deflate",e.BR="br"})(VI=Se.contentEncodingMethod||(Se.contentEncodingMethod={}));Se.bufferEncodingTypes=["utf8","utf16le","latin1","base64","hex","ascii","binary","ucs2"];var QDe=function(){var e=process.versions.node.split(".")[0];return parseInt(e)>=10};Se.isBrotliSupperted=QDe;Se.gzipAsync=zh.promisify(WI.gzip);Se.gunzipAsync=zh.promisify(WI.gunzip);Se.deflateAsync=zh.promisify(WI.deflate);Se.inflateAsync=zh.promisify(WI.inflate);var JDe=function(e){var t=Se.isBrotliSupperted();return t&&typeof e.brotliCompress=="function"?zh.promisify(e.brotliCompress):null};Se.getBrotliCompressAsync=JDe;var ZDe=function(e){var t=Se.isBrotliSupperted();return t&&typeof e.brotliCompressSync=="function"?e.brotliCompressSync:null};Se.getBrotliCompressSync=ZDe;var eke=function(e){var t=Se.isBrotliSupperted();return t&&typeof e.brotliDecompress=="function"?zh.promisify(e.brotliDecompress):null};Se.getBrotliDecompressAsync=eke;var tke=function(e){var t=Se.isBrotliSupperted();return t&&typeof e.brotliDecompressSync=="function"?e.brotliDecompressSync:null};Se.getBrotliDecompressSync=tke;var nke=function(e,t){var n=t||"utf8",r=!1;if(Buffer.isEncoding(n)){var i=Buffer.from(e.toString(n),n);r=i.toJSON().data.toString()===e.toJSON().data.toString()}return r};Se.isBufferType=nke;var rke=function(e){var t=null;for(var n in Se.bufferEncodingTypes){var r=Se.bufferEncodingTypes[n];if(Buffer.isEncoding(r)&&Se.isBufferType(e,r)){t=r;break}}return t};Se.findBufferEncodingType=rke;var ike=function(e){var t=null;switch(e){case"gzip":t=VI.GZIP;break;case"br":t=VI.BR;break;case"deflate":t=VI.DEFLATE;break;default:}return t};Se.isSupportedContentEncoding=ike;var oke=function(e){var t=[],n=e.getHeader("Content-Encoding");if(!n)return null;if(typeof n=="string"){var r=Se.isSupportedContentEncoding(n);r&&t.push(r)}return t};Se.getContentEncodingFromHeaders=oke;var ske=function(e,t,n){if(e<0)return null;var r=null,i=t.substring(0,e),o=t.substring(e);return r=i+'<script type="text/javascript">'+n+"</script>"+o,r};Se.insertSnippetByIndex=ske;var ake=function(e){var t=!1,n=e.getHeader("Content-Type");return n&&(typeof n=="string"?t=n.indexOf("html")>=0:t=n.toString().indexOf("html")>=0),t};Se.isContentTypeHeaderHtml=ake});var nne=w($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.getResourceProvider=$n.getOsPrefix=$n.isFunctionApp=$n.isWebApp=$n.isLinux=$n.isWindows=void 0;var cke=function(){return process.platform==="win32"};$n.isWindows=cke;var uke=function(){return process.platform==="linux"};$n.isLinux=uke;var lke=function(){return!!process.env.WEBSITE_SITE_NAME};$n.isWebApp=lke;var dke=function(){return!!process.env.FUNCTIONS_WORKER_RUNTIME};$n.isFunctionApp=dke;var pke=function(){return $n.isWindows()?"w":$n.isLinux()?"l":"u"};$n.getOsPrefix=pke;var fke=function(){return $n.isWebApp()?"a":$n.isFunctionApp()?"f":"u"};$n.getResourceProvider=fke});var sU=w((att,ine)=>{"use strict";var rne=en(),mke=function(){function e(){}return e.parse=function(t){if(!t)return{};var n=t.split(e._FIELDS_SEPARATOR),r=n.reduce(function(o,s){var a=s.split(e._FIELD_KEY_VALUE_SEPARATOR);if(a.length===2){var u=a[0].toLowerCase(),c=a[1];o[u]=c}return o},{});if(Object.keys(r).length>0){if(r.endpointsuffix){var i=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+i+"dc."+r.endpointsuffix,r.liveendpoint=r.liveendpoint||"https://"+i+"live."+r.endpointsuffix}r.ingestionendpoint=r.ingestionendpoint||rne.DEFAULT_BREEZE_ENDPOINT,r.liveendpoint=r.liveendpoint||rne.DEFAULT_LIVEMETRICS_ENDPOINT}return r},e.isIkeyValid=function(t){if(!t||t=="")return!1;var n="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",r=new RegExp(n);return r.test(t)},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();ine.exports=mke});var one={};As(one,{webSnippet:()=>hke});var hke,sne=S(()=>{hke=`!function(T,l,y){var S=T.location,k="script",D="instrumentationKey",C="ingestionendpoint",I="disableExceptionTracking",E="ai.device.",b="toLowerCase",w="crossOrigin",N="POST",e="appInsightsSDK",t=y.name||"appInsights";(y.name||T[e])&&(T[e]=t);var n=T[t]||function(d){var g=!1,f=!1,m={initialize:!0,queue:[],sv:"5",version:2,config:d};function v(e,t){var n={},a="Browser";return n[E+"id"]=a[b](),n[E+"type"]=a,n["ai.operation.name"]=S&&S.pathname||"_unknown_",n["ai.internal.sdkVersion"]="javascript:snippet_"+(m.sv||m.version),{time:function(){var e=new Date;function t(e){var t=""+e;return 1===t.length&&(t="0"+t),t}return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+((e.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}(),iKey:e,name:"Microsoft.ApplicationInsights."+e.replace(/-/g,"")+"."+t,sampleRate:100,tags:n,data:{baseData:{ver:2}}}}var h=d.url||y.src;if(h){function a(e){var t,n,a,i,r,o,s,c,u,p,l;g=!0,m.queue=[],f||(f=!0,t=h,s=function(){var e={},t=d.connectionString;if(t)for(var n=t.split(";"),a=0;a<n.length;a++){var i=n[a].split("=");2===i.length&&(e[i[0][b]()]=i[1])}if(!e[C]){var r=e.endpointsuffix,o=r?e.location:null;e[C]="https://"+(o?o+".":"")+"dc."+(r||"services.visualstudio.com")}return e}(),c=s[D]||d[D]||"",u=s[C],p=u?u+"/v2/track":d.endpointUrl,(l=[]).push((n="SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)",a=t,i=p,(o=(r=v(c,"Exception")).data).baseType="ExceptionData",o.baseData.exceptions=[{typeName:"SDKLoadFailed",message:n.replace(/\\./g,"-"),hasFullStack:!1,stack:n+"\\nSnippet failed to load ["+a+"] -- Telemetry is disabled\\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\\nHost: "+(S&&S.pathname||"_unknown_")+"\\nEndpoint: "+i,parsedStack:[]}],r)),l.push(function(e,t,n,a){var i=v(c,"Message"),r=i.data;r.baseType="MessageData";var o=r.baseData;return o.message='AI (Internal): 99 message:"'+("SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) ("+n+")").replace(/\\"/g,"")+'"',o.properties={endpoint:a},i}(0,0,t,p)),function(e,t){if(JSON){var n=T.fetch;if(n&&!y.useXhr)n(t,{method:N,body:JSON.stringify(e),mode:"cors"});else if(XMLHttpRequest){var a=new XMLHttpRequest;a.open(N,t),a.setRequestHeader("Content-type","application/json"),a.send(JSON.stringify(e))}}}(l,p))}function i(e,t){f||setTimeout(function(){!t&&m.core||a()},500)}var e=function(){var n=l.createElement(k);n.src=h;var e=y[w];return!e&&""!==e||"undefined"==n[w]||(n[w]=e),n.onload=i,n.onerror=a,n.onreadystatechange=function(e,t){"loaded"!==n.readyState&&"complete"!==n.readyState||i(0,t)},n}();y.ld<0?l.getElementsByTagName("head")[0].appendChild(e):setTimeout(function(){l.getElementsByTagName(k)[0].parentNode.appendChild(e)},y.ld||0)}try{m.cookie=l.cookie}catch(p){}function t(e){for(;e.length;)!function(t){m[t]=function(){var e=arguments;g||m.queue.push(function(){m[t].apply(m,e)})}}(e.pop())}var n="track",r="TrackPage",o="TrackEvent";t([n+"Event",n+"PageView",n+"Exception",n+"Trace",n+"DependencyData",n+"Metric",n+"PageViewPerformance","start"+r,"stop"+r,"start"+o,"stop"+o,"addTelemetryInitializer","setAuthenticatedUserContext","clearAuthenticatedUserContext","flush"]),m.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4};var s=(d.extensionConfig||{}).ApplicationInsightsAnalytics||{};if(!0!==d[I]&&!0!==s[I]){var c="onerror";t(["_"+c]);var u=T[c];T[c]=function(e,t,n,a,i){var r=u&&u(e,t,n,a,i);return!0!==r&&m["_"+c]({message:e,url:t,lineNumber:n,columnNumber:a,error:i}),r},d.autoExceptionInstrumented=!0}return m}(y.cfg);function a(){y.onInit&&y.onInit(n)}(T[t]=n).queue&&0===n.queue.length?(n.queue.push(a),n.trackPageView({})):a()}(window,document,{\r
src: "https://js.monitor.azure.com/scripts/b/ai.2.min.js", // The SDK URL Source\r
// name: "appInsights", // Global SDK Instance name defaults to "appInsights" when not supplied\r
// ld: 0, // Defines the load delay (in ms) before attempting to load the sdk. -1 = block page load and add to head. (default) = 0ms load after timeout,\r
// useXhr: 1, // Use XHR instead of fetch to report failures (if available),\r
// crossOrigin: "anonymous", // When supplied this will add the provided value as the cross origin attribute on the script tag\r
// onInit: null, // Once the application insights instance has loaded and initialized this callback function will be called with 1 argument -- the sdk instance (DO NOT ADD anything to the sdk.queue -- As they won't get called)\r
cfg: { // Application Insights Configuration\r
    instrumentationKey: "INSTRUMENTATION_KEY"\r
}});`});var pne=w((ctt,dne)=>{"use strict";var ane=require("http"),cne=require("https"),Yh=require("zlib"),ua=Vt(),Fo=tne(),une=nne(),hw=en(),lne=sU(),gke=(sne(),yi(one)),vke=function(){function e(t){var n;if(this._isIkeyValid=!0,e.INSTANCE)throw new Error("Web snippet injection should be configured from the applicationInsights object");e.INSTANCE=this,e._aiUrl=hw.WEB_INSTRUMENTATION_DEFAULT_SOURCE,e._aiDeprecatedUrl=hw.WEB_INSTRUMENTATION_DEPRECATED_SOURCE;var r=this._getWebSnippetIkey((n=t.config)===null||n===void 0?void 0:n.webInstrumentationConnectionString);this._webInstrumentationIkey=r||t.config.instrumentationKey,this._clientWebInstrumentationConfig=t.config.webInstrumentationConfig,this._clientWebInstrumentationSrc=t.config.webInstrumentationSrc,this._statsbeat=t.getStatsbeat()}return e.prototype.enable=function(t,n){this._isEnabled=t,this._webInstrumentationIkey=this._getWebSnippetIkey(n)||this._webInstrumentationIkey,e._snippet=this._getWebInstrumentationReplacedStr(),this._isEnabled&&!this._isInitialized&&this._isIkeyValid?(this._statsbeat&&this._statsbeat.addFeature(hw.StatsbeatFeature.WEB_SNIPPET),this._initialize()):this._isEnabled||this._statsbeat&&this._statsbeat.removeFeature(hw.StatsbeatFeature.WEB_SNIPPET)},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._getWebSnippetIkey=function(t){var n=null;try{var r=lne.parse(t),i=r.instrumentationkey||"";lne.isIkeyValid(i)?(this._isIkeyValid=!0,n=i):(this._isIkeyValid=!1,ua.info("Invalid web Instrumentation connection string, web Instrumentation is not enabled."))}catch(o){ua.info("get web snippet ikey error: "+o)}return n},e.prototype._getWebInstrumentationReplacedStr=function(){var t=this._getClientWebInstrumentationConfigStr(this._clientWebInstrumentationConfig),n=une.getOsPrefix(),r=une.getResourceProvider(),i=this._webInstrumentationIkey+`",\r
`+t+` disableIkeyDeprecationMessage: true,\r
 sdkExtension: "`+r+n+"d_n_",o=gke.webSnippet.replace("INSTRUMENTATION_KEY",i);return this._clientWebInstrumentationSrc?o.replace(hw.WEB_INSTRUMENTATION_DEFAULT_SOURCE+".2.min.js",this._clientWebInstrumentationSrc):o},e.prototype._getClientWebInstrumentationConfigStr=function(t){var n="";try{t!=null&&t.length>0&&t.forEach(function(r){var i=r.name;if(i!==void 0){var o=r.value,s="";switch(typeof o){case"function":break;case"object":break;case"string":s=" "+i+': "'+o+`",\r
`,n+=s;break;default:s=" "+i+": "+o+`,\r
`,n+=s;break}}})}catch{this._isEnabled=!1,ua.info("Parse client web instrumentation error. Web Instrumentation is disabled")}return n},e.prototype._initialize=function(){this._isInitialized=!0;var t=ane.createServer,n=cne.createServer,r=this._isEnabled;ane.createServer=function(i){var o=i;return o&&(i=function(s,a){var u=a.write,c=s.method=="GET";a.write=function(p,f,m){try{if(r&&c){var h=Fo.getContentEncodingFromHeaders(a),g=void 0;if(typeof f=="string"&&(g=f),h==null)e.INSTANCE.ValidateInjection(a,p)&&(arguments[0]=e.INSTANCE.InjectWebSnippet(a,p,void 0,g));else if(h.length){var v=h[0];arguments[0]=e.INSTANCE.InjectWebSnippet(a,p,v)}}}catch(y){ua.warn("Inject snippet error: "+y)}return u.apply(a,arguments)};var l=a.end;return a.end=function(p,f,m){if(r&&c)try{if(r&&c){var h=Fo.getContentEncodingFromHeaders(a),g=void 0;if(typeof f=="string"&&(g=f),h==null)e.INSTANCE.ValidateInjection(a,p)&&(arguments[0]=e.INSTANCE.InjectWebSnippet(a,p,void 0,g));else if(h.length){var v=h[0];arguments[0]=e.INSTANCE.InjectWebSnippet(a,p,v)}}}catch(y){ua.warn("Inject snipet error: "+y)}return l.apply(a,arguments)},o(s,a)}),t(i)},cne.createServer=function(i,o){var s=o;if(s)return o=function(a,u){var c=a.method=="GET",l=u.write,d=u.end;return u.write=function(f,m,h){try{if(r&&c){var g=Fo.getContentEncodingFromHeaders(u),v=void 0;if(typeof m=="string"&&(v=m),g==null)e.INSTANCE.ValidateInjection(u,f)&&(arguments[0]=this.InjectWebSnippet(u,f,void 0,v));else if(g.length){var y=g[0];arguments[0]=e.INSTANCE.InjectWebSnippet(u,f,y)}}}catch(x){ua.warn("Inject snippet error: "+x)}return l.apply(u,arguments)},u.end=function(f,m,h){try{if(r&&c){var g=Fo.getContentEncodingFromHeaders(u),v=void 0;if(typeof m=="string"&&(v=m),g==null)e.INSTANCE.ValidateInjection(u,f)&&(arguments[0]=e.INSTANCE.InjectWebSnippet(u,f,void 0,v));else if(g.length){var y=g[0];arguments[0]=e.INSTANCE.InjectWebSnippet(u,f,y)}}}catch(x){ua.warn("Inject snippet error: "+x)}return d.apply(u,arguments)},s(a,u)},n(i,o)}},e.prototype.ValidateInjection=function(t,n){try{if(!t||!n||t.statusCode!=200)return!1;var r=Fo.isContentTypeHeaderHtml(t);if(!r)return!1;var i=n.slice().toString();if(i.indexOf("<head>")>=0&&i.indexOf("</head>")>=0&&i.indexOf(e._aiUrl)<0&&i.indexOf(e._aiDeprecatedUrl)<0)return!0}catch(o){ua.info("validate injections error: "+o)}return!1},e.prototype.InjectWebSnippet=function(t,n,r,i){try{var o=!!r;if(o)t.removeHeader("Content-Length"),n=this._getInjectedCompressBuffer(t,n,r),t.setHeader("Content-Length",n.length);else{var s=n.toString(),a=s.indexOf("</head>");if(a<0)return n;var u=Fo.insertSnippetByIndex(a,s,e._snippet);if(typeof n=="string")t.removeHeader("Content-Length"),n=u,t.setHeader("Content-Length",Buffer.byteLength(n));else if(Buffer.isBuffer(n)){var c=i||"utf8",l=Fo.isBufferType(n,c);if(l){t.removeHeader("Content-Length");var d=Buffer.from(u).toString(c);n=Buffer.from(d,c),t.setHeader("Content-Length",n.length)}}}}catch(p){ua.warn("Failed to inject web snippet and change content-lenght headers. Exception:"+p)}return n},e.prototype._getInjectedCompressBuffer=function(t,n,r){try{switch(r){case Fo.contentEncodingMethod.GZIP:var i=Yh.gunzipSync(n);if(this.ValidateInjection(t,i)){var o=this.InjectWebSnippet(t,i);n=Yh.gzipSync(o)}break;case Fo.contentEncodingMethod.DEFLATE:var s=Yh.inflateSync(n);if(this.ValidateInjection(t,s)){var a=this.InjectWebSnippet(t,s);n=Yh.deflateSync(a)}break;case Fo.contentEncodingMethod.BR:var u=Fo.getBrotliDecompressSync(Yh),c=Fo.getBrotliCompressSync(Yh);if(u&&c){var l=u(n);if(this.ValidateInjection(t,l)){var d=this.InjectWebSnippet(t,l);n=c(d)}break}}}catch(p){ua.info("get web injection compress buffer error: "+p)}return n},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();dne.exports=vke});var cU=w((utt,vne)=>{"use strict";var fne=require("http"),mne=require("https"),hne=Vt(),gne=Qn(),yke=xh(),aU=O1(),Ac=al(),xke=OI(),wke=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(t){this._isEnabled=t,(this._isAutoCorrelating||this._isEnabled||xke.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(t,n){t&&!this._isAutoCorrelating?Ac.CorrelationContextManager.enable(n):!t&&this._isAutoCorrelating&&Ac.CorrelationContextManager.disable(),this._isAutoCorrelating=t},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(t){if(this._isAutoCorrelating)return Ac.CorrelationContextManager.generateContextObject(t.getOperationId(this._client.context.tags),t.getRequestId(),t.getOperationName(this._client.context.tags),t.getCorrelationContextHeader(),t.getTraceparent(),t.getTracestate())},e.prototype._registerRequest=function(t,n,r){var i=this,o=new aU(t),s=this._generateCorrelationContext(o);Ac.CorrelationContextManager.runWithContext(s,function(){i._isEnabled&&(t[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(i._client,{request:t,response:n},o)),typeof r=="function"&&r(t,n)})},e.prototype._initialize=function(){if(this._isInitialized=!0,!e.HANDLER_READY){e.HANDLER_READY=!0;var t=function(o){if(o){if(typeof o!="function")throw new Error("onRequest handler must be a function");return function(s,a){var u;Ac.CorrelationContextManager.wrapEmitter(s),Ac.CorrelationContextManager.wrapEmitter(a);var c=s&&!s[e.alreadyAutoCollectedFlag];s&&c?(u=e.INSTANCE)===null||u===void 0||u._registerRequest(s,a,o):typeof o=="function"&&o(s,a)}}},n=function(o){var s=o.addListener.bind(o);o.addListener=function(a,u){switch(a){case"request":case"checkContinue":return s(a,t(u));default:return s(a,u)}},o.on=o.addListener},r=fne.createServer;fne.createServer=function(o,s){if(s&&typeof s=="function"){var a=r(o,t(s));return n(a),a}else{var a=r(t(o));return n(a),a}};var i=mne.createServer;mne.createServer=function(o,s){var a=i(o,t(s));return n(a),a}}},e.trackRequestSync=function(t,n){if(!n.request||!n.response||!t){hne.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!n.request,!n.response,!t);return}n.isProcessed=!1,e.addResponseCorrelationIdHeader(t,n.response);var r=Ac.CorrelationContextManager.getCurrentContext(),i=new aU(n.request,r&&r.operation.parentId);r&&(r.operation.id=i.getOperationId(t.context.tags)||r.operation.id,r.operation.name=i.getOperationName(t.context.tags)||r.operation.name,r.operation.parentId=i.getRequestId()||r.operation.parentId,r.customProperties.addHeaderData(i.getCorrelationContextHeader())),e.endRequest(t,i,n,n.duration,n.error)},e.trackRequest=function(t,n,r){if(!n.request||!n.response||!t){hne.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!n.request,!n.response,!t);return}n.isProcessed=!1;var i=Ac.CorrelationContextManager.getCurrentContext(),o=r||new aU(n.request,i&&i.operation.parentId);gne.canIncludeCorrelationHeader(t,o.getUrl())&&e.addResponseCorrelationIdHeader(t,n.response),i&&!r&&(i.operation.id=o.getOperationId(t.context.tags)||i.operation.id,i.operation.name=o.getOperationName(t.context.tags)||i.operation.name,i.operation.parentId=o.getOperationParentId(t.context.tags)||i.operation.parentId,i.customProperties.addHeaderData(o.getCorrelationContextHeader())),n.response.once&&n.response.once("finish",function(){e.endRequest(t,o,n,null,null)}),n.request.on&&n.request.on("error",function(s){e.endRequest(t,o,n,null,s)}),n.request.on&&n.request.on("aborted",function(){var s="The request has been aborted and the network socket has closed.";e.endRequest(t,o,n,null,s)})},e.addResponseCorrelationIdHeader=function(t,n){if(t.config&&t.config.correlationId&&n.getHeader&&n.setHeader&&!n.headersSent){var r=n.getHeader(yke.requestContextHeader);gne.safeIncludeCorrelationHeader(t,n,r)}},e.endRequest=function(t,n,r,i,o){if(!r.isProcessed){r.isProcessed=!0,o?n.onError(o,i):n.onResponse(r.response,i);var s=n.getRequestTelemetry(r);if(s.tagOverrides=n.getRequestTags(t.context.tags),r.tagOverrides)for(var a in r.tagOverrides)s.tagOverrides[a]=r.tagOverrides[a];var u=n.getLegacyRootId();u&&(s.properties.ai_legacyRootId=u),s.contextObjects=s.contextObjects||{},s.contextObjects["http.ServerRequest"]=r.request,s.contextObjects["http.ServerResponse"]=r.response,t.trackRequest(s)}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,Ac.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.HANDLER_READY=!1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();vne.exports=wke});var wne=w((lU,xne)=>{"use strict";var Mo=lU&&lU.__assign||function(){return Mo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Mo.apply(this,arguments)},uU=require("os"),Tp=yr(),yne=en(),Eke=Qn(),bke=Vt(),_ke=Eke.w3cTraceId(),Cke=function(){function e(){}return e.createQuickPulseEnvelope=function(t,n,r,i){var o=uU&&typeof uU.hostname=="function"&&uU.hostname()||"Unknown",s=i.tags&&i.keys&&i.keys.cloudRoleInstance&&i.tags[i.keys.cloudRoleInstance]||o,a=i.tags&&i.keys&&i.keys.cloudRole&&i.tags[i.keys.cloudRole]||null,u={Documents:n.length>0?n:null,InstrumentationKey:r.instrumentationKey||"",Metrics:t.length>0?t:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:i.tags[i.keys.internalSdkVersion],StreamId:_ke,MachineName:o,Instance:s,RoleName:a};return u},e.createQuickPulseMetric=function(t){var n;return n={Name:t.name,Value:t.value,Weight:t.count||1},n},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case Tp.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case Tp.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case Tp.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case Tp.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case Tp.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var n=e.createQuickPulseDocument(t),r=t.data.baseData.name,i=Mo(Mo({},n),{Name:r});return i},e.createQuickPulseTraceDocument=function(t){var n=e.createQuickPulseDocument(t),r=t.data.baseData.severityLevel||0,i=Mo(Mo({},n),{Message:t.data.baseData.message,SeverityLevel:Tp.SeverityLevel[r]});return i},e.createQuickPulseExceptionDocument=function(t){var n=e.createQuickPulseDocument(t),r=t.data.baseData.exceptions,i="",o="",s="";r&&r.length>0&&(r[0].parsedStack&&r[0].parsedStack.length>0?r[0].parsedStack.forEach(function(u){i+=u.assembly+`
`}):r[0].stack&&r[0].stack.length>0&&(i=r[0].stack),o=r[0].message,s=r[0].typeName);var a=Mo(Mo({},n),{Exception:i,ExceptionMessage:o,ExceptionType:s});return a},e.createQuickPulseRequestDocument=function(t){var n=e.createQuickPulseDocument(t),r=t.data.baseData,i=Mo(Mo({},n),{Name:r.name,Success:r.success,Duration:r.duration,ResponseCode:r.responseCode,OperationName:r.name});return i},e.createQuickPulseDependencyDocument=function(t){var n=e.createQuickPulseDocument(t),r=t.data.baseData,i=Mo(Mo({},n),{Name:r.name,Target:r.target,Success:r.success,Duration:r.duration,ResultCode:r.resultCode,CommandName:r.data,OperationName:n.OperationId,DependencyTypeName:r.type});return i},e.createQuickPulseDocument=function(t){var n,r,i,o;t.data.baseType?(r=yne.TelemetryTypeStringToQuickPulseType[t.data.baseType],n=yne.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):bke.warn("Document type invalid; not sending live metric document",t.data.baseType),i=t.tags[e.keys.operationId],o=e.aggregateProperties(t);var s={DocumentType:n,__type:r,OperationId:i,Version:"1.0",Properties:o};return s},e.aggregateProperties=function(t){var n=[],r=t.data.baseData.measurements||{};for(var i in r)if(r.hasOwnProperty(i)){var o=r[i],s={key:i,value:o};n.push(s)}var a=t.data.baseData.properties||{};for(var i in a)if(a.hasOwnProperty(i)){var o=a[i],s={key:i,value:o};n.push(s)}return n},e.keys=new Tp.ContextTagKeys,e}();xne.exports=Cke});var bne=w((ltt,Ene)=>{"use strict";var Ske=function(){return(Date.now()+621355968e5)*1e4};Ene.exports={getTransmissionTime:Ske}});var Tne=w((gw,Sne)=>{"use strict";var _ne=gw&&gw.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},Cne=gw&&gw.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Tke=require("https"),Ike=Wh(),dU=Vt(),Pke=bne(),pU=Qn(),Rke=require("url"),Uo={method:"POST",time:"x-ms-qps-transmission-time",pollingIntervalHint:"x-ms-qps-service-polling-interval-hint",endpointRedirect:"x-ms-qps-service-endpoint-redirect-v2",instanceName:"x-ms-qps-instance-name",streamId:"x-ms-qps-stream-id",machineName:"x-ms-qps-machine-name",roleName:"x-ms-qps-role-name",streamid:"x-ms-qps-stream-id",invariantVersion:"x-ms-qps-invariant-version",subscribed:"x-ms-qps-subscribed"},Ake=function(){function e(t,n){this._config=t,this._consecutiveErrors=0,this._getAuthorizationHandler=n}return e.prototype.ping=function(t,n,r){var i=[{name:Uo.streamId,value:t.StreamId},{name:Uo.machineName,value:t.MachineName},{name:Uo.roleName,value:t.RoleName},{name:Uo.instanceName,value:t.Instance},{name:Uo.invariantVersion,value:t.InvariantVersion.toString()}];this._submitData(t,n,r,"ping",i)},e.prototype.post=function(t,n,r){return _ne(this,void 0,void 0,function(){return Cne(this,function(i){switch(i.label){case 0:return[4,this._submitData([t],n,r,"post")];case 1:return i.sent(),[2]}})})},e.prototype._submitData=function(t,n,r,i,o){return _ne(this,void 0,void 0,function(){var s,a,u,c,l,d,p,f,m=this;return Cne(this,function(h){switch(h.label){case 0:if(s=pU.stringify(t),a=(p={},p[Ike.disableCollectionRequestOption]=!0,p.host=n&&n.length>0?n:this._config.quickPulseHost,p.method=Uo.method,p.path="/QuickPulseService.svc/"+i+"?ikey="+this._config.instrumentationKey,p.headers=(f={Expect:"100-continue"},f[Uo.time]=Pke.getTransmissionTime(),f["Content-Type"]="application/json",f["Content-Length"]=Buffer.byteLength(s),f),p),o&&o.length>0&&o.forEach(function(g){return a.headers[g.name]=g.value}),i!=="post")return[3,4];if(u=this._getAuthorizationHandler?this._getAuthorizationHandler(this._config):null,!u)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,u.addAuthorizationHeader(a)];case 2:return h.sent(),[3,4];case 3:return c=h.sent(),l="Failed to get AAD bearer token for the Application. Error:",dU.info(e.TAG,l,c),[2];case 4:return this._config.httpsAgent?a.agent=this._config.httpsAgent:a.agent=pU.tlsRestrictedAgent,d=Tke.request(a,function(g){if(g.statusCode==200){var v=g.headers[Uo.subscribed]==="true",y=null;try{y=g.headers[Uo.endpointRedirect]?new Rke.URL(g.headers[Uo.endpointRedirect].toString()).host:null}catch(E){m._onError("Failed to parse redirect header from QuickPulse: "+pU.dumpObj(E))}var x=g.headers[Uo.pollingIntervalHint]?parseInt(g.headers[Uo.pollingIntervalHint].toString()):null;m._consecutiveErrors=0,r(v,g,y,x)}else m._onError("StatusCode:"+g.statusCode+" StatusMessage:"+g.statusMessage),r()}),d.on("error",function(g){m._onError(g),r()}),d.write(s),d.end(),[2]}})})},e.prototype._onError=function(t){this._consecutiveErrors++;var n="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN===0?(n="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",dU.warn(e.TAG,n,t)):dU.info(e.TAG,n,t)},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();Sne.exports=Ake});var Dne=w((vw,Ane)=>{"use strict";var Ine=vw&&vw.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},Pne=vw&&vw.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Rne=Vt(),fU=wne(),Dke=Tne(),kke=en(),Oke=Gh(),Nke=function(){function e(t,n,r){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=t,this.context=n||new Oke,this._sender=new Dke(this.config,r),this._isEnabled=!1}return e.prototype.addCollector=function(t){this._collectors.push(t)},e.prototype.trackMetric=function(t){this._addMetric(t)},e.prototype.addDocument=function(t){if(this._isCollectingData){var n=fU.telemetryEnvelopeToQuickPulseDocument(t);n&&this._documents.push(n)}},e.prototype.enable=function(t){t&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!t&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(t){this._collectors.forEach(function(n){n.enable(t)})},e.prototype._addMetric=function(t){var n=t.value,r=t.count||1,i=kke.PerformanceToQuickPulseCounter[t.name];i&&(this._metrics[i]?(this._metrics[i].Value=(this._metrics[i].Value*this._metrics[i].Weight+n*r)/(this._metrics[i].Weight+r),this._metrics[i].Weight+=r):(this._metrics[i]=fU.createQuickPulseMetric(t),this._metrics[i].Name=i,this._metrics[i].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){return Ine(this,void 0,void 0,function(){var t,n,r,i,o=this;return Pne(this,function(s){switch(s.label){case 0:return t=Object.keys(this._metrics).map(function(a){return o._metrics[a]}),n=fU.createQuickPulseEnvelope(t,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(n)]:[3,2];case 1:return s.sent(),[3,3];case 2:this._ping(n),s.label=3;case 3:return r=this._pollingIntervalHint>0?this._pollingIntervalHint:e.PING_INTERVAL,i=this._isCollectingData?e.POST_INTERVAL:r,this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,i=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(i=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),i),this._handle.unref(),[2]}})})},e.prototype._ping=function(t){this._sender.ping(t,this._redirectedHost,this._quickPulseDone.bind(this))},e.prototype._post=function(t){return Ine(this,void 0,void 0,function(){return Pne(this,function(n){switch(n.label){case 0:return[4,this._sender.post(t,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return n.sent(),[2]}})})},e.prototype._quickPulseDone=function(t,n,r,i){t!=null?(this._isCollectingData!==t&&(Rne.info("Live Metrics sending data",t),this.enableCollectors(t)),this._isCollectingData=t,r&&r.length>0&&(this._redirectedHost=r,Rne.info("Redirecting endpoint to: ",r)),i&&i>0&&(this._pollingIntervalHint=i),n&&n.statusCode<300&&n.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();Ane.exports=Nke});var kne=w(Kh=>{"use strict";var GI=Kh&&Kh.__assign||function(){return GI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},GI.apply(this,arguments)};Object.defineProperty(Kh,"__esModule",{value:!0});Kh.AutoCollectNativePerformance=void 0;var yw=Gh(),Lke=Vt(),Fke=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.prototype.enable=function(t,n,r){var i=this;if(n===void 0&&(n={}),r===void 0&&(r=6e4),e._metricsAvailable==null&&t&&!this._isInitialized)try{var o=require("applicationinsights-native-metrics");e._emitter=new o,e._metricsAvailable=!0,Lke.info("Native metrics module successfully loaded!")}catch{e._metricsAvailable=!1;return}this._isEnabled=t,this._disabledMetrics=n,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,r),this._handle||(this._handle=setInterval(function(){return i._trackNativeMetrics()},r),this._handle.unref())):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(t,n){var r=n.disableAllExtendedMetrics,i=n.extendedMetricDisablers;if(r)return{isEnabled:!1,disabledMetrics:{}};if(i){var o=i.split(","),s={};if(o.length>0)for(var a=0,u=o;a<u.length;a++){var c=u[a];s[c]=!0}return typeof t=="object"?{isEnabled:!0,disabledMetrics:GI(GI({},t),s)}:{isEnabled:t,disabledMetrics:s}}return typeof t=="boolean"?{isEnabled:t,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:t}},e.prototype._trackNativeMetrics=function(){var t=!0;typeof this._isEnabled!="object"&&(t=this._isEnabled),t&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){var t;if(!this._disabledMetrics.gc){var n=e._emitter.getGCData();for(var r in n){var i=n[r].metrics,o=r+" Garbage Collection Duration",s=Math.sqrt(i.sumSquares/i.count-Math.pow(i.total/i.count,2))||0;this._client.trackMetric({name:o,value:i.total,count:i.count,max:i.max,min:i.min,stdDev:s,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+yw.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){var t;if(!this._disabledMetrics.loop){var n=e._emitter.getLoopData(),r=n.loopUsage;if(r.count!=0){var i="Event Loop CPU Time",o=Math.sqrt(r.sumSquares/r.count-Math.pow(r.total/r.count,2))||0;this._client.trackMetric({name:i,value:r.total,count:r.count,min:r.min,max:r.max,stdDev:o,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+yw.sdkVersion,t)})}}},e.prototype._trackHeapUsage=function(){var t,n,r;if(!this._disabledMetrics.heap){var i=process.memoryUsage(),o=i.heapUsed,s=i.heapTotal,a=i.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:o,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+yw.sdkVersion,t)}),this._client.trackMetric({name:"Memory Total (Heap)",value:s,count:1,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+yw.sdkVersion,n)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-s,count:1,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+yw.sdkVersion,r)})}},e}();Kh.AutoCollectNativePerformance=Fke});var Lne=w(xl=>{"use strict";var One=xl&&xl.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},Nne=xl&&xl.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(xl,"__esModule",{value:!0});xl.AzureFunctionsHook=void 0;var zI=Vt(),mU=al(),Mke=function(){function e(t){this._client=t,this._autoGenerateIncomingRequests=!1;try{this._functionsCoreModule=require("@azure/functions-core");var n=this._functionsCoreModule.getProgrammingModel();n.name==="@azure/functions"&&n.version.startsWith("3.")?(this._addPreInvocationHook(),this._addPostInvocationHook()):zI.warn('AzureFunctionsHook does not support model "'+n.name+'" version "'+n.version+'"')}catch{zI.info("AzureFunctionsHook failed to load, not running in Azure Functions")}}return e.prototype.enable=function(t){this._autoGenerateIncomingRequests=t},e.prototype.dispose=function(){this.enable(!1),this._removeInvocationHooks(),this._functionsCoreModule=void 0},e.prototype._addPreInvocationHook=function(){var t=this;this._preInvocationHook||(this._preInvocationHook=this._functionsCoreModule.registerHook("preInvocation",function(n){return One(t,void 0,void 0,function(){var r,i;return Nne(this,function(o){r=n.invocationContext;try{i=mU.CorrelationContextManager.startOperation(r),i.customProperties.setProperty("InvocationId",r.invocationId),r.traceContext.attributes&&(i.customProperties.setProperty("ProcessId",r.traceContext.attributes.ProcessId),i.customProperties.setProperty("LogLevel",r.traceContext.attributes.LogLevel),i.customProperties.setProperty("Category",r.traceContext.attributes.Category),i.customProperties.setProperty("HostInstanceId",r.traceContext.attributes.HostInstanceId),i.customProperties.setProperty("AzFuncLiveLogsSessionId",r.traceContext.attributes["#AzFuncLiveLogsSessionId"])),n.functionCallback=mU.CorrelationContextManager.wrapCallback(n.functionCallback,i),this._isHttpTrigger(r)&&this._autoGenerateIncomingRequests&&(n.hookData.appInsightsExtractedContext=i,n.hookData.appInsightsStartTime=Date.now())}catch(s){return zI.warn("Failed to propagate context in Azure Functions",s),[2]}return[2]})})}))},e.prototype._addPostInvocationHook=function(){var t=this;this._postInvocationHook||(this._postInvocationHook=this._functionsCoreModule.registerHook("postInvocation",function(n){return One(t,void 0,void 0,function(){var r,i,o,s,a,u=this;return Nne(this,function(c){try{this._autoGenerateIncomingRequests&&(r=n.invocationContext,this._isHttpTrigger(r)&&(i=n.inputs[0],i&&(o=n.hookData.appInsightsStartTime||Date.now(),s=this._getAzureFunctionResponse(n,r),a=n.hookData.appInsightsExtractedContext,a?mU.CorrelationContextManager.runWithContext(a,function(){u._createIncomingRequestTelemetry(i,s,o,a.operation.parentId)}):this._createIncomingRequestTelemetry(i,s,o,null))))}catch(l){zI.warn("Error creating automatic incoming request in Azure Functions",l)}return[2]})})}))},e.prototype._createIncomingRequestTelemetry=function(t,n,r,i){for(var o=200,s=0,a=[n.statusCode,n.status];s<a.length;s++){var u=a[s];if(typeof u=="number"&&Number.isInteger(u)){o=u;break}else if(typeof u=="string"){var c=parseInt(u);if(!isNaN(c)){o=c;break}}}this._client.trackRequest({name:t.method+" "+t.url,resultCode:o,success:0<o&&o<400,url:t.url,time:new Date(r),duration:Date.now()-r,id:i}),this._client.flush()},e.prototype._getAzureFunctionResponse=function(t,n){var r=n.bindingDefinitions.find(function(i){return i.direction==="out"&&i.type.toLowerCase()==="http"});return(r==null?void 0:r.name)==="$return"?t.result:r&&n.bindings&&n.bindings[r.name]!==void 0?n.bindings[r.name]:n.res},e.prototype._isHttpTrigger=function(t){return t.bindingDefinitions.find(function(n){var r;return((r=n.type)===null||r===void 0?void 0:r.toLowerCase())==="httptrigger"})},e.prototype._removeInvocationHooks=function(){this._preInvocationHook&&(this._preInvocationHook.dispose(),this._preInvocationHook=void 0),this._postInvocationHook&&(this._postInvocationHook.dispose(),this._postInvocationHook=void 0)},e}();xl.AzureFunctionsHook=Mke});var hU=w((mtt,Une)=>{"use strict";var Uke=pp(),Fne=sU(),ftt=Vt(),Mne=en(),qke=require("url"),$ke=VS(),jke=function(){function e(t){this._endpointBase=Mne.DEFAULT_BREEZE_ENDPOINT,this._mergeConfig();var n=this._connectionString,r=Fne.parse(t),i=Fne.parse(n),o=!r.instrumentationkey&&Object.keys(r).length>0?null:t,s=this._instrumentationKey;this.instrumentationKey=r.instrumentationkey||o||i.instrumentationkey||s;var a=""+(this.endpointUrl||r.ingestionendpoint||i.ingestionendpoint||this._endpointBase);a.endsWith("/")&&(a=a.slice(0,-1)),this.endpointUrl=a+"/v2.1/track",this.maxBatchSize=this.maxBatchSize||250,this.maxBatchIntervalMs=this.maxBatchIntervalMs||15e3,this.disableAppInsights=this.disableAppInsights||!1,this.samplingPercentage=this.samplingPercentage||100,this.correlationIdRetryIntervalMs=this.correlationIdRetryIntervalMs||30*1e3,this.enableWebInstrumentation=this.enableWebInstrumentation||this.enableAutoWebSnippetInjection||!1,this.webInstrumentationConfig=this.webInstrumentationConfig||null,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation,this.correlationHeaderExcludedDomains=this.correlationHeaderExcludedDomains||["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.ignoreLegacyHeaders=this.ignoreLegacyHeaders||!1,this.profileQueryEndpoint=r.ingestionendpoint||i.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this._endpointBase,this.quickPulseHost=this.quickPulseHost||r.liveendpoint||i.liveendpoint||process.env[e.ENV_quickPulseHost]||Mne.DEFAULT_LIVEMETRICS_HOST,this.webInstrumentationConnectionString=this.webInstrumentationConnectionString||this._webInstrumentationConnectionString||"",this.webSnippetConnectionString=this.webInstrumentationConnectionString,this.quickPulseHost.match(/^https?:\/\//)&&(this.quickPulseHost=new qke.URL(this.quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(t){this._profileQueryEndpoint=t,this.correlationId=Uke.correlationIdPrefix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instrumentationKey",{get:function(){return this._instrumentationKey},set:function(t){e._validateInstrumentationKey(t),this._instrumentationKey=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"webSnippetConnectionString",{get:function(){return this._webInstrumentationConnectionString},set:function(t){this._webInstrumentationConnectionString=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"webInstrumentationConnectionString",{get:function(){return this._webInstrumentationConnectionString},set:function(t){this._webInstrumentationConnectionString=t},enumerable:!1,configurable:!0}),e.prototype._mergeConfig=function(){var t=$ke.JsonConfig.getInstance();this._connectionString=t.connectionString,this._instrumentationKey=t.instrumentationKey,this.correlationHeaderExcludedDomains=t.correlationHeaderExcludedDomains,this.correlationIdRetryIntervalMs=t.correlationIdRetryIntervalMs,this.disableAllExtendedMetrics=t.disableAllExtendedMetrics,this.disableAppInsights=t.disableAppInsights,this.disableStatsbeat=t.disableStatsbeat,this.distributedTracingMode=t.distributedTracingMode,this.enableAutoCollectConsole=t.enableAutoCollectConsole,this.enableAutoCollectDependencies=t.enableAutoCollectDependencies,this.enableAutoCollectIncomingRequestAzureFunctions=t.enableAutoCollectIncomingRequestAzureFunctions,this.enableAutoCollectExceptions=t.enableAutoCollectExceptions,this.enableAutoCollectExtendedMetrics=t.enableAutoCollectExtendedMetrics,this.enableAutoCollectExternalLoggers=t.enableAutoCollectExternalLoggers,this.enableAutoCollectHeartbeat=t.enableAutoCollectHeartbeat,this.enableAutoCollectPerformance=t.enableAutoCollectPerformance,this.enableAutoCollectPreAggregatedMetrics=t.enableAutoCollectPreAggregatedMetrics,this.enableAutoCollectRequests=t.enableAutoCollectRequests,this.enableAutoDependencyCorrelation=t.enableAutoDependencyCorrelation,this.enableInternalDebugLogging=t.enableInternalDebugLogging,this.enableInternalWarningLogging=t.enableInternalWarningLogging,this.enableResendInterval=t.enableResendInterval,this.enableMaxBytesOnDisk=t.enableMaxBytesOnDisk,this.enableSendLiveMetrics=t.enableSendLiveMetrics,this.enableUseAsyncHooks=t.enableUseAsyncHooks,this.enableUseDiskRetryCaching=t.enableUseDiskRetryCaching,this.endpointUrl=t.endpointUrl,this.extendedMetricDisablers=t.extendedMetricDisablers,this.ignoreLegacyHeaders=t.ignoreLegacyHeaders,this.maxBatchIntervalMs=t.maxBatchIntervalMs,this.maxBatchSize=t.maxBatchSize,this.proxyHttpUrl=t.proxyHttpUrl,this.proxyHttpsUrl=t.proxyHttpsUrl,this.quickPulseHost=t.quickPulseHost,this.samplingPercentage=t.samplingPercentage,this.enableWebInstrumentation=t.enableWebInstrumentation,this._webInstrumentationConnectionString=t.webInstrumentationConnectionString,this.webInstrumentationConfig=t.webInstrumentationConfig,this.webInstrumentationSrc=t.webInstrumentationSrc},e._validateInstrumentationKey=function(t){var n="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",r=new RegExp(n);return r.test(t)},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e}();Une.exports=jke});function YI(){return Xh.create()}var qne,Xh,gU=S(()=>{qne=new Set(["Deserialize","Serialize","Retry","Sign"]),Xh=class{constructor(t){var n;this._policies=[],this._policies=(n=t==null?void 0:t.slice(0))!==null&&n!==void 0?n:[],this._orderedPolicies=void 0}addPolicy(t,n={}){if(n.phase&&n.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(n.phase&&!qne.has(n.phase))throw new Error(`Invalid phase name: ${n.phase}`);if(n.afterPhase&&!qne.has(n.afterPhase))throw new Error(`Invalid afterPhase name: ${n.afterPhase}`);this._policies.push({policy:t,options:n}),this._orderedPolicies=void 0}removePolicy(t){let n=[];return this._policies=this._policies.filter(r=>t.name&&r.policy.name===t.name||t.phase&&r.options.phase===t.phase?(n.push(r.policy),!1):!0),this._orderedPolicies=void 0,n}sendRequest(t,n){return this.getOrderedPolicies().reduceRight((o,s)=>a=>s.sendRequest(a,o),o=>t.sendRequest(o))(n)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new Xh(this._policies)}static create(){return new Xh}orderPolicies(){let t=[],n=new Map;function r(m){return{name:m,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}let i=r("Serialize"),o=r("None"),s=r("Deserialize"),a=r("Retry"),u=r("Sign"),c=[i,o,s,a,u];function l(m){return m==="Retry"?a:m==="Serialize"?i:m==="Deserialize"?s:m==="Sign"?u:o}for(let m of this._policies){let h=m.policy,g=m.options,v=h.name;if(n.has(v))throw new Error("Duplicate policy names not allowed in pipeline");let y={policy:h,dependsOn:new Set,dependants:new Set};g.afterPhase&&(y.afterPhase=l(g.afterPhase),y.afterPhase.hasAfterPolicies=!0),n.set(v,y),l(g.phase).policies.add(y)}for(let m of this._policies){let{policy:h,options:g}=m,v=h.name,y=n.get(v);if(!y)throw new Error(`Missing node for policy ${v}`);if(g.afterPolicies)for(let x of g.afterPolicies){let E=n.get(x);E&&(y.dependsOn.add(E),E.dependants.add(y))}if(g.beforePolicies)for(let x of g.beforePolicies){let E=n.get(x);E&&(E.dependsOn.add(y),y.dependants.add(E))}}function d(m){m.hasRun=!0;for(let h of m.policies)if(!(h.afterPhase&&(!h.afterPhase.hasRun||h.afterPhase.policies.size))&&h.dependsOn.size===0){t.push(h.policy);for(let g of h.dependants)g.dependsOn.delete(h);n.delete(h.policy.name),m.policies.delete(h)}}function p(){for(let m of c){if(d(m),m.policies.size>0&&m!==o){o.hasRun||d(o);return}m.hasAfterPolicies&&d(o)}}let f=0;for(;n.size>0;){f++;let m=t.length;if(p(),t.length<=m&&f>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return t}}});function Hne(e,...t){process.stderr.write(`${$ne.default.format(e,...t)}${jne.EOL}`)}var $ne,jne,Bne=S(()=>{$ne=B(require("util")),jne=require("os")});function xU(e){Wne=e,vU=[],yU=[];let t=/\*/g,n=e.split(",").map(r=>r.trim().replace(t,".*?"));for(let r of n)r.startsWith("-")?yU.push(new RegExp(`^${r.substr(1)}$`)):vU.push(new RegExp(`^${r}$`));for(let r of KI)r.enabled=wU(r.namespace)}function wU(e){if(e.endsWith("*"))return!0;for(let t of yU)if(t.test(e))return!1;for(let t of vU)if(t.test(e))return!0;return!1}function Hke(){let e=Wne||"";return xU(""),e}function zne(e){let t=Object.assign(n,{enabled:wU(e),destroy:Bke,log:Gne.log,namespace:e,extend:Vke});function n(...r){t.enabled&&(r.length>0&&(r[0]=`${e} ${r[0]}`),t.log(...r))}return KI.push(t),t}function Bke(){let e=KI.indexOf(this);return e>=0?(KI.splice(e,1),!0):!1}function Vke(e){let t=zne(`${this.namespace}:${e}`);return t.log=this.log,t}var Vne,Wne,vU,yU,KI,Gne,Qh,Yne=S(()=>{Bne();Vne=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,vU=[],yU=[],KI=[];Vne&&xU(Vne);Gne=Object.assign(e=>zne(e),{enable:xU,enabled:wU,disable:Hke,log:Hne});Qh=Gne});function Wke(e){if(e&&!Zne(e))throw new Error(`Unknown log level '${e}'. Acceptable values: ${_U.join(",")}`);EU=e;let t=[];for(let n of Xne)Jne(n)&&t.push(n.namespace);Qh.enable(t.join(","))}function JI(e){let t=bU.extend(e);return Qne(bU,t),{error:QI(t,"error"),warning:QI(t,"warning"),info:QI(t,"info"),verbose:QI(t,"verbose")}}function Qne(e,t){t.log=(...n)=>{e.log(...n)}}function QI(e,t){let n=Object.assign(e.extend(t),{level:t});if(Qne(e,n),Jne(n)){let r=Qh.disable();Qh.enable(r+","+n.namespace)}return Xne.add(n),n}function Jne(e){return!!(EU&&Kne[e.level]<=Kne[EU])}function Zne(e){return _U.includes(e)}var Xne,XI,EU,bU,_U,Kne,CU=S(()=>{Yne();Xne=new Set,XI=typeof process<"u"&&process.env&&process.env.AZURE_LOG_LEVEL||void 0,bU=Qh("azure");bU.log=(...e)=>{Qh.log(...e)};_U=["verbose","info","warning","error"];XI&&(Zne(XI)?Wke(XI):console.error(`AZURE_LOG_LEVEL set to unknown log level '${XI}'; logging is not enabled. Acceptable values: ${_U.join(", ")}.`));Kne={verbose:400,info:300,warning:200,error:100}});var tr,Jh=S(()=>{CU();tr=JI("core-rest-pipeline")});var SU,ZI,ere=S(()=>{ZI=typeof process<"u"&&!!process.version&&!!(!((SU=process.versions)===null||SU===void 0)&&SU.node)});function TU(e){if(e.aborted)return;e.onabort&&e.onabort.call(e);let t=Zh.get(e);t&&t.slice().forEach(n=>{n.call(e,{type:"abort"})}),eP.set(e,!0)}var Zh,eP,Ip,tre=S(()=>{Zh=new WeakMap,eP=new WeakMap,Ip=class{constructor(){this.onabort=null,Zh.set(this,[]),eP.set(this,!1)}get aborted(){if(!eP.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");return eP.get(this)}static get none(){return new Ip}addEventListener(t,n){if(!Zh.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");Zh.get(this).push(n)}removeEventListener(t,n){if(!Zh.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");let r=Zh.get(this),i=r.indexOf(n);i>-1&&r.splice(i,1)}dispatchEvent(t){throw new Error("This is a stub dispatchEvent implementation that should not be used.  It only exists for type-checking purposes.")}}});var la,xw,nre=S(()=>{tre();la=class extends Error{constructor(t){super(t),this.name="AbortError"}},xw=class{constructor(t){if(this._signal=new Ip,!!t){Array.isArray(t)||(t=arguments);for(let n of t)n.aborted?this.abort():n.addEventListener("abort",()=>{this.abort()})}}get signal(){return this._signal}abort(){TU(this._signal)}static timeout(t){let n=new Ip,r=setTimeout(TU,t,n);return typeof r.unref=="function"&&r.unref(),n}}});var tP=S(()=>{nre()});function IU(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}var rre=S(()=>{});function ww(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}var PU=S(()=>{});function eg(e){if(ww(e)){let t=typeof e.name=="string",n=typeof e.message=="string";return t&&n}return!1}function tg(e){if(eg(e))return e.message;{let t;try{typeof e=="object"&&e?t=JSON.stringify(e):t=String(e)}catch{t="[unable to stringify input]"}return`Unknown error ${t}`}}var ire=S(()=>{PU()});var ng=S(()=>{ere();rre();PU();ire()});var RU,Gke,zke,rg,AU=S(()=>{ng();RU="REDACTED",Gke=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],zke=["api-version"],rg=class{constructor({additionalAllowedHeaderNames:t=[],additionalAllowedQueryParameters:n=[]}={}){t=Gke.concat(t),n=zke.concat(n),this.allowedHeaderNames=new Set(t.map(r=>r.toLowerCase())),this.allowedQueryParameters=new Set(n.map(r=>r.toLowerCase()))}sanitize(t){let n=new Set;return JSON.stringify(t,(r,i)=>{if(i instanceof Error)return Object.assign(Object.assign({},i),{name:i.name,message:i.message});if(r==="headers")return this.sanitizeHeaders(i);if(r==="url")return this.sanitizeUrl(i);if(r==="query")return this.sanitizeQuery(i);if(r==="body")return;if(r==="response")return;if(r==="operationSpec")return;if(Array.isArray(i)||ww(i)){if(n.has(i))return"[Circular]";n.add(i)}return i},2)}sanitizeHeaders(t){let n={};for(let r of Object.keys(t))this.allowedHeaderNames.has(r.toLowerCase())?n[r]=t[r]:n[r]=RU;return n}sanitizeQuery(t){if(typeof t!="object"||t===null)return t;let n={};for(let r of Object.keys(t))this.allowedQueryParameters.has(r.toLowerCase())?n[r]=t[r]:n[r]=RU;return n}sanitizeUrl(t){if(typeof t!="string"||t===null)return t;let n=new URL(t);if(!n.search)return t;for(let[r]of n.searchParams)this.allowedQueryParameters.has(r.toLowerCase())||n.searchParams.set(r,RU);return n.toString()}}});function nP(e={}){var t;let n=(t=e.logger)!==null&&t!==void 0?t:tr.info,r=new rg({additionalAllowedHeaderNames:e.additionalAllowedHeaderNames,additionalAllowedQueryParameters:e.additionalAllowedQueryParameters});return{name:DU,async sendRequest(i,o){if(!n.enabled)return o(i);n(`Request: ${r.sanitize(i)}`);let s=await o(i);return n(`Response status code: ${s.status}`),n(`Headers: ${r.sanitize(s.headers)}`),s}}}var DU,kU=S(()=>{Jh();AU();DU="logPolicy"});function rP(e={}){let{maxRetries:t=20}=e;return{name:OU,async sendRequest(n,r){let i=await r(n);return sre(r,i,t)}}}async function sre(e,t,n,r=0){let{request:i,status:o,headers:s}=t,a=s.get("location");if(a&&(o===300||o===301&&ore.includes(i.method)||o===302&&ore.includes(i.method)||o===303&&i.method==="POST"||o===307)&&r<n){let u=new URL(a,i.url);i.url=u.toString(),o===303&&(i.method="GET",i.headers.delete("Content-Length"),delete i.body),i.headers.delete("Authorization");let c=await e(i);return sre(e,c,n,r+1)}return t}var OU,ore,NU=S(()=>{OU="redirectPolicy",ore=["GET","HEAD"]});function are(){return"User-Agent"}function cre(e){e.set("Node",process.version),e.set("OS",`(${ig.arch()}-${ig.type()}-${ig.release()})`)}var ig,ure=S(()=>{ig=B(require("os"))});var iP,LU=S(()=>{iP="1.10.1"});function Yke(e){let t=[];for(let[n,r]of e){let i=r?`${n}/${r}`:n;t.push(i)}return t.join(" ")}function lre(){return are()}function oP(e){let t=new Map;t.set("core-rest-pipeline",iP),cre(t);let n=Yke(t);return e?`${e} ${n}`:n}var FU=S(()=>{ure();LU()});function sP(e={}){let t=oP(e.userAgentPrefix);return{name:MU,async sendRequest(n,r){return n.headers.has(dre)||n.headers.set(dre,t),r(n)}}}var dre,MU,UU=S(()=>{FU();dre=lre(),MU="userAgentPolicy"});function aP(){return{name:qU,async sendRequest(e,t){return e.method!=="HEAD"&&e.headers.set("Accept-Encoding","gzip,deflate"),t(e)}}}var qU,$U=S(()=>{qU="decompressResponsePolicy"});function cP(e,t,n){return new Promise((r,i)=>{let o,s,a=()=>i(new la(n!=null&&n.abortErrorMsg?n==null?void 0:n.abortErrorMsg:Kke)),u=()=>{n!=null&&n.abortSignal&&s&&n.abortSignal.removeEventListener("abort",s)};if(s=()=>(o&&clearTimeout(o),u(),a()),n!=null&&n.abortSignal&&n.abortSignal.aborted)return a();o=setTimeout(()=>{u(),r(t)},e),n!=null&&n.abortSignal&&n.abortSignal.addEventListener("abort",s)})}function pre(e,t){let n=e.headers.get(t);if(!n)return;let r=Number(n);if(!Number.isNaN(r))return r}var Kke,uP=S(()=>{tP();Kke="The operation was aborted."});function fre(e){if(e&&[429,503].includes(e.status))try{for(let i of Xke){let o=pre(e,i);if(o===0||o)return o*(i===jU?1e3:1)}let t=e.headers.get(jU);if(!t)return;let r=Date.parse(t)-Date.now();return Number.isFinite(r)?Math.max(0,r):void 0}catch{return}}function mre(e){return Number.isFinite(fre(e))}function lP(){return{name:"throttlingRetryStrategy",retry({response:e}){let t=fre(e);return Number.isFinite(t)?{retryAfterInMs:t}:{skipStrategy:!0}}}}var jU,Xke,dP=S(()=>{uP();jU="Retry-After",Xke=["retry-after-ms","x-ms-retry-after-ms",jU]});function og(e={}){var t,n;let r=(t=e.retryDelayInMs)!==null&&t!==void 0?t:Qke,i=(n=e.maxRetryDelayInMs)!==null&&n!==void 0?n:Jke,o=r;return{name:"exponentialRetryStrategy",retry({retryCount:s,response:a,responseError:u}){let c=eOe(u),l=c&&e.ignoreSystemErrors,d=Zke(a),p=d&&e.ignoreHttpStatusCodes;if(a&&(mre(a)||!d)||p||l)return{skipStrategy:!0};if(u&&!c&&!d)return{errorToThrow:u};let m=o*Math.pow(2,s),h=Math.min(i,m);return o=h/2+IU(0,h/2),{retryAfterInMs:o}}}}function Zke(e){return!!(e&&e.status!==void 0&&(e.status>=500||e.status===408)&&e.status!==501&&e.status!==505)}function eOe(e){return e?e.code==="ETIMEDOUT"||e.code==="ESOCKETTIMEDOUT"||e.code==="ECONNREFUSED"||e.code==="ECONNRESET"||e.code==="ENOENT":!1}var Qke,Jke,pP=S(()=>{ng();dP();Qke=1e3,Jke=1e3*64});function da(e,t={maxRetries:3}){let n=t.logger||hre;return{name:tOe,async sendRequest(r,i){var o,s;let a,u,c=-1;e:for(;;){c+=1,a=void 0,u=void 0;try{n.info(`Retry ${c}: Attempting to send request`,r.requestId),a=await i(r),n.info(`Retry ${c}: Received a response from request`,r.requestId)}catch(l){if(n.error(`Retry ${c}: Received an error from request`,r.requestId),u=l,!l||u.name!=="RestError")throw l;a=u.response}if(!((o=r.abortSignal)===null||o===void 0)&&o.aborted)throw n.error(`Retry ${c}: Request aborted.`),new la;if(c>=((s=t.maxRetries)!==null&&s!==void 0?s:3)){if(n.info(`Retry ${c}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),u)throw u;if(a)return a;throw new Error("Maximum retries reached with no response or error to throw")}n.info(`Retry ${c}: Processing ${e.length} retry strategies.`);t:for(let l of e){let d=l.logger||hre;d.info(`Retry ${c}: Processing retry strategy ${l.name}.`);let p=l.retry({retryCount:c,response:a,responseError:u});if(p.skipStrategy){d.info(`Retry ${c}: Skipped.`);continue t}let{errorToThrow:f,retryAfterInMs:m,redirectTo:h}=p;if(f)throw d.error(`Retry ${c}: Retry strategy ${l.name} throws error:`,f),f;if(m||m===0){d.info(`Retry ${c}: Retry strategy ${l.name} retries after ${m}`),await cP(m,void 0,{abortSignal:r.abortSignal});continue e}if(h){d.info(`Retry ${c}: Retry strategy ${l.name} redirects to ${h}`),r.url=h;continue e}}if(u)throw n.info("None of the retry strategies could work with the received error. Throwing it."),u;if(a)return n.info("None of the retry strategies could work with the received response. Returning it."),a}}}}var hre,tOe,sg=S(()=>{uP();CU();tP();hre=JI("core-rest-pipeline retryPolicy"),tOe="retryPolicy"});function fP(e={}){var t;return{name:nOe,sendRequest:da([lP(),og(e)],{maxRetries:(t=e.maxRetries)!==null&&t!==void 0?t:3}).sendRequest}}var nOe,HU=S(()=>{pP();dP();sg();nOe="defaultRetryPolicy"});var yre=w((fnt,vre)=>{var gre=require("stream").Stream,rOe=require("util");vre.exports=Ts;function Ts(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}rOe.inherits(Ts,gre);Ts.create=function(e,t){var n=new this;t=t||{};for(var r in t)n[r]=t[r];n.source=e;var i=e.emit;return e.emit=function(){return n._handleEmit(arguments),i.apply(e,arguments)},e.on("error",function(){}),n.pauseStream&&e.pause(),n};Object.defineProperty(Ts.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});Ts.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};Ts.prototype.resume=function(){this._released||this.release(),this.source.resume()};Ts.prototype.pause=function(){this.source.pause()};Ts.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]};Ts.prototype.pipe=function(){var e=gre.prototype.pipe.apply(this,arguments);return this.resume(),e};Ts.prototype._handleEmit=function(e){if(this._released){this.emit.apply(this,e);return}e[0]==="data"&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e)};Ts.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}}});var bre=w((mnt,Ere)=>{var iOe=require("util"),wre=require("stream").Stream,xre=yre();Ere.exports=tn;function tn(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}iOe.inherits(tn,wre);tn.create=function(e){var t=new this;e=e||{};for(var n in e)t[n]=e[n];return t};tn.isStreamLike=function(e){return typeof e!="function"&&typeof e!="string"&&typeof e!="boolean"&&typeof e!="number"&&!Buffer.isBuffer(e)};tn.prototype.append=function(e){var t=tn.isStreamLike(e);if(t){if(!(e instanceof xre)){var n=xre.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=n}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this};tn.prototype.pipe=function(e,t){return wre.prototype.pipe.call(this,e,t),this.resume(),e};tn.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};tn.prototype._realGetNext=function(){var e=this._streams.shift();if(typeof e>"u"){this.end();return}if(typeof e!="function"){this._pipeNext(e);return}var t=e;t(function(n){var r=tn.isStreamLike(n);r&&(n.on("data",this._checkDataSize.bind(this)),this._handleErrors(n)),this._pipeNext(n)}.bind(this))};tn.prototype._pipeNext=function(e){this._currentStream=e;var t=tn.isStreamLike(e);if(t){e.on("end",this._getNext.bind(this)),e.pipe(this,{end:!1});return}var n=e;this.write(n),this._getNext()};tn.prototype._handleErrors=function(e){var t=this;e.on("error",function(n){t._emitError(n)})};tn.prototype.write=function(e){this.emit("data",e)};tn.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};tn.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};tn.prototype.end=function(){this._reset(),this.emit("end")};tn.prototype.destroy=function(){this._reset(),this.emit("close")};tn.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};tn.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(e))}};tn.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach(function(t){t.dataSize&&(e.dataSize+=t.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};tn.prototype._emitError=function(e){this._reset(),this.emit("error",e)}});var _re=w((hnt,oOe)=>{oOe.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var Sre=w((gnt,Cre)=>{Cre.exports=_re()});var Pre=w(hi=>{"use strict";var mP=Sre(),sOe=require("path").extname,Tre=/^\s*([^;\s]*)(?:;|\s|$)/,aOe=/^text\//i;hi.charset=Ire;hi.charsets={lookup:Ire};hi.contentType=cOe;hi.extension=uOe;hi.extensions=Object.create(null);hi.lookup=lOe;hi.types=Object.create(null);dOe(hi.extensions,hi.types);function Ire(e){if(!e||typeof e!="string")return!1;var t=Tre.exec(e),n=t&&mP[t[1].toLowerCase()];return n&&n.charset?n.charset:t&&aOe.test(t[1])?"UTF-8":!1}function cOe(e){if(!e||typeof e!="string")return!1;var t=e.indexOf("/")===-1?hi.lookup(e):e;if(!t)return!1;if(t.indexOf("charset")===-1){var n=hi.charset(t);n&&(t+="; charset="+n.toLowerCase())}return t}function uOe(e){if(!e||typeof e!="string")return!1;var t=Tre.exec(e),n=t&&hi.extensions[t[1].toLowerCase()];return!n||!n.length?!1:n[0]}function lOe(e){if(!e||typeof e!="string")return!1;var t=sOe("x."+e).toLowerCase().substr(1);return t&&hi.types[t]||!1}function dOe(e,t){var n=["nginx","apache",void 0,"iana"];Object.keys(mP).forEach(function(i){var o=mP[i],s=o.extensions;if(!(!s||!s.length)){e[i]=s;for(var a=0;a<s.length;a++){var u=s[a];if(t[u]){var c=n.indexOf(mP[t[u]].source),l=n.indexOf(o.source);if(t[u]!=="application/octet-stream"&&(c>l||c===l&&t[u].substr(0,12)==="application/"))continue}t[u]=i}}})}});var Are=w((ynt,Rre)=>{Rre.exports=pOe;function pOe(e){var t=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;t?t(e):setTimeout(e,0)}});var BU=w((xnt,kre)=>{var Dre=Are();kre.exports=fOe;function fOe(e){var t=!1;return Dre(function(){t=!0}),function(r,i){t?e(r,i):Dre(function(){e(r,i)})}}});var VU=w((wnt,Ore)=>{Ore.exports=mOe;function mOe(e){Object.keys(e.jobs).forEach(hOe.bind(e)),e.jobs={}}function hOe(e){typeof this.jobs[e]=="function"&&this.jobs[e]()}});var WU=w((Ent,Lre)=>{var Nre=BU(),gOe=VU();Lre.exports=vOe;function vOe(e,t,n,r){var i=n.keyedList?n.keyedList[n.index]:n.index;n.jobs[i]=yOe(t,i,e[i],function(o,s){i in n.jobs&&(delete n.jobs[i],o?gOe(n):n.results[i]=s,r(o,n.results))})}function yOe(e,t,n,r){var i;return e.length==2?i=e(n,Nre(r)):i=e(n,t,Nre(r)),i}});var GU=w((bnt,Fre)=>{Fre.exports=xOe;function xOe(e,t){var n=!Array.isArray(e),r={index:0,keyedList:n||t?Object.keys(e):null,jobs:{},results:n?{}:[],size:n?Object.keys(e).length:e.length};return t&&r.keyedList.sort(n?t:function(i,o){return t(e[i],e[o])}),r}});var zU=w((_nt,Mre)=>{var wOe=VU(),EOe=BU();Mre.exports=bOe;function bOe(e){Object.keys(this.jobs).length&&(this.index=this.size,wOe(this),EOe(e)(null,this.results))}});var qre=w((Cnt,Ure)=>{var _Oe=WU(),COe=GU(),SOe=zU();Ure.exports=TOe;function TOe(e,t,n){for(var r=COe(e);r.index<(r.keyedList||e).length;)_Oe(e,t,r,function(i,o){if(i){n(i,o);return}if(Object.keys(r.jobs).length===0){n(null,r.results);return}}),r.index++;return SOe.bind(r,n)}});var YU=w((Snt,hP)=>{var $re=WU(),IOe=GU(),POe=zU();hP.exports=ROe;hP.exports.ascending=jre;hP.exports.descending=AOe;function ROe(e,t,n,r){var i=IOe(e,n);return $re(e,t,i,function o(s,a){if(s){r(s,a);return}if(i.index++,i.index<(i.keyedList||e).length){$re(e,t,i,o);return}r(null,i.results)}),POe.bind(i,r)}function jre(e,t){return e<t?-1:e>t?1:0}function AOe(e,t){return-1*jre(e,t)}});var Bre=w((Tnt,Hre)=>{var DOe=YU();Hre.exports=kOe;function kOe(e,t,n){return DOe(e,t,null,n)}});var Wre=w((Int,Vre)=>{Vre.exports={parallel:qre(),serial:Bre(),serialOrdered:YU()}});var zre=w((Pnt,Gre)=>{Gre.exports=function(e,t){return Object.keys(t).forEach(function(n){e[n]=e[n]||t[n]}),e}});var Xre=w((Rnt,Kre)=>{var JU=bre(),Yre=require("util"),KU=require("path"),OOe=require("http"),NOe=require("https"),LOe=require("url").parse,FOe=require("fs"),MOe=require("stream").Stream,XU=Pre(),UOe=Wre(),QU=zre();Kre.exports=tt;Yre.inherits(tt,JU);function tt(e){if(!(this instanceof tt))return new tt(e);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],JU.call(this),e=e||{};for(var t in e)this[t]=e[t]}tt.LINE_BREAK=`\r
`;tt.DEFAULT_CONTENT_TYPE="application/octet-stream";tt.prototype.append=function(e,t,n){n=n||{},typeof n=="string"&&(n={filename:n});var r=JU.prototype.append.bind(this);if(typeof t=="number"&&(t=""+t),Yre.isArray(t)){this._error(new Error("Arrays are not supported."));return}var i=this._multiPartHeader(e,t,n),o=this._multiPartFooter();r(i),r(t),r(o),this._trackLength(i,t,n)};tt.prototype._trackLength=function(e,t,n){var r=0;n.knownLength!=null?r+=+n.knownLength:Buffer.isBuffer(t)?r=t.length:typeof t=="string"&&(r=Buffer.byteLength(t)),this._valueLength+=r,this._overheadLength+=Buffer.byteLength(e)+tt.LINE_BREAK.length,!(!t||!t.path&&!(t.readable&&t.hasOwnProperty("httpVersion"))&&!(t instanceof MOe))&&(n.knownLength||this._valuesToMeasure.push(t))};tt.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?e.end!=null&&e.end!=1/0&&e.start!=null?t(null,e.end+1-(e.start?e.start:0)):FOe.stat(e.path,function(n,r){var i;if(n){t(n);return}i=r.size-(e.start?e.start:0),t(null,i)}):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",function(n){e.pause(),t(null,+n.headers["content-length"])}),e.resume()):t("Unknown stream")};tt.prototype._multiPartHeader=function(e,t,n){if(typeof n.header=="string")return n.header;var r=this._getContentDisposition(t,n),i=this._getContentType(t,n),o="",s={"Content-Disposition":["form-data",'name="'+e+'"'].concat(r||[]),"Content-Type":[].concat(i||[])};typeof n.header=="object"&&QU(s,n.header);var a;for(var u in s)s.hasOwnProperty(u)&&(a=s[u],a!=null&&(Array.isArray(a)||(a=[a]),a.length&&(o+=u+": "+a.join("; ")+tt.LINE_BREAK)));return"--"+this.getBoundary()+tt.LINE_BREAK+o+tt.LINE_BREAK};tt.prototype._getContentDisposition=function(e,t){var n,r;return typeof t.filepath=="string"?n=KU.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e.name||e.path?n=KU.basename(t.filename||e.name||e.path):e.readable&&e.hasOwnProperty("httpVersion")&&(n=KU.basename(e.client._httpMessage.path||"")),n&&(r='filename="'+n+'"'),r};tt.prototype._getContentType=function(e,t){var n=t.contentType;return!n&&e.name&&(n=XU.lookup(e.name)),!n&&e.path&&(n=XU.lookup(e.path)),!n&&e.readable&&e.hasOwnProperty("httpVersion")&&(n=e.headers["content-type"]),!n&&(t.filepath||t.filename)&&(n=XU.lookup(t.filepath||t.filename)),!n&&typeof e=="object"&&(n=tt.DEFAULT_CONTENT_TYPE),n};tt.prototype._multiPartFooter=function(){return function(e){var t=tt.LINE_BREAK,n=this._streams.length===0;n&&(t+=this._lastBoundary()),e(t)}.bind(this)};tt.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+tt.LINE_BREAK};tt.prototype.getHeaders=function(e){var t,n={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(n[t.toLowerCase()]=e[t]);return n};tt.prototype.setBoundary=function(e){this._boundary=e};tt.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};tt.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),n=0,r=this._streams.length;n<r;n++)typeof this._streams[n]!="function"&&(Buffer.isBuffer(this._streams[n])?e=Buffer.concat([e,this._streams[n]]):e=Buffer.concat([e,Buffer.from(this._streams[n])]),(typeof this._streams[n]!="string"||this._streams[n].substring(2,t.length+2)!==t)&&(e=Buffer.concat([e,Buffer.from(tt.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])};tt.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(Math.random()*10).toString(16);this._boundary=e};tt.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),e};tt.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e};tt.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;if(this._streams.length&&(t+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(e.bind(this,null,t));return}UOe.parallel(this._valuesToMeasure,this._lengthRetriever,function(n,r){if(n){e(n);return}r.forEach(function(i){t+=i}),e(null,t)})};tt.prototype.submit=function(e,t){var n,r,i={method:"post"};return typeof e=="string"?(e=LOe(e),r=QU({port:e.port,path:e.pathname,host:e.hostname,protocol:e.protocol},i)):(r=QU(e,i),r.port||(r.port=r.protocol=="https:"?443:80)),r.headers=this.getHeaders(e.headers),r.protocol=="https:"?n=NOe.request(r):n=OOe.request(r),this.getLength(function(o,s){if(o&&o!=="Unknown stream"){this._error(o);return}if(s&&n.setHeader("Content-Length",s),this.pipe(n),t){var a,u=function(c,l){return n.removeListener("error",u),n.removeListener("response",a),t.call(this,c,l)};a=u.bind(this,null),n.on("error",u),n.on("response",a)}}.bind(this)),n};tt.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))};tt.prototype.toString=function(){return"[object FormData]"}});function gP(){return{name:ZU,async sendRequest(e,t){if(e.formData){let n=e.headers.get("Content-Type");n&&n.indexOf("application/x-www-form-urlencoded")!==-1?(e.body=qOe(e.formData),e.formData=void 0):await $Oe(e.formData,e)}return t(e)}}}function qOe(e){let t=new URLSearchParams;for(let[n,r]of Object.entries(e))if(Array.isArray(r))for(let i of r)t.append(n,i.toString());else t.append(n,r.toString());return t.toString()}async function $Oe(e,t){let n=new Qre.default;for(let i of Object.keys(e)){let o=e[i];if(Array.isArray(o))for(let s of o)n.append(i,s);else n.append(i,o)}t.body=n,t.formData=void 0;let r=t.headers.get("Content-Type");r&&r.indexOf("multipart/form-data")!==-1&&t.headers.set("Content-Type",`multipart/form-data; boundary=${n.getBoundary()}`);try{let i=await new Promise((o,s)=>{n.getLength((a,u)=>{a?s(a):o(u)})});t.headers.set("Content-Length",i)}catch{}}var Qre,ZU,eq=S(()=>{Qre=B(Xre()),ZU="formDataPolicy"});var Jre=w(tq=>{"use strict";Object.defineProperty(tq,"__esModule",{value:!0});function jOe(e){return function(t,n){return new Promise((r,i)=>{e.call(this,t,n,(o,s)=>{o?i(o):r(s)})})}}tq.default=jOe});var iq=w((rq,eie)=>{"use strict";var Zre=rq&&rq.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},HOe=require("events"),BOe=Zre(Bc()),VOe=Zre(Jre()),bw=BOe.default("agent-base");function WOe(e){return!!e&&typeof e.addRequest=="function"}function nq(){let{stack:e}=new Error;return typeof e!="string"?!1:e.split(`
`).some(t=>t.indexOf("(https.js:")!==-1||t.indexOf("node:https:")!==-1)}function vP(e,t){return new vP.Agent(e,t)}(function(e){class t extends HOe.EventEmitter{constructor(r,i){super();let o=i;typeof r=="function"?this.callback=r:r&&(o=r),this.timeout=null,o&&typeof o.timeout=="number"&&(this.timeout=o.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:nq()?443:80}set defaultPort(r){this.explicitDefaultPort=r}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:nq()?"https:":"http:"}set protocol(r){this.explicitProtocol=r}callback(r,i,o){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(r,i){let o=Object.assign({},i);typeof o.secureEndpoint!="boolean"&&(o.secureEndpoint=nq()),o.host==null&&(o.host="localhost"),o.port==null&&(o.port=o.secureEndpoint?443:80),o.protocol==null&&(o.protocol=o.secureEndpoint?"https:":"http:"),o.host&&o.path&&delete o.path,delete o.agent,delete o.hostname,delete o._defaultAgent,delete o.defaultPort,delete o.createConnection,r._last=!0,r.shouldKeepAlive=!1;let s=!1,a=null,u=o.timeout||this.timeout,c=f=>{r._hadError||(r.emit("error",f),r._hadError=!0)},l=()=>{a=null,s=!0;let f=new Error(`A "socket" was not created for HTTP request before ${u}ms`);f.code="ETIMEOUT",c(f)},d=f=>{s||(a!==null&&(clearTimeout(a),a=null),c(f))},p=f=>{if(s)return;if(a!=null&&(clearTimeout(a),a=null),WOe(f)){bw("Callback returned another Agent instance %o",f.constructor.name),f.addRequest(r,o);return}if(f){f.once("free",()=>{this.freeSocket(f,o)}),r.onSocket(f);return}let m=new Error(`no Duplex stream was returned to agent-base for \`${r.method} ${r.path}\``);c(m)};if(typeof this.callback!="function"){c(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(bw("Converting legacy callback function to promise"),this.promisifiedCallback=VOe.default(this.callback)):this.promisifiedCallback=this.callback),typeof u=="number"&&u>0&&(a=setTimeout(l,u)),"port"in o&&typeof o.port!="number"&&(o.port=Number(o.port));try{bw("Resolving socket for %o request: %o",o.protocol,`${r.method} ${r.path}`),Promise.resolve(this.promisifiedCallback(r,o)).then(p,d)}catch(f){Promise.reject(f).catch(d)}}freeSocket(r,i){bw("Freeing socket %o %o",r.constructor.name,i),r.destroy()}destroy(){bw("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype})(vP||(vP={}));eie.exports=vP});var tie=w(Cw=>{"use strict";var GOe=Cw&&Cw.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cw,"__esModule",{value:!0});var zOe=GOe(Bc()),_w=zOe.default("https-proxy-agent:parse-proxy-response");function YOe(e){return new Promise((t,n)=>{let r=0,i=[];function o(){let d=e.read();d?l(d):e.once("readable",o)}function s(){e.removeListener("end",u),e.removeListener("error",c),e.removeListener("close",a),e.removeListener("readable",o)}function a(d){_w("onclose had error %o",d)}function u(){_w("onend")}function c(d){s(),_w("onerror %o",d),n(d)}function l(d){i.push(d),r+=d.length;let p=Buffer.concat(i,r);if(p.indexOf(`\r
\r
`)===-1){_w("have not received end of HTTP headers yet..."),o();return}let m=p.toString("ascii",0,p.indexOf(`\r
`)),h=+m.split(" ")[1];_w("got proxy server response: %o",m),t({statusCode:h,buffered:p})}e.on("error",c),e.on("close",a),e.on("end",u),o()})}Cw.default=YOe});var iie=w(Pp=>{"use strict";var KOe=Pp&&Pp.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},ag=Pp&&Pp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pp,"__esModule",{value:!0});var nie=ag(require("net")),rie=ag(require("tls")),XOe=ag(require("url")),QOe=ag(require("assert")),JOe=ag(Bc()),ZOe=iq(),eNe=ag(tie()),Sw=JOe.default("https-proxy-agent:agent"),oq=class extends ZOe.Agent{constructor(t){let n;if(typeof t=="string"?n=XOe.default.parse(t):n=t,!n)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");Sw("creating new HttpsProxyAgent instance: %o",n),super(n);let r=Object.assign({},n);this.secureProxy=n.secureProxy||rNe(r.protocol),r.host=r.hostname||r.host,typeof r.port=="string"&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in r)&&(r.ALPNProtocols=["http 1.1"]),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(t,n){return KOe(this,void 0,void 0,function*(){let{proxy:r,secureProxy:i}=this,o;i?(Sw("Creating `tls.Socket`: %o",r),o=rie.default.connect(r)):(Sw("Creating `net.Socket`: %o",r),o=nie.default.connect(r));let s=Object.assign({},r.headers),u=`CONNECT ${`${n.host}:${n.port}`} HTTP/1.1\r
`;r.auth&&(s["Proxy-Authorization"]=`Basic ${Buffer.from(r.auth).toString("base64")}`);let{host:c,port:l,secureEndpoint:d}=n;nNe(l,d)||(c+=`:${l}`),s.Host=c,s.Connection="close";for(let g of Object.keys(s))u+=`${g}: ${s[g]}\r
`;let p=eNe.default(o);o.write(`${u}\r
`);let{statusCode:f,buffered:m}=yield p;if(f===200){if(t.once("socket",tNe),n.secureEndpoint){Sw("Upgrading socket connection to TLS");let g=n.servername||n.host;return rie.default.connect(Object.assign(Object.assign({},iNe(n,"host","hostname","path","port")),{socket:o,servername:g}))}return o}o.destroy();let h=new nie.default.Socket({writable:!1});return h.readable=!0,t.once("socket",g=>{Sw("replaying proxy buffer for failed request"),QOe.default(g.listenerCount("data")>0),g.push(m),g.push(null)}),h})}};Pp.default=oq;function tNe(e){e.resume()}function nNe(e,t){return!!(!t&&e===80||t&&e===443)}function rNe(e){return typeof e=="string"?/^https:?$/i.test(e):!1}function iNe(e,...t){let n={},r;for(r in e)t.includes(r)||(n[r]=e[r]);return n}});var sie=w((cq,oie)=>{"use strict";var oNe=cq&&cq.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},sq=oNe(iie());function aq(e){return new sq.default(e)}(function(e){e.HttpsProxyAgent=sq.default,e.prototype=sq.default.prototype})(aq||(aq={}));oie.exports=aq});var aie=w(uq=>{"use strict";Object.defineProperty(uq,"__esModule",{value:!0});function sNe(e,t,{signal:n}={}){return new Promise((r,i)=>{function o(){n==null||n.removeEventListener("abort",o),e.removeListener(t,s),e.removeListener("error",a)}function s(...u){o(),r(u)}function a(u){o(),i(u)}n==null||n.addEventListener("abort",o),e.on(t,s),e.on("error",a)})}uq.default=sNe});var cie=w(Rp=>{"use strict";var aNe=Rp&&Rp.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},Tw=Rp&&Rp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rp,"__esModule",{value:!0});var cNe=Tw(require("net")),uNe=Tw(require("tls")),lq=Tw(require("url")),lNe=Tw(Bc()),dNe=Tw(aie()),pNe=iq(),wl=(0,lNe.default)("http-proxy-agent");function fNe(e){return typeof e=="string"?/^https:?$/i.test(e):!1}var dq=class extends pNe.Agent{constructor(t){let n;if(typeof t=="string"?n=lq.default.parse(t):n=t,!n)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");wl("Creating new HttpProxyAgent instance: %o",n),super(n);let r=Object.assign({},n);this.secureProxy=n.secureProxy||fNe(r.protocol),r.host=r.hostname||r.host,typeof r.port=="string"&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(t,n){return aNe(this,void 0,void 0,function*(){let{proxy:r,secureProxy:i}=this,o=lq.default.parse(t.path);o.protocol||(o.protocol="http:"),o.hostname||(o.hostname=n.hostname||n.host||null),o.port==null&&typeof n.port&&(o.port=String(n.port)),o.port==="80"&&(o.port=""),t.path=lq.default.format(o),r.auth&&t.setHeader("Proxy-Authorization",`Basic ${Buffer.from(r.auth).toString("base64")}`);let s;if(i?(wl("Creating `tls.Socket`: %o",r),s=uNe.default.connect(r)):(wl("Creating `net.Socket`: %o",r),s=cNe.default.connect(r)),t._header){let a,u;wl("Regenerating stored HTTP header string for request"),t._header=null,t._implicitHeader(),t.output&&t.output.length>0?(wl("Patching connection write() output buffer with updated header"),a=t.output[0],u=a.indexOf(`\r
\r
`)+4,t.output[0]=t._header+a.substring(u),wl("Output buffer: %o",t.output)):t.outputData&&t.outputData.length>0&&(wl("Patching connection write() output buffer with updated header"),a=t.outputData[0].data,u=a.indexOf(`\r
\r
`)+4,t.outputData[0].data=t._header+a.substring(u),wl("Output buffer: %o",t.outputData[0].data))}return yield(0,dNe.default)(s,"connect"),s})}};Rp.default=dq});var lie=w((mq,uie)=>{"use strict";var mNe=mq&&mq.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},pq=mNe(cie());function fq(e){return new pq.default(e)}(function(e){e.HttpProxyAgent=pq.default,e.prototype=pq.default.prototype})(fq||(fq={}));uie.exports=fq});function yP(e){if(process.env[e])return process.env[e];if(process.env[e.toLowerCase()])return process.env[e.toLowerCase()]}function wNe(){if(!process)return;let e=yP(hNe),t=yP(vNe),n=yP(gNe);return e||t||n}function ENe(e,t,n){if(t.length===0)return!1;let r=new URL(e).hostname;if(n!=null&&n.has(r))return n.get(r);let i=!1;for(let o of t)o[0]==="."?(r.endsWith(o)||r.length===o.length-1&&r===o.slice(1))&&(i=!0):r===o&&(i=!0);return n==null||n.set(r,i),i}function bNe(){let e=yP(yNe);return hie=!0,e?e.split(",").map(t=>t.trim()).filter(t=>t.length):[]}function gq(e){if(!e&&(e=wNe(),!e))return;let t=new URL(e);return{host:(t.protocol?t.protocol+"//":"")+t.hostname,port:Number.parseInt(t.port||"80"),username:t.username,password:t.password}}function pie(e,{headers:t,tlsSettings:n}){let r;try{r=new URL(e.host)}catch{throw new Error(`Expecting a valid host string in proxy settings, but found "${e.host}".`)}n&&tr.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");let i={hostname:r.hostname,port:e.port,protocol:r.protocol,headers:t.toJSON()};return e.username&&e.password?i.auth=`${e.username}:${e.password}`:e.username&&(i.auth=`${e.username}`),i}function _Ne(e,t){if(e.agent)return;let r=new URL(e.url).protocol!=="https:",i=e.proxySettings;if(i)if(r){if(!t.httpProxyAgent){let o=pie(i,e);t.httpProxyAgent=new mie.HttpProxyAgent(o)}e.agent=t.httpProxyAgent}else{if(!t.httpsProxyAgent){let o=pie(i,e);t.httpsProxyAgent=new fie.HttpsProxyAgent(o)}e.agent=t.httpsProxyAgent}}function xP(e=gq(),t){hie||die.push(...bNe());let n={};return{name:hq,async sendRequest(r,i){var o;return!r.proxySettings&&!ENe(r.url,(o=t==null?void 0:t.customNoProxyList)!==null&&o!==void 0?o:die,t!=null&&t.customNoProxyList?void 0:xNe)&&(r.proxySettings=e),r.proxySettings&&_Ne(r,n),i(r)}}}var fie,mie,hNe,gNe,vNe,yNe,hq,die,hie,xNe,vq=S(()=>{fie=B(sie()),mie=B(lie());Jh();hNe="HTTPS_PROXY",gNe="HTTP_PROXY",vNe="ALL_PROXY",yNe="NO_PROXY",hq="proxyPolicy",die=[],hie=!1,xNe=new Map});function wP(e="x-ms-client-request-id"){return{name:yq,async sendRequest(t,n){return t.headers.has(e)||t.headers.set(e,t.requestId),n(t)}}}var yq,xq=S(()=>{yq="setClientRequestIdPolicy"});function EP(e){return{name:wq,sendRequest:async(t,n)=>(t.tlsSettings||(t.tlsSettings=e),n(t))}}var wq,Eq=S(()=>{wq="tlsPolicy"});function gie(e={}){let t=new Ap(e.parentContext);return e.span&&(t=t.setValue(cg.span,e.span)),e.namespace&&(t=t.setValue(cg.namespace,e.namespace)),t}var cg,Ap,bq=S(()=>{cg={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};Ap=class{constructor(t){this._contextMap=t instanceof Ap?new Map(t._contextMap):new Map}setValue(t,n){let r=new Ap(this);return r._contextMap.set(t,n),r}getValue(t){return this._contextMap.get(t)}deleteValue(t){let n=new Ap(this);return n._contextMap.delete(t),n}}});function CNe(){return{end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{}}}function SNe(){return{createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(e,t)=>({span:CNe(),tracingContext:gie({parentContext:t.tracingContext})}),withContext(e,t,...n){return t(...n)}}}function Iw(){return _q||(_q=SNe()),_q}var _q,vie=S(()=>{bq()});function Cq(e){let{namespace:t,packageName:n,packageVersion:r}=e;function i(c,l,d){var p;let f=Iw().startSpan(c,Object.assign(Object.assign({},d),{packageName:n,packageVersion:r,tracingContext:(p=l==null?void 0:l.tracingOptions)===null||p===void 0?void 0:p.tracingContext})),m=f.tracingContext,h=f.span;m.getValue(cg.namespace)||(m=m.setValue(cg.namespace,t)),h.setAttribute("az.namespace",m.getValue(cg.namespace));let g=Object.assign({},l,{tracingOptions:Object.assign(Object.assign({},l==null?void 0:l.tracingOptions),{tracingContext:m})});return{span:h,updatedOptions:g}}async function o(c,l,d,p){let{span:f,updatedOptions:m}=i(c,l,p);try{let h=await s(m.tracingOptions.tracingContext,()=>Promise.resolve(d(m,f)));return f.setStatus({status:"success"}),h}catch(h){throw f.setStatus({status:"error",error:h}),h}finally{f.end()}}function s(c,l,...d){return Iw().withContext(c,l,...d)}function a(c){return Iw().parseTraceparentHeader(c)}function u(c){return Iw().createRequestHeaders(c)}return{startSpan:i,withSpan:o,withContext:s,parseTraceparentHeader:a,createRequestHeaders:u}}var yie=S(()=>{vie();bq()});var xie=S(()=>{yie()});var wie,Eie,bie=S(()=>{wie=require("util"),Eie=wie.inspect.custom});function bP(e){return e instanceof Ur?!0:eg(e)&&e.name==="RestError"}var TNe,Ur,_P=S(()=>{ng();bie();AU();TNe=new rg,Ur=class extends Error{constructor(t,n={}){super(t),this.name="RestError",this.code=n.code,this.statusCode=n.statusCode,this.request=n.request,this.response=n.response,Object.setPrototypeOf(this,Ur.prototype)}[Eie](){return`RestError: ${this.message} 
 ${TNe.sanitize(this)}`}};Ur.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";Ur.PARSE_ERROR="PARSE_ERROR"});function CP(e={}){let t=oP(e.userAgentPrefix),n=INe();return{name:Sq,async sendRequest(r,i){var o,s;if(!n||!(!((o=r.tracingOptions)===null||o===void 0)&&o.tracingContext))return i(r);let{span:a,tracingContext:u}=(s=PNe(n,r,t))!==null&&s!==void 0?s:{};if(!a||!u)return i(r);try{let c=await n.withContext(u,i,r);return ANe(a,c),c}catch(c){throw RNe(a,c),c}}}}function INe(){try{return Cq({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:iP})}catch(e){tr.warning(`Error when creating the TracingClient: ${tg(e)}`);return}}function PNe(e,t,n){try{let{span:r,updatedOptions:i}=e.startSpan(`HTTP ${t.method}`,{tracingOptions:t.tracingOptions},{spanKind:"client",spanAttributes:{"http.method":t.method,"http.url":t.url,requestId:t.requestId}});if(!r.isRecording()){r.end();return}n&&r.setAttribute("http.user_agent",n);let o=e.createRequestHeaders(i.tracingOptions.tracingContext);for(let[s,a]of Object.entries(o))t.headers.set(s,a);return{span:r,tracingContext:i.tracingOptions.tracingContext}}catch(r){tr.warning(`Skipping creating a tracing span due to an error: ${tg(r)}`);return}}function RNe(e,t){try{e.setStatus({status:"error",error:eg(t)?t:void 0}),bP(t)&&t.statusCode&&e.setAttribute("http.status_code",t.statusCode),e.end()}catch(n){tr.warning(`Skipping tracing span processing due to an error: ${tg(n)}`)}}function ANe(e,t){try{e.setAttribute("http.status_code",t.status);let n=t.headers.get("x-ms-request-id");n&&e.setAttribute("serviceRequestId",n),e.setStatus({status:"success"}),e.end()}catch(n){tr.warning(`Skipping tracing span processing due to an error: ${tg(n)}`)}}var Sq,Tq=S(()=>{xie();LU();FU();Jh();ng();_P();Sq="tracingPolicy"});function _ie(e){let t=YI();return ZI&&(e.tlsOptions&&t.addPolicy(EP(e.tlsOptions)),t.addPolicy(xP(e.proxyOptions)),t.addPolicy(aP())),t.addPolicy(gP()),t.addPolicy(sP(e.userAgentOptions)),t.addPolicy(wP()),t.addPolicy(fP(e.retryOptions),{phase:"Retry"}),t.addPolicy(CP(e.userAgentOptions),{afterPhase:"Retry"}),ZI&&t.addPolicy(rP(e.redirectOptions),{afterPhase:"Retry"}),t.addPolicy(nP(e.loggingOptions),{afterPhase:"Sign"}),t}var Cie=S(()=>{kU();gU();NU();UU();$U();HU();eq();ng();vq();xq();Eq();Tq()});function SP(e){return e.toLowerCase()}function*DNe(e){for(let t of e.values())yield[t.name,t.value]}function ug(e){return new Iq(e)}var Iq,TP=S(()=>{Iq=class{constructor(t){if(this._headersMap=new Map,t)for(let n of Object.keys(t))this.set(n,t[n])}set(t,n){this._headersMap.set(SP(t),{name:t,value:String(n)})}get(t){var n;return(n=this._headersMap.get(SP(t)))===null||n===void 0?void 0:n.value}has(t){return this._headersMap.has(SP(t))}delete(t){this._headersMap.delete(SP(t))}toJSON(t={}){let n={};if(t.preserveCase)for(let r of this._headersMap.values())n[r.name]=r.value;else for(let[r,i]of this._headersMap)n[r]=i.value;return n}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return DNe(this._headersMap)}}});function Pw(e){return e&&typeof e.pipe=="function"}function Sie(e){return new Promise(t=>{e.on("close",t),e.on("end",t),e.on("error",t)})}function Iie(e){return e&&typeof e.byteLength=="number"}function ONe(e){let t=ug();for(let n of Object.keys(e.headers)){let r=e.headers[n];Array.isArray(r)?r.length>0&&t.set(n,r[0]):r&&t.set(n,r)}return t}function NNe(e,t){let n=t.get("Content-Encoding");if(n==="gzip"){let r=PP.createGunzip();return e.pipe(r),r}else if(n==="deflate"){let r=PP.createInflate();return e.pipe(r),r}return e}function LNe(e){return new Promise((t,n)=>{let r=[];e.on("data",i=>{Buffer.isBuffer(i)?r.push(i):r.push(Buffer.from(i))}),e.on("end",()=>{t(Buffer.concat(r).toString("utf8"))}),e.on("error",i=>{i&&(i==null?void 0:i.name)==="AbortError"?n(i):n(new Ur(`Error reading response as text: ${i.message}`,{code:Ur.PARSE_ERROR}))})})}function FNe(e){return e?Buffer.isBuffer(e)?e.length:Pw(e)?null:Iie(e)?e.byteLength:typeof e=="string"?Buffer.from(e).length:null:0}function Pie(){return new Pq}var lg,dg,PP,Tie,kNe,IP,Pq,Rie=S(()=>{lg=B(require("http")),dg=B(require("https")),PP=B(require("zlib")),Tie=require("stream");tP();TP();_P();Jh();kNe={};IP=class extends Tie.Transform{constructor(t){super(),this.loadedBytes=0,this.progressCallback=t}_transform(t,n,r){this.push(t),this.loadedBytes+=t.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),r()}catch(i){r(i)}}},Pq=class{constructor(){this.cachedHttpsAgents=new WeakMap}async sendRequest(t){var n,r,i;let o=new xw,s;if(t.abortSignal){if(t.abortSignal.aborted)throw new la("The operation was aborted.");s=d=>{d.type==="abort"&&o.abort()},t.abortSignal.addEventListener("abort",s)}t.timeout>0&&setTimeout(()=>{o.abort()},t.timeout);let a=t.headers.get("Accept-Encoding"),u=(a==null?void 0:a.includes("gzip"))||(a==null?void 0:a.includes("deflate")),c=typeof t.body=="function"?t.body():t.body;if(c&&!t.headers.has("Content-Length")){let d=FNe(c);d!==null&&t.headers.set("Content-Length",d)}let l;try{if(c&&t.onUploadProgress){let g=t.onUploadProgress,v=new IP(g);v.on("error",y=>{tr.error("Error in upload progress",y)}),Pw(c)?c.pipe(v):v.end(c),c=v}let d=await this.makeRequest(t,o,c),p=ONe(d),m={status:(n=d.statusCode)!==null&&n!==void 0?n:0,headers:p,request:t};if(t.method==="HEAD")return d.resume(),m;l=u?NNe(d,p):d;let h=t.onDownloadProgress;if(h){let g=new IP(h);g.on("error",v=>{tr.error("Error in download progress",v)}),l.pipe(g),l=g}return!((r=t.streamResponseStatusCodes)===null||r===void 0)&&r.has(Number.POSITIVE_INFINITY)||!((i=t.streamResponseStatusCodes)===null||i===void 0)&&i.has(m.status)?m.readableStreamBody=l:m.bodyAsText=await LNe(l),m}finally{if(t.abortSignal&&s){let d=Promise.resolve();Pw(c)&&(d=Sie(c));let p=Promise.resolve();Pw(l)&&(p=Sie(l)),Promise.all([d,p]).then(()=>{var f;s&&((f=t.abortSignal)===null||f===void 0||f.removeEventListener("abort",s))}).catch(f=>{tr.warning("Error when cleaning up abortListener on httpRequest",f)})}}}makeRequest(t,n,r){var i;let o=new URL(t.url),s=o.protocol!=="https:";if(s&&!t.allowInsecureConnection)throw new Error(`Cannot connect to ${t.url} while allowInsecureConnection is false.`);let u={agent:(i=t.agent)!==null&&i!==void 0?i:this.getOrCreateAgent(t,s),hostname:o.hostname,path:`${o.pathname}${o.search}`,port:o.port,method:t.method,headers:t.headers.toJSON({preserveCase:!0})};return new Promise((c,l)=>{let d=s?lg.request(u,c):dg.request(u,c);d.once("error",p=>{var f;l(new Ur(p.message,{code:(f=p.code)!==null&&f!==void 0?f:Ur.REQUEST_SEND_ERROR,request:t}))}),n.signal.addEventListener("abort",()=>{let p=new la("The operation was aborted.");d.destroy(p),l(p)}),r&&Pw(r)?r.pipe(d):r?typeof r=="string"||Buffer.isBuffer(r)?d.end(r):Iie(r)?d.end(ArrayBuffer.isView(r)?Buffer.from(r.buffer):Buffer.from(r)):(tr.error("Unrecognized body type",r),l(new Ur("Unrecognized body type"))):d.end()})}getOrCreateAgent(t,n){var r;let i=t.disableKeepAlive;if(n)return i?lg.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new lg.Agent({keepAlive:!0})),this.cachedHttpAgent);{if(i&&!t.tlsSettings)return dg.globalAgent;let o=(r=t.tlsSettings)!==null&&r!==void 0?r:kNe,s=this.cachedHttpsAgents.get(o);return s&&s.options.keepAlive===!i||(tr.info("No cached TLS Agent exist, creating a new Agent"),s=new dg.Agent(Object.assign({keepAlive:!i},o)),this.cachedHttpsAgents.set(o,s)),s}}}});function Aie(){return Pie()}var Die=S(()=>{Rie()});function Rq(){return RP>AP.length-16&&(kie.default.randomFillSync(AP),RP=0),AP.slice(RP,RP+=16)}var kie,AP,RP,Oie=S(()=>{kie=B(require("crypto")),AP=new Uint8Array(256),RP=AP.length});var Nie,Lie=S(()=>{Nie=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function MNe(e){return typeof e=="string"&&Nie.test(e)}var Fie,Mie=S(()=>{Lie();Fie=MNe});function UNe(e,t=0){let n=(nr[e[t+0]]+nr[e[t+1]]+nr[e[t+2]]+nr[e[t+3]]+"-"+nr[e[t+4]]+nr[e[t+5]]+"-"+nr[e[t+6]]+nr[e[t+7]]+"-"+nr[e[t+8]]+nr[e[t+9]]+"-"+nr[e[t+10]]+nr[e[t+11]]+nr[e[t+12]]+nr[e[t+13]]+nr[e[t+14]]+nr[e[t+15]]).toLowerCase();if(!Fie(n))throw TypeError("Stringified UUID is invalid");return n}var nr,Uie,qie=S(()=>{Mie();nr=[];for(let e=0;e<256;++e)nr.push((e+256).toString(16).substr(1));Uie=UNe});function qNe(e,t,n){e=e||{};let r=e.random||(e.rng||Rq)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return Uie(r)}var Aq,$ie=S(()=>{Oie();qie();Aq=qNe});var jie=S(()=>{$ie()});function Hie(){return Aq()}var Bie=S(()=>{jie()});function Vie(e){return new Dq(e)}var Dq,Wie=S(()=>{TP();Bie();Dq=class{constructor(t){var n,r,i,o,s,a,u;this.url=t.url,this.body=t.body,this.headers=(n=t.headers)!==null&&n!==void 0?n:ug(),this.method=(r=t.method)!==null&&r!==void 0?r:"GET",this.timeout=(i=t.timeout)!==null&&i!==void 0?i:0,this.formData=t.formData,this.disableKeepAlive=(o=t.disableKeepAlive)!==null&&o!==void 0?o:!1,this.proxySettings=t.proxySettings,this.streamResponseStatusCodes=t.streamResponseStatusCodes,this.withCredentials=(s=t.withCredentials)!==null&&s!==void 0?s:!1,this.abortSignal=t.abortSignal,this.tracingOptions=t.tracingOptions,this.onUploadProgress=t.onUploadProgress,this.onDownloadProgress=t.onDownloadProgress,this.requestId=t.requestId||Hie(),this.allowInsecureConnection=(a=t.allowInsecureConnection)!==null&&a!==void 0?a:!1,this.enableBrowserStreams=(u=t.enableBrowserStreams)!==null&&u!==void 0?u:!1}}});function zie(e={}){var t;return da([og(Object.assign(Object.assign({},e),{ignoreSystemErrors:!0}))],{maxRetries:(t=e.maxRetries)!==null&&t!==void 0?t:3})}var Gie,Yie=S(()=>{pP();sg();Gie="exponentialRetryPolicy"});function Kie(e={}){var t;return{name:kq,sendRequest:da([og(Object.assign(Object.assign({},e),{ignoreHttpStatusCodes:!0}))],{maxRetries:(t=e.maxRetries)!==null&&t!==void 0?t:3}).sendRequest}}var kq,Xie=S(()=>{pP();sg();kq="systemErrorRetryPolicy"});function Qie(e={}){var t;return{name:Oq,sendRequest:da([lP()],{maxRetries:(t=e.maxRetries)!==null&&t!==void 0?t:3}).sendRequest}}var Oq,Jie=S(()=>{dP();sg();Oq="throttlingRetryPolicy"});async function jNe(e,t,n){async function r(){if(Date.now()<n)try{return await e()}catch{return null}else{let o=await e();if(o===null)throw new Error("Failed to refresh access token.");return o}}let i=await r();for(;i===null;)await cP(t),i=await r();return i}function Zie(e,t){let n=null,r=null,i,o=Object.assign(Object.assign({},$Ne),t),s={get isRefreshing(){return n!==null},get shouldRefresh(){var u;return!s.isRefreshing&&((u=r==null?void 0:r.expiresOnTimestamp)!==null&&u!==void 0?u:0)-o.refreshWindowInMs<Date.now()},get mustRefresh(){return r===null||r.expiresOnTimestamp-o.forcedRefreshWindowInMs<Date.now()}};function a(u,c){var l;return s.isRefreshing||(n=jNe(()=>e.getToken(u,c),o.retryIntervalInMs,(l=r==null?void 0:r.expiresOnTimestamp)!==null&&l!==void 0?l:Date.now()).then(p=>(n=null,r=p,i=c.tenantId,r)).catch(p=>{throw n=null,r=null,i=void 0,p})),n}return async(u,c)=>i!==c.tenantId||!!c.claims||s.mustRefresh?a(u,c):(s.shouldRefresh&&a(u,c),r)}var $Ne,eoe=S(()=>{uP();$Ne={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2}});async function HNe(e){let{scopes:t,getAccessToken:n,request:r}=e,i={abortSignal:r.abortSignal,tracingOptions:r.tracingOptions},o=await n(t,i);o&&e.request.headers.set("Authorization",`Bearer ${o.token}`)}function BNe(e){let t=e.headers.get("WWW-Authenticate");if(e.status===401&&t)return t}function toe(e){var t;let{credential:n,scopes:r,challengeCallbacks:i}=e,o=e.logger||tr,s=Object.assign({authorizeRequest:(t=i==null?void 0:i.authorizeRequest)!==null&&t!==void 0?t:HNe,authorizeRequestOnChallenge:i==null?void 0:i.authorizeRequestOnChallenge},i),a=n?Zie(n):()=>Promise.resolve(null);return{name:Nq,async sendRequest(u,c){if(!u.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");await s.authorizeRequest({scopes:Array.isArray(r)?r:[r],request:u,getAccessToken:a,logger:o});let l,d;try{l=await c(u)}catch(p){d=p,l=p.response}if(s.authorizeRequestOnChallenge&&(l==null?void 0:l.status)===401&&BNe(l)&&await s.authorizeRequestOnChallenge({scopes:Array.isArray(r)?r:[r],request:u,response:l,getAccessToken:a,logger:o}))return c(u);if(d)throw d;return l}}}var Nq,noe=S(()=>{eoe();Jh();Nq="bearerTokenAuthenticationPolicy"});function roe(){return{name:Lq,async sendRequest(e,t){if(typeof e.body=="string"&&e.body.startsWith("[")){let n=JSON.parse(e.body);Array.isArray(n)&&(e.body=n.map(r=>JSON.stringify(r)+`
`).join(""))}return t(e)}}}var Lq,ioe=S(()=>{Lq="ndJsonPolicy"});var ooe={};As(ooe,{RestError:()=>Ur,bearerTokenAuthenticationPolicy:()=>toe,bearerTokenAuthenticationPolicyName:()=>Nq,createDefaultHttpClient:()=>Aie,createEmptyPipeline:()=>YI,createHttpHeaders:()=>ug,createPipelineFromOptions:()=>_ie,createPipelineRequest:()=>Vie,decompressResponsePolicy:()=>aP,decompressResponsePolicyName:()=>qU,defaultRetryPolicy:()=>fP,exponentialRetryPolicy:()=>zie,exponentialRetryPolicyName:()=>Gie,formDataPolicy:()=>gP,formDataPolicyName:()=>ZU,getDefaultProxySettings:()=>gq,isRestError:()=>bP,logPolicy:()=>nP,logPolicyName:()=>DU,ndJsonPolicy:()=>roe,ndJsonPolicyName:()=>Lq,proxyPolicy:()=>xP,proxyPolicyName:()=>hq,redirectPolicy:()=>rP,redirectPolicyName:()=>OU,retryPolicy:()=>da,setClientRequestIdPolicy:()=>wP,setClientRequestIdPolicyName:()=>yq,systemErrorRetryPolicy:()=>Kie,systemErrorRetryPolicyName:()=>kq,throttlingRetryPolicy:()=>Qie,throttlingRetryPolicyName:()=>Oq,tlsPolicy:()=>EP,tlsPolicyName:()=>wq,tracingPolicy:()=>CP,tracingPolicyName:()=>Sq,userAgentPolicy:()=>sP,userAgentPolicyName:()=>MU});var soe=S(()=>{gU();Cie();Die();TP();Wie();_P();$U();Yie();xq();kU();vq();NU();Xie();Jie();sg();Tq();HU();UU();Eq();eq();noe();ioe()});var uoe=w((Rw,coe)=>{"use strict";var VNe=Rw&&Rw.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},WNe=Rw&&Rw.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},aoe=(soe(),yi(ooe)),GNe="https://monitor.azure.com//.default";function zNe(e){return null}var YNe=function(){function e(t){var n=[GNe];this._azureTokenPolicy=aoe.bearerTokenAuthenticationPolicy({credential:t,scopes:n})}return e.prototype.addAuthorizationHeader=function(t){return VNe(this,void 0,void 0,function(){var n,r;return WNe(this,function(i){switch(i.label){case 0:return n="authorization",r=aoe.createPipelineRequest({url:"https://"}),[4,this._azureTokenPolicy.sendRequest(r,zNe)];case 1:return i.sent(),t.headers[n]=r.headers.get(n),[2]}})})},e}();coe.exports=YNe});var doe=w((Tit,loe)=>{"use strict";var KNe=Vt(),XNe=Qn(),QNe=function(){function e(t,n,r,i){this._buffer=[],this._lastSend=0,this._isDisabled=t,this._getBatchSize=n,this._getBatchIntervalMs=r,this._sender=i}return e.prototype.setUseDiskRetryCaching=function(t,n,r){this._sender.setDiskRetryMode(t,n,r)},e.prototype.send=function(t){var n=this;if(!this._isDisabled()){if(!t){KNe.warn("Cannot send null/undefined telemetry");return}if(this._buffer.push(t),this._buffer.length>=this._getBatchSize()){this.triggerSend(!1);return}!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout(function(){n._timeoutHandle=null,n.triggerSend(!1)},this._getBatchIntervalMs()))}},e.prototype.triggerSend=function(t,n){var r=this._buffer.length<1;r||(t||XNe.isNodeExit?(this._sender.saveOnCrash(this._buffer),typeof n=="function"&&n("data saved on crash")):this._sender.send(this._buffer,n)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,r&&typeof n=="function"&&n("no data to send")},e}();loe.exports=QNe});var poe=w(DP=>{"use strict";Object.defineProperty(DP,"__esModule",{value:!0});DP.azureRoleEnvironmentTelemetryProcessor=void 0;function JNe(e,t){process.env.WEBSITE_SITE_NAME&&(e.tags[t.keys.cloudRole]=process.env.WEBSITE_SITE_NAME),process.env.WEBSITE_INSTANCE_ID&&(e.tags[t.keys.cloudRoleInstance]=process.env.WEBSITE_INSTANCE_ID)}DP.azureRoleEnvironmentTelemetryProcessor=JNe});var hoe=w(pg=>{"use strict";Object.defineProperty(pg,"__esModule",{value:!0});pg.getSamplingHashCode=pg.samplingTelemetryProcessor=void 0;var foe=yr();function ZNe(e,t){var n=e.sampleRate,r=!1;return n==null||n>=100||e.data&&foe.TelemetryType.Metric===foe.baseTypeToTelemetryType(e.data.baseType)?!0:(t.correlationContext&&t.correlationContext.operation?r=moe(t.correlationContext.operation.id)<n:r=Math.random()*100<n,r)}pg.samplingTelemetryProcessor=ZNe;function moe(e){var t=-2147483648,n=2147483647,r=5381;if(!e)return 0;for(;e.length<8;)e=e+e;for(var i=0;i<e.length;i++)r=((r<<5)+r|0)+e.charCodeAt(i)|0;return r=r<=t?n:Math.abs(r),r/n*100}pg.getSamplingHashCode=moe});var goe=w(kP=>{"use strict";Object.defineProperty(kP,"__esModule",{value:!0});kP.performanceMetricsTelemetryProcessor=void 0;var Fq=OI(),Mq=yr();function eLe(e,t){switch(t&&t.addDocument(e),e.data.baseType){case Mq.TelemetryTypeString.Exception:Fq.countException();break;case Mq.TelemetryTypeString.Request:var n=e.data.baseData;Fq.countRequest(n.duration,n.success);break;case Mq.TelemetryTypeString.Dependency:var r=e.data.baseData;Fq.countDependency(r.duration,r.success);break}return!0}kP.performanceMetricsTelemetryProcessor=eLe});var voe=w(fg=>{"use strict";var pa=fg&&fg.__assign||function(){return pa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},pa.apply(this,arguments)};Object.defineProperty(fg,"__esModule",{value:!0});fg.preAggregatedMetricsTelemetryProcessor=void 0;var tLe=yr(),Aw=zM(),OP=yr();function nLe(e,t){if(Aw.isEnabled())switch(e.data.baseType){case OP.TelemetryTypeString.Exception:var n=e.data.baseData;n.properties=pa(pa({},n.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var r={cloudRoleInstance:e.tags[t.keys.cloudRoleInstance],cloudRoleName:e.tags[t.keys.cloudRole]};Aw.countException(r);break;case OP.TelemetryTypeString.Trace:var i=e.data.baseData;i.properties=pa(pa({},i.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var o={cloudRoleInstance:e.tags[t.keys.cloudRoleInstance],cloudRoleName:e.tags[t.keys.cloudRole],traceSeverityLevel:tLe.SeverityLevel[i.severity]};Aw.countTrace(o);break;case OP.TelemetryTypeString.Request:var s=e.data.baseData;s.properties=pa(pa({},s.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var a={cloudRoleInstance:e.tags[t.keys.cloudRoleInstance],cloudRoleName:e.tags[t.keys.cloudRole],operationSynthetic:e.tags[t.keys.operationSyntheticSource],requestSuccess:s.success,requestResultCode:s.responseCode};Aw.countRequest(s.duration,a);break;case OP.TelemetryTypeString.Dependency:var u=e.data.baseData;u.properties=pa(pa({},u.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var c={cloudRoleInstance:e.tags[t.keys.cloudRoleInstance],cloudRoleName:e.tags[t.keys.cloudRole],operationSynthetic:e.tags[t.keys.operationSyntheticSource],dependencySuccess:u.success,dependencyType:u.type,dependencyTarget:u.target,dependencyResultCode:u.resultCode};Aw.countDependency(u.duration,c);break}return!0}fg.preAggregatedMetricsTelemetryProcessor=nLe});var yoe=w(fa=>{"use strict";var rLe=fa&&fa.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),NP=fa&&fa.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&rLe(t,e,n)};Object.defineProperty(fa,"__esModule",{value:!0});NP(poe(),fa);NP(hoe(),fa);NP(goe(),fa);NP(voe(),fa)});var Uq=w((kit,Eoe)=>{"use strict";var Ee=yr(),qo=Qn(),xoe=al(),iLe=function(){function e(){}return e.createEnvelope=function(t,n,r,i,o){var s=null;switch(n){case Ee.TelemetryType.Trace:s=e.createTraceData(t);break;case Ee.TelemetryType.Dependency:s=e.createDependencyData(t);break;case Ee.TelemetryType.Event:s=e.createEventData(t);break;case Ee.TelemetryType.Exception:s=e.createExceptionData(t);break;case Ee.TelemetryType.Request:s=e.createRequestData(t);break;case Ee.TelemetryType.Metric:s=e.createMetricData(t);break;case Ee.TelemetryType.Availability:s=e.createAvailabilityData(t);break;case Ee.TelemetryType.PageView:s=e.createPageViewData(t);break}if(s&&s.baseData&&Ee.domainSupportsProperties(s.baseData)){if(r)if(!s.baseData.properties)s.baseData.properties=r;else for(var a in r)s.baseData.properties[a]||(s.baseData.properties[a]=r[a]);e.addAzureFunctionsCorrelationProperties(s.baseData.properties),s.baseData.properties&&(s.baseData.properties=qo.validateStringMap(s.baseData.properties))}var u=o&&o.instrumentationKey||"",c=new Ee.Envelope;return c.data=s,c.iKey=u,c.name="Microsoft.ApplicationInsights."+u.replace(/-/g,"")+"."+s.baseType.substr(0,s.baseType.length-4),c.tags=this.getTags(i,t.tagOverrides),c.time=new Date().toISOString(),c.ver=1,c.sampleRate=o?o.samplingPercentage:100,n===Ee.TelemetryType.Metric&&(c.sampleRate=100),c},e.addAzureFunctionsCorrelationProperties=function(t){var n=xoe.CorrelationContextManager.getCurrentContext();if(n&&n.customProperties&&n.customProperties.getProperty instanceof Function){t=t||{};var r=n.customProperties.getProperty("InvocationId");r&&(t.InvocationId=r),r=n.customProperties.getProperty("ProcessId"),r&&(t.ProcessId=r),r=n.customProperties.getProperty("LogLevel"),r&&(t.LogLevel=r),r=n.customProperties.getProperty("Category"),r&&(t.Category=r),r=n.customProperties.getProperty("HostInstanceId"),r&&(t.HostInstanceId=r),r=n.customProperties.getProperty("AzFuncLiveLogsSessionId"),r&&(t.AzFuncLiveLogsSessionId=r)}},e.createTraceData=function(t){var n=new Ee.MessageData;n.message=t.message,n.properties=t.properties,isNaN(t.severity)?n.severityLevel=Ee.SeverityLevel.Information:n.severityLevel=t.severity;var r=new Ee.Data;return r.baseType=Ee.telemetryTypeToBaseType(Ee.TelemetryType.Trace),r.baseData=n,r},e.createDependencyData=function(t){var n=new Ee.RemoteDependencyData;typeof t.name=="string"&&(n.name=t.name.length>1024?t.name.slice(0,1021)+"...":t.name),n.data=t.data,n.target=t.target,n.duration=qo.msToTimeSpan(t.duration),n.success=t.success,n.type=t.dependencyTypeName,n.properties=t.properties,n.resultCode=t.resultCode?t.resultCode.toString():"0",t.id?n.id=t.id:n.id=qo.w3cTraceId();var r=new Ee.Data;return r.baseType=Ee.telemetryTypeToBaseType(Ee.TelemetryType.Dependency),r.baseData=n,r},e.createEventData=function(t){var n=new Ee.EventData;n.name=t.name,n.properties=t.properties,n.measurements=t.measurements;var r=new Ee.Data;return r.baseType=Ee.telemetryTypeToBaseType(Ee.TelemetryType.Event),r.baseData=n,r},e.createExceptionData=function(t){var n=new Ee.ExceptionData;n.properties=t.properties,isNaN(t.severity)?n.severityLevel=Ee.SeverityLevel.Error:n.severityLevel=t.severity,n.measurements=t.measurements,n.exceptions=[];var r=t.exception.stack,i=new Ee.ExceptionDetails;i.message=t.exception.message,i.typeName=t.exception.name,i.parsedStack=this.parseStack(r),i.hasFullStack=qo.isArray(i.parsedStack)&&i.parsedStack.length>0,n.exceptions.push(i);var o=new Ee.Data;return o.baseType=Ee.telemetryTypeToBaseType(Ee.TelemetryType.Exception),o.baseData=n,o},e.createRequestData=function(t){var n=new Ee.RequestData;t.id?n.id=t.id:n.id=qo.w3cTraceId(),n.name=t.name,n.url=t.url,n.source=t.source,n.duration=qo.msToTimeSpan(t.duration),n.responseCode=t.resultCode?t.resultCode.toString():"0",n.success=t.success,n.properties=t.properties,n.measurements=t.measurements;var r=new Ee.Data;return r.baseType=Ee.telemetryTypeToBaseType(Ee.TelemetryType.Request),r.baseData=n,r},e.createMetricData=function(t){var n=new Ee.MetricData;n.metrics=[];var r=new Ee.DataPoint;r.count=isNaN(t.count)?1:t.count,r.kind=Ee.DataPointType.Aggregation,r.max=isNaN(t.max)?t.value:t.max,r.min=isNaN(t.min)?t.value:t.min,r.name=t.name,r.stdDev=isNaN(t.stdDev)?0:t.stdDev,r.value=t.value,r.ns=t.namespace,n.metrics.push(r),n.properties=t.properties;var i=new Ee.Data;return i.baseType=Ee.telemetryTypeToBaseType(Ee.TelemetryType.Metric),i.baseData=n,i},e.createAvailabilityData=function(t){var n=new Ee.AvailabilityData;t.id?n.id=t.id:n.id=qo.w3cTraceId(),n.name=t.name,n.duration=qo.msToTimeSpan(t.duration),n.success=t.success,n.runLocation=t.runLocation,n.message=t.message,n.measurements=t.measurements,n.properties=t.properties;var r=new Ee.Data;return r.baseType=Ee.telemetryTypeToBaseType(Ee.TelemetryType.Availability),r.baseData=n,r},e.createPageViewData=function(t){var n=new Ee.PageViewData;n.name=t.name,n.duration=qo.msToTimeSpan(t.duration),n.url=t.url,n.measurements=t.measurements,n.properties=t.properties;var r=new Ee.Data;return r.baseType=Ee.telemetryTypeToBaseType(Ee.TelemetryType.PageView),r.baseData=n,r},e.getTags=function(t,n){var r=xoe.CorrelationContextManager.getCurrentContext(),i={};if(t&&t.tags)for(var o in t.tags)i[o]=t.tags[o];if(n)for(var o in n)i[o]=n[o];return r&&(i[t.keys.operationId]=i[t.keys.operationId]||r.operation.id,i[t.keys.operationName]=i[t.keys.operationName]||r.operation.name,i[t.keys.operationParentId]=i[t.keys.operationParentId]||r.operation.parentId),i},e.parseStack=function(t){var n=void 0;if(typeof t=="string"){var r=t.split(`
`);n=[];for(var i=0,o=0,s=0;s<=r.length;s++){var a=r[s];if(woe.regex.test(a)){var u=new woe(r[s],i++);o+=u.sizeInBytes,n.push(u)}}var c=32*1024;if(o>c)for(var l=0,d=n.length-1,p=0,f=l,m=d;l<d;){var h=n[l].sizeInBytes,g=n[d].sizeInBytes;if(p+=h+g,p>c){var v=m-f+1;n.splice(f,v);break}f=l,m=d,l++,d--}}return n},e}(),woe=function(){function e(t,n){this.sizeInBytes=0,this.level=n,this.method="<no_method>",this.assembly=qo.trim(t);var r=t.match(e.regex);r&&r.length>=5&&(this.method=qo.trim(r[2])||this.method,this.fileName=qo.trim(r[4])||"<no_filename>",this.line=parseInt(r[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,e.baseSize=58,e}();Eoe.exports=iLe});var boe=w(El=>{"use strict";var oLe=El&&El.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},sLe=El&&El.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(El,"__esModule",{value:!0});El.FileAccessControl=void 0;var aLe=require("fs"),cLe=require("os"),mg=require("child_process"),uLe=Vt(),lLe=function(){function e(){}return e.checkFileProtection=function(){if(!e.OS_PROVIDES_FILE_PROTECTION&&!e.OS_FILE_PROTECTION_CHECKED)if(e.OS_FILE_PROTECTION_CHECKED=!0,e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=aLe.existsSync(e.ICACLS_PATH)}catch{}e.OS_PROVIDES_FILE_PROTECTION||uLe.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0},e.applyACLRules=function(t){return oLe(this,void 0,void 0,function(){var n,r;return sLe(this,function(i){switch(i.label){case 0:if(!e.USE_ICACLS)return[3,7];if(e.ACLED_DIRECTORIES[t]!==void 0)return[3,6];e.ACLED_DIRECTORIES[t]=!1,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,this._getACLIdentity()];case 2:return n=i.sent(),[4,this._runICACLS(this._getACLArguments(t,n))];case 3:return i.sent(),e.ACLED_DIRECTORIES[t]=!0,[3,5];case 4:throw r=i.sent(),e.ACLED_DIRECTORIES[t]=!1,r;case 5:return[3,7];case 6:if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)");i.label=7;case 7:return[2]}})})},e.applyACLRulesSync=function(t){if(e.USE_ICACLS){if(e.ACLED_DIRECTORIES[t]===void 0){this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),e.ACLED_DIRECTORIES[t]=!0;return}else if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e._runICACLS=function(t){return new Promise(function(n,r){var i=mg.spawn(e.ICACLS_PATH,t,{windowsHide:!0});i.on("error",function(o){return r(o)}),i.on("close",function(o,s){o===0?n():r(new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+o+")"))})})},e._runICACLSSync=function(t){if(mg.spawnSync){var n=mg.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(n.error)throw n.error;if(n.status!==0)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+n.status+")")}else throw new Error("Could not synchronously call ICACLS under current version of Node.js")},e._getACLIdentity=function(){return new Promise(function(t,n){e.ACL_IDENTITY&&t(e.ACL_IDENTITY);var r=mg.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),i="";r.stdout.on("data",function(o){return i+=o}),r.on("error",function(o){return n(o)}),r.on("close",function(o,s){e.ACL_IDENTITY=i&&i.trim(),o===0?t(e.ACL_IDENTITY):n(new Error("Getting ACL identity did not succeed (PS returned code "+o+")"))})})},e._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(mg.spawnSync){var t=mg.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(t.status!==0)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}else throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e._getACLArguments=function(t,n){return[t,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",n+":(OI)(CI)F","/inheritance:r"]},e.TAG="FileAccessControl",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.OS_FILE_PROTECTION_CHECKED=!1,e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS=cLe.type()==="Windows_NT",e}();El.FileAccessControl=lLe});var $q=w((kw,Coe)=>{"use strict";var LP=kw&&kw.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},FP=kw&&kw.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},qq=require("fs"),dLe=require("os"),Dp=require("path"),pLe=require("zlib"),bl=en(),fLe=Wh(),Dc=fL(),gi=Qn(),mLe=require("url"),_oe=Vt(),Dw=boe(),hLe=439,gLe=402,vLe=[200,206,402,408,429,439,500],yLe=function(){function e(t,n,r,i,o,s,a){this._redirectedHost=null,this._config=t,this._onSuccess=r,this._onError=i,this._statsbeat=o,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._getAuthorizationHandler=n,this._fileCleanupTimer=null,this._tempDir=Dp.join(dLe.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey),this._isStatsbeatSender=s||!1,this._shutdownStatsbeat=a,this._failedToIngestCounter=0,this._statsbeatHasReachedIngestionAtLeastOnce=!1}return e.prototype.setDiskRetryMode=function(t,n,r){var i=this;t&&Dw.FileAccessControl.checkFileProtection(),this._enableDiskRetryMode=Dw.FileAccessControl.OS_PROVIDES_FILE_PROTECTION&&t,typeof n=="number"&&n>=0&&(this._resendInterval=Math.floor(n)),typeof r=="number"&&r>=0&&(this._maxBytesOnDisk=Math.floor(r)),t&&!Dw.FileAccessControl.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,this._logWarn("Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?(this._statsbeat&&this._statsbeat.addFeature(bl.StatsbeatFeature.DISK_RETRY),this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout(function(){i._fileCleanupTask()},e.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref())):(this._statsbeat&&this._statsbeat.removeFeature(bl.StatsbeatFeature.DISK_RETRY),this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer))},e.prototype.send=function(t,n){return LP(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,d=this;return FP(this,function(p){switch(p.label){case 0:if(!t)return[3,5];if(r=this._redirectedHost||this._config.endpointUrl,i=new mLe.URL(r).hostname,o={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},s=this._getAuthorizationHandler?this._getAuthorizationHandler(this._config):null,!s)return[3,4];this._statsbeat&&this._statsbeat.addFeature(bl.StatsbeatFeature.AAD_HANDLING),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,s.addAuthorizationHeader(o)];case 2:return p.sent(),[3,4];case 3:return a=p.sent(),u="Failed to get AAD bearer token for the Application.",this._enableDiskRetryMode&&(u+="This batch of telemetry items will be retried. ",this._storeToDisk(t)),u+="Error:"+a.toString(),this._logWarn(u),typeof n=="function"&&n(u),[2];case 4:c="",t.forEach(function(f){var m=gi.stringify(f);typeof m=="string"&&(c+=m+`
`)}),c.length>0&&(c=c.substring(0,c.length-1)),l=Buffer.from?Buffer.from(c):new Buffer(c),pLe.gzip(l,function(f,m){var h=m;f?(d._logWarn(gi.dumpObj(f)),h=l,o.headers["Content-Length"]=l.length.toString()):(o.headers["Content-Encoding"]="gzip",o.headers["Content-Length"]=m.length.toString()),d._logInfo(gi.dumpObj(o)),o[fLe.disableCollectionRequestOption]=!0;var g=+new Date,v=function(x){x.setEncoding("utf-8");var E="";x.on("data",function(b){E+=b}),x.on("end",function(){var b=+new Date,C=b-g;if(d._numConsecutiveFailures=0,d._isStatsbeatSender&&!d._statsbeatHasReachedIngestionAtLeastOnce&&(vLe.includes(x.statusCode)?d._statsbeatHasReachedIngestionAtLeastOnce=!0:d._statsbeatFailedToIngest()),d._statsbeat&&(x.statusCode==gLe||x.statusCode==hLe?d._statsbeat.countThrottle(bl.StatsbeatNetworkCategory.Breeze,i,x.statusCode):d._statsbeat.countRequest(bl.StatsbeatNetworkCategory.Breeze,i,C,x.statusCode===200,x.statusCode)),d._enableDiskRetryMode){if(x.statusCode===200)d._resendTimer||(d._resendTimer=setTimeout(function(){d._resendTimer=null,d._sendFirstFileOnDisk()},d._resendInterval),d._resendTimer.unref());else if(d._isRetriable(x.statusCode))try{d._statsbeat&&d._statsbeat.countRetry(bl.StatsbeatNetworkCategory.Breeze,i,x.statusCode);var R=JSON.parse(E),T=[];R.errors&&(R.errors.forEach(function(P){(P.statusCode==429||P.statusCode==500||P.statusCode==503)&&T.push(t[P.index])}),T.length>0&&d._storeToDisk(T))}catch{d._storeToDisk(t)}}if(x.statusCode===307||x.statusCode===308)if(d._numConsecutiveRedirects++,d._numConsecutiveRedirects<10){var _=x.headers.location?x.headers.location.toString():null;_&&(d._redirectedHost=_,d.send(t,n))}else{var A={name:"Circular Redirect",message:"Error sending telemetry because of circular redirects."};d._statsbeat&&d._statsbeat.countException(bl.StatsbeatNetworkCategory.Breeze,i,A),typeof n=="function"&&n("Error sending telemetry because of circular redirects.")}else d._numConsecutiveRedirects=0,typeof n=="function"&&n(E),d._logInfo(E),typeof d._onSuccess=="function"&&d._onSuccess(E)})},y=gi.makeRequest(d._config,r,o,v);y.setTimeout(e.HTTP_TIMEOUT,function(){d._requestTimedOut=!0,y.abort()}),y.on("error",function(x){if(d._isStatsbeatSender&&!d._statsbeatHasReachedIngestionAtLeastOnce&&d._statsbeatFailedToIngest(),d._numConsecutiveFailures++,d._statsbeat&&d._statsbeat.countException(bl.StatsbeatNetworkCategory.Breeze,i,x),!d._enableDiskRetryMode||d._numConsecutiveFailures>0&&d._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN===0){var E="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";d._enableDiskRetryMode&&(E="Ingestion endpoint could not be reached "+d._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),d._logWarn(E,gi.dumpObj(x))}else{var E="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";d._logInfo(E,gi.dumpObj(x))}d._onErrorHelper(x),typeof n=="function"&&(x?(d._requestTimedOut&&(x.name="telemetry timeout",x.message="telemetry request timed out"),n(gi.dumpObj(x))):n("Error sending telemetry")),d._enableDiskRetryMode&&d._storeToDisk(t)}),y.write(h),y.end()}),p.label=5;case 5:return[2]}})})},e.prototype.saveOnCrash=function(t){this._enableDiskRetryMode&&this._storeToDiskSync(gi.stringify(t))},e.prototype._isRetriable=function(t){return t===206||t===401||t===403||t===408||t===429||t===500||t===502||t===503||t===504},e.prototype._logInfo=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._isStatsbeatSender||_oe.info(e.TAG,t,n)},e.prototype._logWarn=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._isStatsbeatSender||_oe.warn(e.TAG,t,n)},e.prototype._statsbeatFailedToIngest=function(){this._shutdownStatsbeat&&(this._failedToIngestCounter++,this._failedToIngestCounter>=3&&this._shutdownStatsbeat())},e.prototype._storeToDisk=function(t){return LP(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return FP(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),this._logInfo("Checking existence of data storage directory: "+this._tempDir),[4,Dc.confirmDirExists(this._tempDir)];case 1:return c.sent(),[3,3];case 2:return n=c.sent(),this._logWarn("Failed to create folder to put telemetry: "+gi.dumpObj(n)),this._onErrorHelper(n),[2];case 3:return c.trys.push([3,5,,6]),[4,Dw.FileAccessControl.applyACLRules(this._tempDir)];case 4:return c.sent(),[3,6];case 5:return r=c.sent(),this._logWarn("Failed to apply file access control to folder: "+gi.dumpObj(r)),this._onErrorHelper(r),[2];case 6:return c.trys.push([6,8,,9]),[4,Dc.getShallowDirectorySize(this._tempDir)];case 7:return i=c.sent(),i>this._maxBytesOnDisk?(this._logWarn("Not saving data due to max size limit being met. Directory size in bytes is: "+i),[2]):[3,9];case 8:return o=c.sent(),this._logWarn("Failed to read directory for retriable telemetry: "+gi.dumpObj(o)),this._onErrorHelper(o),[2];case 9:return c.trys.push([9,11,,12]),s=new Date().getTime()+".ai.json",a=Dp.join(this._tempDir,s),this._logInfo("saving data to disk at: "+a),[4,Dc.writeFileAsync(a,gi.stringify(t),{mode:384})];case 10:return c.sent(),[3,12];case 11:return u=c.sent(),this._logWarn("Failed to persist telemetry to disk: "+gi.dumpObj(u)),this._onErrorHelper(u),[2];case 12:return[2]}})})},e.prototype._storeToDiskSync=function(t){try{this._logInfo("Checking existence of data storage directory: "+this._tempDir),qq.existsSync(this._tempDir)||qq.mkdirSync(this._tempDir),Dw.FileAccessControl.applyACLRulesSync(this._tempDir);var n=Dc.getShallowDirectorySizeSync(this._tempDir);if(n>this._maxBytesOnDisk){this._logInfo("Not saving data due to max size limit being met. Directory size in bytes is: "+n);return}var r=new Date().getTime()+".ai.json",i=Dp.join(this._tempDir,r);this._logInfo("saving data before crash to disk at: "+i),qq.writeFileSync(i,t,{mode:384})}catch(o){this._logWarn("Error while saving data to disk: "+gi.dumpObj(o)),this._onErrorHelper(o)}},e.prototype._sendFirstFileOnDisk=function(){return LP(this,void 0,void 0,function(){var t,n,r,i,o,s;return FP(this,function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),[4,Dc.readdirAsync(this._tempDir)];case 1:return t=a.sent(),t=t.filter(function(u){return Dp.basename(u).indexOf(".ai.json")>-1}),t.length>0?(n=t[0],r=Dp.join(this._tempDir,n),[4,Dc.readFileAsync(r)]):[3,5];case 2:return i=a.sent(),[4,Dc.unlinkAsync(r)];case 3:return a.sent(),o=JSON.parse(i.toString()),[4,this.send(o)];case 4:a.sent(),a.label=5;case 5:return[3,7];case 6:return s=a.sent(),this._onErrorHelper(s),[3,7];case 7:return[2]}})})},e.prototype._onErrorHelper=function(t){typeof this._onError=="function"&&this._onError(t)},e.prototype._fileCleanupTask=function(){return LP(this,void 0,void 0,function(){var t,n,r,i,o,s,a=this;return FP(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),[4,Dc.readdirAsync(this._tempDir)];case 1:if(t=u.sent(),t=t.filter(function(c){return Dp.basename(c).indexOf(".ai.json")>-1}),!(t.length>0))return[3,5];n=0,u.label=2;case 2:return n<t.length?(r=new Date(parseInt(t[n].split(".ai.json")[0])),i=new Date(+new Date-e.FILE_RETEMPTION_PERIOD)>r,i?(o=Dp.join(this._tempDir,t[n]),[4,Dc.unlinkAsync(o).catch(function(c){a._onErrorHelper(c)})]):[3,4]):[3,5];case 3:u.sent(),u.label=4;case 4:return n++,[3,2];case 5:return[3,7];case 6:return s=u.sent(),s.code!="ENOENT"&&this._onErrorHelper(s),[3,7];case 7:return[2]}})})},e.TAG="Sender",e.WAIT_BETWEEN_RESEND=60*1e3,e.MAX_BYTES_ON_DISK=50*1024*1024,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.CLEANUP_TIMEOUT=60*60*1e3,e.FILE_RETEMPTION_PERIOD=7*24*60*60*1e3,e.TEMPDIR_PREFIX="appInsights-node",e.HTTP_TIMEOUT=2e4,e}();Coe.exports=yLe});var Soe=w(MP=>{"use strict";Object.defineProperty(MP,"__esModule",{value:!0});MP.NetworkStatsbeat=void 0;var xLe=function(){function e(t,n){this.endpoint=t,this.host=n,this.totalRequestCount=0,this.totalSuccesfulRequestCount=0,this.totalFailedRequestCount=[],this.retryCount=[],this.exceptionCount=[],this.throttleCount=[],this.intervalRequestExecutionTime=0,this.lastIntervalRequestExecutionTime=0,this.lastTime=+new Date,this.lastRequestCount=0}return e}();MP.NetworkStatsbeat=xLe});var Aoe=w((kp,Roe)=>{"use strict";var ma=kp&&kp.__assign||function(){return ma=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ma.apply(this,arguments)},jq=kp&&kp.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(d){s(d)}}function u(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(e,t||[])).next())})},Hq=kp&&kp.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},wLe=require("os"),ELe=Uq(),Toe=Vt(),bLe=$q(),qt=en(),_Le=yr(),CLe=oU(),SLe=hU(),Ioe=Gh(),TLe=Soe(),Poe=Qn(),ILe="node",PLe=function(){function e(t,n){this._attach=qt.StatsbeatAttach.sdk,this._feature=qt.StatsbeatFeature.NONE,this._instrumentation=qt.StatsbeatInstrumentation.NONE,this._isInitialized=!1,this._statbeatMetrics=[],this._networkStatsbeatCollection=[],this._config=t,this._context=n||new Ioe;var r=this._getConnectionString(t);this._statsbeatConfig=new SLe(r),this._statsbeatConfig.samplingPercentage=100,this._sender=new bLe(this._statsbeatConfig,null,null,null,null,!0,this._shutdownStatsbeat.bind(this))}return e.prototype.enable=function(t){var n=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._getCustomProperties(),this._isInitialized=!0),t?(this._handle||(this._handle=setInterval(function(){n.trackShortIntervalStatsbeats()},e.STATS_COLLECTION_SHORT_INTERVAL),this._handle.unref()),this._longHandle||(this.trackLongIntervalStatsbeats(),this._longHandle=setInterval(function(){n.trackLongIntervalStatsbeats()},e.STATS_COLLECTION_LONG_INTERVAL),this._longHandle.unref())):(this._handle&&(clearInterval(this._handle),this._handle=null),this._longHandle&&(clearInterval(this._longHandle),this._longHandle=null))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isEnabled=function(){return this._isEnabled},e.prototype.setCodelessAttach=function(){this._attach=qt.StatsbeatAttach.codeless},e.prototype.addFeature=function(t){this._feature|=t},e.prototype.removeFeature=function(t){this._feature&=~t},e.prototype.addInstrumentation=function(t){this._instrumentation|=t},e.prototype.removeInstrumentation=function(t){this._instrumentation&=~t},e.prototype.countRequest=function(t,n,r,i,o){if(this.isEnabled()){var s=this._getNetworkStatsbeatCounter(t,n);if(s.totalRequestCount++,s.intervalRequestExecutionTime+=r,i===!1){if(!o)return;var a=s.totalFailedRequestCount.find(function(u){return o===u.statusCode});a?a.count++:s.totalFailedRequestCount.push({statusCode:o,count:1})}else s.totalSuccesfulRequestCount++}},e.prototype.countException=function(t,n,r){if(this.isEnabled()){var i=this._getNetworkStatsbeatCounter(t,n),o=i.exceptionCount.find(function(s){return r.name===s.exceptionType});o?o.count++:i.exceptionCount.push({exceptionType:r.name,count:1})}},e.prototype.countThrottle=function(t,n,r){if(this.isEnabled()){var i=this._getNetworkStatsbeatCounter(t,n),o=i.throttleCount.find(function(s){return r===s.statusCode});o?o.count++:i.throttleCount.push({statusCode:r,count:1})}},e.prototype.countRetry=function(t,n,r){if(this.isEnabled()){var i=this._getNetworkStatsbeatCounter(t,n),o=i.retryCount.find(function(s){return r===s.statusCode});o?o.count++:i.retryCount.push({statusCode:r,count:1})}},e.prototype.trackShortIntervalStatsbeats=function(){return jq(this,void 0,void 0,function(){var t,n;return Hq(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this._getResourceProvider()];case 1:return r.sent(),t={os:this._os,rp:this._resourceProvider,cikey:this._cikey,runtimeVersion:this._runtimeVersion,language:this._language,version:this._sdkVersion,attach:this._attach},this._trackRequestDuration(t),this._trackRequestsCount(t),[4,this._sendStatsbeats()];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),Toe.info(e.TAG,"Failed to send Statsbeat metrics: "+Poe.dumpObj(n)),[3,4];case 4:return[2]}})})},e.prototype.trackLongIntervalStatsbeats=function(){return jq(this,void 0,void 0,function(){var t,n,r,i,o;return Hq(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,this._getResourceProvider()];case 1:return s.sent(),t={os:this._os,rp:this._resourceProvider,cikey:this._cikey,runtimeVersion:this._runtimeVersion,language:this._language,version:this._sdkVersion,attach:this._attach},n=Object.assign({rpId:this._resourceIdentifier},t),this._statbeatMetrics.push({name:qt.StatsbeatCounter.ATTACH,value:1,properties:n}),this._instrumentation!=qt.StatsbeatInstrumentation.NONE&&(r=Object.assign({feature:this._instrumentation,type:qt.StatsbeatFeatureType.Instrumentation},t),this._statbeatMetrics.push({name:qt.StatsbeatCounter.FEATURE,value:1,properties:r})),this._feature!=qt.StatsbeatFeature.NONE&&(i=Object.assign({feature:this._feature,type:qt.StatsbeatFeatureType.Feature},t),this._statbeatMetrics.push({name:qt.StatsbeatCounter.FEATURE,value:1,properties:i})),[4,this._sendStatsbeats()];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),Toe.info(e.TAG,"Failed to send Statsbeat metrics: "+Poe.dumpObj(o)),[3,4];case 4:return[2]}})})},e.prototype._getNetworkStatsbeatCounter=function(t,n){for(var r=this._getShortHost(n),i=0;i<this._networkStatsbeatCollection.length;i++)if(t===this._networkStatsbeatCollection[i].endpoint&&r===this._networkStatsbeatCollection[i].host)return this._networkStatsbeatCollection[i];var o=new TLe.NetworkStatsbeat(t,r);return this._networkStatsbeatCollection.push(o),o},e.prototype._trackRequestDuration=function(t){for(var n=0;n<this._networkStatsbeatCollection.length;n++){var r=this._networkStatsbeatCollection[n];r.time=+new Date;var i=r.totalRequestCount-r.lastRequestCount||0,o=r.intervalRequestExecutionTime-r.lastIntervalRequestExecutionTime,s=o>0&&o/i||0;if(r.lastIntervalRequestExecutionTime=r.intervalRequestExecutionTime,i>0){var a=Object.assign({endpoint:this._networkStatsbeatCollection[n].endpoint,host:this._networkStatsbeatCollection[n].host},t);this._statbeatMetrics.push({name:qt.StatsbeatCounter.REQUEST_DURATION,value:s,properties:a})}r.lastRequestCount=r.totalRequestCount,r.lastTime=r.time}},e.prototype._getShortHost=function(t){var n=t;try{var r=new RegExp(/^https?:\/\/(?:www\.)?([^\/.-]+)/),i=r.exec(t);i!=null&&i.length>1&&(n=i[1]),n=n.replace(".in.applicationinsights.azure.com","")}catch{}return n},e.prototype._trackRequestsCount=function(t){for(var n=this,r=function(a){o=i._networkStatsbeatCollection[a];var u=Object.assign({endpoint:o.endpoint,host:o.host},t);o.totalSuccesfulRequestCount>0&&(i._statbeatMetrics.push({name:qt.StatsbeatCounter.REQUEST_SUCCESS,value:o.totalSuccesfulRequestCount,properties:u}),o.totalSuccesfulRequestCount=0),o.totalFailedRequestCount.length>0&&(o.totalFailedRequestCount.forEach(function(c){u=Object.assign(ma(ma({},u),{statusCode:c.statusCode})),n._statbeatMetrics.push({name:qt.StatsbeatCounter.REQUEST_FAILURE,value:c.count,properties:u})}),o.totalFailedRequestCount=[]),o.retryCount.length>0&&(o.retryCount.forEach(function(c){u=Object.assign(ma(ma({},u),{statusCode:c.statusCode})),n._statbeatMetrics.push({name:qt.StatsbeatCounter.RETRY_COUNT,value:c.count,properties:u})}),o.retryCount=[]),o.throttleCount.length>0&&(o.throttleCount.forEach(function(c){u=Object.assign(ma(ma({},u),{statusCode:c.statusCode})),n._statbeatMetrics.push({name:qt.StatsbeatCounter.THROTTLE_COUNT,value:c.count,properties:u})}),o.throttleCount=[]),o.exceptionCount.length>0&&(o.exceptionCount.forEach(function(c){u=Object.assign(ma(ma({},u),{exceptionType:c.exceptionType})),n._statbeatMetrics.push({name:qt.StatsbeatCounter.EXCEPTION_COUNT,value:c.count,properties:u})}),o.exceptionCount=[])},i=this,o,s=0;s<this._networkStatsbeatCollection.length;s++)r(s)},e.prototype._sendStatsbeats=function(){return jq(this,void 0,void 0,function(){var t,n,r,i;return Hq(this,function(o){switch(o.label){case 0:for(t=[],n=0;n<this._statbeatMetrics.length;n++)r={name:this._statbeatMetrics[n].name,value:this._statbeatMetrics[n].value,properties:this._statbeatMetrics[n].properties},i=ELe.createEnvelope(r,_Le.TelemetryType.Metric,null,this._context,this._statsbeatConfig),i.name=qt.StatsbeatTelemetryName,t.push(i);return this._statbeatMetrics=[],[4,this._sender.send(t)];case 1:return o.sent(),[2]}})})},e.prototype._getCustomProperties=function(){this._language=ILe,this._cikey=this._config.instrumentationKey,this._sdkVersion=Ioe.sdkVersion,this._os=wLe.type(),this._runtimeVersion=process.version},e.prototype._getResourceProvider=function(){var t=this;return new Promise(function(n,r){var i=!1;t._resourceProvider=qt.StatsbeatResourceProvider.unknown,t._resourceIdentifier=qt.StatsbeatResourceProvider.unknown,process.env.WEBSITE_SITE_NAME?(t._resourceProvider=qt.StatsbeatResourceProvider.appsvc,t._resourceIdentifier=process.env.WEBSITE_SITE_NAME,process.env.WEBSITE_HOME_STAMPNAME&&(t._resourceIdentifier+="/"+process.env.WEBSITE_HOME_STAMPNAME)):process.env.FUNCTIONS_WORKER_RUNTIME?(t._resourceProvider=qt.StatsbeatResourceProvider.functions,process.env.WEBSITE_HOSTNAME&&(t._resourceIdentifier=process.env.WEBSITE_HOSTNAME)):t._config&&(t._isVM===void 0||t._isVM==!0?(i=!0,CLe.AzureVirtualMachine.getAzureComputeMetadata(t._config,function(o){t._isVM=o.isVM,t._isVM&&(t._resourceProvider=qt.StatsbeatResourceProvider.vm,t._resourceIdentifier=o.id+"/"+o.subscriptionId,o.osType&&(t._os=o.osType)),n()})):t._resourceProvider=qt.StatsbeatResourceProvider.unknown),i||n()})},e.prototype._shutdownStatsbeat=function(){this.enable(!1)},e.prototype._getConnectionString=function(t){for(var n=t.endpointUrl,r=["westeurope","northeurope","francecentral","francesouth","germanywestcentral","norwayeast","norwaywest","swedencentral","switzerlandnorth","switzerlandwest","uksouth","ukwest"],i=0;i<r.length;i++)if(n.indexOf(r[i])>-1)return e.EU_CONNECTION_STRING;return e.NON_EU_CONNECTION_STRING},e.NON_EU_CONNECTION_STRING="InstrumentationKey=c4a29126-a7cb-47e5-b348-11414998b11e;IngestionEndpoint=https://westus-0.in.applicationinsights.azure.com",e.EU_CONNECTION_STRING="InstrumentationKey=7dc56bab-3c0c-4e9f-9ebb-d1acadee8d0f;IngestionEndpoint=https://westeurope-5.in.applicationinsights.azure.com",e.STATS_COLLECTION_SHORT_INTERVAL=9e5,e.STATS_COLLECTION_LONG_INTERVAL=864e5,e.TAG="Statsbeat",e}();Roe.exports=PLe});var Ooe=w((Lit,koe)=>{"use strict";var RLe=require("url"),ALe=hU(),DLe=uoe(),kLe=Gh(),kc=yr(),OLe=doe(),UP=yoe(),Doe=al(),NLe=Aoe(),LLe=$q(),Bq=Qn(),qP=Vt(),FLe=Uq(),MLe=function(){function e(t){this._telemetryProcessors=[],this._enableAzureProperties=!1;var n=new ALe(t);if(this.config=n,!this.config.instrumentationKey||this.config.instrumentationKey=="")throw new Error("Instrumentation key not found, please provide a connection string before starting Application Insights SDK.");this.context=new kLe,this.commonProperties={},this.authorizationHandler=null,this.config.disableStatsbeat||(this._statsbeat=new NLe(this.config,this.context),this._statsbeat.enable(!0));var r=new LLe(this.config,this.getAuthorizationHandler,null,null,this._statsbeat);this.channel=new OLe(function(){return n.disableAppInsights},function(){return n.maxBatchSize},function(){return n.maxBatchIntervalMs},r)}return e.prototype.trackAvailability=function(t){this.track(t,kc.TelemetryType.Availability)},e.prototype.trackPageView=function(t){this.track(t,kc.TelemetryType.PageView)},e.prototype.trackTrace=function(t){this.track(t,kc.TelemetryType.Trace)},e.prototype.trackMetric=function(t){this.track(t,kc.TelemetryType.Metric)},e.prototype.trackException=function(t){t&&t.exception&&!Bq.isError(t.exception)&&(t.exception=new Error(t.exception.toString())),this.track(t,kc.TelemetryType.Exception)},e.prototype.trackEvent=function(t){this.track(t,kc.TelemetryType.Event)},e.prototype.trackRequest=function(t){this.track(t,kc.TelemetryType.Request)},e.prototype.trackDependency=function(t){if(t&&!t.target&&t.data)try{t.target=new RLe.URL(t.data).host}catch(n){t.target=null,qP.warn(e.TAG,"The URL object is failed to create.",n)}this.track(t,kc.TelemetryType.Dependency)},e.prototype.flush=function(t){this.channel.triggerSend(t?!!t.isAppCrashing:!1,t?t.callback:void 0)},e.prototype.track=function(t,n){if(t&&kc.telemetryTypeToBaseType(n)){var r=FLe.createEnvelope(t,n,this.commonProperties,this.context,this.config);t.time&&(r.time=t.time.toISOString()),this._enableAzureProperties&&UP.azureRoleEnvironmentTelemetryProcessor(r,this.context);var i=this.runTelemetryProcessors(r,t.contextObjects);i=i&&UP.samplingTelemetryProcessor(r,{correlationContext:Doe.CorrelationContextManager.getCurrentContext()}),UP.preAggregatedMetricsTelemetryProcessor(r,this.context),i&&(UP.performanceMetricsTelemetryProcessor(r,this.quickPulseClient),this.channel.send(r))}else qP.warn(e.TAG,"track() requires telemetry object and telemetryType to be specified.")},e.prototype.setAutoPopulateAzureProperties=function(t){this._enableAzureProperties=t},e.prototype.getAuthorizationHandler=function(t){return t&&t.aadTokenCredential?(this.authorizationHandler||(qP.info(e.TAG,"Adding authorization handler"),this.authorizationHandler=new DLe(t.aadTokenCredential)),this.authorizationHandler):null},e.prototype.addTelemetryProcessor=function(t){this._telemetryProcessors.push(t)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(t,n){var r=!0,i=this._telemetryProcessors.length;if(i===0)return r;n=n||{},n.correlationContext=Doe.CorrelationContextManager.getCurrentContext();for(var o=0;o<i;++o)try{var s=this._telemetryProcessors[o];if(s&&s.apply(null,[t,n])===!1){r=!1;break}}catch(a){r=!0,qP.warn(e.TAG,"One of telemetry processors failed, telemetry item will be sent.",a,t)}return r&&(t&&t.tags&&(t.tags=Bq.validateStringMap(t.tags)),t&&t.data&&t.data.baseData&&t.data.baseData.properties&&(t.data.baseData.properties=Bq.validateStringMap(t.data.baseData.properties))),r},e.prototype.getStatsbeat=function(){return this._statsbeat},e.TAG="TelemetryClient",e}();koe.exports=MLe});var Foe=w((Vq,Loe)=>{"use strict";var ULe=Vq&&Vq.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qLe=Ooe(),Noe=cU(),$Le=Wh(),$P=Vt(),jLe=function(e){ULe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.trackNodeHttpRequestSync=function(n){n&&n.request&&n.response&&n.duration?Noe.trackRequestSync(this,n):$P.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(n){(n.duration||n.error)&&$P.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),n&&n.request&&n.response?Noe.trackRequest(this,n):$P.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(n){n&&n.request?$Le.trackRequest(this,n):$P.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(qLe);Loe.exports=jLe});var Uoe=w(Moe=>{"use strict";Object.defineProperty(Moe,"__esModule",{value:!0})});var Voe=w(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.dispose=ee.Configuration=ee.wrapWithCorrelationContext=ee.startOperation=ee.getCorrelationContext=ee.start=ee.setup=ee.liveMetricsClient=ee.defaultClient=ee.DistributedTracingModes=void 0;var Yq=al(),HLe=Rte(),BLe=Dte(),$oe=OI(),VLe=zM(),WLe=ene(),GLe=pne(),zLe=Wh(),YLe=cU(),joe=pp(),Nw=Vt(),KLe=Dne(),Kq=kne(),XLe=Lne();ee.TelemetryClient=Foe();ee.Contracts=yr();ee.azureFunctionsTypes=Uoe();var Hoe;(function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C"})(Hoe=ee.DistributedTracingModes||(ee.DistributedTracingModes={}));var vi=QLe(),jP=vi.isConsole(),HP=vi.isConsoleLog(),BP=vi.isExceptions(),VP=vi.isPerformance(),WP=vi.isPreAggregatedMetrics(),GP=vi.isHeartBeat(),zP=vi.isRequests(),YP=vi.isDependencies(),Wq=vi.isDiskRetry(),Lw=vi.isCorrelating(),KP,XP=vi.isSendingLiveMetrics(),Xq=vi.isNativePerformance(),Qq,Op=vi.isSnippetInjection(),QP=vi.isAzureFunctions();function QLe(){return{isConsole:function(){return!0},isConsoleLog:function(){return!1},isExceptions:function(){return!0},isPerformance:function(){return!0},isPreAggregatedMetrics:function(){return!0},isHeartBeat:function(){return!1},isRequests:function(){return!0},isDependencies:function(){return!0},isDiskRetry:function(){return!0},isCorrelating:function(){return!0},isSendingLiveMetrics:function(){return!1},isNativePerformance:function(){return!0},isSnippetInjection:function(){return!1},isAzureFunctions:function(){return!1}}}var Gq=void 0,zq=void 0,Ow=void 0,Fw,Mw,Uw,qw,$w,hg,gg,Np,jw,Hw,Gi=!1,qoe;function JLe(e){return ee.defaultClient?Nw.info("The default client is already setup"):(ee.defaultClient=new ee.TelemetryClient(e),ZLe(),Fw=new HLe(ee.defaultClient),Mw=new BLe(ee.defaultClient),Uw=new $oe(ee.defaultClient),qw=new VLe(ee.defaultClient),$w=new WLe(ee.defaultClient),hg=new GLe(ee.defaultClient),Np=new YLe(ee.defaultClient),jw=new zLe(ee.defaultClient),gg||(gg=new Kq.AutoCollectNativePerformance(ee.defaultClient)),Hw=new XLe.AzureFunctionsHook(ee.defaultClient)),ee.defaultClient&&ee.defaultClient.channel&&ee.defaultClient.channel.setUseDiskRetryCaching(Wq,Gq,zq),Jq}ee.setup=JLe;function Boe(){return ee.defaultClient?(Gi=!0,Fw.enable(jP,HP),Mw.enable(BP),Uw.enable(VP),qw.enable(WP),$w.enable(GP),gg.enable(Xq,Qq),Np.useAutoCorrelation(Lw,KP),Np.enable(zP),jw.enable(YP),hg.enable(Op,Ow),ee.liveMetricsClient&&XP&&ee.liveMetricsClient.enable(XP),Hw.enable(QP)):Nw.warn("Start cannot be called before setup"),Jq}ee.start=Boe;function ZLe(){jP=ee.defaultClient.config.enableAutoCollectExternalLoggers!==void 0?ee.defaultClient.config.enableAutoCollectExternalLoggers:jP,HP=ee.defaultClient.config.enableAutoCollectConsole!==void 0?ee.defaultClient.config.enableAutoCollectConsole:HP,BP=ee.defaultClient.config.enableAutoCollectExceptions!==void 0?ee.defaultClient.config.enableAutoCollectExceptions:BP,VP=ee.defaultClient.config.enableAutoCollectPerformance!==void 0?ee.defaultClient.config.enableAutoCollectPerformance:VP,WP=ee.defaultClient.config.enableAutoCollectPreAggregatedMetrics!==void 0?ee.defaultClient.config.enableAutoCollectPreAggregatedMetrics:WP,GP=ee.defaultClient.config.enableAutoCollectHeartbeat!==void 0?ee.defaultClient.config.enableAutoCollectHeartbeat:GP,zP=ee.defaultClient.config.enableAutoCollectRequests!==void 0?ee.defaultClient.config.enableAutoCollectRequests:zP,YP=ee.defaultClient.config.enableAutoDependencyCorrelation!==void 0?ee.defaultClient.config.enableAutoDependencyCorrelation:YP,Lw=ee.defaultClient.config.enableAutoDependencyCorrelation!==void 0?ee.defaultClient.config.enableAutoDependencyCorrelation:Lw,KP=ee.defaultClient.config.enableUseAsyncHooks!==void 0?ee.defaultClient.config.enableUseAsyncHooks:KP,Op=ee.defaultClient.config.enableWebInstrumentation!==void 0?ee.defaultClient.config.enableWebInstrumentation:Op,Op=ee.defaultClient.config.enableAutoWebSnippetInjection===!0?!0:Op,QP=ee.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions!==void 0?ee.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions:QP;var e=Kq.AutoCollectNativePerformance.parseEnabled(ee.defaultClient.config.enableAutoCollectExtendedMetrics,ee.defaultClient.config);Xq=e.isEnabled,Qq=e.disabledMetrics}function eFe(){return Lw?Yq.CorrelationContextManager.getCurrentContext():null}ee.getCorrelationContext=eFe;function tFe(e,t){return Yq.CorrelationContextManager.startOperation(e,t)}ee.startOperation=tFe;function nFe(e,t){return Yq.CorrelationContextManager.wrapCallback(e,t)}ee.wrapWithCorrelationContext=nFe;var Jq=function(){function e(){}return e.setDistributedTracingMode=function(t){return joe.w3cEnabled=t===Hoe.AI_AND_W3C,e},e.setAutoCollectConsole=function(t,n){return n===void 0&&(n=!1),jP=t,HP=n,Gi&&Fw.enable(t,n),e},e.setAutoCollectExceptions=function(t){return BP=t,Gi&&Mw.enable(t),e},e.setAutoCollectPerformance=function(t,n){n===void 0&&(n=!0),VP=t;var r=Kq.AutoCollectNativePerformance.parseEnabled(n,ee.defaultClient.config);return Xq=r.isEnabled,Qq=r.disabledMetrics,Gi&&(Uw.enable(t),gg.enable(r.isEnabled,r.disabledMetrics)),e},e.setAutoCollectPreAggregatedMetrics=function(t){return WP=t,Gi&&qw.enable(t),e},e.setAutoCollectHeartbeat=function(t){return GP=t,Gi&&$w.enable(t),e},e.enableAutoWebSnippetInjection=function(t,n){return Op=t,Ow=n,Gi&&hg.enable(t,Ow),e},e.enableWebInstrumentation=function(t,n){return Op=t,Ow=n,Gi&&hg.enable(t,Ow),e},e.setAutoCollectRequests=function(t){return zP=t,Gi&&Np.enable(t),e},e.setAutoCollectDependencies=function(t){return YP=t,Gi&&jw.enable(t),e},e.setAutoDependencyCorrelation=function(t,n){return Lw=t,KP=n,Gi&&Np.useAutoCorrelation(t,n),e},e.setUseDiskRetryCaching=function(t,n,r){return Wq=t,Gq=n,zq=r,ee.defaultClient&&ee.defaultClient.channel&&ee.defaultClient.channel.setUseDiskRetryCaching(Wq,Gq,zq),e},e.setInternalLogging=function(t,n){return t===void 0&&(t=!1),n===void 0&&(n=!0),Nw.enableDebug=t,Nw.disableWarnings=!n,e},e.setAutoCollectIncomingRequestAzureFunctions=function(t){return QP=t,Gi&&Hw.enable(t),e},e.setSendLiveMetrics=function(t){return t===void 0&&(t=!1),ee.defaultClient?(!ee.liveMetricsClient&&t?(ee.liveMetricsClient=new KLe(ee.defaultClient.config,ee.defaultClient.context,ee.defaultClient.getAuthorizationHandler),qoe=new $oe(ee.liveMetricsClient,1e3,!0),ee.liveMetricsClient.addCollector(qoe),ee.defaultClient.quickPulseClient=ee.liveMetricsClient):ee.liveMetricsClient&&ee.liveMetricsClient.enable(t),XP=t,e):(Nw.warn("Live metrics client cannot be setup without the default client"),e)},e.start=Boe,e}();ee.Configuration=Jq;function rFe(){joe.w3cEnabled=!0,ee.defaultClient=null,Gi=!1,Fw&&Fw.dispose(),Mw&&Mw.dispose(),Uw&&Uw.dispose(),qw&&qw.dispose(),$w&&$w.dispose(),hg&&hg.dispose(),gg&&gg.dispose(),Np&&Np.dispose(),jw&&jw.dispose(),ee.liveMetricsClient&&(ee.liveMetricsClient.enable(!1),XP=!1,ee.liveMetricsClient=void 0),Hw&&Hw.dispose()}ee.dispose=rFe});var Woe=w(Oc=>{"use strict";var iFe=Oc&&Oc.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),oFe=Oc&&Oc.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),JP=Oc&&Oc.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.prototype.hasOwnProperty.call(e,n)&&iFe(t,e,n);return oFe(t,e),t};Object.defineProperty(Oc,"__esModule",{value:!0});var Zq=JP(require("os")),_l=JP(require("vscode")),sFe=JP(require("https")),aFe=dK(),cFe=pK(),Bw=fK(),uFe=n9(),lFe=async(e,t)=>{let n;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let i=await Promise.resolve().then(()=>JP(Voe()));i.defaultClient?(n=new i.TelemetryClient(e),n.channel.setUseDiskRetryCaching(!0)):(i.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),n=i.defaultClient),_l&&_l.env&&(n.context.tags[n.context.keys.userId]=_l.env.machineId,n.context.tags[n.context.keys.sessionId]=_l.env.sessionId,n.context.tags[n.context.keys.cloudRole]=_l.env.appName,n.context.tags[n.context.keys.cloudRoleInstance]=_l.env.appName)}catch(i){return Promise.reject(`Failed to initialize app insights!
`+i.message)}return t!=null&&t.length&&dFe(n,t),{logEvent:(i,o)=>{try{n==null||n.trackEvent({name:i,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements})}catch(s){throw new Error(`Failed to log event to app insights!
`+s.message)}},flush:async()=>{try{n==null||n.flush()}catch(i){throw new Error(`Failed to flush app insights!
`+i.message)}}}};function dFe(e,t){e.addTelemetryProcessor(n=>(Array.isArray(n.tags)?n.tags.forEach(r=>Bw.TelemetryUtil.applyReplacements(r,t)):n.tags&&Bw.TelemetryUtil.applyReplacements(n.tags,t),n.data.baseData&&Bw.TelemetryUtil.applyReplacements(n.data.baseData,t),!0))}function pFe(){return{sendPOST:(t,n)=>{let r={method:"POST",headers:{...t.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(t.data)}};try{let i=sFe.request(t.urlString,r,o=>{o.on("data",function(s){n(o.statusCode??200,o.headers,s.toString())}),o.on("error",function(){n(0,{})})});i.write(t.data),i.end()}catch{n(0,{})}}}}var e$=class extends aFe.BaseTelemetryReporter{constructor(t,n){let r=s=>lFe(s,n);Bw.TelemetryUtil.shouldUseOneDataSystemSDK(t)&&(r=s=>(0,uFe.oneDataSystemClientFactory)(s,_l,pFe()));let i={release:Zq.release(),platform:Zq.platform(),architecture:Zq.arch()},o=new cFe.BaseTelemetrySender(t,r);if(t&&t.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(o,_l,{additionalCommonProperties:Bw.TelemetryUtil.getAdditionalCommonProperties(i)})}};Oc.default=e$});var t$=w(Lp=>{"use strict";Object.defineProperty(Lp,"__esModule",{value:!0});var ZP=require("vscode"),vg=class{constructor(t,n,r){this.extensionName=t,this.extensionVersion=n,this.targetPopulation=r}static trimVersionSuffix(t){let n=/\-[a-zA-Z0-9]+$/;return t.split(n)[0]}getFilterValue(t){switch(t){case Nc.ApplicationVersion:return vg.trimVersionSuffix(ZP.version);case Nc.Build:return ZP.env.appName;case Nc.ClientId:return ZP.env.machineId;case Nc.ExtensionName:return this.extensionName;case Nc.ExtensionVersion:return vg.trimVersionSuffix(this.extensionVersion);case Nc.Language:return ZP.env.language;case Nc.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let t=new Map,n=Object.values(Nc);for(let r of n)t.set(r,this.getFilterValue(r));return t}};Lp.VSCodeFilterProvider=vg;var Nc;(function(e){e.Market="X-MSEdge-Market",e.CorpNet="X-FD-Corpnet",e.ApplicationVersion="X-VSCode-AppVersion",e.Build="X-VSCode-Build",e.ClientId="X-MSEdge-ClientId",e.ExtensionName="X-VSCode-ExtensionName",e.ExtensionVersion="X-VSCode-ExtensionVersion",e.Language="X-VSCode-Language",e.TargetPopulation="X-VSCode-TargetPopulation"})(Nc=Lp.Filters||(Lp.Filters={}));var fFe;(function(e){e.Team="team",e.Internal="internal",e.Insiders="insider",e.Public="public"})(fFe=Lp.TargetPopulation||(Lp.TargetPopulation={}))});var Goe=w(r$=>{"use strict";Object.defineProperty(r$,"__esModule",{value:!0});var n$=class{constructor(t){this.telemetry=t,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let t=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,t}};r$.BaseFeatureProvider=n$});var zoe=w(o$=>{"use strict";Object.defineProperty(o$,"__esModule",{value:!0});var mFe=Goe(),i$=class extends mFe.BaseFeatureProvider{constructor(t,n){super(t),this.telemetry=t,this.filterProviders=n,this.cachedTelemetryEvents=[]}getFilters(){let t=new Map;for(let n of this.filterProviders){let r=n.getFilters();for(let i of r.keys()){let o=r.get(i);t.set(i,o)}}return t}PostEventToTelemetry(t){if(this.cachedTelemetryEvents.includes(t))return;let n=JSON.stringify(t);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",n]])),this.cachedTelemetryEvents.push(t)}};o$.FilteredFeatureProvider=i$});var Yoe=w(yg=>{"use strict";Object.defineProperty(yg,"__esModule",{value:!0});var hFe=zoe();yg.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";var s$="ErrorType",a$=class extends hFe.FilteredFeatureProvider{constructor(t,n,r){super(n,r),this.httpClient=t,this.telemetry=n,this.filterProviders=r}async fetch(){let t=this.getFilters(),n={};for(let a of t.keys()){let u=t.get(a);n[a]=u}let r;try{r=await this.httpClient.get({headers:n})}catch(a){let u=a,c=new Map;u.response?c.set(s$,"ServerError"):u.request?c.set(s$,"NoResponse"):c.set(s$,"GenericError"),this.telemetry.postEvent(yg.TASAPI_FETCHERROR_EVENTNAME,c)}if(!r)throw Error(yg.TASAPI_FETCHERROR_EVENTNAME);t.keys.length>0&&this.PostEventToTelemetry(n);let i=r.data,o=i.Configs,s=[];for(let a of o)if(a.Parameters)for(let u of Object.keys(a.Parameters)){let c=u+(a.Parameters[u]?"":"cf");s.includes(c)||s.push(c)}return{features:s,assignmentContext:i.AssignmentContext,configs:o}}};yg.TasApiFeatureProvider=a$});var c$=w((Bit,Koe)=>{"use strict";Koe.exports=function(t,n){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(n,i)}}});var Er=w((Vit,Zoe)=>{"use strict";var gFe=c$(),Cl=Object.prototype.toString;function d$(e){return Array.isArray(e)}function u$(e){return typeof e>"u"}function vFe(e){return e!==null&&!u$(e)&&e.constructor!==null&&!u$(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Xoe(e){return Cl.call(e)==="[object ArrayBuffer]"}function yFe(e){return Cl.call(e)==="[object FormData]"}function xFe(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Xoe(e.buffer),t}function wFe(e){return typeof e=="string"}function EFe(e){return typeof e=="number"}function Qoe(e){return e!==null&&typeof e=="object"}function e0(e){if(Cl.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function bFe(e){return Cl.call(e)==="[object Date]"}function _Fe(e){return Cl.call(e)==="[object File]"}function CFe(e){return Cl.call(e)==="[object Blob]"}function Joe(e){return Cl.call(e)==="[object Function]"}function SFe(e){return Qoe(e)&&Joe(e.pipe)}function TFe(e){return Cl.call(e)==="[object URLSearchParams]"}function IFe(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function PFe(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function p$(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),d$(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function l$(){var e={};function t(i,o){e0(e[o])&&e0(i)?e[o]=l$(e[o],i):e0(i)?e[o]=l$({},i):d$(i)?e[o]=i.slice():e[o]=i}for(var n=0,r=arguments.length;n<r;n++)p$(arguments[n],t);return e}function RFe(e,t,n){return p$(t,function(i,o){n&&typeof i=="function"?e[o]=gFe(i,n):e[o]=i}),e}function AFe(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}Zoe.exports={isArray:d$,isArrayBuffer:Xoe,isBuffer:vFe,isFormData:yFe,isArrayBufferView:xFe,isString:wFe,isNumber:EFe,isObject:Qoe,isPlainObject:e0,isUndefined:u$,isDate:bFe,isFile:_Fe,isBlob:CFe,isFunction:Joe,isStream:SFe,isURLSearchParams:TFe,isStandardBrowserEnv:PFe,forEach:p$,merge:l$,extend:RFe,trim:IFe,stripBOM:AFe}});var t0=w((Wit,tse)=>{"use strict";var xg=Er();function ese(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}tse.exports=function(t,n,r){if(!n)return t;var i;if(r)i=r(n);else if(xg.isURLSearchParams(n))i=n.toString();else{var o=[];xg.forEach(n,function(u,c){u===null||typeof u>"u"||(xg.isArray(u)?c=c+"[]":u=[u],xg.forEach(u,function(d){xg.isDate(d)?d=d.toISOString():xg.isObject(d)&&(d=JSON.stringify(d)),o.push(ese(c)+"="+ese(d))}))}),i=o.join("&")}if(i){var s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}});var rse=w((Git,nse)=>{"use strict";var DFe=Er();function n0(){this.handlers=[]}n0.prototype.use=function(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};n0.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};n0.prototype.forEach=function(t){DFe.forEach(this.handlers,function(r){r!==null&&t(r)})};nse.exports=n0});var ose=w((zit,ise)=>{"use strict";var kFe=Er();ise.exports=function(t,n){kFe.forEach(t,function(i,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(t[n]=i,delete t[o])})}});var r0=w((Yit,sse)=>{"use strict";sse.exports=function(t,n,r,i,o){return t.config=n,r&&(t.code=r),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}});var i0=w((Kit,ase)=>{"use strict";ase.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}});var o0=w((Xit,cse)=>{"use strict";var OFe=r0();cse.exports=function(t,n,r,i,o){var s=new Error(t);return OFe(s,n,r,i,o)}});var f$=w((Qit,use)=>{"use strict";var NFe=o0();use.exports=function(t,n,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?t(r):n(NFe("Request failed with status code "+r.status,r.config,null,r.request,r))}});var dse=w((Jit,lse)=>{"use strict";var s0=Er();lse.exports=s0.isStandardBrowserEnv()?function(){return{write:function(n,r,i,o,s,a){var u=[];u.push(n+"="+encodeURIComponent(r)),s0.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),s0.isString(o)&&u.push("path="+o),s0.isString(s)&&u.push("domain="+s),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var fse=w((Zit,pse)=>{"use strict";pse.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}});var hse=w((eot,mse)=>{"use strict";mse.exports=function(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}});var m$=w((tot,gse)=>{"use strict";var LFe=fse(),FFe=hse();gse.exports=function(t,n){return t&&!LFe(n)?FFe(t,n):n}});var yse=w((not,vse)=>{"use strict";var h$=Er(),MFe=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];vse.exports=function(t){var n={},r,i,o;return t&&h$.forEach(t.split(`
`),function(a){if(o=a.indexOf(":"),r=h$.trim(a.substr(0,o)).toLowerCase(),i=h$.trim(a.substr(o+1)),r){if(n[r]&&MFe.indexOf(r)>=0)return;r==="set-cookie"?n[r]=(n[r]?n[r]:[]).concat([i]):n[r]=n[r]?n[r]+", "+i:i}}),n}});var Ese=w((rot,wse)=>{"use strict";var xse=Er();wse.exports=xse.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function i(o){var s=o;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){var a=xse.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}()});var wg=w((iot,bse)=>{"use strict";function g$(e){this.message=e}g$.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};g$.prototype.__CANCEL__=!0;bse.exports=g$});var Cse=w((oot,_se)=>{"use strict";var a0=Er(),UFe=f$(),qFe=dse(),$Fe=t0(),jFe=m$(),HFe=yse(),BFe=Ese(),v$=o0(),VFe=i0(),WFe=wg();_se.exports=function(t){return new Promise(function(r,i){var o=t.data,s=t.headers,a=t.responseType,u;function c(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}a0.isFormData(o)&&delete s["Content-Type"];var l=new XMLHttpRequest;if(t.auth){var d=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.Authorization="Basic "+btoa(d+":"+p)}var f=jFe(t.baseURL,t.url);l.open(t.method.toUpperCase(),$Fe(f,t.params,t.paramsSerializer),!0),l.timeout=t.timeout;function m(){if(l){var g="getAllResponseHeaders"in l?HFe(l.getAllResponseHeaders()):null,v=!a||a==="text"||a==="json"?l.responseText:l.response,y={data:v,status:l.status,statusText:l.statusText,headers:g,config:t,request:l};UFe(function(E){r(E),c()},function(E){i(E),c()},y),l=null}}if("onloadend"in l?l.onloadend=m:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(m)},l.onabort=function(){l&&(i(v$("Request aborted",t,"ECONNABORTED",l)),l=null)},l.onerror=function(){i(v$("Network Error",t,null,l)),l=null},l.ontimeout=function(){var v=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",y=t.transitional||VFe;t.timeoutErrorMessage&&(v=t.timeoutErrorMessage),i(v$(v,t,y.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",l)),l=null},a0.isStandardBrowserEnv()){var h=(t.withCredentials||BFe(f))&&t.xsrfCookieName?qFe.read(t.xsrfCookieName):void 0;h&&(s[t.xsrfHeaderName]=h)}"setRequestHeader"in l&&a0.forEach(s,function(v,y){typeof o>"u"&&y.toLowerCase()==="content-type"?delete s[y]:l.setRequestHeader(y,v)}),a0.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),a&&a!=="json"&&(l.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&l.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(u=function(g){l&&(i(!g||g&&g.type?new WFe("canceled"):g),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u))),o||(o=null),l.send(o)})}});var c0=w((sot,Sse)=>{Sse.exports={version:"0.26.1"}});var kse=w((aot,Dse)=>{"use strict";var Vw=Er(),Tse=f$(),GFe=m$(),Ise=t0(),zFe=require("http"),YFe=require("https"),KFe=tf().http,XFe=tf().https,Pse=require("url"),QFe=require("zlib"),JFe=c0().version,Eg=o0(),u0=r0(),ZFe=i0(),e1e=wg(),Rse=/https:?/;function Ase(e,t,n){if(e.hostname=t.host,e.host=t.host,e.port=t.port,e.path=n,t.auth){var r=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+r}e.beforeRedirect=function(o){o.headers.host=o.host,Ase(o,t,o.href)}}Dse.exports=function(t){return new Promise(function(r,i){var o;function s(){t.cancelToken&&t.cancelToken.unsubscribe(o),t.signal&&t.signal.removeEventListener("abort",o)}var a=function(z){s(),r(z)},u=!1,c=function(z){s(),u=!0,i(z)},l=t.data,d=t.headers,p={};if(Object.keys(d).forEach(function(z){p[z.toLowerCase()]=z}),"user-agent"in p?d[p["user-agent"]]||delete d[p["user-agent"]]:d["User-Agent"]="axios/"+JFe,l&&!Vw.isStream(l)){if(!Buffer.isBuffer(l))if(Vw.isArrayBuffer(l))l=Buffer.from(new Uint8Array(l));else if(Vw.isString(l))l=Buffer.from(l,"utf-8");else return c(Eg("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",t));if(t.maxBodyLength>-1&&l.length>t.maxBodyLength)return c(Eg("Request body larger than maxBodyLength limit",t));p["content-length"]||(d["Content-Length"]=l.length)}var f=void 0;if(t.auth){var m=t.auth.username||"",h=t.auth.password||"";f=m+":"+h}var g=GFe(t.baseURL,t.url),v=Pse.parse(g),y=v.protocol||"http:";if(!f&&v.auth){var x=v.auth.split(":"),E=x[0]||"",b=x[1]||"";f=E+":"+b}f&&p.authorization&&delete d[p.authorization];var C=Rse.test(y),R=C?t.httpsAgent:t.httpAgent;try{Ise(v.path,t.params,t.paramsSerializer).replace(/^\?/,"")}catch(W){var T=new Error(W.message);T.config=t,T.url=t.url,T.exists=!0,c(T)}var _={path:Ise(v.path,t.params,t.paramsSerializer).replace(/^\?/,""),method:t.method.toUpperCase(),headers:d,agent:R,agents:{http:t.httpAgent,https:t.httpsAgent},auth:f};t.socketPath?_.socketPath=t.socketPath:(_.hostname=v.hostname,_.port=v.port);var A=t.proxy;if(!A&&A!==!1){var P=y.slice(0,-1)+"_proxy",I=process.env[P]||process.env[P.toUpperCase()];if(I){var F=Pse.parse(I),q=process.env.no_proxy||process.env.NO_PROXY,$=!0;if(q){var M=q.split(",").map(function(z){return z.trim()});$=!M.some(function(z){return z?z==="*"||z[0]==="."&&v.hostname.substr(v.hostname.length-z.length)===z?!0:v.hostname===z:!1})}if($&&(A={host:F.hostname,port:F.port,protocol:F.protocol},F.auth)){var k=F.auth.split(":");A.auth={username:k[0],password:k[1]}}}}A&&(_.headers.host=v.hostname+(v.port?":"+v.port:""),Ase(_,A,y+"//"+v.hostname+(v.port?":"+v.port:"")+_.path));var U,V=C&&(A?Rse.test(A.protocol):!0);t.transport?U=t.transport:t.maxRedirects===0?U=V?YFe:zFe:(t.maxRedirects&&(_.maxRedirects=t.maxRedirects),U=V?XFe:KFe),t.maxBodyLength>-1&&(_.maxBodyLength=t.maxBodyLength),t.insecureHTTPParser&&(_.insecureHTTPParser=t.insecureHTTPParser);var L=U.request(_,function(z){if(!L.aborted){var se=z,_e=z.req||L;if(z.statusCode!==204&&_e.method!=="HEAD"&&t.decompress!==!1)switch(z.headers["content-encoding"]){case"gzip":case"compress":case"deflate":se=se.pipe(QFe.createUnzip()),delete z.headers["content-encoding"];break}var Ue={status:z.statusCode,statusText:z.statusMessage,headers:z.headers,config:t,request:_e};if(t.responseType==="stream")Ue.data=se,Tse(a,c,Ue);else{var je=[],rn=0;se.on("data",function(bt){je.push(bt),rn+=bt.length,t.maxContentLength>-1&&rn>t.maxContentLength&&(u=!0,se.destroy(),c(Eg("maxContentLength size of "+t.maxContentLength+" exceeded",t,null,_e)))}),se.on("aborted",function(){u||(se.destroy(),c(Eg("error request aborted",t,"ERR_REQUEST_ABORTED",_e)))}),se.on("error",function(bt){L.aborted||c(u0(bt,t,null,_e))}),se.on("end",function(){try{var bt=je.length===1?je[0]:Buffer.concat(je);t.responseType!=="arraybuffer"&&(bt=bt.toString(t.responseEncoding),(!t.responseEncoding||t.responseEncoding==="utf8")&&(bt=Vw.stripBOM(bt))),Ue.data=bt}catch(Hr){c(u0(Hr,t,Hr.code,Ue.request,Ue))}Tse(a,c,Ue)})}}});if(L.on("error",function(z){L.aborted&&z.code!=="ERR_FR_TOO_MANY_REDIRECTS"||c(u0(z,t,null,L))}),L.on("socket",function(z){z.setKeepAlive(!0,1e3*60)}),t.timeout){var G=parseInt(t.timeout,10);if(isNaN(G)){c(Eg("error trying to parse `config.timeout` to int",t,"ERR_PARSE_TIMEOUT",L));return}L.setTimeout(G,function(){L.abort();var z="";t.timeoutErrorMessage?z=t.timeoutErrorMessage:z="timeout of "+t.timeout+"ms exceeded";var se=t.transitional||ZFe;c(Eg(z,t,se.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",L))})}(t.cancelToken||t.signal)&&(o=function(W){L.aborted||(L.abort(),c(!W||W&&W.type?new e1e("canceled"):W))},t.cancelToken&&t.cancelToken.subscribe(o),t.signal&&(t.signal.aborted?o():t.signal.addEventListener("abort",o))),Vw.isStream(l)?l.on("error",function(z){c(u0(z,t,null,L))}).pipe(L):L.end(l)})}});var d0=w((cot,Lse)=>{"use strict";var rr=Er(),Ose=ose(),t1e=r0(),n1e=i0(),r1e={"Content-Type":"application/x-www-form-urlencoded"};function Nse(e,t){!rr.isUndefined(e)&&rr.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function i1e(){var e;return typeof XMLHttpRequest<"u"?e=Cse():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(e=kse()),e}function o1e(e,t,n){if(rr.isString(e))try{return(t||JSON.parse)(e),rr.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}var l0={transitional:n1e,adapter:i1e(),transformRequest:[function(t,n){return Ose(n,"Accept"),Ose(n,"Content-Type"),rr.isFormData(t)||rr.isArrayBuffer(t)||rr.isBuffer(t)||rr.isStream(t)||rr.isFile(t)||rr.isBlob(t)?t:rr.isArrayBufferView(t)?t.buffer:rr.isURLSearchParams(t)?(Nse(n,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):rr.isObject(t)||n&&n["Content-Type"]==="application/json"?(Nse(n,"application/json"),o1e(t)):t}],transformResponse:[function(t){var n=this.transitional||l0.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,o=!r&&this.responseType==="json";if(o||i&&rr.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(o)throw s.name==="SyntaxError"?t1e(s,this,"E_JSON_PARSE"):s}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};rr.forEach(["delete","get","head"],function(t){l0.headers[t]={}});rr.forEach(["post","put","patch"],function(t){l0.headers[t]=rr.merge(r1e)});Lse.exports=l0});var Mse=w((uot,Fse)=>{"use strict";var s1e=Er(),a1e=d0();Fse.exports=function(t,n,r){var i=this||a1e;return s1e.forEach(r,function(s){t=s.call(i,t,n)}),t}});var y$=w((lot,Use)=>{"use strict";Use.exports=function(t){return!!(t&&t.__CANCEL__)}});var jse=w((dot,$se)=>{"use strict";var qse=Er(),x$=Mse(),c1e=y$(),u1e=d0(),l1e=wg();function w$(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new l1e("canceled")}$se.exports=function(t){w$(t),t.headers=t.headers||{},t.data=x$.call(t,t.data,t.headers,t.transformRequest),t.headers=qse.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),qse.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var n=t.adapter||u1e.adapter;return n(t).then(function(i){return w$(t),i.data=x$.call(t,i.data,i.headers,t.transformResponse),i},function(i){return c1e(i)||(w$(t),i&&i.response&&(i.response.data=x$.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})}});var E$=w((pot,Hse)=>{"use strict";var zi=Er();Hse.exports=function(t,n){n=n||{};var r={};function i(l,d){return zi.isPlainObject(l)&&zi.isPlainObject(d)?zi.merge(l,d):zi.isPlainObject(d)?zi.merge({},d):zi.isArray(d)?d.slice():d}function o(l){if(zi.isUndefined(n[l])){if(!zi.isUndefined(t[l]))return i(void 0,t[l])}else return i(t[l],n[l])}function s(l){if(!zi.isUndefined(n[l]))return i(void 0,n[l])}function a(l){if(zi.isUndefined(n[l])){if(!zi.isUndefined(t[l]))return i(void 0,t[l])}else return i(void 0,n[l])}function u(l){if(l in n)return i(t[l],n[l]);if(l in t)return i(void 0,t[l])}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return zi.forEach(Object.keys(t).concat(Object.keys(n)),function(d){var p=c[d]||o,f=p(d);zi.isUndefined(f)&&p!==u||(r[d]=f)}),r}});var Wse=w((fot,Vse)=>{"use strict";var d1e=c0().version,b$={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){b$[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var Bse={};b$.transitional=function(t,n,r){function i(o,s){return"[Axios v"+d1e+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return function(o,s,a){if(t===!1)throw new Error(i(s," has been removed"+(n?" in "+n:"")));return n&&!Bse[s]&&(Bse[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,a):!0}};function p1e(e,t,n){if(typeof e!="object")throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],u=a===void 0||s(a,o,e);if(u!==!0)throw new TypeError("option "+o+" must be "+u);continue}if(n!==!0)throw Error("Unknown option "+o)}}Vse.exports={assertOptions:p1e,validators:b$}});var Qse=w((mot,Xse)=>{"use strict";var Yse=Er(),f1e=t0(),Gse=rse(),zse=jse(),p0=E$(),Kse=Wse(),bg=Kse.validators;function Ww(e){this.defaults=e,this.interceptors={request:new Gse,response:new Gse}}Ww.prototype.request=function(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=p0(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&Kse.assertOptions(r,{silentJSONParsing:bg.transitional(bg.boolean),forcedJSONParsing:bg.transitional(bg.boolean),clarifyTimeoutError:bg.transitional(bg.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(n)===!1||(o=o&&f.synchronous,i.unshift(f.fulfilled,f.rejected))});var s=[];this.interceptors.response.forEach(function(f){s.push(f.fulfilled,f.rejected)});var a;if(!o){var u=[zse,void 0];for(Array.prototype.unshift.apply(u,i),u=u.concat(s),a=Promise.resolve(n);u.length;)a=a.then(u.shift(),u.shift());return a}for(var c=n;i.length;){var l=i.shift(),d=i.shift();try{c=l(c)}catch(p){d(p);break}}try{a=zse(c)}catch(p){return Promise.reject(p)}for(;s.length;)a=a.then(s.shift(),s.shift());return a};Ww.prototype.getUri=function(t){return t=p0(this.defaults,t),f1e(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};Yse.forEach(["delete","get","head","options"],function(t){Ww.prototype[t]=function(n,r){return this.request(p0(r||{},{method:t,url:n,data:(r||{}).data}))}});Yse.forEach(["post","put","patch"],function(t){Ww.prototype[t]=function(n,r,i){return this.request(p0(i||{},{method:t,url:n,data:r}))}});Xse.exports=Ww});var Zse=w((hot,Jse)=>{"use strict";var m1e=wg();function _g(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var n=this;this.promise.then(function(r){if(n._listeners){var i,o=n._listeners.length;for(i=0;i<o;i++)n._listeners[i](r);n._listeners=null}}),this.promise.then=function(r){var i,o=new Promise(function(s){n.subscribe(s),i=s}).then(r);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i){n.reason||(n.reason=new m1e(i),t(n.reason))})}_g.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};_g.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};_g.prototype.unsubscribe=function(t){if(this._listeners){var n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}};_g.source=function(){var t,n=new _g(function(i){t=i});return{token:n,cancel:t}};Jse.exports=_g});var tae=w((got,eae)=>{"use strict";eae.exports=function(t){return function(r){return t.apply(null,r)}}});var rae=w((vot,nae)=>{"use strict";var h1e=Er();nae.exports=function(t){return h1e.isObject(t)&&t.isAxiosError===!0}});var sae=w((yot,_$)=>{"use strict";var iae=Er(),g1e=c$(),f0=Qse(),v1e=E$(),y1e=d0();function oae(e){var t=new f0(e),n=g1e(f0.prototype.request,t);return iae.extend(n,f0.prototype,t),iae.extend(n,t),n.create=function(i){return oae(v1e(e,i))},n}var ha=oae(y1e);ha.Axios=f0;ha.Cancel=wg();ha.CancelToken=Zse();ha.isCancel=y$();ha.VERSION=c0().version;ha.all=function(t){return Promise.all(t)};ha.spread=tae();ha.isAxiosError=rae();_$.exports=ha;_$.exports.default=ha});var cae=w((xot,aae)=>{aae.exports=sae()});var uae=w(S$=>{"use strict";Object.defineProperty(S$,"__esModule",{value:!0});var x1e=cae(),C$=class{constructor(t){this.endpoint=t}get(t){return x1e.default.get(this.endpoint,Object.assign(Object.assign({},t),{proxy:!1}))}};S$.AxiosHttpClient=C$});var lae=w(I$=>{"use strict";Object.defineProperty(I$,"__esModule",{value:!0});var T$=class{constructor(){this.storage=new Map}async getValue(t,n){return this.storage.has(t)?await Promise.resolve(this.storage.get(t)):await Promise.resolve(n||void 0)}setValue(t,n){this.storage.set(t,n)}};I$.MemoryKeyValueStorage=T$});var dae=w(R$=>{"use strict";Object.defineProperty(R$,"__esModule",{value:!0});var w1e=lae(),P$=class{constructor(t,n,r,i,o){this.telemetry=t,this.assignmentContextTelemetryPropertyName=n,this.telemetryEventName=r,this.storageKey=i,this.storage=o,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(o=new w1e.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((s,a)=>{this.resolveInitialFetchPromise=s})}get features(){return this._features}set features(t){this._features=t,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}async getFeaturesAsync(t=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async r=>await r.getFeatures()));let n=await this.fetchPromise;this.updateFeatures(n,t)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(t,n=!1){let r={features:[],assignmentContext:"",configs:[]};for(let i of t){for(let o of i.features)r.features.includes(o)||r.features.push(o);for(let o of i.configs){let s=r.configs.find(a=>a.Id===o.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),o.Parameters):r.configs.push(o)}r.assignmentContext+=i.assignmentContext}(n||!this.featuresConsumed)&&(this.features=r),this.storage&&this.storage.setValue(this.storageKey,r)}async loadCachedFeatureData(){let t;this.storage&&(t=await this.storage.getValue(this.storageKey),t!==void 0&&t.configs===void 0&&(t.configs=[])),this.features.features.length===0&&(this.features=t||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(t){return this.featuresConsumed=!0,this.PostEventToTelemetry(t),this.features.features.includes(t)}async isCachedFlightEnabled(t){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(t),this.features.features.includes(t)}async isFlightEnabledAsync(t){let n=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(t),n.features.includes(t)}getTreatmentVariable(t,n){var r;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${t}.${n}`),(r=this.features.configs.find(o=>o.Id===t))===null||r===void 0?void 0:r.Parameters[n]}async getTreatmentVariableAsync(t,n,r){if(r){let i=this.featuresConsumed,o=this.getTreatmentVariable(t,n);if(o===void 0)this.featuresConsumed=i;else return o}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(t,n)}PostEventToTelemetry(t){this.cachedTelemetryEvents.includes(t)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",t]])),this.cachedTelemetryEvents.push(t))}invokeInit(){this.init()}addFeatureProvider(...t){if(!(t==null||this.featureProviders==null))for(let n of t)this.featureProviders.push(n)}};R$.ExperimentationServiceBase=P$});var pae=w(D$=>{"use strict";Object.defineProperty(D$,"__esModule",{value:!0});var A$=class{constructor(t){this.fetchInterval=t}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(t){this.onTick=t}StartPolling(t=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(t&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};D$.PollingService=A$});var fae=w(O$=>{"use strict";Object.defineProperty(O$,"__esModule",{value:!0});var E1e=dae(),b1e=pae(),k$=class extends E1e.ExperimentationServiceBase{constructor(t,n,r,i,o,s,a){if(super(t,i,o,s,a),this.telemetry=t,this.filterProviders=n,this.refreshRateMs=r,this.assignmentContextTelemetryPropertyName=i,this.telemetryEventName=o,this.storageKey=s,this.storage=a,r<1e3&&r!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");r>0&&(this.pollingService=new b1e.PollingService(r),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(t=!1){if(this.pollingService){this.pollingService.StopPolling();let n=await super.getFeaturesAsync(t);return this.pollingService.StartPolling(),n}else return await super.getFeaturesAsync(t)}};O$.ExperimentationServiceAutoPolling=k$});var mae=w(N$=>{"use strict";Object.defineProperty(N$,"__esModule",{value:!0});var _1e=Yoe(),C1e=uae(),S1e=fae(),m0=class extends S1e.ExperimentationServiceAutoPolling{constructor(t){super(t.telemetry,t.filterProviders||[],t.refetchInterval!=null?t.refetchInterval:0,t.assignmentContextTelemetryPropertyName,t.telemetryEventName,t.storageKey,t.keyValueStorage),this.options=t,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new _1e.TasApiFeatureProvider(new C1e.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};N$.ExperimentationService=m0;m0.REFRESH_RATE_IN_MINUTES=30});var hae=w(L$=>{"use strict";Object.defineProperty(L$,"__esModule",{value:!0});var T1e=mae();L$.ExperimentationService=T1e.ExperimentationService});var gae=w(M$=>{"use strict";Object.defineProperty(M$,"__esModule",{value:!0});var F$=class{constructor(t){this.mementoGlobalStorage=t}async getValue(t,n){return await this.mementoGlobalStorage.get(t)||n}setValue(t,n){this.mementoGlobalStorage.update(t,n)}};M$.MementoKeyValueStorage=F$});var vae=w(q$=>{"use strict";Object.defineProperty(q$,"__esModule",{value:!0});var U$=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(t){return!1}isCachedFlightEnabled(t){return Promise.resolve(!1)}isFlightEnabledAsync(t){return Promise.resolve(!1)}getTreatmentVariable(t,n){}getTreatmentVariableAsync(t,n){return Promise.resolve(void 0)}};q$.default=U$});var xae=w(h0=>{"use strict";Object.defineProperty(h0,"__esModule",{value:!0});var I1e=t$(),P1e=hae(),$$=require("vscode"),R1e=gae(),A1e=vae(),D1e="https://default.exp-tas.com/vscode/ab",k1e="query-expfeature",O1e="abexp.assignmentcontext",N1e="VSCode.ABExp.FeatureData",L1e=1e3*60*30;function yae(e,t,n,r,i,...o){if(!i)throw new Error("Memento storage was not provided.");let s=$$.workspace.getConfiguration("telemetry");if(!($$.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):$$.env.isTelemetryEnabled))return new A1e.default;let c=[new I1e.VSCodeFilterProvider(e,t,n),...o],l=new R1e.MementoKeyValueStorage(i);return new P1e.ExperimentationService({filterProviders:c,telemetry:r,storageKey:N1e,keyValueStorage:l,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:O1e,telemetryEventName:k1e,endpoint:D1e,refetchInterval:L1e})}h0.getExperimentationService=yae;async function F1e(e,t,n,r,i,...o){let s=yae(e,t,n,r,i,...o);return await s.initializePromise,s}h0.getExperimentationServiceAsync=F1e});var Eae=w(Gw=>{"use strict";Object.defineProperty(Gw,"__esModule",{value:!0});var wae=xae();Gw.getExperimentationService=wae.getExperimentationService;Gw.getExperimentationServiceAsync=wae.getExperimentationServiceAsync;var M1e=t$();Gw.TargetPopulation=M1e.TargetPopulation});var oue=w((Clt,mUe)=>{mUe.exports={name:"remote-containers",displayName:"Dev Containers",description:"Open any folder or repository inside a Docker container and take advantage of Visual Studio Code's full feature set.",version:"0.288.1",preview:!0,publisher:"ms-vscode-remote",icon:"resources/dev-containers.png",repository:{type:"git",url:"https://github.com/Microsoft/vscode-remote-release.git"},bugs:{url:"https://github.com/Microsoft/vscode-remote-release/issues"},license:"SEE LICENSE IN LICENSE.txt",engines:{vscode:"^1.75.0"},extensionKind:["ui"],capabilities:{untrustedWorkspaces:{supported:"limited",description:"Opening a folder in a container requires workspace trust."},virtualWorkspaces:!0},categories:["Other"],keywords:["remote","docker","containers","remote development","dev container","development container","continueOn"],aiKey:"0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255",activationEvents:["onStartupFinished","workspaceContains:.devcontainer/devcontainer.json","workspaceContains:.devcontainer.json","onResolveRemoteAuthority:dev-container","onResolveRemoteAuthority:attached-container","onResolveRemoteAuthority:k8s-container","onDebugResolve:extensionHost"],main:"./dist/extension/extension",enabledApiProposals:["resolvers","tunnels","workspaceTrust","terminalDimensions","contribEditSessions","contribViewsRemote","contribRemoteHelp"],contributes:{continueEditSession:[{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",group:"0_local@2",when:"!isWeb && remoteHub:hasVirtualFolders",qualifiedName:"Continue Working in Container Volume",remoteGroup:"remote_30_dev-container_2_actions@8"},{command:"remote-containers.openRepositoryFromGitWithEditSession",group:"0_local@2",when:"git.state == initialized && gitOpenRepositoryCount != 0 && remoteName =~ /(codespaces*.*|tunnel)/ && false",qualifiedName:"Continue Working in Container Volume",remoteGroup:"remote_30_dev-container_2_actions@8"}],languages:[{id:"jsonc",filenames:["devcontainer-feature.json"]}],jsonValidation:[{fileMatch:"devcontainer-feature.json",url:"https://raw.githubusercontent.com/devcontainers/spec/main/schemas/devContainerFeature.schema.json"}],configuration:{title:"Dev Containers",properties:{"remote.containers.defaultExtensions":{scope:"application",deprecationMessage:"Use 'dev.containers.defaultExtensions' instead.",markdownDeprecationMessage:"Use `#dev.containers.defaultExtensions#` instead."},"dev.containers.defaultExtensions":{scope:"application",type:"array",description:"Configures the list of extensions to always install while creating a container.",default:[],items:{type:"string",pattern:"([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*)",errorMessage:"Expected format '${publisher}.${name}'. Example: 'vscode.csharp'."}},"dev.containers.defaultFeatures":{scope:"application",type:"object",description:"Configures the list of features to always install while creating a container.",default:{}},"remote.containers.workspaceMountConsistency":{scope:"application",deprecationMessage:"Use 'dev.containers.workspaceMountConsistency' instead.",markdownDeprecationMessage:"Use `#dev.containers.workspaceMountConsistency#` instead."},"dev.containers.workspaceMountConsistency":{scope:"application",type:"string",enum:["consistent","cached","delegated"],enumDescriptions:["Perfect consistency.","The host\u2019s view is authoritative.","The container\u2019s view is authoritative."],description:"The consistency level used for the workspace mount (existing containers must be rebuilt to take effect).",default:"cached"},"remote.containers.cacheVolume":{scope:"application",deprecationMessage:"Use 'dev.containers.cacheVolume' instead.",markdownDeprecationMessage:"Use `#dev.containers.cacheVolume#` instead."},"dev.containers.cacheVolume":{scope:"application",type:"boolean",description:"Controls whether a Docker volume should be used to cache the VS Code server and extensions. Currently only applies to single container and not Docker Compose configurations.",default:!0},"remote.containers.copyGitConfig":{scope:"machine",deprecationMessage:"Use 'dev.containers.copyGitConfig' instead.",markdownDeprecationMessage:"Use `#dev.containers.copyGitConfig#` instead."},"dev.containers.copyGitConfig":{scope:"machine",type:"boolean",markdownDescription:"Controls whether the Git configuration (`~/.gitconfig`) should be copied into the container. This is done after installing any `#dotfiles.repository#` and will not overwrite an existing Git configuration file.",default:!0},"remote.containers.gitCredentialHelperConfigLocation":{scope:"machine",deprecationMessage:"Use 'dev.containers.gitCredentialHelperConfigLocation' instead.",markdownDeprecationMessage:"Use `#dev.containers.gitCredentialHelperConfigLocation#` instead."},"dev.containers.gitCredentialHelperConfigLocation":{scope:"machine",type:"string",enum:["system","global","none"],enumDescriptions:["Write to system config (`/etc/gitconfig`, requires root access).","Write to user config (`~/.gitconfig`).","Do not set a credential helper."],description:"Where to write the configuration for the Git credential helper.",default:"global"},"dev.containers.dockerCredentialHelper":{scope:"machine",type:"boolean",markdownDescription:"Controls whether a credential helper should be registered as the `credStore` in the Docker configuration (`~/.docker/config.json`) of dev containers. This will not overwrite an existing `credStore` entry in the configuration file.",default:!0},"dev.containers.mountWaylandSocket":{scope:"application",type:"boolean",markdownDescription:"Controls whether a Wayland socket, if one exists, should be mounted into the Dev Container.",default:!0},"remote.containers.logLevel":{scope:"application",deprecationMessage:"Use 'dev.containers.logLevel' instead.",markdownDeprecationMessage:"Use `#dev.containers.logLevel#` instead."},"dev.containers.logLevel":{scope:"application",type:"string",description:"The log level for the extension.",default:"debug",enum:["info","debug","trace"]},"remote.containers.dockerPath":{scope:"application",deprecationMessage:"Use 'dev.containers.dockerPath' instead.",markdownDeprecationMessage:"Use `#dev.containers.dockerPath#` instead."},"dev.containers.dockerPath":{scope:"application",type:"string",description:"Docker (or Podman) executable name or path.",default:"docker"},"remote.containers.dockerComposePath":{scope:"application",deprecationMessage:"Use 'dev.containers.dockerComposePath' instead.",markdownDeprecationMessage:"Use `#dev.containers.dockerComposePath#` instead."},"dev.containers.dockerComposePath":{scope:"application",type:"string",description:"Docker Compose executable name or path.",default:"docker-compose"},"remote.containers.executeInWSL":{scope:"application",deprecationMessage:"Use 'dev.containers.executeInWSL' instead.",markdownDeprecationMessage:"Use `#dev.containers.executeInWSL#` instead."},"dev.containers.executeInWSL":{scope:"application",type:"boolean",description:"Controls whether CLI commands should always be executed in WSL. The default is to only execute in WSL for workspace folders in WSL. This setting has no effect on other platforms than Windows.",default:!1},"remote.containers.executeInWSLDistro":{scope:"application",deprecationMessage:"Use 'dev.containers.executeInWSLDistro' instead.",markdownDeprecationMessage:"Use `#dev.containers.executeInWSLDistro#` instead."},"dev.containers.executeInWSLDistro":{scope:"application",type:"string",markdownDescription:"WSL distro to use when not reopening a WSL folder. The default is to use the default WSL distro (see `wsl -l`). This setting has no effect when `#dev.containers.executeInWSL#` is not enabled or on other platforms than Windows."},"dotfiles.repository":{scope:"machine",type:"string",description:"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git) or owner/repository of a GitHub repository."},"dotfiles.installCommand":{scope:"machine",type:"string",description:"The command to run after cloning the dotfiles repository. Defaults to run the first file of `install.sh`, `install`, `bootstrap.sh`, `bootstrap`, `setup.sh` and `setup` found in the dotfiles repository's root folder."},"dotfiles.targetPath":{scope:"machine",type:"string",description:"The path to clone the dotfiles repository to. Defaults to `~/dotfiles`.",default:"~/dotfiles"},"remote.containers.dotfiles.repository":{scope:"machine",deprecationMessage:"Use 'dotfiles.repository' instead.",markdownDeprecationMessage:"Use `#dotfiles.repository#` instead."},"remote.containers.dotfiles.installCommand":{scope:"machine",deprecationMessage:"Use 'dotfiles.installCommand' instead.",markdownDeprecationMessage:"Use `#dotfiles.installCommand#` instead."},"remote.containers.dotfiles.targetPath":{scope:"machine",description:"Deprecated setting. Use 'dotfiles.targetPath' instead.",deprecationMessage:"Use 'dotfiles.targetPath' instead.",markdownDeprecationMessage:"Use `#dotfiles.targetPath#` instead."},"remote.containers.repositoryConfigurationPaths":{scope:"application",description:"Deprecated setting. Use 'dev.containers.repositoryConfigurationPaths' instead.",deprecationMessage:"Use 'dev.containers.repositoryConfigurationPaths' instead.",markdownDeprecationMessage:"Use `#dev.containers.repositoryConfigurationPaths#` instead."},"dev.containers.repositoryConfigurationPaths":{scope:"application",type:"array",markdownDescription:"List of additional paths to search for [repository configurations](https://github.com/microsoft/vscode-dev-containers/tree/main/repository-containers).",default:[],items:{type:"string"}}}},commands:[{command:"remote-containers.reopenInContainer",title:"Reopen in Container",category:"Dev Containers"},{command:"remote-containers.rebuildAndReopenInContainer",title:"Rebuild and Reopen in Container",category:"Dev Containers"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",title:"Rebuild Without Cache and Reopen in Container",category:"Dev Containers"},{command:"remote-containers.reopenLocally",title:"Reopen Folder Locally",category:"Dev Containers"},{command:"remote-containers.reopenInWSL",title:"Reopen Folder in WSL",category:"Dev Containers"},{command:"remote-containers.reopenInSSH",title:"Reopen Folder in SSH",category:"Dev Containers"},{command:"remote-containers.openFolder",title:"Open Folder in Container...",category:"Dev Containers",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.startAndOpenFolder",title:"Open Folder in Container",category:"Dev Containers",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.openInformationAboutMountPerformance",title:"Clone repository in Docker volume for better I/O performance.",category:"Dev Containers",icon:"$(info)"},{command:"remote-containers.openRepositoryInVolume",title:"Clone Repository in Named Container Volume...",category:"Dev Containers"},{command:"remote-containers.openRepositoryInUniqueVolume",title:"Clone Repository in Container Volume...",icon:"$(repo-clone)",category:"Dev Containers"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",title:"Clone Repository in a Container Volume",icon:"$(repo-clone)",category:"Dev Containers"},{command:"remote-containers.openRepositoryFromGitWithEditSession",title:"Clone Repository in a Container Volume",icon:"$(repo-clone)",category:"Dev Containers"},{command:"remote-containers.openPullRequestInVolume",title:"Clone GitHub Pull Request in Container Volume...",category:"Dev Containers"},{command:"remote-containers.inspectVolume",title:"Explore a Volume in a Dev Container...",category:"Dev Containers"},{command:"remote-containers.openWorkspace",title:"Open Workspace in Container...",category:"Dev Containers"},{command:"remote-containers.attachToRunningContainer",title:"Attach to Running Container...",category:"Dev Containers"},{command:"remote-containers.attachToRunningContainerFromViewlet",title:"Attach Visual Studio Code",category:"Dev Containers"},{command:"remote-containers.inspectVolumeFromViewlet",title:"Explore in a Dev Container",category:"Dev Containers"},{command:"remote-containers.cloneInVolumeFromViewlet",title:"Clone into existing Volume",category:"Dev Containers"},{command:"remote-containers.cleanUpDevContainers",title:"Clean Up Dev Containers...",category:"Dev Containers",icon:"$(clear-all)"},{command:"remote-containers.pruneVolumes",title:"Clean Up Dev Volumes...",category:"Dev Containers",icon:"$(clear-all)"},{command:"remote-containers.explorerVolumesRefresh",title:"Refresh",category:"Dev Containers",icon:"$(refresh)"},{command:"remote-containers.attachToK8sContainerFromViewlet",title:"Attach Visual Studio Code",category:"Dev Containers"},{command:"remote-containers.rebuildContainer",title:"Rebuild Container",category:"Dev Containers",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.rebuildContainerNoCache",title:"Rebuild Container Without Cache",category:"Dev Containers",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.createDevContainerFile",title:"Add Dev Container Configuration Files...",category:"Dev Containers"},{command:"remote-containers.createDevContainer",title:"New Dev Container...",category:"Dev Containers"},{command:"remote-containers.settings",title:"Settings",category:"Dev Containers"},{command:"remote-containers.getHelp",title:"Help",category:"Dev Containers"},{command:"remote-containers.getStarted",title:"Get Started with Dev Containers",category:"Dev Containers"},{command:"remote-containers.trySample",title:"Try a Dev Container Sample...",category:"Dev Containers"},{command:"remote-containers.reportIssue",title:"Report Issue...",category:"Dev Containers"},{command:"remote-containers.provideFeedback",title:"Provide Feedback",category:"Dev Containers"},{command:"remote-containers.openDevContainerFile",title:"Open Container Configuration File",category:"Dev Containers",icon:{light:"resources/light/gear.svg",dark:"resources/dark/gear.svg"}},{command:"remote-containers.openAttachConfigByNameFile",title:"Open Named Container Configuration File",category:"Dev Containers"},{command:"remote-containers.openAttachDevContainerFile",title:"Open Attached Container Configuration File...",category:"Dev Containers"},{command:"remote-containers.revealLogTerminal",title:"Show Container Log",category:"Dev Containers"},{command:"remote-containers.openLogFile",title:"Show All Logs...",category:"Dev Containers Developer"},{command:"remote-containers.openLastLogFile",title:"Show Previous Log",category:"Dev Containers"},{command:"remote-containers.attachToContainer",title:"Attach to Container",category:"Dev Containers",icon:{light:"resources/light/empty-window.svg",dark:"resources/dark/empty-window.svg"}},{command:"remote-containers.attachToContainerNewWindow",title:"Attach in New Window",category:"Dev Containers"},{command:"remote-containers.stopContainer",title:"Stop Container",category:"Dev Containers"},{command:"remote-containers.startContainer",title:"Start Container",category:"Dev Containers",icon:{light:"resources/light/vm-start.svg",dark:"resources/dark/vm-start.svg"}},{command:"remote-containers.removeContainer",title:"Remove Container",category:"Dev Containers",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.removeRecentFolder",title:"Remove Recent Folder",category:"Dev Containers",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.showDetails",title:"Show Details",category:"Dev Containers"},{command:"remote-containers.explorerTargetsRefresh",title:"Refresh",category:"Dev Containers",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.explorerDetailsRefresh",title:"Refresh",category:"Dev Containers",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.inspectDockerResource",title:"Inspect",category:"Dev Containers"},{command:"remote-containers.inspectInBasicDevContainer",title:"Explore in Dev Container",category:"Dev Containers"},{command:"remote-containers.cloneInVolume",title:"Clone Repository in Volume",category:"Dev Containers"},{command:"remote-containers.removeVolume",title:"Remove",category:"Dev Containers"},{command:"remote-containers.newContainer",title:"New Dev Container",category:"Dev Containers",icon:{light:"resources/light/plus.svg",dark:"resources/dark/plus.svg"}},{command:"remote-containers.showContainerLog",title:"Show Container Log",category:"Dev Containers"},{command:"remote-containers.addExtensionToConfig",title:"Add to devcontainer.json",category:"Dev Containers"},{command:"remote-containers.checkoutPRInVolume",title:"Checkout Pull Request in Dev Container",category:"Dev Containers"},{command:"remote-containers.showReopenInContainerNotificationReset",title:"Reset Don't Show Reopen Notification",category:"Dev Containers"},{command:"remote-containers.showRecoveryContainerNotificationReset",title:"Reset Don't Show Recovery Container Notification",category:"Dev Containers"},{command:"remote-containers.labelPortAndUpdateConfig",title:"Set Label and Update devcontainer.json",category:"Dev Containers",icon:"$(tag)"},{command:"remote-containers.installDocker",title:"Install Docker",category:"Dev Containers"},{command:"remote-containers.installUserCLI",title:"Install devcontainer CLI",category:"Dev Containers"},{command:"remote-containers.configureContainerFeatures",title:"Configure Container Features...",category:"Dev Containers"}],menus:{commandPalette:[{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName == dev-container && isRecoveryContainer"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenLocally",when:"canReopenLocally"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH"},{command:"remote-containers.openFolder",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openRepositoryInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openPullRequestInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.createDevContainer",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openWorkspace",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.attachToRunningContainer",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.attachToRunningContainerFromViewlet",when:"false"},{command:"remote-containers.inspectVolumeFromViewlet",when:"false"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",when:"false"},{command:"remote-containers.openRepositoryFromGitWithEditSession",when:"false"},{command:"remote-containers.cloneInVolumeFromViewlet",when:"false"},{command:"remote-containers.inspectInBasicDevContainer",when:"false"},{command:"remote-containers.cloneInVolume",when:"false"},{command:"remote-containers.removeVolume",when:"false"},{command:"remote-containers.attachToK8sContainerFromViewlet",when:"false"},{command:"remote-containers.checkoutPRInVolume",when:"false"},{command:"remote-containers.rebuildContainer",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainerNoCache",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.createDevContainerFile",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openDevContainerFile",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.openAttachConfigByNameFile",when:"remoteName == attached-container"},{command:"remote-containers.openAttachDevContainerFile",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.getStarted",when:"!remoteName && !virtualWorkspace || remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.trySample",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.trySample",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.provideFeedback",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.attachToContainer",when:"false"},{command:"remote-containers.attachToContainerNewWindow",when:"false"},{command:"remote-containers.stopContainer",when:"false"},{command:"remote-containers.removeContainer",when:"false"},{command:"remote-containers.startContainer",when:"false"},{command:"remote-containers.removeRecentFolder",when:"false"},{command:"remote-containers.showDetails",when:"false"},{command:"remote-containers.explorerTargetsRefresh",when:"false"},{command:"remote-containers.explorerVolumesRefresh",when:"false"},{command:"remote-containers.explorerDetailsRefresh",when:"false"},{command:"remote-containers.inspectDockerResource",when:"false"},{command:"remote-containers.startAndOpenFolder",when:"false"},{command:"remote-containers.openInformationAboutMountPerformance",when:"false"},{command:"remote-containers.newContainer",when:"false"},{command:"remote-containers.showContainerLog",when:"false"},{command:"remote-containers.labelPortAndUpdateConfig",when:"false"},{command:"remote-containers.addExtensionToConfig",when:"false"},{command:"remote-containers.configureContainerFeatures",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.configureContainerFeatures",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"}],"statusBar/remoteIndicator":[{command:"remote-containers.createDevContainer",group:"remote_30_dev-container_2_actions@1",when:"true"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@2",when:"true"},{command:"remote-containers.configureContainerFeatures",group:"remote_30_dev-container_2_actions@3",when:"remoteName =~ /^(dev-container)$/"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@4",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@4",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"workspaceFolderCount == 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"remoteName =~ /tunnel*.*/ && gitOpenRepositoryCount == 0"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"workspaceFolderCount == 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenLocally",group:"remote_30_dev-container_2_actions@6",when:"canReopenLocally"},{command:"remote-containers.reopenInWSL",group:"remote_30_dev-container_2_actions@6",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",group:"remote_30_dev-container_2_actions@6",when:"canReopenInSSH"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@7",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@7",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"}],"view/title":[{command:"remote-containers.explorerTargetsRefresh",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation@3"},{command:"remote-containers.newContainer",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation@1"},{command:"remote-containers.cleanUpDevContainers",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation@2"},{command:"remote-containers.newContainer",when:"view == dockerContainers",group:"navigation"},{command:"remote-containers.explorerDetailsRefresh",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.attachToContainer",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.rebuildContainer",when:"view == detailsContainers && remoteName == dev-container",group:"navigation"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && remoteName =~ /^(dev|attached)-container$/",group:"navigation"},{command:"remote-containers.pruneVolumes",when:"view == devVolumes",group:"navigation@2"},{command:"remote-containers.explorerVolumesRefresh",when:"view == devVolumes",group:"navigation@3"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"view == devVolumes",group:"navigation@1"}],"view/item/context":[{command:"remote-containers.attachToRunningContainerFromViewlet",when:"view == dockerContainers && viewItem =~ /^runningContainer$/i && vscode-docker:aciContext != true",group:"containers_1_general@2"},{command:"remote-containers.inspectVolumeFromViewlet",when:"view == dockerVolumes && viewItem == volume && vscode-docker:aciContext != true",group:"volumes_1_general@2"},{command:"remote-containers.checkoutPRInVolume",when:"view =~ /pr:/ && viewItem =~ /pullrequest(:local)?:nonactive|description/",group:"1_pullrequest@3"},{command:"remote-containers.attachToK8sContainerFromViewlet",group:"2@4",when:"remoteName =~ /^(wsl)?$/ && view == extension.vsKubernetesExplorer && viewItem =~ /vsKubernetes\\.resource\\.pod/i"},{command:"remote-containers.startAndOpenFolder",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"1_folder@1"},{command:"remote-containers.startAndOpenFolder",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"inline@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"2_folder@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"inline@2"},{command:"workbench.action.closeFolder",when:"view == targetsContainers && viewItem =~ /active.*Folder/",group:"1_folder@1"},{command:"remote-containers.reopenLocally",when:"canReopenLocally && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.attachToContainer",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"1_container@1"},{command:"remote-containers.attachToContainer",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"inline@1"},{command:"remote-containers.attachToContainerNewWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"1_container@2"},{command:"remote-containers.stopContainer",when:"view == targetsContainers && viewItem =~ /^(active|running)(Dev|)Container/",group:"2_container@2"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"2_container@3"},{command:"remote-containers.rebuildContainer",when:"view == targetsContainers && viewItem =~ /activeDevContainer/",group:"2_container@1"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"inline@2"},{command:"remote-containers.startContainer",when:"view == targetsContainers && viewItem =~ /^exited(Dev|)Container/",group:"1_container@3"},{command:"remote-containers.showDetails",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@4"},{command:"remote-containers.inspectDockerResource",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@5"},{command:"remote-containers.showContainerLog",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@6"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && viewItem == devContainer"},{command:"remote-containers.inspectDockerResource",when:"view == detailsContainers && viewItem =~ /^(image|volume)$/"},{command:"remote-containers.openInformationAboutMountPerformance",when:"view == detailsContainers && viewItem == mountPerformanceInfo",group:"inline@1"},{command:"remote-containers.cloneInVolume",when:"view == devVolumes && viewItem =~ /^(devVolume)$/",group:"1_volumes@1"},{command:"remote-containers.inspectInBasicDevContainer",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@1"},{command:"remote-containers.inspectDockerResource",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@2"},{command:"remote-containers.removeVolume",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"3_volumes-destructive@1"}],"ports/item/port/inline":[{command:"remote-containers.labelPortAndUpdateConfig",group:"0_manage@4",when:"remoteName =~ /^(dev|attached)-container$/ && tunnelType == Forwarded"}],"extension/context":[{command:"remote-containers.addExtensionToConfig",group:"2_configure",when:"!isBuiltinExtension && remoteName =~ /^(dev-container|attached-container|wsl|ssh-remote)?$/"}]},resourceLabelFormatters:[{scheme:"vscode-remote",authority:"dev-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Dev Container"}},{scheme:"vscode-remote",authority:"attached-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Container"}},{scheme:"vscode-remote",authority:"exec+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Exec"}},{scheme:"vscode-remote",authority:"k8s-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Kubernetes"}}],views:{remote:[{id:"targetsContainers",name:"Dev Containers",group:"targets@2",remoteName:["dev-container","attached-container","exec","k8s-container"]},{id:"detailsContainers",name:"Details (Containers)",when:"remote-containers:showDetails",group:"details@1",remoteName:["dev-container","attached-container"]},{id:"devVolumes",name:"Dev Volumes",group:"details@2",remoteName:["dev-container","attached-container"]}]},viewsWelcome:[{view:"targetsContainers",when:"remote-containers:needsDockerStartOrInstall",contents:"Get started with containers by [installing Docker](command:remote-containers.installDocker) or by visiting the [help view](command:~remote.helpPanel.focus). [Refresh](command:remote-containers.explorerTargetsRefresh) after installation and startup."},{view:"targetsContainers",when:"remote-containers:needsSSHCredentials",contents:"[Refresh](command:remote-containers.explorerTargetsRefresh) to provide SSH credentials."},{view:"targetsContainers",when:"remote-containers:noContainersWithFolder",contents:`Get started with containers by running one of the [Dev Containers](command:remote-containers.newContainer) commands.
You can [reopen the current folder in a container](command:remote-containers.reopenInContainer), or open another folder in a container.
[Open Folder in Container](command:remote-containers.openFolder)
If you're new to containers and want to [try a sample](command:remote-containers.trySample), there are several to choose from.`},{view:"targetsContainers",when:"remote-containers:noContainersWithoutFolder",contents:`Get started with containers by running one of the [Dev Containers](command:remote-containers.newContainer) commands.
You can open an existing folder in a container.
[Open Folder in Container](command:remote-containers.openFolder)
If you're new to containers and want to [try a sample](command:remote-containers.trySample), there are several to choose from.`},{view:"devVolumes",when:"remote-containers:noDevVolumes",contents:`If there's a repository you want to work with you can clone that directly in a container volume.
[Clone Repository in Container Volume](command:remote-containers.openRepositoryInUniqueVolume)
`}],remoteHelp:{getStarted:"https://aka.ms/vscode-remote/containers/tutorial-sandbox",feedback:"https://aka.ms/vscode-remote/containers/provide-feedback",documentation:"https://aka.ms/vscode-remote/containers",issues:"https://aka.ms/vscode-remote/containers/issues",remoteName:["dev-container","attached-container","exec","k8s-container"]}},scripts:{"vscode:prepublish":"npx npm-run-all --npm-path npm clean definitions compile-prod dev-containers-user-cli-prepare",compile:"npx npm-run-all --npm-path npm clean-dist definitions compile-dev",watch:"npx npm-run-all --npm-path npm clean-dist definitions compile-watch",postinstall:"yarn --cwd node_modules/@devcontainers/cli",precommit:"node build/hygiene.js",package:"vsce package --yarn",definitions:"npx npm-run-all --npm-path npm definitions-clean definitions-copy",lint:"eslint -c .eslintrc.js --rulesdir ./build/eslint --max-warnings 0 --ext .ts ./src ./test","compile-prod":"npx npm-run-all --npm-path npm compile-cli-prod copy-cli esbuild-prod","compile-dev":"npx npm-run-all --npm-path npm compile-cli-dev copy-cli esbuild-dev","compile-watch":"npx npm-run-all --npm-path npm --parallel compile-cli-watch watch-cli esbuild-watch","esbuild-prod":"node esbuild.js --production","esbuild-dev":"node esbuild.js","esbuild-watch":"node esbuild.js --watch","compile-cli-prod":"yarn --cwd node_modules/@devcontainers/cli compile-prod","compile-cli-dev":"yarn --cwd node_modules/@devcontainers/cli compile-dev","compile-cli-watch":"yarn --cwd node_modules/@devcontainers/cli compile-watch","copy-cli":'copyfiles --up 4 --all "node_modules/@devcontainers/cli/dist/spec-node/devContainersSpecCLI.js" dist',"watch-cli":"npm-watch","type-check":"npx npm-run-all --npm-path npm clean-built tsc-b","tsc-b":"tsc -b","type-check-watch":"npx npm-run-all --npm-path npm clean-built tsc-b-w","tsc-b-w":"tsc -b -w","definitions-clean":"rimraf dist/node_modules/vscode-dev-containers","definitions-copy":'copyfiles --up 3 "node_modules/@devcontainers/cli/node_modules/vscode-dev-containers/container-features/{devcontainer-features.json,feature-scripts.env,fish-debian.sh,homebrew-debian.sh,install.sh}" dist',"dev-containers-cli-publish":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-publish","dev-containers-cli-package":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-pack","dev-containers-cli-prepare":"npx npm-run-all --npm-path npm clean dev-containers-cli-compile dev-containers-cli-copy-module dev-containers-cli-copy-definitions","dev-containers-cli-compile":"npx npm-run-all --npm-path npm compile-prod","dev-containers-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersCLI.js dist/spec-node/devContainersSpecCLI.js "scripts/**/*" dev-containers-cli',"dev-containers-cli-copy-definitions":'copyfiles --up 3 "node_modules/@devcontainers/cli/node_modules/vscode-dev-containers/container-features/{devcontainer-features.json,feature-scripts.env,fish-debian.sh,homebrew-debian.sh,install.sh}" dev-containers-cli/dist',"dev-containers-cli-npm-publish":"cd dev-containers-cli && npm publish","dev-containers-cli-npm-pack":"cd dev-containers-cli && npm pack","dev-containers-user-cli-package":"npx npm-run-all --npm-path npm dev-containers-user-cli-prepare dev-containers-user-cli-npm-pack","dev-containers-user-cli-prepare":"npx npm-run-all --npm-path npm dev-containers-user-cli-copy-module dev-containers-user-cli-copy-definitions","dev-containers-user-cli-clean-prepare":"npx npm-run-all --npm-path npm clean dev-containers-user-prepare","dev-containers-user-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersUserCLI.js dist/spec-node/devContainersSpecCLI.js "scripts/**/*" dev-containers-user-cli',"dev-containers-user-cli-copy-definitions":'copyfiles --up 3 "node_modules/@devcontainers/cli/node_modules/vscode-dev-containers/container-features/{devcontainer-features.json,feature-scripts.env,fish-debian.sh,homebrew-debian.sh,install.sh}" dev-containers-user-cli/dist',"dev-containers-user-cli-npm-pack":"cd dev-containers-user-cli && npm pack",clean:"npx npm-run-all --npm-path npm clean-dist clean-built","clean-dist":"rimraf dist dev-containers-cli/dist dev-containers-cli/scripts dev-containers-user-cli/dist dev-containers-user-cli/scripts","clean-built":"rimraf built",test:"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit test/core/**/*.test.ts","test-matrix":"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit","test-no-env":"mocha -r ts-node/register --exit test/core/**/*.test.ts","test-dev-containers":"env TS_NODE_PROJECT=test/dev-containers/tsconfig.json mocha -r ts-node/register --exit test/dev-containers/**/*.test.ts",copytestconfigsforalpine:"/bin/bash -c 'cd test/configs && for f in *; do if [[ -d $f ]] && [[ $f != *alpine* ]]; then cp -r -T $f $f-alpine ; fi ; done'"},watch:{"copy-cli":"node_modules/@devcontainers/cli/dist/spec-node/devContainersSpecCLI.js"},devDependencies:{"@types/chai":"^4.3.4","@types/follow-redirects":"^1.14.1","@types/js-yaml":"^4.0.5","@types/markdown-it":"^12.2.3","@types/minimist":"^1.2.2","@types/mocha":"^10.0.1","@types/ncp":"^2.0.5","@types/node":"^18.15.3","@types/pull-stream":"^3.6.2","@types/recursive-readdir":"^2.2.1","@types/semver":"^7.3.13","@types/stats-lite":"^2.2.0","@types/tar":"^6.1.4","@types/vscode":"~1.75.0","@types/yargs":"^17.0.22","@typescript-eslint/eslint-plugin":"^5.55.0","@typescript-eslint/experimental-utils":"^5.55.0","@typescript-eslint/parser":"^5.55.0",ajv:"^8.12.0",chai:"^4.3.7",copyfiles:"^2.4.1",esbuild:"^0.17.12",eslint:"^8.36.0","event-stream":"^4.0.1","gulp-eslint":"^6.0.0","gulp-filter":"^7.0.0",husky:"^8.0.3",jsonc:"^2.0.0",minimist:"^1.2.8",mocha:"^10.2.0","npm-run-all":"^4.1.5","npm-watch":"^0.11.0","p-all":"^4.0.0",rimraf:"^4.4.0","stats-lite":"^2.2.0","ts-node":"^10.9.1",typescript:"^5.0.2","typescript-formatter":"^7.2.2",vinyl:"^3.0.0","vinyl-fs":"^3.0.3",vsce:"^2.15.0"},dependencies:{"@devcontainers/cli":"https://github.com/devcontainers/cli.git#6bbaf36e283e98eb92b9518501a66953590b0637","@vscode/extension-telemetry":"^0.7.7",applicationinsights:"^2.5.0","find-process":"^1.4.7","follow-redirects":"^1.15.2","js-yaml":"^4.1.0","jsonc-parser":"^3.2.0",muxrpc:"^6.7.3","node-pty":"^0.10.1","pull-pushable":"^2.2.0","pull-stream":"^3.7.0","pull-stream-to-stream":"^2.0.0",semver:"^7.3.8","stream-to-pull-stream":"^1.7.3",tar:"^6.1.13","vscode-tas-client":"^0.1.63","vscode-uri":"^3.0.7",yaml:"^2.2.1",yargs:"~17.7.1"}}});var VUe={};As(VUe,{activate:()=>hUe,attachToContainer:()=>z0,deactivate:()=>xUe});module.exports=yi(VUe);var D=B(require("vscode")),lue=B(require("os")),Z0=B(require("fs")),nn=B(require("path")),due=B(require("querystring"));function zg(e,t=!1){let n=e.length,r=0,i="",o=0,s=16,a=0,u=0,c=0,l=0,d=0;function p(x,E){let b=0,C=0;for(;b<x||!E;){let R=e.charCodeAt(r);if(R>=48&&R<=57)C=C*16+R-48;else if(R>=65&&R<=70)C=C*16+R-65+10;else if(R>=97&&R<=102)C=C*16+R-97+10;else break;r++,b++}return b<x&&(C=-1),C}function f(x){r=x,i="",o=0,s=16,d=0}function m(){let x=r;if(e.charCodeAt(r)===48)r++;else for(r++;r<e.length&&zp(e.charCodeAt(r));)r++;if(r<e.length&&e.charCodeAt(r)===46)if(r++,r<e.length&&zp(e.charCodeAt(r)))for(r++;r<e.length&&zp(e.charCodeAt(r));)r++;else return d=3,e.substring(x,r);let E=r;if(r<e.length&&(e.charCodeAt(r)===69||e.charCodeAt(r)===101))if(r++,(r<e.length&&e.charCodeAt(r)===43||e.charCodeAt(r)===45)&&r++,r<e.length&&zp(e.charCodeAt(r))){for(r++;r<e.length&&zp(e.charCodeAt(r));)r++;E=r}else d=3;return e.substring(x,E)}function h(){let x="",E=r;for(;;){if(r>=n){x+=e.substring(E,r),d=2;break}let b=e.charCodeAt(r);if(b===34){x+=e.substring(E,r),r++;break}if(b===92){if(x+=e.substring(E,r),r++,r>=n){d=2;break}switch(e.charCodeAt(r++)){case 34:x+='"';break;case 92:x+="\\";break;case 47:x+="/";break;case 98:x+="\b";break;case 102:x+="\f";break;case 110:x+=`
`;break;case 114:x+="\r";break;case 116:x+="	";break;case 117:let R=p(4,!0);R>=0?x+=String.fromCharCode(R):d=4;break;default:d=5}E=r;continue}if(b>=0&&b<=31)if(Gg(b)){x+=e.substring(E,r),d=2;break}else d=6;r++}return x}function g(){if(i="",d=0,o=r,u=a,l=c,r>=n)return o=n,s=17;let x=e.charCodeAt(r);if(nR(x)){do r++,i+=String.fromCharCode(x),x=e.charCodeAt(r);while(nR(x));return s=15}if(Gg(x))return r++,i+=String.fromCharCode(x),x===13&&e.charCodeAt(r)===10&&(r++,i+=`
`),a++,c=r,s=14;switch(x){case 123:return r++,s=1;case 125:return r++,s=2;case 91:return r++,s=3;case 93:return r++,s=4;case 58:return r++,s=6;case 44:return r++,s=5;case 34:return r++,i=h(),s=10;case 47:let E=r-1;if(e.charCodeAt(r+1)===47){for(r+=2;r<n&&!Gg(e.charCodeAt(r));)r++;return i=e.substring(E,r),s=12}if(e.charCodeAt(r+1)===42){r+=2;let b=n-1,C=!1;for(;r<b;){let R=e.charCodeAt(r);if(R===42&&e.charCodeAt(r+1)===47){r+=2,C=!0;break}r++,Gg(R)&&(R===13&&e.charCodeAt(r)===10&&r++,a++,c=r)}return C||(r++,d=1),i=e.substring(E,r),s=13}return i+=String.fromCharCode(x),r++,s=16;case 45:if(i+=String.fromCharCode(x),r++,r===n||!zp(e.charCodeAt(r)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=m(),s=11;default:for(;r<n&&v(x);)r++,x=e.charCodeAt(r);if(o!==r){switch(i=e.substring(o,r),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(x),r++,s=16}}function v(x){if(nR(x)||Gg(x))return!1;switch(x){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function y(){let x;do x=g();while(x>=12&&x<=15);return x}return{setPosition:f,getPosition:()=>r,scan:t?y:g,getToken:()=>s,getTokenValue:()=>i,getTokenOffset:()=>o,getTokenLength:()=>r-o,getTokenStartLine:()=>u,getTokenStartCharacter:()=>o-l,getTokenError:()=>d}}function nR(e){return e===32||e===9}function Gg(e){return e===10||e===13}function zp(e){return e>=48&&e<=57}var jj;(function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"})(jj||(jj={}));function rR(e,t,n){let r,i,o,s,a;if(t){for(s=t.offset,a=s+t.length,o=s;o>0&&!Yg(e,o-1);)o--;let x=a;for(;x<e.length&&!Yg(e,x);)x++;i=e.substring(o,x),r=Sue(i,n)}else i=e,r=0,o=0,s=0,a=e.length;let u=Tue(n,e),c=0,l=0,d;n.insertSpaces?d=Yp(" ",n.tabSize||4):d="	";let p=zg(i,!1),f=!1;function m(){return c>1?Yp(u,c)+Yp(d,r+l):u+Yp(d,r+l)}function h(){let x=p.scan();for(c=0;x===15||x===14;)x===14&&n.keepLines?c+=1:x===14&&(c=1),x=p.scan();return f=x===16||p.getTokenError()!==0,x}let g=[];function v(x,E,b){!f&&(!t||E<a&&b>s)&&e.substring(E,b)!==x&&g.push({offset:E,length:b-E,content:x})}let y=h();if(n.keepLines&&c>0&&v(Yp(u,c),0,0),y!==17){let x=p.getTokenOffset()+o,E=Yp(d,r);v(E,o,x)}for(;y!==17;){let x=p.getTokenOffset()+p.getTokenLength()+o,E=h(),b="",C=!1;for(;c===0&&(E===12||E===13);){let T=p.getTokenOffset()+o;v(" ",x,T),x=p.getTokenOffset()+p.getTokenLength()+o,C=E===12,b=C?m():"",E=h()}if(E===2)y!==1&&l--,n.keepLines&&c>0||!n.keepLines&&y!==1?b=m():n.keepLines&&(b=" ");else if(E===4)y!==3&&l--,n.keepLines&&c>0||!n.keepLines&&y!==3?b=m():n.keepLines&&(b=" ");else{switch(y){case 3:case 1:l++,n.keepLines&&c>0||!n.keepLines?b=m():b=" ";break;case 5:n.keepLines&&c>0||!n.keepLines?b=m():b=" ";break;case 12:b=m();break;case 13:c>0?b=m():C||(b=" ");break;case 6:n.keepLines&&c>0?b=m():C||(b=" ");break;case 10:n.keepLines&&c>0?b=m():E===6&&!C&&(b="");break;case 7:case 8:case 9:case 11:case 2:case 4:n.keepLines&&c>0?b=m():(E===12||E===13)&&!C?b=" ":E!==5&&E!==17&&(f=!0);break;case 16:f=!0;break}c>0&&(E===12||E===13)&&(b=m())}E===17&&(n.keepLines&&c>0?b=m():b=n.insertFinalNewline?u:"");let R=p.getTokenOffset()+o;v(b,x,R),y=E}return g}function Yp(e,t){let n="";for(let r=0;r<t;r++)n+=e;return n}function Sue(e,t){let n=0,r=0,i=t.tabSize||4;for(;n<e.length;){let o=e.charAt(n);if(o===" ")r++;else if(o==="	")r+=i;else break;n++}return Math.floor(r/i)}function Tue(e,t){for(let n=0;n<t.length;n++){let r=t.charAt(n);if(r==="\r")return n+1<t.length&&t.charAt(n+1)===`
`?`\r
`:"\r";if(r===`
`)return`
`}return e&&e.eol||`
`}function Yg(e,t){return`\r
`.indexOf(e.charAt(t))!==-1}var Kg;(function(e){e.DEFAULT={allowTrailingComma:!1}})(Kg||(Kg={}));function Hj(e,t){let n=[],r=new Object,i,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(u,c,l,d){o.value=u,o.offset=c,o.length=l,o.type=d,o.colonOffset=void 0,i=o}try{EE(e,{onObjectBegin:(u,c)=>{if(t<=u)throw r;i=void 0,s=t>u,n.push("")},onObjectProperty:(u,c,l)=>{if(t<c||(a(u,c,l,"property"),n[n.length-1]=u,t<=c+l))throw r},onObjectEnd:(u,c)=>{if(t<=u)throw r;i=void 0,n.pop()},onArrayBegin:(u,c)=>{if(t<=u)throw r;i=void 0,n.push(0)},onArrayEnd:(u,c)=>{if(t<=u)throw r;i=void 0,n.pop()},onLiteralValue:(u,c,l)=>{if(t<c||(a(u,c,l,Vj(u)),t<=c+l))throw r},onSeparator:(u,c,l)=>{if(t<=c)throw r;if(u===":"&&i&&i.type==="property")i.colonOffset=c,s=!1,i=void 0;else if(u===","){let d=n[n.length-1];typeof d=="number"?n[n.length-1]=d+1:(s=!0,n[n.length-1]=""),i=void 0}}})}catch(u){if(u!==r)throw u}return{path:n,previousNode:i,isAtPropertyKey:s,matches:u=>{let c=0;for(let l=0;c<u.length&&l<n.length;l++)if(u[c]===n[l]||u[c]==="*")c++;else if(u[c]!=="**")return!1;return c===u.length}}}function Bj(e,t=[],n=Kg.DEFAULT){let r=null,i=[],o=[];function s(u){Array.isArray(i)?i.push(u):r!==null&&(i[r]=u)}return EE(e,{onObjectBegin:()=>{let u={};s(u),o.push(i),i=u,r=null},onObjectProperty:u=>{r=u},onObjectEnd:()=>{i=o.pop()},onArrayBegin:()=>{let u=[];s(u),o.push(i),i=u,r=null},onArrayEnd:()=>{i=o.pop()},onLiteralValue:s,onError:(u,c,l)=>{t.push({error:u,offset:c,length:l})}},n),i[0]}function wE(e,t=[],n=Kg.DEFAULT){let r={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(u){r.type==="property"&&(r.length=u-r.offset,r=r.parent)}function o(u){return r.children.push(u),u}EE(e,{onObjectBegin:u=>{r=o({type:"object",offset:u,length:-1,parent:r,children:[]})},onObjectProperty:(u,c,l)=>{r=o({type:"property",offset:c,length:-1,parent:r,children:[]}),r.children.push({type:"string",value:u,offset:c,length:l,parent:r})},onObjectEnd:(u,c)=>{i(u+c),r.length=u+c-r.offset,r=r.parent,i(u+c)},onArrayBegin:(u,c)=>{r=o({type:"array",offset:u,length:-1,parent:r,children:[]})},onArrayEnd:(u,c)=>{r.length=u+c-r.offset,r=r.parent,i(u+c)},onLiteralValue:(u,c,l)=>{o({type:Vj(u),offset:c,length:l,parent:r,value:u}),i(c+l)},onSeparator:(u,c,l)=>{r.type==="property"&&(u===":"?r.colonOffset=c:u===","&&i(c))},onError:(u,c,l)=>{t.push({error:u,offset:c,length:l})}},n);let a=r.children[0];return a&&delete a.parent,a}function Xg(e,t){if(!e)return;let n=e;for(let r of t)if(typeof r=="string"){if(n.type!=="object"||!Array.isArray(n.children))return;let i=!1;for(let o of n.children)if(Array.isArray(o.children)&&o.children[0].value===r&&o.children.length===2){n=o.children[1],i=!0;break}if(!i)return}else{let i=r;if(n.type!=="array"||i<0||!Array.isArray(n.children)||i>=n.children.length)return;n=n.children[i]}return n}function xE(e){switch(e.type){case"array":return e.children.map(xE);case"object":let t=Object.create(null);for(let n of e.children){let r=n.children[1];r&&(t[n.children[0].value]=xE(r))}return t;case"null":case"string":case"number":case"boolean":return e.value;default:return}}function EE(e,t,n=Kg.DEFAULT){let r=zg(e,!1),i=[];function o(I){return I?()=>I(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function s(I){return I?()=>I(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>i.slice()):()=>!0}function a(I){return I?F=>I(F,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function u(I){return I?F=>I(F,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>i.slice()):()=>!0}let c=s(t.onObjectBegin),l=u(t.onObjectProperty),d=o(t.onObjectEnd),p=s(t.onArrayBegin),f=o(t.onArrayEnd),m=u(t.onLiteralValue),h=a(t.onSeparator),g=o(t.onComment),v=a(t.onError),y=n&&n.disallowComments,x=n&&n.allowTrailingComma;function E(){for(;;){let I=r.scan();switch(r.getTokenError()){case 4:b(14);break;case 5:b(15);break;case 3:b(13);break;case 1:y||b(11);break;case 2:b(12);break;case 6:b(16);break}switch(I){case 12:case 13:y?b(10):g();break;case 16:b(1);break;case 15:case 14:break;default:return I}}}function b(I,F=[],q=[]){if(v(I),F.length+q.length>0){let $=r.getToken();for(;$!==17;){if(F.indexOf($)!==-1){E();break}else if(q.indexOf($)!==-1)break;$=E()}}}function C(I){let F=r.getTokenValue();return I?m(F):(l(F),i.push(F)),E(),!0}function R(){switch(r.getToken()){case 11:let I=r.getTokenValue(),F=Number(I);isNaN(F)&&(b(2),F=0),m(F);break;case 7:m(null);break;case 8:m(!0);break;case 9:m(!1);break;default:return!1}return E(),!0}function T(){return r.getToken()!==10?(b(3,[],[2,5]),!1):(C(!1),r.getToken()===6?(h(":"),E(),P()||b(4,[],[2,5])):b(5,[],[2,5]),i.pop(),!0)}function _(){c(),E();let I=!1;for(;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(I||b(4,[],[]),h(","),E(),r.getToken()===2&&x)break}else I&&b(6,[],[]);T()||b(4,[],[2,5]),I=!0}return d(),r.getToken()!==2?b(7,[2],[]):E(),!0}function A(){p(),E();let I=!0,F=!1;for(;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(F||b(4,[],[]),h(","),E(),r.getToken()===4&&x)break}else F&&b(6,[],[]);I?(i.push(0),I=!1):i[i.length-1]++,P()||b(4,[],[4,5]),F=!0}return f(),I||i.pop(),r.getToken()!==4?b(8,[4],[]):E(),!0}function P(){switch(r.getToken()){case 3:return A();case 1:return _();case 10:return C(!0);default:return R()}}return E(),r.getToken()===17?n.allowEmptyContent?!0:(b(4,[],[]),!1):P()?(r.getToken()!==17&&b(9,[],[]),!0):(b(4,[],[]),!1)}function Vj(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(e){if(Array.isArray(e))return"array"}else return"null";return"object"}default:return"null"}}function Wj(e,t,n,r){let i=t.slice(),s=wE(e,[]),a,u;for(;i.length>0&&(u=i.pop(),a=Xg(s,i),a===void 0&&n!==void 0);)typeof u=="string"?n={[u]:n}:n=[n];if(a)if(a.type==="object"&&typeof u=="string"&&Array.isArray(a.children)){let c=Xg(a,[u]);if(c!==void 0)if(n===void 0){if(!c.parent)throw new Error("Malformed AST");let l=a.children.indexOf(c.parent),d,p=c.parent.offset+c.parent.length;if(l>0){let f=a.children[l-1];d=f.offset+f.length}else d=a.offset+1,a.children.length>1&&(p=a.children[1].offset);return Rl(e,{offset:d,length:p-d,content:""},r)}else return Rl(e,{offset:c.offset,length:c.length,content:JSON.stringify(n)},r);else{if(n===void 0)return[];let l=`${JSON.stringify(u)}: ${JSON.stringify(n)}`,d=r.getInsertionIndex?r.getInsertionIndex(a.children.map(f=>f.children[0].value)):a.children.length,p;if(d>0){let f=a.children[d-1];p={offset:f.offset+f.length,length:0,content:","+l}}else a.children.length===0?p={offset:a.offset+1,length:0,content:l}:p={offset:a.offset+1,length:0,content:l+","};return Rl(e,p,r)}}else if(a.type==="array"&&typeof u=="number"&&Array.isArray(a.children)){let c=u;if(c===-1){let l=`${JSON.stringify(n)}`,d;if(a.children.length===0)d={offset:a.offset+1,length:0,content:l};else{let p=a.children[a.children.length-1];d={offset:p.offset+p.length,length:0,content:","+l}}return Rl(e,d,r)}else if(n===void 0&&a.children.length>=0){let l=u,d=a.children[l],p;if(a.children.length===1)p={offset:a.offset+1,length:a.length-2,content:""};else if(a.children.length-1===l){let f=a.children[l-1],m=f.offset+f.length,h=a.offset+a.length;p={offset:m,length:h-2-m,content:""}}else p={offset:d.offset,length:a.children[l+1].offset-d.offset,content:""};return Rl(e,p,r)}else if(n!==void 0){let l,d=`${JSON.stringify(n)}`;if(!r.isArrayInsertion&&a.children.length>u){let p=a.children[u];l={offset:p.offset,length:p.length,content:d}}else if(a.children.length===0||u===0)l={offset:a.offset+1,length:0,content:a.children.length===0?d:d+","};else{let p=u>a.children.length?a.children.length:u,f=a.children[p-1];l={offset:f.offset+f.length,length:0,content:","+d}}return Rl(e,l,r)}else throw new Error(`Can not ${n===void 0?"remove":r.isArrayInsertion?"insert":"modify"} Array index ${c} as length is not sufficient`)}else throw new Error(`Can not add ${typeof u!="number"?"index":"property"} to parent of type ${a.type}`);else{if(n===void 0)throw new Error("Can not delete in empty document");return Rl(e,{offset:s?s.offset:0,length:s?s.length:0,content:JSON.stringify(n)},r)}}function Rl(e,t,n){if(!n.formattingOptions)return[t];let r=bE(e,t),i=t.offset,o=t.offset+t.content.length;if(t.length===0||t.content.length===0){for(;i>0&&!Yg(r,i-1);)i--;for(;o<r.length&&!Yg(r,o);)o++}let s=rR(r,{offset:i,length:o-i},{...n.formattingOptions,keepLines:!1});for(let u=s.length-1;u>=0;u--){let c=s[u];r=bE(r,c),i=Math.min(i,c.offset),o=Math.max(o,c.offset+c.length),o+=c.content.length-c.length}let a=e.length-(r.length-o)-i;return[{offset:i,length:a,content:r.substring(i,o)}]}function bE(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}var Gj;(function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"})(Gj||(Gj={}));var zj;(function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"})(zj||(zj={}));var Kj=Hj,Ze=Bj,Qg=wE,$c=Xg;var Jg=xE;var Yj;(function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"})(Yj||(Yj={}));function mn(e,t,n,r){return Wj(e,t,n,r)}function Br(e,t){let n=t.slice(0).sort((i,o)=>{let s=i.offset-o.offset;return s===0?i.length-o.length:s}),r=e.length;for(let i=n.length-1;i>=0;i--){let o=n[i];if(o.offset+o.length<=r)e=bE(e,o);else throw new Error("Overlapping edit");r=o.offset}return e}var Lt=B(require("fs")),Ds=require("util");function or(e){return new Promise(t=>Lt.stat(e,(n,r)=>t(!n&&r.isFile())))}function Xj(e){return new Promise(t=>Lt.stat(e,(n,r)=>t(!n&&r.isDirectory())))}function Qj(e){return new Promise(t=>Lt.stat(e,(n,r)=>t(!n&&r.isSocket())))}var nt=(0,Ds.promisify)(Lt.readFile),_E=(0,Ds.promisify)(Lt.writeFile),ZUe=(0,Ds.promisify)(Lt.appendFile),ba=(0,Ds.promisify)(Lt.rename),jc=(0,Ds.promisify)(Lt.readdir),Jj=(0,Ds.promisify)(Lt.unlink),jo=e=>new Promise((t,n)=>Lt.mkdir(e,{recursive:!0},r=>r?n(r):t())),Zj=(0,Ds.promisify)(Lt.rmdir),Hc=(0,Ds.promisify)(Lt.rm),eqe=(0,Ds.promisify)(Lt.copyFile);function iR(e,t,n){let r=e.relative(t,n);return!!r&&!r.startsWith("..")&&!e.isAbsolute(r)}var qe=B(require("vscode")),sE=B(require("path"));var wy=B(require("path"));var rH=B(require("os")),ev=B(require("fs")),iH=B(require("path"));var oR=require("events"),Kp=class{constructor(...t){this.nodeEmitter=new oR.EventEmitter;this.event=t=>(this.nodeEmitter.on("event",t),{dispose:()=>{this.nodeEmitter.off("event",t)}});this.disposables=t}fire(t){this.nodeEmitter.emit("event",t)}dispose(){this.nodeEmitter.removeAllListeners(),this.disposables.forEach(t=>t.dispose())}},CE=class{constructor(){this.nodeEmitter=new oR.EventEmitter;this.event=t=>{let n=r=>r.results.push(t(r.data));return this.nodeEmitter.on("event",n),{dispose:()=>{this.nodeEmitter.off("event",n)}}}}fire(t){let n=[];return this.nodeEmitter.emit("event",{data:t,results:n}),n}dispose(){this.nodeEmitter.removeAllListeners()}};function eH(e,t){return{sendTelemetryEvent:async()=>{},isCachedFlightEnabled:async()=>!1,product:t,package:e,getTelemetryLevel:()=>"off"}}var xi=(a=>(a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error",a[a.Critical=6]="Critical",a[a.Off=7]="Off",a))(xi||{}),aR={info:3,debug:2,trace:1},Aue=Object.keys(aR).reduce((e,t)=>(e[aR[t]]=t,e),[]);function oH(e){return aR[e]||3}function ks(e){return Aue[e]||3}var He={write:()=>{},raw:()=>{},start:()=>Date.now(),stop:()=>{},event:()=>{}},Xp=/(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]/g;function sH(e,t){let n=!!t;return{event:r=>{n&&(n=!1,e.forEach(i=>i.event({type:"text",level:3,timestamp:Date.now(),text:t}))),e.forEach(i=>i.event(r))}}}function aH(e,t){let n=Oue(e);return{event(r){let i=kue(r,t());i&&n.write(i)},join:n.join}}function cH(e,t,n){return{event(r){let i=Due(r,t(),n.getTime());i&&e(i)}}}function Zi(e,t=2){return{event:e.event,write(n,r=t){e.event({type:"text",level:r,timestamp:Date.now(),text:n})},raw(n,r=t){e.event({type:"raw",level:r,timestamp:Date.now(),text:n})},start(n,r=t){let i=Date.now();return e.event({type:"start",level:r,timestamp:i,text:n}),i},stop(n,r,i=t){e.event({type:"stop",level:i,timestamp:Date.now(),text:n,startTimestamp:r})},get dimensions(){return e.dimensions},onDidChangeDimensions:e.onDidChangeDimensions}}function Due(e,t,n){if(!(!("level"in e)||e.level<t))switch(e.type){case"text":return`[${Zg(tH,`${e.timestamp-n} ms`)}] ${SE(e.text)}`;case"raw":return e.text;case"start":return 1>=t?`${Zg(Mue,`[${e.timestamp-n} ms] Start`)}: ${SE(e.text)}`:`[${Zg(tH,`${e.timestamp-n} ms`)}] Start: ${SE(e.text)}`;case"stop":return 1>=t?`${Zg(Fue,`[${e.timestamp-n} ms] Stop`)} (${e.timestamp-e.startTimestamp} ms): ${SE(e.text)}`:void 0;default:throw uH(e)}}function SE(e){return que(e).replace(/\r?\n/g,`\r
`).replace(/(\r?\n)?$/,`\r
`)}function kue(e,t){if(!(!("level"in e)||e.level<t))switch(e.type){case"text":case"raw":return`[${new Date(e.timestamp).toISOString()}] ${sR(e.text)}`;case"start":return`[${new Date(e.timestamp).toISOString()}] Start: ${sR(e.text)}`;case"stop":return 2>=t?`[${new Date(e.timestamp).toISOString()}] Stop (${e.timestamp-e.startTimestamp} ms): ${sR(e.text)}`:void 0;default:throw uH(e)}}function sR(e){return e.replace(Xp,"").replace(/(\r?\n)?$/,rH.EOL)}function uH(e){return new Error(`Unknown log event type: ${e.type}`)}function Oue(e){let t=[],n=!1,r,i;function o(){n=!1,i&&!t.length&&(r=void 0,i(),i=void 0)}function s(a,u=!1){if(a&&t.push(a),!u&&!n&&t.length){n=!0;let c=t.join("");t.length=0,ev.appendFile(e,c,l=>{l&&(l.code==="ENOENT"?ev.mkdir(iH.dirname(e),{recursive:!0},d=>{d?(o(),console.error(d)):ev.appendFile(e,c,p=>{o(),p&&console.error(p),s()})}):(o(),console.error(l))),o(),s()})}}return{write:s,join:()=>r||(n?r=new Promise(a=>i=a):Promise.resolve())}}var Nue="38;2;143;99;79",lH="38;2;99;143;79",Lue="38;2;86;156;214",Fue=Nue,Mue=lH,tH=lH,Uue=Lue;function Zg(e,t){return t.split(`
`).map(n=>`\x1B[1m\x1B[${e}m${n}\x1B[39m\x1B[22m`).join(`
`)}function que(e){let t,n=0,r=[];for(Xp.lastIndex=0;t=Xp.exec(e);)r.push(nH(e.substring(n,t.index))),r.push(t[0]),n=Xp.lastIndex;return r.push(nH(e.substr(n))),r.join("")}function nH(e){let t=/(?<=^|[^A-Za-z0-9_\-\.])[0-9]+(\.[0-9]+)*(?=$|[^A-Za-z0-9_\-\.])/g,n,r=0,i=[];for(;n=t.exec(e);)i.push(e.substring(r,n.index)),i.push(Zg(Uue,n[0])),r=t.lastIndex;return i.push(e.substr(r)),i.join("")}function et(e){return e.split(/\r?\n/).map(t=>`\x1B[1m\x1B[31m${t}\x1B[39m\x1B[22m`).join(`\r
`)+`\r
`}function cR(e){return e.split(/\r?\n/).map(t=>`\x1B[1m\x1B[33m${t}\x1B[39m\x1B[22m`).join(`\r
`)+`\r
`}var ve=class extends Error{constructor(n){var r;super(n.originalError&&n.originalError.message||n.description);this.manageContainer=!1;this.actions=[];this.data={};Object.assign(this,n),(r=this.originalError)!=null&&r.stack&&(this.stack=this.originalError.stack)}};var fe=B(require("path")),$_=B(require("fs")),J4=B(tf()),Ck=require("string_decoder"),j_=B(Bb());var U_=B(require("crypto")),Z4=B(bD());var Uve=B(require("path")),mk=require("string_decoder");var R_=B(require("path")),w4=B(require("fs")),E4=B(require("os")),Vf=B(require("child_process")),fk=require("string_decoder");var m4=B(require("path"));var AW;(()=>{"use strict";var e={470:i=>{function o(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function s(u,c){for(var l,d="",p=0,f=-1,m=0,h=0;h<=u.length;++h){if(h<u.length)l=u.charCodeAt(h);else{if(l===47)break;l=47}if(l===47){if(!(f===h-1||m===1))if(f!==h-1&&m===2){if(d.length<2||p!==2||d.charCodeAt(d.length-1)!==46||d.charCodeAt(d.length-2)!==46){if(d.length>2){var g=d.lastIndexOf("/");if(g!==d.length-1){g===-1?(d="",p=0):p=(d=d.slice(0,g)).length-1-d.lastIndexOf("/"),f=h,m=0;continue}}else if(d.length===2||d.length===1){d="",p=0,f=h,m=0;continue}}c&&(d.length>0?d+="/..":d="..",p=2)}else d.length>0?d+="/"+u.slice(f+1,h):d=u.slice(f+1,h),p=h-f-1;f=h,m=0}else l===46&&m!==-1?++m:m=-1}return d}var a={resolve:function(){for(var u,c="",l=!1,d=arguments.length-1;d>=-1&&!l;d--){var p;d>=0?p=arguments[d]:(u===void 0&&(u=process.cwd()),p=u),o(p),p.length!==0&&(c=p+"/"+c,l=p.charCodeAt(0)===47)}return c=s(c,!l),l?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(u){if(o(u),u.length===0)return".";var c=u.charCodeAt(0)===47,l=u.charCodeAt(u.length-1)===47;return(u=s(u,!c)).length!==0||c||(u="."),u.length>0&&l&&(u+="/"),c?"/"+u:u},isAbsolute:function(u){return o(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,c=0;c<arguments.length;++c){var l=arguments[c];o(l),l.length>0&&(u===void 0?u=l:u+="/"+l)}return u===void 0?".":a.normalize(u)},relative:function(u,c){if(o(u),o(c),u===c||(u=a.resolve(u))===(c=a.resolve(c)))return"";for(var l=1;l<u.length&&u.charCodeAt(l)===47;++l);for(var d=u.length,p=d-l,f=1;f<c.length&&c.charCodeAt(f)===47;++f);for(var m=c.length-f,h=p<m?p:m,g=-1,v=0;v<=h;++v){if(v===h){if(m>h){if(c.charCodeAt(f+v)===47)return c.slice(f+v+1);if(v===0)return c.slice(f+v)}else p>h&&(u.charCodeAt(l+v)===47?g=v:v===0&&(g=0));break}var y=u.charCodeAt(l+v);if(y!==c.charCodeAt(f+v))break;y===47&&(g=v)}var x="";for(v=l+g+1;v<=d;++v)v!==d&&u.charCodeAt(v)!==47||(x.length===0?x+="..":x+="/..");return x.length>0?x+c.slice(f+g):(f+=g,c.charCodeAt(f)===47&&++f,c.slice(f))},_makeLong:function(u){return u},dirname:function(u){if(o(u),u.length===0)return".";for(var c=u.charCodeAt(0),l=c===47,d=-1,p=!0,f=u.length-1;f>=1;--f)if((c=u.charCodeAt(f))===47){if(!p){d=f;break}}else p=!1;return d===-1?l?"/":".":l&&d===1?"//":u.slice(0,d)},basename:function(u,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');o(u);var l,d=0,p=-1,f=!0;if(c!==void 0&&c.length>0&&c.length<=u.length){if(c.length===u.length&&c===u)return"";var m=c.length-1,h=-1;for(l=u.length-1;l>=0;--l){var g=u.charCodeAt(l);if(g===47){if(!f){d=l+1;break}}else h===-1&&(f=!1,h=l+1),m>=0&&(g===c.charCodeAt(m)?--m==-1&&(p=l):(m=-1,p=h))}return d===p?p=h:p===-1&&(p=u.length),u.slice(d,p)}for(l=u.length-1;l>=0;--l)if(u.charCodeAt(l)===47){if(!f){d=l+1;break}}else p===-1&&(f=!1,p=l+1);return p===-1?"":u.slice(d,p)},extname:function(u){o(u);for(var c=-1,l=0,d=-1,p=!0,f=0,m=u.length-1;m>=0;--m){var h=u.charCodeAt(m);if(h!==47)d===-1&&(p=!1,d=m+1),h===46?c===-1?c=m:f!==1&&(f=1):c!==-1&&(f=-1);else if(!p){l=m+1;break}}return c===-1||d===-1||f===0||f===1&&c===d-1&&c===l+1?"":u.slice(c,d)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return function(c,l){var d=l.dir||l.root,p=l.base||(l.name||"")+(l.ext||"");return d?d===l.root?d+p:d+"/"+p:p}(0,u)},parse:function(u){o(u);var c={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return c;var l,d=u.charCodeAt(0),p=d===47;p?(c.root="/",l=1):l=0;for(var f=-1,m=0,h=-1,g=!0,v=u.length-1,y=0;v>=l;--v)if((d=u.charCodeAt(v))!==47)h===-1&&(g=!1,h=v+1),d===46?f===-1?f=v:y!==1&&(y=1):f!==-1&&(y=-1);else if(!g){m=v+1;break}return f===-1||h===-1||y===0||y===1&&f===h-1&&f===m+1?h!==-1&&(c.base=c.name=m===0&&p?u.slice(1,h):u.slice(m,h)):(m===0&&p?(c.name=u.slice(1,f),c.base=u.slice(1,h)):(c.name=u.slice(m,f),c.base=u.slice(m,h)),c.ext=u.slice(f,h)),m>0?c.dir=u.slice(0,m-1):p&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,i.exports=a}},t={};function n(i){var o=t[i];if(o!==void 0)return o.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.d=(i,o)=>{for(var s in o)n.o(o,s)&&!n.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},n.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{var i;if(n.r(r),n.d(r,{URI:()=>g,Utils:()=>P}),typeof process=="object")i=process.platform==="win32";else if(typeof navigator=="object"){var o=navigator.userAgent;i=o.indexOf("Windows")>=0}var s,a,u=(s=function(M,k){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,V){U.__proto__=V}||function(U,V){for(var L in V)Object.prototype.hasOwnProperty.call(V,L)&&(U[L]=V[L])},s(M,k)},function(M,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function U(){this.constructor=M}s(M,k),M.prototype=k===null?Object.create(k):(U.prototype=k.prototype,new U)}),c=/^\w[\w\d+.-]*$/,l=/^\//,d=/^\/\//;function p(M,k){if(!M.scheme&&k)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(M.authority,'", path: "').concat(M.path,'", query: "').concat(M.query,'", fragment: "').concat(M.fragment,'"}'));if(M.scheme&&!c.test(M.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(M.path){if(M.authority){if(!l.test(M.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(d.test(M.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var f="",m="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,g=function(){function M(k,U,V,L,G,W){W===void 0&&(W=!1),typeof k=="object"?(this.scheme=k.scheme||f,this.authority=k.authority||f,this.path=k.path||f,this.query=k.query||f,this.fragment=k.fragment||f):(this.scheme=function(z,se){return z||se?z:"file"}(k,W),this.authority=U||f,this.path=function(z,se){switch(z){case"https":case"http":case"file":se?se[0]!==m&&(se=m+se):se=m}return se}(this.scheme,V||f),this.query=L||f,this.fragment=G||f,p(this,W))}return M.isUri=function(k){return k instanceof M||!!k&&typeof k.authority=="string"&&typeof k.fragment=="string"&&typeof k.path=="string"&&typeof k.query=="string"&&typeof k.scheme=="string"&&typeof k.fsPath=="string"&&typeof k.with=="function"&&typeof k.toString=="function"},Object.defineProperty(M.prototype,"fsPath",{get:function(){return C(this,!1)},enumerable:!1,configurable:!0}),M.prototype.with=function(k){if(!k)return this;var U=k.scheme,V=k.authority,L=k.path,G=k.query,W=k.fragment;return U===void 0?U=this.scheme:U===null&&(U=f),V===void 0?V=this.authority:V===null&&(V=f),L===void 0?L=this.path:L===null&&(L=f),G===void 0?G=this.query:G===null&&(G=f),W===void 0?W=this.fragment:W===null&&(W=f),U===this.scheme&&V===this.authority&&L===this.path&&G===this.query&&W===this.fragment?this:new y(U,V,L,G,W)},M.parse=function(k,U){U===void 0&&(U=!1);var V=h.exec(k);return V?new y(V[2]||f,A(V[4]||f),A(V[5]||f),A(V[7]||f),A(V[9]||f),U):new y(f,f,f,f,f)},M.file=function(k){var U=f;if(i&&(k=k.replace(/\\/g,m)),k[0]===m&&k[1]===m){var V=k.indexOf(m,2);V===-1?(U=k.substring(2),k=m):(U=k.substring(2,V),k=k.substring(V)||m)}return new y("file",U,k,f,f)},M.from=function(k){var U=new y(k.scheme,k.authority,k.path,k.query,k.fragment);return p(U,!0),U},M.prototype.toString=function(k){return k===void 0&&(k=!1),R(this,k)},M.prototype.toJSON=function(){return this},M.revive=function(k){if(k){if(k instanceof M)return k;var U=new y(k);return U._formatted=k.external,U._fsPath=k._sep===v?k.fsPath:null,U}return k},M}(),v=i?1:void 0,y=function(M){function k(){var U=M!==null&&M.apply(this,arguments)||this;return U._formatted=null,U._fsPath=null,U}return u(k,M),Object.defineProperty(k.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=C(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),k.prototype.toString=function(U){return U===void 0&&(U=!1),U?R(this,!0):(this._formatted||(this._formatted=R(this,!1)),this._formatted)},k.prototype.toJSON=function(){var U={$mid:1};return this._fsPath&&(U.fsPath=this._fsPath,U._sep=v),this._formatted&&(U.external=this._formatted),this.path&&(U.path=this.path),this.scheme&&(U.scheme=this.scheme),this.authority&&(U.authority=this.authority),this.query&&(U.query=this.query),this.fragment&&(U.fragment=this.fragment),U},k}(g),x=((a={})[58]="%3A",a[47]="%2F",a[63]="%3F",a[35]="%23",a[91]="%5B",a[93]="%5D",a[64]="%40",a[33]="%21",a[36]="%24",a[38]="%26",a[39]="%27",a[40]="%28",a[41]="%29",a[42]="%2A",a[43]="%2B",a[44]="%2C",a[59]="%3B",a[61]="%3D",a[32]="%20",a);function E(M,k,U){for(var V=void 0,L=-1,G=0;G<M.length;G++){var W=M.charCodeAt(G);if(W>=97&&W<=122||W>=65&&W<=90||W>=48&&W<=57||W===45||W===46||W===95||W===126||k&&W===47||U&&W===91||U&&W===93||U&&W===58)L!==-1&&(V+=encodeURIComponent(M.substring(L,G)),L=-1),V!==void 0&&(V+=M.charAt(G));else{V===void 0&&(V=M.substr(0,G));var z=x[W];z!==void 0?(L!==-1&&(V+=encodeURIComponent(M.substring(L,G)),L=-1),V+=z):L===-1&&(L=G)}}return L!==-1&&(V+=encodeURIComponent(M.substring(L))),V!==void 0?V:M}function b(M){for(var k=void 0,U=0;U<M.length;U++){var V=M.charCodeAt(U);V===35||V===63?(k===void 0&&(k=M.substr(0,U)),k+=x[V]):k!==void 0&&(k+=M[U])}return k!==void 0?k:M}function C(M,k){var U;return U=M.authority&&M.path.length>1&&M.scheme==="file"?"//".concat(M.authority).concat(M.path):M.path.charCodeAt(0)===47&&(M.path.charCodeAt(1)>=65&&M.path.charCodeAt(1)<=90||M.path.charCodeAt(1)>=97&&M.path.charCodeAt(1)<=122)&&M.path.charCodeAt(2)===58?k?M.path.substr(1):M.path[1].toLowerCase()+M.path.substr(2):M.path,i&&(U=U.replace(/\//g,"\\")),U}function R(M,k){var U=k?b:E,V="",L=M.scheme,G=M.authority,W=M.path,z=M.query,se=M.fragment;if(L&&(V+=L,V+=":"),(G||L==="file")&&(V+=m,V+=m),G){var _e=G.indexOf("@");if(_e!==-1){var Ue=G.substr(0,_e);G=G.substr(_e+1),(_e=Ue.lastIndexOf(":"))===-1?V+=U(Ue,!1,!1):(V+=U(Ue.substr(0,_e),!1,!1),V+=":",V+=U(Ue.substr(_e+1),!1,!0)),V+="@"}(_e=(G=G.toLowerCase()).lastIndexOf(":"))===-1?V+=U(G,!1,!0):(V+=U(G.substr(0,_e),!1,!0),V+=G.substr(_e))}if(W){if(W.length>=3&&W.charCodeAt(0)===47&&W.charCodeAt(2)===58)(je=W.charCodeAt(1))>=65&&je<=90&&(W="/".concat(String.fromCharCode(je+32),":").concat(W.substr(3)));else if(W.length>=2&&W.charCodeAt(1)===58){var je;(je=W.charCodeAt(0))>=65&&je<=90&&(W="".concat(String.fromCharCode(je+32),":").concat(W.substr(2)))}V+=U(W,!0,!1)}return z&&(V+="?",V+=U(z,!1,!1)),se&&(V+="#",V+=k?se:E(se,!1,!1)),V}function T(M){try{return decodeURIComponent(M)}catch{return M.length>3?M.substr(0,3)+T(M.substr(3)):M}}var _=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function A(M){return M.match(_)?M.replace(_,function(k){return T(k)}):M}var P,I=n(470),F=function(M,k,U){if(U||arguments.length===2)for(var V,L=0,G=k.length;L<G;L++)!V&&L in k||(V||(V=Array.prototype.slice.call(k,0,L)),V[L]=k[L]);return M.concat(V||Array.prototype.slice.call(k))},q=I.posix||I,$="/";(function(M){M.joinPath=function(k){for(var U=[],V=1;V<arguments.length;V++)U[V-1]=arguments[V];return k.with({path:q.join.apply(q,F([k.path],U,!1))})},M.resolvePath=function(k){for(var U=[],V=1;V<arguments.length;V++)U[V-1]=arguments[V];var L=k.path,G=!1;L[0]!==$&&(L=$+L,G=!0);var W=q.resolve.apply(q,F([L],U,!1));return G&&W[0]===$&&!k.authority&&(W=W.substring(1)),k.with({path:W})},M.dirname=function(k){if(k.path.length===0||k.path===$)return k;var U=q.dirname(k.path);return U.length===1&&U.charCodeAt(0)===46&&(U=""),k.with({path:U})},M.basename=function(k){return q.basename(k.path)},M.extname=function(k){return q.extname(k.path)}})(P||(P={}))})(),AW=r})();var{URI:xe,Utils:Ii}=AW;var DW=B(require("path"));function At(e,t){if(Uv(t)){let n=e.dirname(t);return{isWorkspaceFile:!0,workspaceOrFolderPath:t,rootFolderPath:n,configFolderPath:n}}return{isWorkspaceFile:!1,workspaceOrFolderPath:t,rootFolderPath:t,configFolderPath:t}}function Uv(e){return DW.extname(e)===".code-workspace"}async function n_(e,t){if(t.isWorkspaceFile)try{let n=t.rootFolderPath,r=(await e.readFile(t.workspaceOrFolderPath)).toString(),o=Ze(r).folders;if(o&&o.length>0){for(let s of o){let a=s.path,u;if(a){if(e.path.isAbsolute(a))return`Workspace contains an absolute folder path '${a}'.`;u=e.path.resolve(n,a)}else{let c=s.uri;return c?xe.parse(c).scheme!=="file"?`Workspace contains folder '${c}' not on the local file system.`:`Workspace contains an absolute folder path '${c}'.`:"Workspace contains a folder that defines neither a path nor a URI."}if(!Ghe(e,u,n))return`Folder '${u}' is not a subfolder of shared root folder '${n}'.`}return}return"Workspace does not define any folders"}catch(n){return`Problems loading workspace file ${t.workspaceOrFolderPath}: ${n&&(n.message||n.toString())}`}}function Ghe(e,t,n){return t===n?!0:!t||!n||n.length>t.length||t.length>n.length&&t.charAt(n.length)!==e.path.sep?!1:zhe(e.platform,n,t.substr(0,n.length))}function zhe(e,t,n){return e==="linux"?t===n:t.toLowerCase()===n.toLowerCase()}var hn=B(require("path")),y_=B(Bb()),ZD=B(require("crypto")),g_=B(qv()),a4=require("string_decoder");var $v=B(require("path"));async function FG(e,t){let n=await RD(e,"agent-socket");if(!n){t.write("gpg-agent: No agent-socket found in container.");return}let r=await RD(e,"homedir");try{let{stdout:i}=await e.exec(`ls '${r}/private-keys-v1.d' 2>/dev/null`);if(i.trim()){t.write("gpg-agent: Private keys found in container, not forwarding.");return}}catch{}return n}async function MG(e,t,n,r){let i=await LG(e,"agent-extra-socket",r);if(!i){r.write(`gpg-agent: No agent-extra-socket found on ${e.type} host.`);return}let o=(async()=>{await t.exec(`mkdir -p -m 700 '${$v.posix.dirname(n)}'`);let s=await LG(e,"homedir",r),a=await RD(t,"homedir");s&&a&&(await Of({cliHost:e},{shellServer:t},e.path.join(s,"pubring.kbx"),$v.posix.join(a,"pubring.kbx"),"gpg"),await Of({cliHost:e},{shellServer:t},e.path.join(s,"pubring.gpg"),$v.posix.join(a,"pubring.gpg"),"gpg"),await Of({cliHost:e},{shellServer:t},e.path.join(s,"trustdb.gpg"),$v.posix.join(a,"trustdb.gpg"),"gpg")),await xge(e,r)})();return{cliHost:e,remoteGpgSocket:n,localGpgSocket:i,ready:o}}async function LG(e,t,n){try{let{stdout:r}=await me({exec:e.exec,cmd:"gpgconf",args:["--list-dir",t],output:n,print:!0}),i=r.toString().trim();if(i.indexOf(`
`)!==-1){let o=new RegExp(`^${t}:(.*)$`,"m").exec(i);o&&(i=o[1])}return e.platform==="win32"&&/^\/.\//.test(i)&&(i=`${i.charAt(1)}:${i.substr(2).replace(/\//g,"\\")}`),i}catch{return}}async function RD(e,t){try{let{stdout:n}=await e.exec(`gpgconf --list-dir ${t}`),r=n.trim();if(r.indexOf(`
`)!==-1){let i=new RegExp(`^${t}:(.*)$`,"m").exec(r);if(i)return i[1]}return r}catch{return}}async function xge(e,t){try{await me({exec:e.exec,cmd:"gpg-connect-agent",args:["updatestartuptty","/bye"],output:t})}catch{}}async function jv(e,t,n){if(!("exec"in e)){for(let r=t,i="";r!==i;i=r,r=e.path.dirname(r))if(await e.isFile(e.path.join(r,".git","config")))return r;return}try{let{stdout:r}=await me({exec:e.exec,cmd:"git",args:["rev-parse","--show-cdup"],cwd:t,output:n}),i=r.toString().trim();return e.path.resolve(t,i)}catch{return}}async function AD(e,t,n){try{return await me({exec:e.exec,cmd:"git",args:["ls-remote",t],cwd:".",output:n,print:"onerror"}),!0}catch(r){return(r==null?void 0:r.code)==="ENOENT"?void 0:!1}}async function qG(e,t,n,r,i){let o=r[1],s={get:"fill",store:"approve",erase:"reject"}[o];if(s===void 0)throw new Error(`Expected get, store or erase, got: ${o}`);let a=await UG(n?e:t,s,i).catch(u=>{if(n)throw u});return!n&&(a==null?void 0:a.code)!==0&&(a=await UG(e,s,i),a.code===0&&(n=!0)),{result:a,preferLocalCLIHost:n}}async function UG({exec:e},t,n){try{let{stdout:r,stderr:i}=await me({exec:e,cmd:"git",args:["credential",t],env:{GIT_TERMINAL_PROMPT:"0"},stdin:Buffer.from(n),output:He});return{stdout:r.toString(),stderr:i.toString(),code:0}}catch(r){if(!(r&&r.stdout&&r.stderr))throw r;let{stdout:i,stderr:o,code:s}=r;return{stdout:i.toString(),stderr:o.toString(),code:s||0}}}async function $G(e,t,n){let r=await DD(e,t,n);if(!r)return;r.startsWith("refs/")&&(r=r.substr(5)),r.startsWith("remotes/")&&(r=r.substr(8));let i=r.indexOf("/");if(i===-1)return;let o=r.substr(0,i),s=r.substr(i+1);try{let{stdout:a}=await me({exec:e.exec,cmd:"git",args:["remote","get-url",o],cwd:t.rootFolderPath,output:n}),u=a.toString().trim();if(u.endsWith(".git")&&(u=u.substr(0,u.length-4)),u.startsWith("https://github.com/")){let c=await _ge(e,t,o,n);if(c&&s!==c)return`${u}/tree/${s}`}return u}catch{return}}async function jG(e,t,n){if(!("exec"in e)){let i=await jv(e,t.rootFolderPath,n);if(!i)return;try{return(await e.readFile(e.path.join(i,".git","config"))).toString().split(/^\[/m).filter(a=>a.startsWith("remote")).map(a=>(/^\s*url\s*=\s*(\S+)/m.exec(a)||[])[1]).filter(Boolean)}catch(o){if((o==null?void 0:o.code)!=="ENOENT")throw o;return[]}}let r;try{let{stdout:i}=await me({exec:e.exec,cmd:"git",args:["remote","-v"],cwd:t.rootFolderPath,output:n});r=i.toString()}catch{return}return Array.from(new Set(wge(/^[^\s]+\s+([^\s]+)/gm,r,1)))}function wge(e,t,n){return{[Symbol.iterator]:function*(){let r;for(;r=e.exec(t);)yield r[n],e.lastIndex===r.index&&e.lastIndex++}}}async function HG(e,t,n){return await Ege(e,t,n)||bge(e,t,n)}async function Ege(e,t,n){try{let{stdout:r}=await me({exec:e.exec,cmd:"git",args:["status","--porcelain"],cwd:t.rootFolderPath,output:n});return!!r.toString().trim()}catch{return}}async function bge(e,t,n){let r=await DD(e,t,n);if(r)try{let{stdout:i}=await me({exec:e.exec,cmd:"git",args:["log",`${r}..HEAD`],cwd:t.rootFolderPath,output:n});return!!i.toString().trim()}catch{return}}async function BG(e,t,n,r){let i=await DD(e,t,r);if(!i)return!1;try{let o=e.platform==="win32"?n.replace(/\\/g,"/"):n;return await me({exec:e.exec,cmd:"git",args:["cat-file","-e",`${i}:${o}`],cwd:t.rootFolderPath,output:r}),!0}catch{return!1}}async function DD(e,t,n){try{let{stdout:r}=await me({exec:e.exec,cmd:"git",args:["rev-parse","--abbrev-ref","--symbolic-full-name","@{u}"],cwd:t.rootFolderPath,output:n});return r.toString().trim()}catch{return}}async function _ge(e,t,n,r){try{let{stdout:i}=await me({exec:e.exec,cmd:"git",args:["remote","show",n],cwd:t.rootFolderPath,output:r});return(i.toString().match(/^\s*HEAD branch:\s*(.*)$/m)||[])[1]}catch{return}}async function s_(e,t,n,r,i,o){let{extensionPath:s}=e;if(await t.isFolder(t.path.join(n,".git")))return{gitClone:void 0,gitUnshallow:void 0};await t.mkdirp(n);let a=r.tokenEnvVar?{...r.env,GIT_ASKPASS:t.path.join(s,"scripts","gitAskPass.sh"),GIT_TOKEN:t.env[r.tokenEnvVar]}:r.env,u=[];r.fullClone||u.push("--depth","1"),r.branch&&u.push("--branch",r.branch),r.recurseSubmodules&&u.push("--recurse-submodules");let c=Nf({ptyExec:t.ptyExec,cmd:"git",args:["clone",...u,r.url,"."],cwd:n,env:a,output:Zi(i,3)}),l=r.fullClone?c:(async()=>(await c,await Nf({ptyExec:t.ptyExec,cmd:"git",args:["config","remote.origin.fetch","+refs/heads/*:refs/remotes/origin/*"],cwd:n,env:a,output:o}),Nf({ptyExec:t.ptyExec,cmd:"git",args:["fetch","--unshallow","--tags"],cwd:n,env:a,output:o})))();return{gitClone:c,gitUnshallow:l}}var su=require("stream");async function VG(e,t){let{stdout:n}=await e.exec(`cat /proc/${t}/environ`,{logOutput:!1});return n.split("\0").map(r=>{let i=r.indexOf("=");return i!==-1?[r.slice(0,i),r.slice(i+1)]:[]}).reduce((r,[i,o])=>(i&&(r[i]=o),r),{})}async function kD(e){let t=`for pid in \`cd /proc && ls -d [0-9]*\`; do { echo $pid ; readlink /proc/$pid/cwd || echo ; readlink /proc/$pid/ns/mnt || echo ; cat /proc/$pid/stat | tr "
" " " ; echo ; cat /proc/$pid/environ | tr "
" " " ; echo ; cat < /proc/$pid/cmdline | tr "
" " " ; echo ; } ; echo --- ; done ; readlink /proc/self/ns/mnt 2>/dev/null`,{stdout:n}=await e.exec(t,{logOutput:!1}),r=6,i=n.split(`
---
`),o=i.pop().trim();return{processes:i.map(a=>a.split(`
`)).filter(a=>a.length>=r).map(([a,u,c,l,d,p])=>{let f=/.*\) [^ ]* ([^ ]*) ([^ ]*)/.exec(l)||[];return{pid:a,ppid:f[1],pgrp:f[2],cwd:u,mntNS:c,cmd:p.replace(/\0/g," "),env:d.split("\0").reduce((m,h)=>{let g=h.indexOf("=");return g!==-1&&(m[h.substr(0,g)]=h.substr(g+1)),m},{})}}),mntNS:o}}function WG(e){let t={};return e.forEach(n=>t[n.pid]={process:n,childProcesses:[]}),e.filter(n=>n.ppid).forEach(n=>{var r;return(r=t[n.ppid])==null?void 0:r.childProcesses.push(t[n.pid])}),t}function OD(e,t="  ",n="  "){return`${n}${e.process.pid}: ${e.process.cmd}
${e.childProcesses.map(r=>OD(r,t,n+t))}`}var ao=B(require("path")),KG=B(require("fs"));async function co(e,t=process.cwd(),n=process.env){if(process.platform!=="win32")return e;if(ao.isAbsolute(e))return await ND(e)||e;if(/[/\\]/.test(e)){let s=ao.join(t,e);return await ND(s)||s}let r,i;if(n){for(let s of Object.keys(n))if(s.toLowerCase()==="path"){let a=n[s];typeof a=="string"&&(r=a,i=a.split(ao.delimiter).filter(Boolean),i.push(ao.join(n.ProgramW6432||"C:\\Program Files","Docker\\Docker\\resources\\bin")));break}}if(i===void 0||i.length===0){let s=new Error(`No PATH to look up executable '${e}'.`);throw s.code="ENOENT",s}for(let s of i){let a;ao.isAbsolute(s)?a=ao.join(s,e):a=ao.join(t,s,e);let u=await ND(a);if(u)return u}let o=new Error(`Exectuable '${e}' not found on PATH '${r}'.`);throw o.code="ENOENT",o}var GG=process.env.PATHEXT,zG=GG?GG.toLowerCase().split(";"):[".com",".exe",".bat",".cmd"];async function ND(e){if(zG.indexOf(ao.extname(e))!==-1)return await YG(e)?e:void 0;for(let t of zG){let n=e+t;if(await YG(n))return n}}function YG(e){return new Promise(t=>KG.stat(e,(n,r)=>t(!n&&r.isFile())))}var LD="dev-containers-",XG="credentials not found in native keychain";async function ZG(e,t,n,r,i,o){let s=await QG(n?e:t,r,i,o).catch(a=>{if(n)throw a});return!n&&(s==null?void 0:s.code)!==0&&(s=await QG(e,r,i,o),s.code===0&&(n=!0)),{result:s,preferLocalCLIHost:n}}async function QG(e,t,n,r){let i,o=t[1];try{let s=o==="store"?JSON.parse(n).ServerURL:n.trim(),a=await Cge(e,s,r);if(!a)return{stdout:o==="get"?XG:"Docker credential helper not found.",stderr:"",code:1};if("identitytoken"in a)return o!=="get"?{stdout:`Docker credential command not supported without credential helper: ${o}.`,stderr:"",code:1}:{stdout:JSON.stringify({ServerURL:s,Username:"<token>",Secret:a.identitytoken}),stderr:"",code:0};if("auth"in a){if(o!=="get")return{stdout:`Docker credential command not supported without credential helper: ${o}.`,stderr:"",code:1};let[l,d]=Buffer.from(a.auth,"base64").toString().split(":");return{stdout:JSON.stringify({ServerURL:s,Username:l,Secret:d}),stderr:"",code:0}}i=`docker-credential-${a.helper}`;let{stdout:u,stderr:c}=await me({exec:e.exec,cmd:i,args:t.slice(1),stdin:Buffer.from(n),output:He});return{stdout:u.toString(),stderr:c.toString(),code:0}}catch(s){if(i&&((s==null?void 0:s.code)==="ENOENT"||(s==null?void 0:s.code)==="EPIPE"))return{stdout:o==="get"?XG:`Docker credential helper '${i}' not found: ${(s==null?void 0:s.message)||String(s)}.`,stderr:"",code:1};if(!(s&&s.stdout&&s.stderr))throw s;let{stdout:a,stderr:u,code:c}=s;return{stdout:a.toString(),stderr:u.toString(),code:c||0}}}async function Cge(e,t,n){var i,o,s,a,u;n.write(`Looking up Docker credential helper for '${t}'.`);try{let c=Ze((await e.readFile(e.path.join(await e.homedir(),".docker","config.json"))).toString()),l=xe.parse(t).authority||t,d=(i=c==null?void 0:c.credHelpers)==null?void 0:i[l];if(d)return{helper:d};let p=(s=(o=c==null?void 0:c.auths)==null?void 0:o[t])==null?void 0:s.identitytoken;if(p)return{identitytoken:p};let f=(u=(a=c==null?void 0:c.auths)==null?void 0:a[t])==null?void 0:u.auth;if(f)return{auth:f};if(c!=null&&c.credsStore)return{helper:c.credsStore}}catch(c){(c==null?void 0:c.code)!=="ENOENT"&&n.write(`Error reading Docker config: ${(c==null?void 0:c.message)||String(c)}.`)}let r=await ez(e);return r?{helper:r}:void 0}async function FD(e,t){let n=e.path.join(await e.homedir(),".docker","config.json");try{let r=await e.readFile(n),i=Ze(r.toString());return!!(i!=null&&i.credsStore)||Object.keys((i==null?void 0:i.credHelpers)||{}).some(o=>{var s;return(s=i==null?void 0:i.credHelpers)==null?void 0:s[o]})||Object.keys((i==null?void 0:i.auths)||{}).some(o=>{var s,a;return(a=(s=i==null?void 0:i.auths)==null?void 0:s[o])==null?void 0:a.auth})||JG(e)}catch(r){return(r==null?void 0:r.code)!=="ENOENT"?(t.write(`Error reading Docker config (${n}): ${(r==null?void 0:r.stack)||(r==null?void 0:r.message)||String(r)}.`),!1):JG(e)}}async function JG(e){let t=await ez(e);return!!t&&await Sge(e,`docker-credential-${t}`)}async function ez(e){if(e.platform==="darwin")return"osxkeychain";if(e.platform==="win32")return"wincred";if(e.platform==="linux")try{return await me({exec:e.exec,cmd:"/bin/sh",args:["-c","command -v docker-credential-pass >/dev/null 2>&1"],output:He}),"pass"}catch{return"secretservice"}}async function Sge(e,t){try{return e.platform==="win32"?!!await co(t,e.cwd,e.env):(await me({exec:e.exec,cmd:"/bin/sh",args:["-c",`command -v '${t}' >/dev/null 2>&1`],output:He}),!0)}catch{return!1}}function ou(e){return`remote.containers.${e}`}function Lf(e){return`dev.containers.${e}`}var pve=Qz(),o4=YD(),XD=n4(),fve=i4();async function Wv(e,t,n){var $,M,k,U,V,L;let{cliHost:r,wslCLIHost:i,output:o}=e,{shellServer:s,launchRootShellServer:a}=t,u="Launching Dev Containers helper.",c=o.start(u);if(au)return o.stop(u,c),{remoteEnv:{},ready:Promise.resolve(),reconnect:()=>Promise.resolve()};let l=[r];r.type!=="local"&&l.push(await x_(process.cwd(),e.loadNativeModule,o)),r.type!=="wsl"&&i&&l.push(i);let d=ZD.randomUUID(),p={},f=s4(l,G=>Eve(G,o)),m=f?hn.posix.join((($=t.env)==null?void 0:$.TMPDIR)||"/tmp",`vscode-ssh-auth-${d}.sock`):void 0;f&&(p[m]=f,o.write(`ssh-agent: SSH_AUTH_SOCK in container (${m}) forwarded to ${f.cliHost.type} host (${f.unparsed}).`));let h=s4(l,G=>bve(G,o)),g=-1,v;if(h)do v=hn.posix.join(((M=t.env)==null?void 0:M.TMPDIR)||"/tmp",".X11-unix",`X${++g}`);while(await gve(s,v));let y=h?`:${g}`:void 0;h&&(await s.exec(`mkdir -p '${hn.posix.dirname(v)}'`),p[v]=h,o.write(`X11 forwarding: DISPLAY in container (${y}) forwarded to ${h.cliHost.type} host (${h.unparsed}).`));let x=await FG(t.shellServer,o),E=x?await mve(l,G=>MG(G,t.shellServer,x,o)):void 0;E&&(p[E.remoteGpgSocket]={unparsed:E.localGpgSocket,cliHost:E.cliHost,connectTo:{socketPath:E.localGpgSocket}},o.write(`gpg-agent: Socket in container (${E.remoteGpgSocket}) forwarded to ${E.cliHost.type} host (${E.localGpgSocket}).`));let b=hn.posix.join(((k=t.env)==null?void 0:k.TMPDIR)||"/tmp",`vscode-remote-containers-ipc-${d}.sock`),C=hn.posix.join(((U=t.env)==null?void 0:U.TMPDIR)||"/tmp",`vscode-remote-containers-server-${d}.js`),R=hn.posix.join(((V=t.env)==null?void 0:V.TMPDIR)||"/tmp",`vscode-remote-containers-${d}.js`),_=((n==null?void 0:n.getNewConfiguration("dockerCredentialHelper"))??e.isDockerCredentialHelperEnabled)&&a&&await hve(s,"docker")?hn.posix.join("/usr/local/bin",`docker-credential-${LD}${d}`):void 0,A=l.find(G=>G.type==="local"),P=c4(e,t,"Container",void 0,!1,!1,C,R,_,p,b,A),I=P.then(G=>G.ready),F=P.then(G=>G.mrpcExec),q=P.then(G=>G.mrpcPtyExec);return I.catch(console.error),e.onAdoptProcess(G=>_ve(t.shellServer,b,m,v,G).catch(console.error)),o.stop(u,c),{remoteContainersCLI:R,remoteEnv:{REMOTE_CONTAINERS_IPC:b,...m?{SSH_AUTH_SOCK:m}:void 0,...y&&!((L=t.env)!=null&&L.DISPLAY)?{DISPLAY:y}:void 0,...v?{REMOTE_CONTAINERS_DISPLAY_SOCK:v}:void 0},mrpcExec:F,mrpcPtyExec:q,ready:I,reconnect:()=>P.then(G=>G.reconnect())}}function s4(e,t){for(let n of e){let r=t(n);if(r)return r}}async function mve(e,t){for(let n of e){let r=await t(n);if(r)return r}}async function hve(e,t){try{return await e.exec(`command -v ${t} >/dev/null 2>&1`),!0}catch{return!1}}async function gve(e,t){try{return await e.exec(`test -e ${t}`),!0}catch{return!1}}async function Gv(e,t,n,r,i){let{passwdUser:o,homeFolder:s,nodeExecutable:a,mrpcExec:u,mrpcPtyExec:c,setBaseEnv:l,connect:d,reconnect:p,terminate:f}=await c4(e,{remoteExec:t,platform:i},"Host",n,!0,r,void 0);return{passwdUser:o,homeFolder:s,nodeExecutable:a,exec:u,ptyExec:c,setBaseEnv:l,connect:d,reconnect:p,terminate:f}}async function c4(e,t,n,r,i,o,s,a,u,c,l,d){let{cliHost:p,product:f,output:m}=e,{remoteExec:h,platform:g,nodeExecutable:v,launchRootShellServer:y}=t,x=a&&nt(hn.join(e.extensionPath,"dist","common","remoteContainersCLI.js"),{encoding:"utf8"}),E=nt(hn.join(e.extensionPath,"dist","common","remoteContainersServer.js"),{encoding:"utf8"}),b=await lo(h,m,void 0,g,n),C=i?await nk(b,await tk(b)):void 0,R=(await b.exec({posix:"echo ~",win32:"echo $env:userprofile"})).stdout.trim().split(`
`)[0],T=!0;if(!v||!s){let I=b.path.join(R,".vscode-remote-containers");v||(v=await Cve(e,b,I,R,f,o)),s||(s=b.path.join(I,"dist",`vscode-remote-containers-server-${e.package.version}.js`),await Uf(b,s)?T=!1:await b.exec(`mkdir -p '${b.path.dirname(s)}'`))}if(a){let I=`EOF-${a}`;await b.exec(`cat <<'${I}' >${a}
${await x}
${I}
`)}if(u&&y&&((p==null?void 0:p.type)!=="local"&&d&&await FD(d,m)||p&&await FD(p,m))){let I=(await b.exec(`cat ~/.docker/config.json || echo "{
}"`)).stdout,F=Ze(I);if(!(F!=null&&F.credsStore)||F.credsStore.startsWith(LD)){let q=await y(),$=`EOF-${u}`;await q.exec(`mkdir -p ${hn.posix.dirname(u)} && cat <<'${$}' >${u}
#!/bin/sh
${v} ${a} docker-credential-helper $@
${$}
`),await q.exec(`chmod +x ${u}`);let M=mn(I,["credsStore"],hn.posix.basename(u).substring(18),{formattingOptions:{}}),k=Br(I,M);await b.exec(`mkdir -p ~/.docker && cat <<'${$}' >~/.docker/config.json
${k}
${$}
`)}}if(T){let I=`EOF-${s}`,F=`${s}_${Date.now()}`;await b.exec(`cat <<'${I}' >${F}
${await E}
${I}
mv ${F} ${s}`)}let _=()=>vve(e,n,b,v,s,c,l,d),A=await _(),P;return{ready:A.ready,passwdUser:C,nodeExecutable:v,homeFolder:R,mrpcExec:yve(()=>A.mrpc,n,r||R),mrpcPtyExec:xve(()=>A.mrpc,n,r||R),mrpcExecToEnd:wve(()=>A.mrpc,n,r||R),setBaseEnv:I=>new Promise((F,q)=>{P=I,A.mrpc.setBaseEnv(I,$=>$?q($):F())}),connect:A.mrpc.connect,reconnect:async()=>{let I=`${n}: Reconnecting exec server`,F=m.start(I);await A.process.terminate().catch(()=>{}),b=await lo(h,m,void 0,void 0,n),A=await _(),P&&await new Promise((q,$)=>{A.mrpc.setBaseEnv(P,M=>M?$(M):q())}),m.stop(I,F)},terminate:()=>A.process.terminate()}}async function vve(e,t,n,r,i,o,s,a){let{cliHost:u,output:c}=e,l=Object.keys(o||{}),d={...l.reduce((R,T)=>(R[T]="duplex",R),{}),rpc:"async",connected:"async",ready:"async"},p={exec:"async",stdin:"sink",stdout:"source",stderr:"source",exit:"async",terminate:"async",dispose:"async",ptyExec:"async",ptyIn:"sink",ptyOut:"source",ptyResize:"async",ptyExit:"async",ptyTerminate:"async",ptyDispose:"async",execToEnd:"async",setBaseEnv:"async",connect:"duplex"},f=n.process,m=`set -e ; echo -n ${Pi} >&2 ; ${s?`rm -f '${s}' ; `:""}REMOTE_CONTAINERS_SOCKETS='${JSON.stringify(l)}' REMOTE_CONTAINERS_IPC='${s||""}' '${r}' '${i}'
`;f.stdin.write(m);let h,g=new Promise(R=>h=R),v=new a4.StringDecoder;f.stderr.on("data",R=>{let T=v.write(R).replace(/^.*DeprecationWarning: Buffer\(\) is deprecated.*$\r?\n?/mg,"").trim();if(h){let _=T.indexOf(Pi);_!==-1&&(h(),h=void 0,T=T.substr(0,_)+T.substr(_+1))}T&&c.write(et(`${t} server: ${T}`))}),f.exit.then(({code:R,signal:T})=>{c.write(`${t} server terminated (code: ${R}, signal: ${T}).`)},R=>{c.write(`${t} server did not launch or terminated: ${R&&R.message||String(R)}`)});let y=(u==null?void 0:u.type)==="local",x={git:y,docker:y},E,b=new Promise(R=>E=R),C=pve(p,d)({...l.reduce((R,T)=>{let _=o[T];return R[T]=()=>_.cliHost.connect(_.connectTo),R},{}),rpc:async(R,T)=>{try{let{args:_,stdin:A}=JSON.parse(R);if(_[0]==="git-credential-helper"){let P=await qG(a,u,x.git,_,A);x.git=P.preferLocalCLIHost,T(void 0,JSON.stringify(P.result))}else if(_[0]==="docker-credential-helper"){let P=await ZG(a,u,x.docker,_,A,c);x.docker=P.preferLocalCLIHost,T(void 0,JSON.stringify(P.result))}}catch(_){console.error(_),T(_)}},connected:R=>{R()},ready:R=>{E(),R()}});return(0,g_.default)(o4.source(f.stdout),C.createStream(),o4.sink(f.stdin)),await Promise.race([g,f.exit.then(({code:R,signal:T})=>{throw new Error(`${t} server terminated (code: ${R}, signal: ${T}).`)})]),{ready:b,mrpc:C,process:f}}function yve(e,t,n){return async r=>{let{cmd:i,args:o,cwd:s,env:a,output:u}=r,c=`Run in ${t}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,l=u.start(c),d=e(),p=await new Promise((f,m)=>{d.exec({cmd:i,args:o,cwd:s||n,env:a},(h,g)=>{h?m(h):f(g)})});return{stdin:XD.sink(d.stdin(p,f=>{f&&f.message!=="unexpected end of parent stream"&&console.error(f)})),stdout:XD.source(d.stdout(p)),stderr:XD.source(d.stderr(p)),exit:new Promise((f,m)=>{d.exit(p,(h,g)=>{var v;u.stop(c,l),h?((v=h.message)!=null&&v.endsWith("ENOENT")&&!h.code&&(h.code="ENOENT"),m(h)):f(g)})}),terminate:async()=>new Promise((f,m)=>{d.terminate(p,h=>{h?m(h):f()})})}}}function xve(e,t,n){return async r=>{let{cmd:i,args:o,cwd:s,env:a,output:u}=r,c=`Run in ${t}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,l=u.start(c),d=e(),p=await new Promise((g,v)=>{var y,x;d.ptyExec({cmd:i,args:o,cwd:s||n,env:a,rows:(y=u.dimensions)==null?void 0:y.rows,cols:(x=u.dimensions)==null?void 0:x.columns},(E,b)=>{E?v(E):g(b)})}),f=[u.onDidChangeDimensions&&u.onDidChangeDimensions(g=>d.ptyResize(p,g.columns,g.rows))],m=fve();(0,g_.default)(m,d.ptyIn(p,g=>{g&&g.message!=="unexpected end of parent stream"&&console.error(g)}));let h=new Kp;return(0,g_.default)(d.ptyOut(p),g=>{g(null,function v(y,x){if(y!==!0){if(y)throw y;h.fire(x),g(null,v)}})}),{write:g=>m.push(g),onData:h.event,resize:(g,v)=>d.ptyResize(p,g,v),exit:new Promise((g,v)=>{d.ptyExit(p,(y,x)=>{f.forEach(E=>E==null?void 0:E.dispose()),u.stop(c,l),y?v(y):g(x)})}),terminate:async()=>new Promise((g,v)=>{d.ptyTerminate(p,y=>{y?v(y):g()})})}}}function wve(e,t,n){return async r=>{let{cmd:i,args:o,cwd:s,env:a,output:u}=r,c=`Run in ${t}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,l=u.start(c),d=e();return new Promise((p,f)=>{d.execToEnd({cmd:i,args:o,cwd:s||n,env:a},(m,h)=>{if(u.stop(c,l),m||!h)f({stdin:new su.Writable,stdout:su.Readable.from([]),stderr:su.Readable.from([]),exit:Promise.reject(m),terminate:async()=>{}});else{let g=su.Readable.from([Buffer.from(h.stdout.data)]),v=new Promise(E=>g.on("end",E)),y=su.Readable.from([Buffer.from(h.stderr.data)]),x=new Promise(E=>y.on("end",E));p({stdin:new su.Writable,stdout:g,stderr:y,exit:Promise.all([v,x]).then(()=>({code:h.code,signal:h.signal})),terminate:async()=>{}})}})})}}var v_="\\\\.\\pipe\\openssh-ssh-agent";function Eve(e,t){let n=e.env.SSH_AUTH_SOCK;if(n)return{unparsed:n,cliHost:e,connectTo:{socketPath:n}};if(t.write(`ssh-agent: SSH_AUTH_SOCK not set on ${e.type} host.`),e.platform==="win32")return{unparsed:v_,cliHost:e,connectTo:{socketPath:v_}}}function bve(e,t){let n=e.env.DISPLAY,r=n==null?void 0:n.match(/^(?<hostOrPath>[^:]+)?:(?<display>\d+)(?:\.(?<screen>\d+))?$/);if(r!=null&&r.groups){let{hostOrPath:i,display:o}=r.groups;return!i||i==="localhost/unix"?{unparsed:n,cliHost:e,connectTo:{socketPath:`/tmp/.X11-unix/X${o}`}}:i.startsWith("/")?{unparsed:n,cliHost:e,connectTo:{socketPath:`${i}:${o}`}}:{unparsed:n,cliHost:e,connectTo:{host:i,port:6e3+parseInt(o,10)}}}n?t.write(`X11 forwarding: DISPLAY value on ${e.type} host not supported (${n}).`):t.write(`X11 forwarding: DISPLAY not set on ${e.type} host.`)}async function ek(e){let t=e.env.WAYLAND_DISPLAY,n=e.env.XDG_RUNTIME_DIR,r=t&&e.path.isAbsolute(t)?t:t&&n&&e.path.join(n,t),i=n&&e.path.join(n,"wayland-0"),o=r||i;if(o&&await e.isSocket(o))return o}async function u4(e){let t=ZD.randomUUID();return hn.posix.join((e==null?void 0:e.TMPDIR)||"/tmp",`vscode-wayland-${t}.sock`)}async function l4(e,t){let{shellServer:n,remoteWaylandSocket:r}=e;if(!r||t.WAYLAND_DISPLAY)return{};let i=t.XDG_RUNTIME_DIR;i||(i=(await n.exec('umask 077 && XRD="/tmp/user/$(id -u)" && mkdir -p $XRD && echo $XRD')).stdout.trim());let o=hn.posix.basename(r);return await n.exec(`test -e ${i}/${o} || ln -s ${r} ${i}/${o}`),i===t.XDG_RUNTIME_DIR?{WAYLAND_DISPLAY:o}:{XDG_RUNTIME_DIR:i,WAYLAND_DISPLAY:o}}var Mf=new Set;async function _ve(e,t,n,r,i){let o=await i.processId;if(o&&o>0){let s=await VG(e,o),a=s.REMOTE_CONTAINERS_IPC;a&&a!==t&&!Mf.has(a)&&a.indexOf("vscode-remote-containers-ipc")!==-1&&(Mf.add(a),await e.exec(`rm '${a}' && ln -s '${t}' '${a}'`));let u=s.SSH_AUTH_SOCK;u&&n&&u!==n&&!Mf.has(u)&&u.indexOf("vscode-ssh-auth")!==-1&&(Mf.add(u),await e.exec(`rm '${u}' && ln -s '${n}' '${u}'`));let c=s.REMOTE_CONTAINERS_DISPLAY_SOCK;c&&r&&c!==r&&!Mf.has(c)&&(Mf.add(c),await e.exec(`rm '${c}' && ln -s '${r}' '${c}'`))}}async function Cve(e,t,n,r,i,o){let s=(i==null?void 0:i.commit)||"b3318bc0524af3d74034b8bb8a64df0ccf35549a",a=i!=null&&i.commit?i.quality||"insider":"stable",{localCacheFolder:u,output:c,alternateDownload:l}=e,d=hn.posix.join(n,"bin",s),p=hn.posix.join(d,"node");try{await t.exec(`test -x '${p}'`)}catch{if(i)try{let v=hn.posix.join(rk(r,i),"bin",s),y=hn.posix.join(v,"node");await t.exec(`test -x '${y}'`);let x=hn.posix.join(v,"node_modules","node-pty","package.json");return await t.exec(`test -f '${x}'`),y}catch{}let f;if((await t.exec("uname -s")).stdout.trim().split(`
`)[0]==="Darwin")f=QD;else{let v=await ok(t);f=ik(v,!1)}let h={localCacheFolder:u,build:f,commit:s,quality:a,web:!1,output:c,alternateDownload:l},g=zv(h);if(await or(g)||await w_(h),f===QD)await Vv({output:c},t,g,d,o);else{let v=[];await y_.t({file:g,filter:x=>/^[^/]*\/(LICENSE$|node$|node_modules\/node-pty\/)/.test(x),onentry:x=>{new y_.WriteEntry.Tar(x).on("data",b=>v.push(b))}});let y=Buffer.concat(v);await Vv({output:c},t,y,d,o,!1)}}return p}var ak=B(require("path"));var Sve=B(require("http")),Tve=B(require("https"));function sk(e,t={}){return new Promise((n,r)=>{let i=e.startsWith("https:")?Tve:Sve,o;if(Object.keys(t).length>0){let a=new URL(e);o={headers:t,host:a.host,path:a.pathname}}i.get(o??e,a=>{var u;if(a.statusCode<200||a.statusCode>299){if(a.statusCode===302){let c=(u=a.headers)==null?void 0:u.location;c&&n(sk(c,t))}r(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`))}else{a.on("error",r);let c=[];a.on("data",l=>c.push(l)),a.on("end",()=>n(Buffer.concat(c)))}}).on("error",r)})}async function Xr(e){let t=await nt(ak.join(e,"package.json"),"utf8");return JSON.parse(t)}async function Yv(e){let t=await nt(ak.join(e,"product.json"),"utf8"),n=JSON.parse(t);return n.commit||(n.commit=await Ive(n.quality)),n.serverDataFolderName||(n.serverDataFolderName=".vscode-server-oss"),n}async function Ive(e="insider"){let t=`https://update.code.visualstudio.com/api/update/server-linux-x64/${e}/latest`,n=await sk(t);return JSON.parse(n.toString()).version}var d4=!0;function E_(e){return["bin",e.serverApplicationName]}var Kv=B(require("net"));var ck=YD(),p4=e=>{if("port"in e)return ck.duplex(Kv.connect(e.port,e.host));let t=e.socketPath;if(process.platform!=="win32"||t.startsWith("\\\\.\\pipe\\"))return ck.duplex(Kv.connect(t));let n=new Kv.Socket;return Ave(n,t)};function Pve(e){let t=[];return e.split("-").map(n=>{let r=n.match(/.{2}/g);r!==null&&r.reverse().map(i=>{t.push(parseInt(i,16))})}),Buffer.from(t)}function Rve(e,t,n){return t||n===void 0?{headerSize:e,err:t}:e===0?{headerSize:e,data:n}:n.length>e?(n=n.slice(e,n.length),e=0,{headerSize:e,data:n}):(e=e-n.length,{headerSize:e})}function Ave(e,t){let n=0,r=[],i=[],o,s=l=>{l instanceof Error&&console.error(l),e.destroy();for(let d of r)d.cb(l,void 0);r=[];for(let d of i)d(l,(p,f)=>{});i=[]};function a(l,d){o.source(l,function(p,f){let m=Rve(n,p,f);n=m.headerSize,m.err||m.data?d(m.err||null,m.data):a(l,d)})}return(async()=>{let l=await nt(t),p=l.toString().match(/!<socket >(\d+)( s)? ((([A-Fa-f0-9]{2}){4}-?){4})/),f,m;if(p!==null){let h=p[1],g=p[3];f=parseInt(h,10);let v=Pve(g),y=Buffer.alloc(12);y.writeUInt32LE(process.pid,0),m=Buffer.concat([v,y]),n=16+3*4}else{let h=l.indexOf(10);f=parseInt(l.slice(0,h).toString(),10),m=l.slice(h+1),n=0}e.on("error",h=>{s(h)}),e.connect(f,"127.0.0.1",()=>{e.write(m,h=>{if(!h){o=ck.duplex(e);for(let g of r)a(g.abort,g.cb);r=[];for(let g of i)o.sink(g);i=[]}})})})().catch(l=>{s(l)}),{source:function(l,d){o!==void 0?a(l,d):r.push({abort:l,cb:d})},sink:function(l){o!==void 0?o.sink(l):i.push(l)}}}var b_=!1;function __(e,t,n){return b_?function(i){return Dve(e(i),`${t} ${JSON.stringify(i)}`,n)}:e}function Dve(e,t,n){return b_?{source:f4(e.source,`${t} Source`,n),sink:kve(e.sink,`${t} Sink`,n)}:e}function f4(e,t,n){return b_?function(i,o){n.write(`${t} end in (${typeof i}${i&&typeof i=="object"?`: ${Object.keys(i)}`:""}): ${i&&typeof i=="object"&&i.stack||i}`),e(i,function(a,u){n.write(`${t} end out (${typeof a}${a&&typeof a=="object"?`: ${Object.keys(a)}`:""}): ${a&&typeof a=="object"&&a.stack||a}`),n.write(`${t} data: ${u==null?void 0:u.toString("hex")}`),o(a,u)})}:e}function kve(e,t,n){return b_?function(i){e(f4(i,t,n))}:e}var h4=/^\\\\wsl(\.localhost|\$)?\\/;function Sr(e){return h4.test(e.toLowerCase())}function qf(e){let t=e.toLowerCase(),n=h4.exec(t);if(!n)return"";let r=t.indexOf("\\",n[0].length);return e.substring(n[0].length,r)}async function C_(e){let{stdout:t}=await me({exec:Ba(void 0),cmd:"wsl",args:["-l","-v"],output:e}),n=t.toString(t[1]===0?"utf16le":"utf8").trim();return(/^\*\s*(\S+)/m.exec(n)||[])[1]}async function Zl(e,t,n){let{stdout:r}=await me({exec:Ba(void 0),cmd:"wsl",args:["-d",e,"-e","wslpath","-u",t],output:n});return r.toString().trim()}async function Ove(e,t){let{stdout:n}=await me({exec:Ba(void 0),cmd:"wsl",args:["-d",e,"-e","/bin/sh","-c","echo ~"],output:t});return n.toString().trim()}async function g4(e,t,n){let{stdout:r}=await me({exec:e.exec,cmd:"wslpath",args:["-w",t],output:n});return r.toString().trim()}async function $f(e,t){let n=qf(e),r=await Zl(n,e,t);return xe.parse(`vscode-remote://wsl+${n}${r}`)}function jf(e){if(e.scheme==="vscode-remote"){let t=S_(e.authority);if(t){let n=e.path;return Uv(n)&&(n=m4.posix.dirname(n)),{wslDistro:t,wslPath:n}}}}function S_(e){return(/wsl\+(.*)/.exec(e)||[])[1]}async function T_(e,t,n,r,i,o,s,a){var m;let{distro:u,cwd:c}=await uk(e,t,s),l=Hf("wsl",["-d",u,"-e"],c),d=await Gv({extensionPath:n,localCacheFolder:r,package:await Xr(n),product:i,loadNativeModule:o,output:s,alternateDownload:a},l,c,!1),p=await Bf({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:s},{shell:((m=d.passwdUser)==null?void 0:m.shell)||"/bin/sh",remoteExec:d.exec});delete p.WSL_INTEROP,await d.setBaseEnv(p);let f=Ri("wsl",c,p,d.exec,d.ptyExec,__(d.connect,"WSL",s),d.nodeExecutable,s);return f.toCommonURI=async h=>{try{return xe.file((await me({exec:d.exec,cmd:"wslpath",args:["-w",h],output:s})).stdout.toString().trim())}catch{return}},f}async function uk(e,{defaultDistro:t},n){let r,i;return typeof e=="object"?(r=e.wslDistro,i=e.wslPath):e&&Sr(e)?(r=qf(e),i=await Zl(r,e,n)):(r=t||await C_(n)||(()=>{throw new Error("No default WSL distro found.")})(),i=e?await Zl(r,e,n):await Ove(r,n)),{distro:r,cwd:i}}var lk=B(require("path")),I_=B(require("os"));var v4=B(require("os"));async function y4(e,t,n,r,i,o,s,a,u,c){var v;let l=e.substr(6),d=l.indexOf(":"),p=[(c==null?void 0:c.settings.executablePath)||"ssh"];c!=null&&c.settings.configFilePath&&p.push("-F",Nve(c==null?void 0:c.settings.configFilePath)),d!==-1?p.push("-p",l.substr(d+1),l.substr(0,d)):p.push(l);let f=Hf(p[0],p.slice(1),void 0,await(c==null?void 0:c.sshAskpassEnv)||{}),m=await Gv({extensionPath:r,localCacheFolder:i,package:await Xr(r),product:o,loadNativeModule:s,output:a,alternateDownload:u},f,t,!1),h=await Bf({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:a},{shell:((v=m.passwdUser)==null?void 0:v.shell)||"/bin/sh",remoteExec:m.exec});await m.setBaseEnv(h);let g=Ri("ssh",t||m.homeFolder,h,m.exec,m.ptyExec,m.connect,m.nodeExecutable,a);return g.toCommonURI=()=>Promise.resolve(void 0),g.reconnect=()=>m.reconnect(),g.terminate=()=>m.terminate(),g}function Nve(e){return e.replace(/^~($|\/|\\)/,`${v4.homedir()}$1`)}function Xv(e,t){let n=Lve(e);if(!n)return;let r=n.hostName;if(n.user||n.hostName.toLowerCase()!==n.hostName||n.port||n.hostName.match(/[\/\\\+]/)){let i=JSON.stringify(n);r=Buffer.from(i,"utf8").toString("hex")}return xe.parse(`vscode-remote://ssh-remote+${r}${t}`)}function Lve(e){if(!e.startsWith("ssh://"))return;let t=e.substr(6),n=t.match(/^(?:(.*)@)?(.+?)(?::(\d+))?$/);if(n){let[,r,i,o]=n;return{hostName:i,user:r,port:o?parseInt(o,10):void 0}}return{hostName:t}}async function Ai(e,t,n,r,i,o,s,a,u,c){return e!=null&&e.startsWith("ssh://")&&!(c!=null&&c.localDocker)?y4(e,t,r,i,o,s,n,a,u,c):typeof t=="object"||r.executeInWSL==="forWSLPath"&&t&&Sr(t)||r.executeInWSL==="always"?T_(t,r,i,o,s,n,a,u):x_(t||process.cwd(),n,a)}async function x_(e,t,n){let r=Ba(e),i=await x4(e,t);return Fve(e,r,i,__(p4,"Local",n))}function Ri(e,t,n,r,i,o,s,a){let u,c;return{type:e,platform:"linux",exec:r,ptyExec:i,cwd:t,env:n,path:lk.posix,async homedir(){var l;return typeof c>"u"&&(c=this.env.HOME||((l=dk((await this.readFile("/etc/passwd")).toString(),(await this.getuid()).toString()))==null?void 0:l.home)||"/"),c},async tmpdir(){return this.env.TMPDIR||"/tmp"},isFile:async l=>{try{return await me({exec:r,cmd:"test",args:["-f",l],output:He}),!0}catch(d){if((d==null?void 0:d.code)!==1)throw d;return!1}},isFolder:async l=>{try{return await me({exec:r,cmd:"test",args:["-d",l],output:He}),!0}catch(d){if((d==null?void 0:d.code)!==1)throw d;return!1}},isSocket:async l=>{try{return await me({exec:r,cmd:"test",args:["-S",l],output:He}),!0}catch(d){if((d==null?void 0:d.code)!==1)throw d;return!1}},readFile:async l=>{try{return(await me({exec:r,cmd:"cat",args:[l],output:He})).stdout}catch(d){let p=new Error(`Could not read file: ${l}`);throw p.originalError=d,p.code="ENOENT",p}},writeFile:async(l,d)=>{await me({exec:r,cmd:"/bin/sh",args:["-c",`cat >'${l}'`],stdin:d,output:He})},rename:async(l,d)=>{await me({exec:r,cmd:"mv",args:[l,d],output:He})},rm:async(l,{recursive:d,force:p})=>{await me({exec:r,cmd:"rm",args:[...d?["-r"]:[],...p?["-f"]:[],l],output:He})},mkdirp:async l=>{await me({exec:r,cmd:"mkdir",args:["-p",l],output:He})},readDir:async l=>(await me({exec:r,cmd:"ls",args:["-a",l],output:He})).stdout.toString().trim().split(`
`).filter(d=>d!=="."&&d!==".."),readDirWithTypes:async l=>{let d={f:1,"*":1,"/":2,"@":64};return(await me({exec:r,cmd:"ls",args:["-aF",l],output:He})).stdout.toString().trim().split(`
`).map(p=>"/*@=%|>".indexOf(p[p.length-1])!==-1?[p.substr(0,p.length-1),p[p.length-1]]:[p,"f"]).filter(([p])=>p!=="."&&p!=="..").map(([p,f])=>[p,d[f]||0])},getUsername:async()=>(u===void 0&&(u=(await me({exec:r,cmd:"id",args:["-u","-n"],output:He})).stdout.toString().trim()),u),getuid:async()=>{let l=await me({exec:r,cmd:"id",args:["-u"],output:He});return parseInt(l.stdout.toString().trim(),10)},getgid:async()=>{let l=await me({exec:r,cmd:"id",args:["-g"],output:He});return parseInt(l.stdout.toString().trim(),10)},toCommonURI:()=>Promise.resolve(void 0),connect:o,nodeExecutable:s}}function Fve(e,t,n,r){return{type:"local",platform:process.platform,exec:t,ptyExec:n,cwd:e,env:process.env,path:lk,homedir:async()=>I_.homedir(),tmpdir:async()=>I_.tmpdir(),isFile:or,isFolder:Xj,isSocket:Qj,readFile:nt,writeFile:_E,rename:ba,rm:Hc,mkdirp:async i=>{await jo(i)},readDir:jc,getUsername:P_,getuid:process.platform==="linux"||process.platform==="darwin"?async()=>process.getuid():void 0,getgid:process.platform==="linux"||process.platform==="darwin"?async()=>process.getgid():void 0,toCommonURI:async i=>xe.file(i),connect:r}}function b4(e,t,n){return e==="linux"?t===n:t.toLowerCase()===n.toLowerCase()}var Mve=R_.join(__dirname,"..","..","node_modules",".bin","ts-node"),au=R_.basename(process.argv[0])==="ts-node"||process.argv.indexOf("ts-node/register")!==-1;async function me(e){let{exec:t,cmd:n,args:r,cwd:i,env:o,stdin:s,output:a,print:u}=e,c=await t({cmd:n,args:r,cwd:i,env:o,output:a});return new Promise((l,d)=>{let p=[],f=[],m=u==="continuous"?new fk.StringDecoder:void 0;c.stdout.on("data",v=>{p.push(v),u==="continuous"&&a.write(m.write(v))}),c.stdout.on("error",v=>{if((v==null?void 0:v.code)!=="ENOTCONN")throw v});let h=u==="continuous"?new fk.StringDecoder:void 0;c.stderr.on("data",v=>{f.push(v),u==="continuous"&&a.write(et(h.write(v)))}),c.stderr.on("error",v=>{if((v==null?void 0:v.code)!=="ENOTCONN")throw v});let g=[];c.exit.then(({code:v})=>{try{g.forEach(E=>E.dispose());let y=Buffer.concat(p),x=Buffer.concat(f);(u===!0||v&&u==="onerror")&&(a.write(y.toString().replace(/\r?\n/g,`\r
`)),a.write(et(x.toString()))),u&&v&&a.write(`Exit code ${v}`),v?d({message:`Command failed: ${n} ${(r||[]).join(" ")}`,stdout:y,stderr:x,code:v}):l({stdout:y,stderr:x})}catch(y){d(y)}},d),s instanceof Buffer?(c.stdin.write(s,v=>{v&&d(v)}),c.stdin.end()):s instanceof w4.ReadStream?s.pipe(c.stdin):typeof s=="function"&&g.push(s(v=>c.stdin.write(v)))})}async function Nf(e){let{ptyExec:t,cmd:n,args:r,cwd:i,env:o,output:s,resolveOn:a,onDidInput:u}=e,c=await t({cmd:n,args:r,cwd:i,env:o,output:s});return new Promise((l,d)=>{let p="",f=[u&&u(m=>c.write(m))];c.onData(m=>{p+=m,s.raw(m),a&&a.exec(p)&&l({cmdOutput:p})}),c.exit.then(({code:m,signal:h})=>{try{f.forEach(g=>g==null?void 0:g.dispose()),m||h?d({message:`Command failed: ${n} ${(r||[]).join(" ")}`,cmdOutput:p,code:m,signal:h}):l({cmdOutput:p})}catch(g){d(g)}},m=>{f.forEach(h=>h==null?void 0:h.dispose()),d(m)})})}function Ba(e){return async function(t){let{cmd:n,args:r,output:i}=t,o=`Run: ${n} ${(r||[]).join(" ").replace(/\n.*/g,"")}`,s=i.start(o),a=t.cwd||e,u=t.env?{...process.env,...t.env}:process.env,c=await co(n,a,u),l=Vf.spawn(c,r,{cwd:a,env:u,windowsHide:!0});return{stdin:l.stdin,stdout:l.stdout,stderr:l.stderr,exit:new Promise((d,p)=>{l.once("error",f=>{i.stop(o,s),p(f)}),l.once("close",(f,m)=>{i.stop(o,s),d({code:f,signal:m})})}),async terminate(){l.kill("SIGKILL")}}}}async function x4(e,t){let n=await t("node-pty");if(!n)throw new Error("Missing node-pty");return async function(r){var h,g;let{cmd:i,args:o,output:s}=r,a=`Run: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=s.start(a),c=!1,l=r.cwd||e,d=r.env?{...process.env,...r.env}:process.env,p=await co(i,l,d),f=n.spawn(p,o||[],{cwd:l,env:d,cols:(h=s.dimensions)==null?void 0:h.columns,rows:(g=s.dimensions)==null?void 0:g.rows,useConpty:c}),m=[s.onDidChangeDimensions&&s.onDidChangeDimensions(v=>f.resize(v.columns,v.rows))];return{onData:f.onData.bind(f),write:f.write.bind(f),resize:f.resize.bind(f),exit:new Promise(v=>{f.onExit(({exitCode:y,signal:x})=>{if(m.forEach(E=>E==null?void 0:E.dispose()),s.stop(a,u),v({code:y,signal:x}),process.platform==="win32")try{f.kill()}catch{}})}),async terminate(){f.kill("SIGKILL")}}}}function Hf(e,t,n,r){return async function(i){let{env:o,cmd:s,args:a,output:u}=i,c=i.cwd||n,l=c?`cd '${c}' && `:"",d=Object.keys(o||{}).map(E=>`${E}='${o[E]}' `).join(""),p=(a||[]).map(E=>` '${E.replace(/'/g,`'"'"'`)}'`).join(""),f=`${l}${d}${s}${p}`,m=f!==s?["/bin/sh","-c",f]:[f],h=[...t,...m],g=`Run: ${e} ${h.join(" ").replace(/\n.*/g,"")}`,v=u.start(g),y=await co(e,process.cwd(),process.env),x=Vf.spawn(y,h,{windowsHide:!0,env:r?{...process.env,...r}:void 0});return{stdin:x.stdin,stdout:x.stdout,stderr:x.stderr,exit:new Promise((E,b)=>{x.once("error",C=>{u.stop(g,v),b(C)}),x.once("close",(C,R)=>{u.stop(g,v),E({code:C,signal:R})})}),async terminate(){x.kill("SIGKILL")}}}}async function _4(e,t,n,r){let i=await r("node-pty");if(!i)throw new Error("Missing node-pty");return async function(o){var C,R;let{env:s,cmd:a,args:u,output:c}=o,l=o.cwd||n,d=l?`cd '${l}' && `:"",p=Object.keys(s||{}).map(T=>`${T}='${s[T]}' `).join(""),f=(u||[]).map(T=>` '${T.replace(/'/g,`'"'"'`)}'`).join(""),m=`${d}${p}${a}${f}`,h=[...t,"/bin/sh","-c",m],g=`Run: ${e} ${h.join(" ").replace(/\n.*/g,"")}`,v=c.start(g),y=!1,x=await co(e,process.cwd(),process.env),E=i.spawn(x,h,{cols:(C=c.dimensions)==null?void 0:C.columns,rows:(R=c.dimensions)==null?void 0:R.rows,useConpty:y}),b=[c.onDidChangeDimensions&&c.onDidChangeDimensions(T=>E.resize(T.columns,T.rows))];return{onData:E.onData.bind(E),write:E.write.bind(E),resize:E.resize.bind(E),exit:new Promise(T=>{E.onExit(({exitCode:_,signal:A})=>{if(b.forEach(P=>P==null?void 0:P.dispose()),c.stop(g,v),T({code:_,signal:A}),process.platform==="win32")try{E.kill()}catch{}})}),async terminate(){E.kill("SIGKILL")}}}}function Wf(e){let t=/^'?v?(\d+(\.\d+)*)/.exec(e);if(t)return t[1].split(".").map(n=>parseInt(n,10))}function Gf(e,t){for(let n=0,r=Math.max(e.length,t.length);n<r;n++){let i=e[n]||0,o=t[n]||0;if(i!==o)return i<o}return!1}var C4=au?(e,t,n)=>Vf.spawn(Mve,[e,...t||[]],{...n,windowsHide:!0}):Vf.fork;async function A_(e,t){if(!t){try{return require(e)}catch{}return}try{return require(`${t}/node_modules.asar/${e}`)}catch{}try{return require(`${t}/node_modules/${e}`)}catch{}try{return __non_webpack_require__(`${t}/node_modules.asar/${e}`)}catch{}try{return __non_webpack_require__(`${t}/node_modules/${e}`)}catch{}}function Qv(e){let{output:t}=e,n=[];return{output:Zi({...t,get dimensions(){return t.dimensions},event:i=>n?n.push(i):t.event(i)}),flush:()=>{n&&(n.forEach(i=>t.event(i)),n=void 0)}}}function S4(e,t,n){return Zi({...e,get dimensions(){return e.dimensions},event:i=>{i.channel===t&&e.event(i),n.event(i)}})}function D_(e,t){return t&&typeof t=="object"&&"win32"in t?e==="win32"?t.win32:t.posix:t}async function Uf(e,t){return D_(e.platform,{posix:async()=>{try{return await e.exec(`test -f '${t}'`),!0}catch{return!1}},win32:async()=>(await e.exec(`Test-Path '${t}' -PathType Leaf`)).stdout.trim()==="True"})()}var pk;async function P_(){return pk===void 0&&(pk=(async()=>{try{return E4.userInfo().username}catch(e){if(process.platform!=="linux")throw e;return(await me({exec:Ba(void 0),cmd:"id",args:["-u","-n"],output:He})).stdout.toString().trim()}})()),pk}var Pi="\u2404";async function lo(e,t,n,r="linux",i="Container"){let o=typeof e=="function",s=r==="win32",a=o?await e({env:n?{VSCODE_REMOTE_CONTAINERS_SESSION:n}:{},cmd:s?"powershell":"/bin/sh",args:s?["-NoProfile","-Command","-"]:[],output:t}):e;if(!o){let p=s?`powershell -NoProfile -Command "powershell -NoProfile -Command -"
`:`/bin/sh -c 'echo ${Pi}; /bin/sh'
`;a.stdin.write(p),await new Promise(m=>{let h="",g=new mk.StringDecoder;a.stdout.on("data",function v(y){h+=g.write(y),h.includes(p)&&(a.stdout.off("data",v),m())})})}let u=qve(a),c;async function l(p,f){let m=c=(async()=>{try{await c}catch{}return d(D_(r,p),f)})();try{return await Promise.race([m,u.unexpectedExit])}finally{u.disposeStdioListeners(),c===m&&(c=void 0)}}async function d(p,f){let m=`Run in ${i.toLowerCase()}: ${p.replace(/\n.*/g,"")}`,h;if((f==null?void 0:f.logOutput)!=="silent"&&(h=t.start(m,f==null?void 0:f.logLevel)),a.stdin.destroyed){t.write("Stdin closed!");let{code:R,signal:T}=await a.exit;return Promise.reject({message:`Shell server terminated (code: ${R}, signal: ${T})`,code:R,signal:T})}r==="win32"?a.stdin.write(`[Console]::Write('${Pi}'); ( ${p} ); [Console]::Write("${Pi}$LastExitCode ${Pi}"); [Console]::Error.Write('${Pi}')
`):a.stdin.write(`echo -n ${Pi}; ( ${p} ); echo -n ${Pi}$?${Pi}; echo -n ${Pi} >&2
`);let[g,v]=T4(a.stdout,[1,2],(f==null?void 0:f.logOutput)==="continuous"?(R,T,_)=>{T===1&&_===0&&t.write(R,f==null?void 0:f.logLevel)}:()=>{}),y=T4(a.stderr,[1],(f==null?void 0:f.logOutput)==="continuous"?(R,T,_)=>{T===0&&_===0&&t.write(R,f==null?void 0:f.logLevel)}:()=>{})[0];f!=null&&f.stdin&&(await g,a.stdin.write(f==null?void 0:f.stdin));let[x,E]=await v,[b]=await y,C=parseInt(E,10)||0;return((f==null?void 0:f.logOutput)===void 0||(f==null?void 0:f.logOutput)===!0)&&(t.write(x,f==null?void 0:f.logLevel),t.write(b,f==null?void 0:f.logLevel),C&&t.write(`Exit code ${C}`,f==null?void 0:f.logLevel)),(f==null?void 0:f.logOutput)==="continuous"&&C&&t.write(`Exit code ${C}`,f==null?void 0:f.logLevel),(f==null?void 0:f.logOutput)!=="silent"&&t.stop(m,h,f==null?void 0:f.logLevel),C?Promise.reject({message:`Command in ${i.toLowerCase()} failed: ${p}`,code:C,stdout:x,stderr:b}):{stdout:x,stderr:b}}return{exec:l,process:a,platform:r,path:D_(r,Uve)}}function T4(e,t,n){let r=t.map(()=>{let l;return{promise:new Promise((p,f)=>l={resolve:p,reject:f}),...l}}),i=new mk.StringDecoder("utf8"),o=[],s=0,a=[];function u(l){let d=i.write(l);c(d)}function c(l){let d=l.indexOf(Pi);if(d!==-1){let p=l.substr(0,d);o.push(p),n(p,s,a.length),a.push(o.join("")),o.length=0,a.length===t[s]&&(r[s].resolve(a),s++,a=[],s===t.length&&e.off("data",u)),d+1<l.length&&c(l.substr(d+1))}else o.push(l),n(l,s,a.length)}return e.on("data",u),r.map(l=>l.promise)}function qve(e){let t,n=new Promise((u,c)=>t=c),r=[],i=[],o=u=>r.push(u),s=u=>i.push(u);return e.stdout.on("data",o),e.stderr.on("data",s),e.exit.then(({code:u,signal:c})=>{t(`Shell server terminated (code: ${u}, signal: ${c})
${Buffer.concat(r).toString()}
${Buffer.concat(i).toString()}`)},u=>{t(`Shell server failed: ${u&&(u.stack||u.message)}`)}),{unexpectedExit:n,disposeStdioListeners:()=>{e.stdout.off("data",o),e.stderr.off("data",s),r.length=0,i.length=0}}}var k_=B(require("path"));var $ve=["install.sh","install","bootstrap.sh","bootstrap","script/bootstrap","setup.sh","setup","script/setup"];async function I4(e,t,n,r,i){let{repository:o,installCommand:s,targetPath:a}=e.dotfilesConfiguration;if(o=i.getDotfileConfiguration("dotfiles.repository")||o,s=i.getDotfileConfiguration("dotfiles.installCommand")||s,a=i.getDotfileConfiguration("dotfiles.targetPath")||a,!o)return;await r;let u=await n;o.indexOf(":")===-1&&!/^\.{0,2}\//.test(o)&&(o=`https://github.com/${o}.git`);let c=t.shellServer,l=P4(t),d=Object.keys(u).filter(p=>!(p.startsWith("BASH_FUNC_")&&p.endsWith("%%"))).reduce((p,f)=>`${p}${f}=${jve(u[f])} `,"");try{e.output.event({type:"progress",name:"Installing Dotfiles",status:"running"}),s?await c.exec(`# Clone & install dotfiles
${O_(l)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${d}git clone ${o} ${a} || exit $?
if [ -x ${s} ]
then
	echo Executing script ${s}
	cd ${a} && ${d}${s}
else
	echo Error: ${s} not executable
	exit 126
fi
`,{logOutput:"continuous",logLevel:3}):await c.exec(`# Clone & install dotfiles
${O_(l)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${d}git clone ${o} ${a} || exit $?
cd ${a}
for f in ${$ve.join(" ")}
do
	if [ -e $f ]
	then
		installCommand=$f
		break
	fi
done
if [ -z "$installCommand" ]
then
	dotfiles=$(ls -d ${a}/.* 2>/dev/null | grep -v -E '/(.|..|.git)$')
	if [ ! -z "$dotfiles" ]
	then
		echo Linking dotfiles: $dotfiles
		ln -sf $dotfiles ~ 2>/dev/null
	else
		echo No dotfiles found.
	fi
else
	if [ -x "$installCommand" ]
	then
		echo Executing script '${a}'/"$installCommand"
		${d}./"$installCommand"
	else
		echo Error: '${a}'/"$installCommand" not executable
		exit 126
	fi
fi
`,{logOutput:"continuous",logLevel:3}),e.output.event({type:"progress",name:"Installing Dotfiles",status:"succeeded"})}catch{e.output.event({type:"progress",name:"Installing Dotfiles",status:"failed"})}}function jve(e){return`'${(e||"").replace(/'+/g,`'"$&"'`)}'`}function P4(e){return k_.posix.join(po(e),".dotfilesMarker")}async function R4(e){let t=P4(e),n=k_.posix.resolve(e.homeFolder,".devcontainer",".dotfilesMarker");try{await e.shellServer.exec(`test -f '${t}' && test ! -e '${n}' && mkdir -p '${k_.posix.dirname(n)}' && cp '${t}' '${n}'`)}catch{}}var V4=B(require("net")),W4=B(B4());async function Ek({forwardedPorts:e,output:t,getLogLevel:n},r,i,o){t.write(`Port forwarding for container port ${i} starts listening on local port.`,2);let s=o?{VSCODE_REMOTE_CONTAINERS_SESSION:o}:void 0;return new Promise((a,u)=>{let c=new Set,l=V4.createServer({pauseOnConnect:!0},d=>{let p=d.remotePort,f=l.address().port;t.write(`Port forwarding connection from ${p} > ${f} > ${i} in the container.`),n()===1&&(async()=>{let m=await(0,W4.default)("port",p);t.write(`Port forwarding process for ${p} > ${f} > ${i} in the container:
${JSON.stringify(m,void 0,"  ")}`)})().catch(console.error),Kve(t,r,[r.nodeExecutable,"-e",`
				const net = require('net');
				const fs = require('fs');
				process.stdin.pause();
				const client = net.createConnection({ host: '127.0.0.1', port: ${i} }, () => {
					console.error('Connection established');
					client.pipe(process.stdout);
					process.stdin.pipe(client);
				});
				client.on('close', function (hadError) {
					console.error(hadError ? 'Remote close with error' : 'Remote close');
					process.exit(hadError ? 1 : 0);
				});
				client.on('error', function (err) {
					process.stderr.write(err && (err.stack || err.message) || String(err));
				});
				process.stdin.on('close', function (hadError) {
					console.error(hadError ? 'Remote stdin close with error' : 'Remote stdin close');
					process.exit(hadError ? 1 : 0);
				});
				process.on('uncaughtException', function (err) {
					fs.writeSync(process.stderr.fd, \`Uncaught Exception: \${String(err && (err.stack || err.message) || err)}\\n\`);
				});
			`],s).then(m=>{let h;m.exit.then(({code:g,signal:v})=>{h||(c.delete(d),d.end()),t.write(`Port forwarding ${p} > ${f} > ${i} terminated${h?` by extension (${h})`:""} with code ${g} and signal ${v}.`)},g=>{c.delete(d),d.end(),t.write(`Port forwarding ${p} > ${f} > ${i} terminated with error: ${g&&g.message||String(g)}`)}),m.stderr.on("data",g=>{t.write(`Port forwarding ${p} > ${f} > ${i} stderr: ${g.toString("utf8")}`,2)}),d.on("close",g=>{t.write(`Port forwarding ${p} > ${f} > ${i}: Local close${g?" with error":""}`,2),c.delete(d),h="closed",m.stdin.end(),setTimeout(()=>{h="killed",m.terminate().catch(console.error)},5e3)}),m.stdout.pipe(d),d.pipe(m.stdin),c.add(d)}).catch(console.error)});l.on("listening",()=>{let d={targetPort:i,server:l,connections:c};l.on("close",()=>{e.delete(d)}),e.add(d),t.write(`Port forwarding local port ${l.address().port} to container port ${i}`),a(l)}),l.on("error",d=>{if(d&&(d.code==="EADDRINUSE"||d.code==="EACCES")){l.listen(0,"127.0.0.1");return}u(d)}),l.on("close",()=>{u(new Error("Closed"))}),l.listen(i,"127.0.0.1")})}async function Kve(e,t,n,r){return t.remoteExec({env:r,cmd:n[0],args:n.slice(1),output:e})}var zf=B(require("path"));function M_(e,t){let n,r=e.platform==="win32",i={...e,get env(){return n||(n=G4(r,e.env))}},o=Jve.bind(void 0,r,i);return e.containerWorkspaceFolder&&(i.containerWorkspaceFolder=z4(o,e.containerWorkspaceFolder)),F_(o,t)}function bk(e,t,n,r){let i=e==="win32";return F_(Zve.bind(void 0,i,t,G4(i,n)),r)}function F_(e,t){if(typeof t=="string")return z4(e,t);if(Array.isArray(t))return t.map(n=>F_(e,n));if(t&&typeof t=="object"){let n=Object.create(null);return Object.keys(t).forEach(r=>{n[r]=F_(e,t[r])}),n}return t}var Xve=/\$\{(.*?)\}/g;function G4(e,t){if(e){let n=Object.create(null);return Object.keys(t).forEach(r=>{n[r.toLowerCase()]=t[r]}),n}return t}function z4(e,t){return t.replace(Xve,Qve.bind(void 0,e))}function Qve(e,t,n){let r,i=n.split(":");return i.length>1&&(n=i[0],r=i[1]),e(t,n,r)}function Jve(e,t,n,r,i){switch(r){case"env":case"localEnv":return Y4(e,t.env,i,n,t.configFile);case"localWorkspaceFolder":return t.localWorkspaceFolder!==void 0?t.localWorkspaceFolder:n;case"localWorkspaceFolderBasename":return t.localWorkspaceFolder!==void 0?(e?zf.win32:zf.posix).basename(t.localWorkspaceFolder):n;case"containerWorkspaceFolder":return t.containerWorkspaceFolder!==void 0?t.containerWorkspaceFolder:n;case"containerWorkspaceFolderBasename":return t.containerWorkspaceFolder!==void 0?zf.posix.basename(t.containerWorkspaceFolder):n;default:return n}}function Zve(e,t,n,r,i,o){switch(i){case"containerEnv":return Y4(e,n,o,r,t);default:return r}}function Y4(e,t,n,r,i){if(n){e&&(n=n.toLowerCase());let o=t[n];return typeof o=="string"?o:""}throw new ve({description:`'${r}'${i?` in ${zf.posix.basename(i.path)}`:""} can not be resolved because no environment variable name is given.`})}async function mo(e){return new Promise(t=>setTimeout(t,e))}var uu=0,K4=/Extension host agent listening on (\d+)/;var Sk="updateContentCommand";async function H_(e){let{params:t,createdAt:n,startedAt:r,sharedDataFolder:i,sharedDataFolderIsLocalCacheFolder:o,remoteWorkspaceFolder:s,containerUser:a,containerGroup:u,containerEnv:c,remoteExec:l,remotePtyExec:d,remoteExecAsRoot:p,rootShellServer:f,remoteWaylandSocket:m}=e,h;if(f&&a==="root"?h=f:h=await lo(l,t.output,t.sessionId),!c){let F=(await h.exec("echo $PATH")).stdout.trim();c=F?{PATH:F}:{}}a||(a=await tk(h)),!p&&a==="root"&&(p=l);let g=await ok(h),v=await nk(h,a);v||t.output.write(cR(`User ${a} not found in /etc/passwd.`));let y=await tye(c,v),x=await eye(c,v),E=rk(x,t.product),{commit:b,quality:C}=t.product,R=b&&await nye(E,b,C||"insider",t.web),T=ik(g,C==="stable"),_=b&&i&&await eY(fe.posix,i,T,b,C||"insider",t.web),A=R&&await iye(R),P;f?P=Promise.resolve(f):a==="root"&&(P=Promise.resolve(h));let I={createdAt:n,startedAt:r,osRelease:g,build:T,user:a,gid:u||(v==null?void 0:v.gid),env:c,shell:y,homeFolder:x,userDataFolder:E,sharedDataFolderIsLocalCacheFolder:o,sharedDataFolder:i,installFolder:R,sharedInstallFolder:_,remoteWorkspaceFolder:s,nodeExecutable:A,remoteExec:l,remotePtyExec:d,remoteExecAsRoot:p,shellServer:h,remoteWaylandSocket:m};return(P||p)&&(I.launchRootShellServer=()=>P||(P=lo(p,t.output))),I}async function tk(e){return(await e.exec("id -un")).stdout.trim()}async function eye(e,t){return e.HOME||t&&t.home||"/root"}async function tye(e,t){return e.SHELL||t&&t.shell||"/bin/sh"}async function nk(e,t){let{stdout:n}=await e.exec("cat /etc/passwd",{logOutput:!1});return dk(n,t)}function dk(e,t){return e.split(/\r?\n/).map(r=>r.split(":")).map(r=>({name:r[0],uid:r[2],gid:r[3],home:r[5],shell:r[6]})).find(r=>r.name===t||r.uid===t)}async function nye(e,t,n,r){return fe.posix.join(e,"bin",`${t}${n==="stable"?"":`-${n}`}${r?"-web":""}`)}async function eY(e,t,n,r,i,o){return e.join(t,"bin",n.id,`${r}${i==="stable"?"":`-${i}`}${o?"-web":""}`)}function tY(e){return fe.posix.join(e.userDataFolder,"extensions")}function po(e){return fe.posix.join(typeof e=="string"?e:e.userDataFolder,"data/Machine")}function B_(e){return fe.posix.join(e.userDataFolder,"data/Machine/settings.json")}function rye(e){return fe.posix.join(e,".vscode-remote")}function rk(e,t){return fe.posix.join(e,t.serverDataFolderName)}function Kf(e){return fe.posix.join("/var",/^\.*(.*)$/.exec(e)[1])}async function iye(e){return fe.posix.join(e,"node")}var Jv=class{constructor(t){this.settings=t}getConfiguration(t){return this.settings[Lf(t)]||this.settings[ou(t)]}getNewConfiguration(t){return this.settings[Lf(t)]}getDotfileConfiguration(t){return this.settings[ou(t)]||this.settings[t]}};async function nY(e,t,n,r,i=uu){await rY(e,t),await Sye(e,t),await Tye(e,t);let o=await iY(e,t,n),{serverDownloaded:s}=await oY(e,t),a,u,c=Promise.resolve(),l;if(!e.cliMode&&t.nodeExecutable){let v=await Wv(e,t,o);a=v.remoteContainersCLI,u=v.remoteEnv,c=v.ready,l=v.mrpcExec;let y=e.cliHost.reconnect;y&&(e.cliHost.reconnect=async()=>{await y(),v.reconnect().catch(x=>e.output.write(et(x&&(x.stack||x.message)||String(x))))})}let p=e.computeExtensionHostEnv||t.installFolder&&e.cliMode||e.postCreate.enabled?Bf(e,t,n,l).then(v=>({...v,...u,...e.cliMode?{}:{REMOTE_CONTAINERS:"true"},...n.remoteEnv?bk(e.cliHost.platform,n.configFilePath,t.env,n.remoteEnv):{},NODE_OPTIONS:void 0})):Promise.resolve({}),f=o.getConfiguration("gitCredentialHelperConfigLocation")??e.credentialHelperConfigLocation;!e.cliMode&&t.nodeExecutable&&(await ed(e,t,[".ssh","known_hosts"],"ssh"),f!=="none"&&await Yf(t,a,e.output,"system"));let m,h,g;if(t.installFolder){let y=await dY(e,t,i,l,async()=>aY(e,t,async()=>{var b,C,R;return Array.from(new Set([...((C=(b=n.customizations)==null?void 0:b.vscode)==null?void 0:C.extensions)||[],...((R=await r())==null?void 0:R.allFeatures.filter(T=>(d4||T.included)&&T.value).reduce((T,_)=>{var A,P;return T.concat(((P=(A=_.customizations)==null?void 0:A.vscode)==null?void 0:P.extensions)||[])},[]))||[]]))}),p),x=y.serverPort;g=y.connectionToken,m=x,e.forwardServerPort&&t.nodeExecutable&&(h=await Ek(e,t,x,e.sessionId),m=h.address().port,e.backgroundTasks.push(async()=>hY(e,t,n)))}if(e.postCreate.enabled){let v,y=!1,x=new Promise(b=>v=()=>{y=!0,b()}),E=(async()=>{if((n.waitFor||Sk)==="initializeCommand"&&v(),!(e.postCreate.skipNonBlocking&&y)&&(await _k(e,t,n,"onCreateCommand",p,c,!1,v),!(e.postCreate.skipNonBlocking&&y)&&(await _k(e,t,n,"updateContentCommand",p,c,!!e.prebuild,v),!(e.postCreate.skipNonBlocking&&y)))){if(!e.prebuild){if(await _k(e,t,n,"postCreateCommand",p,c,!1,v),e.postCreate.skipNonBlocking&&y||(await I4(e,t,p,c,o),!e.cliMode&&t.nodeExecutable&&((o.getConfiguration("copyGitConfig")??e.isCopyGitConfigEnabled)&&(await ed(e,t,[".gitconfig"],"git"),await W_(e,t,p.then(b=>({...t.env,...b})))),await Yf(t,a,e.output,f)),await yye(e,t,n,p,c,v),e.postCreate.skipNonBlocking&&y))return;await xye(e,t,n,p,c,v)}e.postCreate.done()}})();e.backgroundTasks.push(E),await Promise.race([x,E])}return{hostOrContainerPort:m,hostPortServer:h,connectionToken:g,remoteEnv:e.computeExtensionHostEnv?await p:{},serverDownloaded:s}}async function Xf(e,t,n,r,i=uu,o,s){await rY(e,t);let a=await iY(e,t,r),{serverDownloaded:u}=await oY(e,t),c,l,d;if(!e.cliMode&&t.nodeExecutable){let y=await Wv(e,t,a);c=y.remoteContainersCLI,l=y.remoteEnv;let x=o;o=async(...b)=>(await y.ready,x(...b)),d=y.mrpcExec;let E=e.cliHost.reconnect;E&&(e.cliHost.reconnect=async()=>{await E(),y.reconnect().catch(b=>e.output.write(et(b&&(b.stack||b.message)||String(b))))})}let f=e.computeExtensionHostEnv||t.installFolder&&e.cliMode||e.postCreate.enabled?Bf(e,t,r,d).then(async y=>({...y,...l,...await l4(t,y),...e.cliMode?{}:{REMOTE_CONTAINERS:"true"},...bk(e.cliHost.platform,n.configFilePath,t.env,r.remoteEnv||{}),NODE_OPTIONS:void 0})):Promise.resolve({}),m=a.getConfiguration("gitCredentialHelperConfigLocation")??e.credentialHelperConfigLocation;!e.cliMode&&t.nodeExecutable&&(await ed(e,t,[".ssh","known_hosts"],"ssh"),m!=="none"&&await Yf(t,c,e.output,"system"));let h,g,v;if(t.installFolder){let x=await dY(e,t,i,d,async()=>aY(e,t,async()=>{var C;return[...new Set([].concat(...(((C=r.customizations)==null?void 0:C.vscode)||[]).map(R=>R.extensions||[])))]}),f),E=x.serverPort;v=x.connectionToken,h=E,e.forwardServerPort&&t.nodeExecutable&&(g=await Ek(e,t,E,e.sessionId),h=g.address().port,e.backgroundTasks.push(async()=>hY(e,t,r)))}if(e.postCreate.enabled){let y,x=new Promise(b=>y=()=>{b()}),E=(async()=>{let b={...l,...e.cliMode?{}:{REMOTE_CONTAINERS:"true"}},C=["onCreateCommand","updateContentCommand","postCreateCommand","postStartCommand","postAttachCommand"],R=C.reduce((T,_)=>(T[_]=(r[`${_}s`]||[]).length>0,T),{});if(e.prebuild){let T=C.indexOf("updateContentCommand");if((!C.slice(0,T+1).some(P=>R[P])?"prebuild":await o(!1,!1,!0,a,b))!=="prebuild")throw new Error('"prebuild" expected')}else{let T=!0,_=!0,A=r.waitFor||Sk,P=C.indexOf(A),I=C.indexOf("postCreateCommand"),F=P<=I&&!C.slice(0,P+1).some(k=>R[k]),q=a.getDotfileConfiguration("dotfiles.repository")||e.dotfilesConfiguration.repository,$=!C.slice(0,I+1).some(k=>R[k])&&!q,M=F?"skipNonBlocking":$?"stopForPersonalization":await o(T,_,!1,a,b);if(M==="skipNonBlocking"){if(y(),e.postCreate.skipNonBlocking)return;T=!1,M=!C.slice(P+1,I+1).some(U=>R[U])&&!q?"stopForPersonalization":await o(T,_,!1,a,b)}if(M==="stopForPersonalization"){!e.cliMode&&t.nodeExecutable&&((a.getConfiguration("copyGitConfig")??e.isCopyGitConfigEnabled)&&(await ed(e,t,[".gitconfig"],"git"),await W_(e,t,f.then(V=>({...t.env,...V})))),await Yf(t,c,e.output,m)),await(s==null?void 0:s()),_=!1;let k=P>I&&!C.slice(I+1,P+1).some(V=>R[V]),U=!C.slice(I+1).some(V=>R[V]);M=k?"skipNonBlocking":U?"done":await o(T,_,!1,a,b)}if(M==="skipNonBlocking"){if(y(),e.postCreate.skipNonBlocking)return;T=!1,M=!C.slice(P+1).some(U=>R[U])?"done":await o(T,_,!1,a,b)}if(M!=="done")throw new Error('"done" expected')}})();E.then(()=>{e.postCreate.done()},b=>{e.postCreate.done(b)}),e.backgroundTasks.push(E),await Promise.race([x,E])}return{hostOrContainerPort:h,hostPortServer:g,connectionToken:v,remoteEnv:e.computeExtensionHostEnv?await f:{},serverDownloaded:u}}async function rY(e,t){let n=rye(t.homeFolder);!await q_(t.shellServer,t.userDataFolder)&&await q_(t.shellServer,n)&&await Va(e,t,["/bin/sh","-c",`cp -r '${n}' '${t.userDataFolder}'`])}async function iY(e,t,n){var s;let r=po(t),i=fe.posix.join(r,".writeMachineSettingsMarker"),o=B_(t);if(await G_(t.shellServer,i)){let a=(s=n.customizations)==null?void 0:s.vscode,u=Object.assign({},...(Array.isArray(a)?a:a?[a]:[]).map(c=>c.settings));if(oye(u,n.portsAttributes),sye(u,n.otherPortsAttributes),Object.keys(u).length)return await t.shellServer.exec(`mkdir -p '${fe.posix.dirname(o)}' && cat >'${o}' <<'settingsJSON'
${JSON.stringify(u,null,"	")}
settingsJSON
`),new Jv(u)}try{let{stdout:a}=await t.shellServer.exec(`cat ${o}`);return new Jv(Ze(a)||{})}catch{return new Jv({})}}function oye(e,t){if(!e||!t||!Object.keys(t).length)return;let n="remote.portsAttributes";if(!e[n]){e[n]=t;return}for(let r in t)e[n][r]||(e[n][r]=t[r])}function sye(e,t){if(!e||!t)return;let n="remote.otherPortsAttributes";e[n]||(e[n]=t)}async function V_(e,t,n,r){let i=typeof e.gid=="string"?`${e.user}:${e.gid}`:e.user,o=await t();if((await o.exec(`stat -c %u ${n}`)).stdout.trim()==="0"){let u=fe.posix.dirname(n);u!=="/"&&await o.exec(`chown ${i} ${u}`),n!=="/"&&await o.exec(`chown -R ${i} ${n}`)}else if(r&&(await o.exec(`stat -c %u ${r}`)).stdout.trim()==="0"){let l=fe.posix.dirname(r);l!=="/"&&await o.exec(`chown -R ${i} ${l}`)}}async function Yf(e,t,n,r){if(t||au)if(r==="none")n.write("Git credential helper not enabled.");else{let i=r==="system"?e.launchRootShellServer&&await e.launchRootShellServer():e.shellServer;i?await i.exec(`command -v git >/dev/null 2>&1 && git config --${r} --replace-all credential.helper '!f() { ${e.nodeExecutable} ${t} git-credential-helper $*; }; f' || true`):n.write("Cannot configure system wide Git credential helper without root access.")}}async function ed(e,t,n,r){let{cliHost:i}=e,o=i.path.join(await i.homedir(),...n),s=fe.posix.join(t.homeFolder,...n);await Of(e,t,o,s,r)}async function W_(e,t,n){let{cliHost:r}=e,{env:i}=r,o=["git","config"],s=i.XDG_CONFIG_HOME?[i.XDG_CONFIG_HOME]:[await r.homedir(),".config"],a=r.path.join(...s,...o),u=(async()=>{let c=await n,l=c.XDG_CONFIG_HOME?[c.XDG_CONFIG_HOME]:[t.homeFolder,".config"];return fe.posix.join(...l,...o)})();await Of(e,t,a,u,"git")}async function Of(e,t,n,r,i){let o=await aye(e.cliHost,n);if(o)try{let s=await r;await t.shellServer.exec(`# Test for ${s} and ${i}
[ -e ${s} ] && echo ${s} exists && exit 1
command -v ${i} >/dev/null 2>&1 || (echo ${i} not found && exit 1) || exit 1
mkdir -p ${fe.posix.dirname(s)}`),await t.shellServer.exec(`# Copy ${n} to ${s}
${Pk(o.byteLength)} >${s}`,{stdin:o})}catch(s){if(s&&s.code!==1)throw s}}async function aye(e,t){try{return await e.readFile(t)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="EISDIR"))return;throw n}}async function oY(e,t){let{commit:n}=e.product,{installFolder:r,shellServer:i,launchRootShellServer:o,build:s}=t;if(!(n&&r))return{serverDownloaded:void 0};cye(t.osRelease,s),s.preview&&e.output.write(`\r
\x1B[1mSupport for ${s.label} is in preview.\x1B[22m\r
\r
`);let a=await q_(i,r),u;a||s===uY[s.arch]&&(o?u=(await o()).exec("apk info | grep -e '^libstdc++$' || (apk update && apk add libstdc++)"):u=i.exec(`apk info | grep -e '^libstdc++$' || (echo "ERROR: libstdc++ not found. Please install." >&2 && exit 1)`));let c=t.sharedInstallFolder;if(c&&await q_(i,c))return a||await i.exec(`mkdir -p '${fe.posix.dirname(r)}' && ln -snf '${c}' '${r}'`),o&&(async()=>{await(await o()).exec(`touch '${c}'`)})().catch(console.error),await u,{serverDownloaded:!1};if(a)return{serverDownloaded:!1};e.progress(4),e.output.write(`Installing VS Code Server for commit ${n}\r
`);let l=!!(c&&o),d=l?c:r,p=l?await o():i,f={localCacheFolder:e.localCacheFolder,build:s,commit:n,quality:e.product.quality||"insider",web:e.web,output:e.output,alternateDownload:e.alternateDownload},m=zv(f),h=await or(m);h||await w_(f);try{t.sharedDataFolderIsLocalCacheFolder?await X4(f):await Vv(e,p,m,d)}catch(g){if(g&&g.stderr&&/unexpected end of file|not in gzip format/i.test(g.stderr.toString()))await w_(f),t.sharedDataFolderIsLocalCacheFolder?await X4(f):await Vv(e,p,m,d);else throw g}return l&&(await i.exec(`mkdir -p '${fe.posix.dirname(r)}' && ln -snf '${c}' '${r}'`),(async()=>{await p.exec(`touch '${c}' && cd '${fe.posix.dirname(c)}' && ls -td *[^_]????????????? | tail -n +10 | xargs rm -rf`)})().catch(console.error)),await u,{serverDownloaded:!h}}function cye(e,t){let n=e.version;if(t.minVersion&&n){let r=Wf(n.trim());if(r&&Gf(r,t.minVersion)){let i=`${t.label} ${t.minVersion.join(".")} or later required.`;throw new ve({description:i,data:{reload:!1}})}}}async function w_(e){let{build:t,commit:n,quality:r,web:i,output:o}=e,s="Downloading VS Code Server",a=o.start(s);o.write(`${n} ${t.id} ${r} ${i?"web":""}`);let u=zv(e);await jo(fe.dirname(u));let c=`https://update.code.visualstudio.com/commit:${n}/server-${t.id}${i?"-web":""}/${r}`;try{let l=`${u}_${Date.now()}`;await new Promise((d,p)=>{let f=$_.createWriteStream(l);o.write("Starting download.",1),J4.https.get(c,h=>{if(h.statusCode<200||h.statusCode>299){o.write(`Download failed: ${h.statusCode} ${h.statusMessage}.`,1),p(new ve({description:"Downloading the VS Code Server failed. Please try again later.",originalError:`Failed to download VS Code Server (${c}): HTTP ${h.statusCode} - ${h.statusMessage}`}));return}o.write("Downloading data.",1),h.on("error",p),h.pipe(f),h.on("end",d)}).on("error",p)}),await ba(l,u)}catch(l){if(o.write("Downloading failed.",1),o.write((l==null?void 0:l.stack)||(l==null?void 0:l.message)||String(l),1),e.alternateDownload){o.write(l&&(l.originalError||l.message)),o.write("Retrying to download VS Code Server.");let d=`${u}_${Date.now()}`;await e.alternateDownload(c,d),await ba(d,u)}else throw l||new Error("Failed to download VS Code Server.")}finally{o.stop(s,a)}}async function Vv(e,t,n,r,i,o=!0){let s="Installing VS Code Server",a=e.output.start(s),u=`${r}_${Date.now()}`;try{if(await t.exec(`mkdir -p ${u}`),i)typeof n=="string"&&n.endsWith(".zip")?await t.exec(`unzip ${n} -d ${u}`):await t.exec(`cat ${n} | tar --no-same-owner -x${o?"z":""} -C ${u}`);else{let c=typeof n=="string"?await nt(n):n;await t.exec(`${Pk(c.byteLength)} | tar --no-same-owner -x${o?"z":""} -C ${u}`,{stdin:c})}await t.exec(`mv -n ${fe.posix.join(u,"*",".")} ${r} && rmdir ${u}`)}catch(c){try{await t.exec(`rm -rf ${u}`)}catch{}throw c}finally{e.output.stop(s,a)}}async function X4(e){let{localCacheFolder:t,build:n,commit:r,quality:i,web:o,output:s}=e,a="Unpacking VS Code Server",u=s.start(a);s.write(`${r} ${n.id} ${i} ${o?"web":""}`);let c=await eY(fe,t,n,r,i,o),l=`${c}_${Date.now()}`;try{await jo(l);let d=zv(e);await(await Ba(void 0)({cmd:"tar",args:["--no-same-owner","-xzf",d,"--strip-components","1","-C",l],cwd:process.cwd(),output:s})).exit,await Hc(c,{recursive:!0,force:!0}),await ba(l,c)}catch(d){try{await Hc(l,{recursive:!0,force:!0})}catch{}throw d}finally{s.stop(a,u)}}function zv(e){let{localCacheFolder:t,build:n,commit:r,quality:i,web:o}=e,s=fe.join(t,"serverCache",r),a=`vscode-server-${n.id}${i==="stable"?"":`-${i}`}${o?"-web":""}${n.archiveExt||".tar.gz"}`;return fe.join(s,a)}async function sY(e,t){let n=await pY(t),r={VSCODE_AGENT_FOLDER:t.userDataFolder},{stdout:i}=await Va(e,t,[fe.posix.join(t.installFolder,...E_(n)),...fY(t.userDataFolder),...mY(e.getTelemetryLevel()),"--list-extensions"],t.installFolder,{remoteEnv:r});return i.toString().split(`
`).filter(o=>!!o)}async function aY(e,t,n){let r="Preparing Extensions",i=e.output.start(r),{sharedDataFolder:o}=t,s=o?hye(o):void 0,a=cY(t),u=await lye(e,t,n);if(t.sharedDataFolderIsLocalCacheFolder)t.shellServer.exec(`mkdir -p '${s}' && ln -s -T '${s}' '${a}' || true`),t.launchRootShellServer&&(await t.launchRootShellServer()).exec(`chown -R ${t.user} ${s}`);else{let l=mye(e.localCacheFolder),d=await dye(e,t,l,s,a,[...u.builtinExtensions,...u.extensions]);pye(e,t,l,s,a,d).catch(console.error)}u.extensions=u.extensions.filter(l=>!u.builtinExtensions.includes(l)),e.product.version&&Z4.lte("1.77.0",e.product.version.split("-")[0])&&(e.output.write(`Optimizing extensions for quality: ${e.product.quality}`),u.builtinExtensions=await uye(e,t,a,u.builtinExtensions));let c=[].concat(...u.builtinExtensions.map(l=>["--install-builtin-extension",l]),...u.extensions.map(l=>["--install-extension",l]));return e.cliMode&&c.length&&c.push("--do-not-sync"),e.output.stop(r,i),{...u,args:c}}async function uye(e,t,n,r){if(r.length===0)return r;let{shellServer:i}=t,o=(await i.exec(`test -d ${n} && ls ${n} || true`)).stdout.trim().split(`
`).filter(a=>!!a&&a.endsWith("vsix"));e.output.write(`Available vsix: ${o.join(", ")||"None"}`);let s=r.map(a=>{let u=o.find(c=>c.startsWith(a.toLocaleLowerCase()));return u?`${n}/${u}`:a});return e.output.write(`Optimized extensions to install: ${s.join(", ")||"None"}`),s}async function lye(e,t,n){let r=po(t),i=fe.posix.join(r,".installExtensionsMarker"),o=!await G_(t.shellServer,i),s=o?[]:e.installBuiltinExtensions||[],a=await e.getAdditionalExtensionsToInstall(o),u=o?[]:await n();for(let c of a)u.indexOf(c)===-1&&u.push(c);return{builtinExtensions:s,extensions:u}}async function dye(e,t,n,r,i,o){e.output.write(`Extensions cache, install extensions: ${o.join(", ")||"None"}`);let{shellServer:s}=t,a=(await s.exec(`test -d ${i} && ls ${i} || true`)).stdout.trim().split(`
`).filter(u=>!!u);if(r){let u=(await s.exec(`test -d ${r} && ls ${r} || true`)).stdout.trim().split(`
`).filter(l=>!!l),c=u.filter(l=>o.some(d=>l.toLowerCase().startsWith(d.toLowerCase()))&&a.indexOf(l)===-1);if(e.output.write(`Extensions cache, link in container: ${c.join(", ")||"None"}`),c.length){await s.exec(`mkdir -p '${i}' && ln -s '${r}'/* '${i}' || true`);let{launchRootShellServer:l}=t;l&&(async()=>{await(await l()).exec(`cd ${r} && touch ${c.map(p=>`'${p}'`).join(" ")}`)})().catch(console.error)}return{remoteExtensions:[...new Set([...a,...u])],cachedExtensions:u}}else{await jo(n);let u=await jc(n),c=u.filter(l=>o.some(d=>l.toLowerCase().startsWith(d.toLowerCase()))&&a.indexOf(l)===-1);if(e.output.write(`Extensions cache, copy to remote: ${c.join(", ")||"None"}`),c.length){let l=fe.basename(n),d=j_.c({cwd:fe.dirname(n)},c.map(m=>fe.join(l,m))),p=fe.posix.join(i,`tmp-${Date.now()}`),f=await new Promise(m=>{let h=[];d.on("data",g=>h.push(g)),d.on("end",()=>m(Buffer.concat(h)))});await s.exec(`# Copy extensions to remote
mkdir -p ${p}
${Pk(f.byteLength)} | tar --no-same-owner -x --strip-components 1 -C ${p}
mv ${p}/* ${i} && rmdir ${p}`,{stdin:f})}return{remoteExtensions:a.concat(c),cachedExtensions:u}}}async function pye(e,t,n,r,i,o){if(r&&!t.launchRootShellServer)return;let s=1e4,a=6e4;for(await mo(s);;)o=await fye(e,t,n,r,i,o),await mo(a)}async function fye(e,t,n,r,i,{remoteExtensions:o,cachedExtensions:s}){let{shellServer:a,launchRootShellServer:u,remoteExec:c}=t,l=(await a.exec(`ls ${i} || true`,{logOutput:"silent"})).stdout.trim().split(`
`).filter(p=>!!p);if(!r){let p=o.filter(f=>l.indexOf(f)===-1);e.output.write(`Extensions cache, remote removals: ${p.join(", ")||"None"}`);for(let f of p)try{await Jj(fe.join(n,f))}catch(m){if(!(m&&m.code==="ENOENT"))throw m}}let d=l.filter(p=>o.indexOf(p)===-1&&s.indexOf(p)===-1);if(e.output.write(`Extensions cache, copy to ${r?"shared cache":"local"}: ${d.join(", ")||"None"}`,1),d.length)if(r){let p=await u();await p.exec(`mkdir -p '${r}' && cd '${i}' && cp ${d.map(f=>`'${f}'`).join(" ")} '${r}'`),await p.exec(`cd '${r}' && ls -t | tail -n +50 | xargs rm -f`)}else{let p=fe.posix.basename(i),f=await c({cmd:"tar",cwd:fe.posix.dirname(i),args:["c",...d.map(v=>fe.posix.join(p,v))],output:e.output}),m=fe.join(fe.dirname(n),`${fe.basename(n)}-${Date.now()}`);await jo(m);let h=j_.x({cwd:m,strip:1}),g=new Promise((v,y)=>{h.on("error",y),h.on("finish",v)});f.stdout.pipe(h),await g;for(let v of await jc(m))await ba(fe.join(m,v),fe.join(n,v));await Zj(m)}return{remoteExtensions:l,cachedExtensions:s}}var Tk="extensionsCache";function mye(e){return fe.join(e,Tk)}function hye(e){return fe.posix.join(e,Tk)}function cY(e){return fe.posix.join(e.userDataFolder,Tk)}var gye={x64:{label:"x86-64",id:"linux-x64",arch:"x64",stable:!0,preview:!1},armhf:{label:"ARM",id:"linux-armhf",arch:"armhf",stable:!0,preview:!0},arm64:{label:"ARM64",id:"linux-arm64",arch:"arm64",stable:!0,preview:!0}},uY={x64:{label:"Alpine Linux",id:"linux-alpine",arch:"x64",stable:!0,preview:!0,minVersion:[3,9]},arm64:{label:"Alpine Linux ARM64",id:"alpine-arm64",arch:"arm64",stable:!0,preview:!0,minVersion:[3,9]}},QD={label:"Mac",id:"darwin",arch:"x64",stable:!0,preview:!0,archiveExt:".zip"},vye={x86_64:"x64",armv7l:"armhf",arm64:"arm64",aarch64:"arm64"};function ik(e,t){let n=vye[e.hardware];if(e.id==="alpine"){let i=n&&uY[n];if(!i)throw new ve({description:`Alpine Linux is not supported on the hardware architecture '${e.hardware}' of the container.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return i}let r=n&&gye[n];if(!r||t&&!r.stable)throw new ve({description:`The hardware architecture '${e.hardware}' of the container is not supported.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return r}async function ok(e){let t="unknown",n="unknown",r="unknown";try{t=(await e.exec("uname -m")).stdout.trim();let{stdout:i}=await e.exec("(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null");n=(i.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",r=(i.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(i){console.error(i)}return{hardware:t,id:n,version:r}}async function _k(e,t,n,r,i,o,s,a){let u=fe.posix.join(po(t),`.${r}Marker`),c=!!t.createdAt&&await lY(t.shellServer,u,t.createdAt)||s;await Ik(e,t,n,r,i,o,c,a)}async function yye(e,t,n,r,i,o){let s=fe.posix.join(po(t),".postStartCommandMarker"),a=!!t.startedAt&&await lY(t.shellServer,s,t.startedAt);await Ik(e,t,n,"postStartCommand",r,i,a,o)}async function lY(e,t,n){try{return await e.exec(`mkdir -p '${fe.posix.dirname(t)}' && CONTENT="$(cat '${t}' 2>/dev/null || echo ENOENT)" && [ "\${CONTENT:-${n}}" != '${n}' ] && echo '${n}' > '${t}'`),!0}catch{return!1}}async function xye(e,t,n,r,i,o){await Ik(e,t,n,"postAttachCommand",r,i,!0,o)}async function Ik({postCreate:e},t,n,r,i,o,s,a){let u=n[r];if(s&&u&&(typeof u=="string"?u.trim():u.length)){await o;let c=`Running ${r}...`,l=typeof u=="string"?u:u.join(" "),d=Zi({event(p){e.output.event(p),p.type==="raw"&&p.text.includes("::endstep::")&&e.output.event({type:"progress",name:c,status:"running",stepDetail:""}),p.type==="raw"&&p.text.includes("::step::")&&e.output.event({type:"progress",name:c,status:"running",stepDetail:`${p.text.split("::step::")[1].split(`\r
`)[0]}`})},get dimensions(){return e.output.dimensions},onDidChangeDimensions:e.output.onDidChangeDimensions},3);try{d.event({type:"progress",name:c,status:"running",stepDetail:l});let p=t.remoteWorkspaceFolder||t.homeFolder;d.raw(`\x1B[1mRunning the ${r} from devcontainer.json...\x1B[0m\r
\r
`),await Cye({...e,output:d},t,typeof u=="string"?["/bin/sh","-c",u]:u,p,{remoteEnv:await i,print:"continuous"}),d.raw(`\r
`),d.event({type:"progress",name:c,status:"succeeded"})}catch(p){if(d.event({type:"progress",name:c,status:"failed"}),p&&(p.code===130||p.signal===2))d.raw(`\r
\x1B[1m${r} interrupted.\x1B[0m\r
\r
`);else throw p!=null&&p.code&&d.write(et(`${r} failed with exit code ${p.code}. Skipping any further user-provided commands.`)),new ve({description:`The ${r} in the devcontainer.json failed.`,originalError:p})}}r===(n.waitFor||Sk)&&a()}async function G_(e,t){try{return await e.exec(O_(t)),!0}catch{return!1}}function O_(e){return`test ! -f '${e}' && set -o noclobber && mkdir -p '${fe.posix.dirname(e)}' && { > '${e}' ; } 2> /dev/null`}async function q_(e,t){try{return await wye(e,t),!0}catch{return!1}}async function wye(e,t){return e.exec(`test -d ${t}`)}async function dY(e,t,n,r,i,o){let{userDataFolder:s,installFolder:a,sharedInstallFolder:u,shellServer:c}=t,{processes:l,mntNS:d}=await kD(c),p=await pY(t),f=`(${fe.posix.join(...E_(p))})`.replace(".","\\."),m=new RegExp(`${fe.posix.join(fe.posix.dirname(a).replace(".","\\."),"[^/]*",f)}`),h=l.filter(k=>k.mntNS===d&&m.test(k.cmd));e.output.write(`Running extension host agents:
${JSON.stringify(h,void 0,"  ")}`,1);let{current:g,others:v}=h.reduce((k,U)=>(k[(U.cwd===a||U.cwd===u)&&m.test(U.cmd)?"current":"others"].push(U),k),{current:[],others:[]});if(!e.cliMode&&v.length){e.output.write(`Terminating old extension host agent.\r
`);try{await c.exec(`kill -9 ${v.map(k=>k.pgrp?`-${k.pgrp}`:k.pid).join(" ")}`)}catch{}}let{commit:y,quality:x}=e.product,E=fe.posix.join(po(t),`.connection-token-${y}${x==="stable"?"":`-${x}`}${e.web?"-web":""}`),b=fe.posix.join(po(t),`.devport-${y}${x==="stable"?"":`-${x}`}${e.web?"-web":""}`);if(g.length){e.output.write(`Extension host agent is already running.\r
`);try{let{stdout:k}=await c.exec(`cat '${b}' 2>/dev/null`),U=k.toString().trim(),V=parseInt(U,10),L=new RegExp(" '?--connection-token-file'? ").test(g[0].cmd)?(await c.exec(`cat '${E}'`)).stdout.toString().trim():void 0;return{serverPort:V,connectionToken:L}}catch(k){console.error(k),e.output.write(`Agent port not found. Terminating old extension host agent.\r
`);try{await c.exec(`kill -9 ${g.map(U=>U.pgrp?`-${U.pgrp}`:U.pid).join(" ")}`)}catch{}}}let C="isLocalContainer"in e&&e.isLocalContainer,R=`${E}-${U_.randomUUID()}`,{stdout:T}=await c.exec(`cat '${E}' 2>/dev/null || (umask 377 && echo '${U_.randomUUID()}' >'${R}' && mv -n '${R}' '${E}' && rm -f '${R}' && cat '${E}')`),_=T.toString().trim();e.progress(5);let A="Starting VS Code Server",P=e.output.start(A),I=[fe.posix.join(a,...E_(p)),"--log",ks(e.getLogLevel()),"--force-disable-user-env",...fY(t.userDataFolder),...Eye(C),...mY(e.getTelemetryLevel()),"--accept-server-license-terms","--host","127.0.0.1","--port",String(n),"--connection-token-file",E,"--extensions-download-dir",cY(t),...(await i()).args,"--start-server",...C?["--disable-websocket-compression"]:[""],...e.cliMode?["--enable-remote-auto-shutdown"]:[]],q=(await Va(e,{remoteExec:t.remoteExec},I,a,{remoteEnv:{SHELL:t.shell,VSCODE_AGENT_FOLDER:s,...e.cliMode?await o:{}},resolveOn:K4,print:"continuous"})).cmdOutput;e.output.stop(A,P);let $=(K4.exec(q)||[])[1];if(!$)throw new Error("Port not found");return await c.exec(`echo ${$} >'${b}'`),{serverPort:parseInt($,10),connectionToken:_}}async function pY({shellServer:e,installFolder:t}){return JSON.parse((await e.exec(`cat '${fe.posix.join(t,"product.json")}'`,{logOutput:!1})).stdout.toString().trim())}function fY(e){return["--server-data-dir",e]}function Eye(e){return e?["--use-host-proxy"]:[]}function mY(e){return e?["--telemetry-level",e]:[]}var bye=/^([a-z0-9\-]+):(\d{1,5})$/;function _ye(e){let t=e.match(bye);if(!(!t||t.length!==3))return{host:t[1],port:Number(t[2])}}async function hY(e,t,n){let r=(n.forwardPorts||[]).map(o=>typeof o=="number"?`localhost:${o}`:o).map(_ye).filter(Boolean),i=await e.getTunnels();await Promise.all(r.filter(o=>!i.find(s=>s.remoteAddress.host===o.host&&s.remoteAddress.port===o.port)).map(async({host:o,port:s})=>e.openTunnel(t,s,o)))}async function Cye(e,{remotePtyExec:t},n,r,i={}){let o=i.print||(i.silent?"off":"end"),s=await t({env:i.remoteEnv,cwd:r,cmd:n[0],args:n.slice(1),output:i.silent?He:e.output}),a="",u,c=new Promise(p=>{u=p});s.onData(p=>{a+=p,o==="continuous"&&e.output.raw(p),i.resolveOn&&i.resolveOn.exec(a)&&u()});let l=e.onDidInput&&e.onDidInput(p=>s.write(p)),d=await Promise.race([s.exit,c]);return l&&l.dispose(),o==="end"&&e.output.raw(a),d&&(d.code||d.signal)?Promise.reject({message:`Command failed: ${n.join(" ")}`,cmdOutput:a,code:d.code,signal:d.signal}):{cmdOutput:a}}async function Va(e,{remoteExec:t},n,r,i={}){let o=i.print||(i.silent?"off":"end"),s=await t({env:i.remoteEnv,cwd:r,cmd:n[0],args:n.slice(1),output:i.silent?He:e.output}),a=[],u=[],c=new Ck.StringDecoder,l=new Ck.StringDecoder,d="",p="",f,m,h=new Promise((E,b)=>{f=E,m=b});s.stdout.on("data",E=>{a.push(E);let b=c.write(E);o==="continuous"&&e.output.write(b.replace(/\r?\n/g,`\r
`)),d+=b,i.resolveOn&&i.resolveOn.exec(d)&&f()}),s.stderr.on("data",E=>{u.push(E),p+=l.write(E)}),i.stdin instanceof Buffer?(s.stdin.write(i.stdin,E=>{E&&m(E)}),s.stdin.end()):i.stdin instanceof $_.ReadStream&&i.stdin.pipe(s.stdin);let g=await Promise.race([s.exit,h]),v=Buffer.concat(a),y=Buffer.concat(u);o==="end"&&(e.output.write(d.replace(/\r?\n/g,`\r
`)),e.output.write(et(p)));let x=`${d}
${p}`;return g&&(g.code||g.signal)?Promise.reject({message:`Command failed: ${n.join(" ")}`,cmdOutput:x,stdout:v,stderr:y,code:g.code,signal:g.signal}):{cmdOutput:x,stdout:v,stderr:y}}function Pk(e){let n=e%8192;return`(dd iflag=fullblock bs=8192 count=${(e-n)/8192} 2>/dev/null; dd iflag=fullblock bs=${n} count=1 2>/dev/null)`}async function Sye(e,t){let n=fe.posix.join(Kf(e.product.serverDataFolderName),".patchEtcEnvironmentMarker");if(e.allowSystemConfigChange&&t.launchRootShellServer&&!await Uf(t.shellServer,n)){let r=await t.launchRootShellServer();await G_(r,n)&&await r.exec(`cat >> /etc/environment <<'etcEnvrionmentEOF'
${Object.keys(t.env).map(i=>`
${i}="${t.env[i]}"`).join("")}
etcEnvrionmentEOF
`)}}async function Tye(e,t){let n=fe.posix.join(Kf(e.product.serverDataFolderName),".patchEtcProfileMarker");if(e.allowSystemConfigChange&&t.launchRootShellServer&&!await Uf(t.shellServer,n)){let r=await t.launchRootShellServer();await G_(r,n)&&await r.exec("sed -i -E 's/((^|\\s)PATH=)([^\\$]*)$/\\1${PATH:-\\3}/g' /etc/profile || true")}}async function Bf(e,t,n,r){let i=Rye(n,e);if(!i||i==="none")return{};let o=await Iye(i,e,t.shellServer);return o||(e.output.write("userEnvProbe: not found in cache"),o=await Q4(i,e,t,r,"cat /proc/self/environ","\0"),o||(e.output.write("userEnvProbe: falling back to printenv"),o=await Q4(i,e,t,r,"printenv",`
`)),o&&await Pye(o,i,e,t.shellServer),o||{})}async function Iye(e,t,n){if(!n||!t.containerSessionDataFolder)return;let r=gY(e,t.containerSessionDataFolder);try{if(await Uf(n,r)){let{stdout:i}=await n.exec(`cat '${r}'`);return JSON.parse(i)}}catch(i){t.output.write(`Failed to read/parse user env cache: ${i}`,5)}}async function Pye(e,t,n,r){if(!r||!n.containerSessionDataFolder)return;let i=gY(t,n.containerSessionDataFolder);try{await r.exec(`mkdir -p '${fe.posix.dirname(i)}' && cat > '${i}' << 'envJSON'
${JSON.stringify(e,null,"	")}
envJSON
`)}catch(o){n.output.write(`Failed to cache user env: ${o}`,5)}}function gY(e,t){return fe.posix.join(t,`env-${e}.json`)}async function Q4(e,t,n,r,i,o){var s;if(e==="none")return{};try{let a=U_.randomUUID(),u=new RegExp(a+"([^]*)"+a),c=n.shell;t.output.write(`userEnvProbe shell: ${c}`);let l=fe.posix.basename(c),d=`echo -n ${a}; ${i}; echo -n ${a}`,p;/^pwsh(-preview)?$/.test(l)?p=e==="loginInteractiveShell"||e==="loginShell"?["-Login","-Command"]:["-Command"]:p=[e==="loginInteractiveShell"?"-lic":e==="loginShell"?"-lc":e==="interactiveShell"?"-ic":"-c"];let f=Zi(t.output,1),m=Va({output:f},{remoteExec:await r||n.remoteExec},[c,...p,d],n.installFolder);Promise.race([m,mo(2e3)]).then(async R=>{if(!R){let T,_=n.shellServer||await lo(n.remoteExec,t.output);try{({processes:T}=await kD(_))}finally{n.shellServer||await _.process.terminate()}let A=T.find(P=>P.cmd.startsWith(c)&&P.cmd.indexOf(a)!==-1);if(A){let I=WG(T)[A.pid];t.output.write(`userEnvProbe is taking longer than 2 seconds. Process tree:
${OD(I)}`)}else t.output.write("userEnvProbe is taking longer than 2 seconds. Process not found.")}},()=>{}).catch(R=>t.output.write(et(R&&(R.stack||R.message)||"Error reading process tree.")));let h=await Promise.race([m,mo(1e4)]);if(!h)return t.output.write(et("userEnvProbe is taking longer than 10 seconds. Avoid waiting for user input in your shell's startup scripts. Continuing.")),{};let g=h.stdout.toString(),v=u.exec(g),y=v?v[1]:"";if(!y||y.trim()==="-n")return;let x=y.split(o).reduce((R,T)=>{let _=T.indexOf("=");return _!==-1&&(R[T.substring(0,_)]=T.substring(_+1)),R},{});t.output.write(`userEnvProbe parsed: ${JSON.stringify(x,void 0,"  ")}`,1),delete x.PWD;let E=x.PATH,b=(s=n.env)==null?void 0:s.PATH,C=!(t.allowSystemConfigChange&&n.launchRootShellServer)&&E&&b;if(C){let R=n.user;x.PATH=Aye(E,b,R==="root"||R==="0")}return t.output.write(`userEnvProbe PATHs:
Probe:     ${typeof E=="string"?`'${E}'`:"None"}
Container: ${typeof b=="string"?`'${b}'`:"None"}${C?`
Merged:    ${typeof x.PATH=="string"?`'${x.PATH}'`:"None"}`:""}`),x}catch(a){return t.output.write(et(a&&(a.stack||a.message)||"Error reading shell environment.")),{}}}function Rye(e,t){let n=e==null?void 0:e.userEnvProbe;return t.output.write(`userEnvProbe: ${n||t.defaultUserEnvProbe}${n?"":" (default)"}`),n||(n=t.defaultUserEnvProbe),n}function Aye(e,t,n){let r=e.split(":"),i=0;for(let o of t.split(":")){let s=r.indexOf(o);s===-1?(n||!/\/sbin(\/|$)/.test(o))&&r.splice(i++,0,o):i=s+1}return r.join(":")}async function vY(e){for(let t of e)await(typeof t=="function"?t():t)}var f6=B(require("crypto")),ly=B(require("path"));function OY(e){return typeof e>"u"||e===null}function Dye(e){return typeof e=="object"&&e!==null}function kye(e){return Array.isArray(e)?e:OY(e)?[]:[e]}function Oye(e,t){var n,r,i,o;if(t)for(o=Object.keys(t),n=0,r=o.length;n<r;n+=1)i=o[n],e[i]=t[i];return e}function Nye(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function Lye(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Fye=OY,Mye=Dye,Uye=kye,qye=Nye,$ye=Lye,jye=Oye,Tn={isNothing:Fye,isObject:Mye,toArray:Uye,repeat:qye,isNegativeZero:$ye,extend:jye};function NY(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function ey(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=NY(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ey.prototype=Object.create(Error.prototype);ey.prototype.constructor=ey;ey.prototype.toString=function(t){return this.name+": "+NY(this,t)};var Qr=ey;function Rk(e,t,n,r,i){var o="",s="",a=Math.floor(i/2)-1;return r-t>a&&(o=" ... ",t=r-a+o.length),n-r>a&&(s=" ...",n=r+a-s.length),{str:o+e.slice(t,n).replace(/\t/g,"\u2192")+s,pos:r-t+o.length}}function Ak(e,t){return Tn.repeat(" ",t-e.length)+e}function Hye(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],o,s=-1;o=n.exec(e.buffer);)i.push(o.index),r.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=r.length-2);s<0&&(s=r.length-1);var a="",u,c,l=Math.min(e.line+t.linesAfter,i.length).toString().length,d=t.maxLength-(t.indent+l+3);for(u=1;u<=t.linesBefore&&!(s-u<0);u++)c=Rk(e.buffer,r[s-u],i[s-u],e.position-(r[s]-r[s-u]),d),a=Tn.repeat(" ",t.indent)+Ak((e.line-u+1).toString(),l)+" | "+c.str+`
`+a;for(c=Rk(e.buffer,r[s],i[s],e.position,d),a+=Tn.repeat(" ",t.indent)+Ak((e.line+1).toString(),l)+" | "+c.str+`
`,a+=Tn.repeat("-",t.indent+l+3+c.pos)+`^
`,u=1;u<=t.linesAfter&&!(s+u>=i.length);u++)c=Rk(e.buffer,r[s+u],i[s+u],e.position-(r[s]-r[s+u]),d),a+=Tn.repeat(" ",t.indent)+Ak((e.line+u+1).toString(),l)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var Bye=Hye,Vye=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Wye=["scalar","sequence","mapping"];function Gye(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function zye(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(Vye.indexOf(n)===-1)throw new Qr('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=Gye(t.styleAliases||null),Wye.indexOf(this.kind)===-1)throw new Qr('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var fr=zye;function yY(e,t){var n=[];return e[t].forEach(function(r){var i=n.length;n.forEach(function(o,s){o.tag===r.tag&&o.kind===r.kind&&o.multi===r.multi&&(i=s)}),n[i]=r}),n}function Yye(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function kk(e){return this.extend(e)}kk.prototype.extend=function(t){var n=[],r=[];if(t instanceof fr)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new Qr("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof fr))throw new Qr("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Qr("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Qr("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(o){if(!(o instanceof fr))throw new Qr("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(kk.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=yY(i,"implicit"),i.compiledExplicit=yY(i,"explicit"),i.compiledTypeMap=Yye(i.compiledImplicit,i.compiledExplicit),i};var Kye=kk,Xye=new fr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Qye=new fr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Jye=new fr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Zye=new Kye({explicit:[Xye,Qye,Jye]});function exe(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function txe(){return null}function nxe(e){return e===null}var rxe=new fr("tag:yaml.org,2002:null",{kind:"scalar",resolve:exe,construct:txe,predicate:nxe,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function ixe(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function oxe(e){return e==="true"||e==="True"||e==="TRUE"}function sxe(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var axe=new fr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:ixe,construct:oxe,predicate:sxe,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function cxe(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function uxe(e){return 48<=e&&e<=55}function lxe(e){return 48<=e&&e<=57}function dxe(e){if(e===null)return!1;var t=e.length,n=0,r=!1,i;if(!t)return!1;if(i=e[n],(i==="-"||i==="+")&&(i=e[++n]),i==="0"){if(n+1===t)return!0;if(i=e[++n],i==="b"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!cxe(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!uxe(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<t;n++)if(i=e[n],i!=="_"){if(!lxe(e.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function pxe(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function fxe(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Tn.isNegativeZero(e)}var mxe=new fr("tag:yaml.org,2002:int",{kind:"scalar",resolve:dxe,construct:pxe,predicate:fxe,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),hxe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function gxe(e){return!(e===null||!hxe.test(e)||e[e.length-1]==="_")}function vxe(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var yxe=/^[-+]?[0-9]+e/;function xxe(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Tn.isNegativeZero(e))return"-0.0";return n=e.toString(10),yxe.test(n)?n.replace("e",".e"):n}function wxe(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Tn.isNegativeZero(e))}var Exe=new fr("tag:yaml.org,2002:float",{kind:"scalar",resolve:gxe,construct:vxe,predicate:wxe,represent:xxe,defaultStyle:"lowercase"}),bxe=Zye.extend({implicit:[rxe,axe,mxe,Exe]}),_xe=bxe,LY=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),FY=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Cxe(e){return e===null?!1:LY.exec(e)!==null||FY.exec(e)!==null}function Sxe(e){var t,n,r,i,o,s,a,u=0,c=null,l,d,p;if(t=LY.exec(e),t===null&&(t=FY.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(l=+t[10],d=+(t[11]||0),c=(l*60+d)*6e4,t[9]==="-"&&(c=-c)),p=new Date(Date.UTC(n,r,i,o,s,a,u)),c&&p.setTime(p.getTime()-c),p}function Txe(e){return e.toISOString()}var Ixe=new fr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Cxe,construct:Sxe,instanceOf:Date,represent:Txe});function Pxe(e){return e==="<<"||e===null}var Rxe=new fr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Pxe}),Mk=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Axe(e){if(e===null)return!1;var t,n,r=0,i=e.length,o=Mk;for(n=0;n<i;n++)if(t=o.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function Dxe(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,o=Mk,s=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(r.charAt(t));return n=i%4*6,n===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):n===18?(a.push(s>>10&255),a.push(s>>2&255)):n===12&&a.push(s>>4&255),new Uint8Array(a)}function kxe(e){var t="",n=0,r,i,o=e.length,s=Mk;for(r=0;r<o;r++)r%3===0&&r&&(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]),n=(n<<8)+e[r];return i=o%3,i===0?(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]):i===2?(t+=s[n>>10&63],t+=s[n>>4&63],t+=s[n<<2&63],t+=s[64]):i===1&&(t+=s[n>>2&63],t+=s[n<<4&63],t+=s[64],t+=s[64]),t}function Oxe(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Nxe=new fr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Axe,construct:Dxe,predicate:Oxe,represent:kxe}),Lxe=Object.prototype.hasOwnProperty,Fxe=Object.prototype.toString;function Mxe(e){if(e===null)return!0;var t=[],n,r,i,o,s,a=e;for(n=0,r=a.length;n<r;n+=1){if(i=a[n],s=!1,Fxe.call(i)!=="[object Object]")return!1;for(o in i)if(Lxe.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function Uxe(e){return e!==null?e:[]}var qxe=new fr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Mxe,construct:Uxe}),$xe=Object.prototype.toString;function jxe(e){if(e===null)return!0;var t,n,r,i,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],$xe.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;o[t]=[i[0],r[i[0]]]}return!0}function Hxe(e){if(e===null)return[];var t,n,r,i,o,s=e;for(o=new Array(s.length),t=0,n=s.length;t<n;t+=1)r=s[t],i=Object.keys(r),o[t]=[i[0],r[i[0]]];return o}var Bxe=new fr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:jxe,construct:Hxe}),Vxe=Object.prototype.hasOwnProperty;function Wxe(e){if(e===null)return!0;var t,n=e;for(t in n)if(Vxe.call(n,t)&&n[t]!==null)return!1;return!0}function Gxe(e){return e!==null?e:{}}var zxe=new fr("tag:yaml.org,2002:set",{kind:"mapping",resolve:Wxe,construct:Gxe}),MY=_xe.extend({implicit:[Ixe,Rxe],explicit:[Nxe,qxe,Bxe,zxe]}),du=Object.prototype.hasOwnProperty,z_=1,UY=2,qY=3,Y_=4,Dk=1,Yxe=2,xY=3,Kxe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Xxe=/[\x85\u2028\u2029]/,Qxe=/[,\[\]\{\}]/,$Y=/^(?:!|!!|![a-z\-]+!)$/i,jY=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function wY(e){return Object.prototype.toString.call(e)}function $s(e){return e===10||e===13}function nd(e){return e===9||e===32}function Jr(e){return e===9||e===32||e===10||e===13}function Jf(e){return e===44||e===91||e===93||e===123||e===125}function Jxe(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Zxe(e){return e===120?2:e===117?4:e===85?8:0}function ewe(e){return 48<=e&&e<=57?e-48:-1}function EY(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function twe(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var HY=new Array(256),BY=new Array(256);for(td=0;td<256;td++)HY[td]=EY(td)?1:0,BY[td]=EY(td);var td;function nwe(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||MY,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function VY(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=Bye(n),new Qr(t,n)}function he(e,t){throw VY(e,t)}function K_(e,t){e.onWarning&&e.onWarning.call(null,VY(e,t))}var bY={YAML:function(t,n,r){var i,o,s;t.version!==null&&he(t,"duplication of %YAML directive"),r.length!==1&&he(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&he(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&he(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&K_(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var i,o;r.length!==2&&he(t,"TAG directive accepts exactly two arguments"),i=r[0],o=r[1],$Y.test(i)||he(t,"ill-formed tag handle (first argument) of the TAG directive"),du.call(t.tagMap,i)&&he(t,'there is a previously declared suffix for "'+i+'" tag handle'),jY.test(o)||he(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{he(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function lu(e,t,n,r){var i,o,s,a;if(t<n){if(a=e.input.slice(t,n),r)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||he(e,"expected valid JSON character");else Kxe.test(a)&&he(e,"the stream contains non-printable characters");e.result+=a}}function _Y(e,t,n,r){var i,o,s,a;for(Tn.isObject(n)||he(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),s=0,a=i.length;s<a;s+=1)o=i[s],du.call(t,o)||(t[o]=n[o],r[o]=!0)}function Zf(e,t,n,r,i,o,s,a,u){var c,l;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,l=i.length;c<l;c+=1)Array.isArray(i[c])&&he(e,"nested arrays are not supported inside keys"),typeof i=="object"&&wY(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&wY(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(c=0,l=o.length;c<l;c+=1)_Y(e,t,o[c],n);else _Y(e,t,o,n);else!e.json&&!du.call(n,i)&&du.call(t,i)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=u||e.position,he(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete n[i];return t}function Uk(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):he(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function gn(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);i!==0;){for(;nd(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if($s(i))for(Uk(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&K_(e,"deficient indentation"),r}function J_(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||Jr(n)))}function qk(e,t){t===1?e.result+=" ":t>1&&(e.result+=Tn.repeat(`
`,t-1))}function rwe(e,t,n){var r,i,o,s,a,u,c,l,d=e.kind,p=e.result,f;if(f=e.input.charCodeAt(e.position),Jr(f)||Jf(f)||f===35||f===38||f===42||f===33||f===124||f===62||f===39||f===34||f===37||f===64||f===96||(f===63||f===45)&&(i=e.input.charCodeAt(e.position+1),Jr(i)||n&&Jf(i)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;f!==0;){if(f===58){if(i=e.input.charCodeAt(e.position+1),Jr(i)||n&&Jf(i))break}else if(f===35){if(r=e.input.charCodeAt(e.position-1),Jr(r))break}else{if(e.position===e.lineStart&&J_(e)||n&&Jf(f))break;if($s(f))if(u=e.line,c=e.lineStart,l=e.lineIndent,gn(e,!1,-1),e.lineIndent>=t){a=!0,f=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=u,e.lineStart=c,e.lineIndent=l;break}}a&&(lu(e,o,s,!1),qk(e,e.line-u),o=s=e.position,a=!1),nd(f)||(s=e.position+1),f=e.input.charCodeAt(++e.position)}return lu(e,o,s,!1),e.result?!0:(e.kind=d,e.result=p,!1)}function iwe(e,t){var n,r,i;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(lu(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,i=e.position;else return!0;else $s(n)?(lu(e,r,i,!0),qk(e,gn(e,!1,t)),r=i=e.position):e.position===e.lineStart&&J_(e)?he(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);he(e,"unexpected end of the stream within a single quoted scalar")}function owe(e,t){var n,r,i,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return lu(e,n,e.position,!0),e.position++,!0;if(a===92){if(lu(e,n,e.position,!0),a=e.input.charCodeAt(++e.position),$s(a))gn(e,!1,t);else if(a<256&&HY[a])e.result+=BY[a],e.position++;else if((s=Zxe(a))>0){for(i=s,o=0;i>0;i--)a=e.input.charCodeAt(++e.position),(s=Jxe(a))>=0?o=(o<<4)+s:he(e,"expected hexadecimal character");e.result+=twe(o),e.position++}else he(e,"unknown escape sequence");n=r=e.position}else $s(a)?(lu(e,n,r,!0),qk(e,gn(e,!1,t)),n=r=e.position):e.position===e.lineStart&&J_(e)?he(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}he(e,"unexpected end of the stream within a double quoted scalar")}function swe(e,t){var n=!0,r,i,o,s=e.tag,a,u=e.anchor,c,l,d,p,f,m=Object.create(null),h,g,v,y;if(y=e.input.charCodeAt(e.position),y===91)l=93,f=!1,a=[];else if(y===123)l=125,f=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),y=e.input.charCodeAt(++e.position);y!==0;){if(gn(e,!0,t),y=e.input.charCodeAt(e.position),y===l)return e.position++,e.tag=s,e.anchor=u,e.kind=f?"mapping":"sequence",e.result=a,!0;n?y===44&&he(e,"expected the node content, but found ','"):he(e,"missed comma between flow collection entries"),g=h=v=null,d=p=!1,y===63&&(c=e.input.charCodeAt(e.position+1),Jr(c)&&(d=p=!0,e.position++,gn(e,!0,t))),r=e.line,i=e.lineStart,o=e.position,em(e,t,z_,!1,!0),g=e.tag,h=e.result,gn(e,!0,t),y=e.input.charCodeAt(e.position),(p||e.line===r)&&y===58&&(d=!0,y=e.input.charCodeAt(++e.position),gn(e,!0,t),em(e,t,z_,!1,!0),v=e.result),f?Zf(e,a,m,g,h,v,r,i,o):d?a.push(Zf(e,null,m,g,h,v,r,i,o)):a.push(h),gn(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(n=!0,y=e.input.charCodeAt(++e.position)):n=!1}he(e,"unexpected end of the stream within a flow collection")}function awe(e,t){var n,r,i=Dk,o=!1,s=!1,a=t,u=0,c=!1,l,d;if(d=e.input.charCodeAt(e.position),d===124)r=!1;else if(d===62)r=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)Dk===i?i=d===43?xY:Yxe:he(e,"repeat of a chomping mode identifier");else if((l=ewe(d))>=0)l===0?he(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?he(e,"repeat of an indentation width identifier"):(a=t+l-1,s=!0);else break;if(nd(d)){do d=e.input.charCodeAt(++e.position);while(nd(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!$s(d)&&d!==0)}for(;d!==0;){for(Uk(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),$s(d)){u++;continue}if(e.lineIndent<a){i===xY?e.result+=Tn.repeat(`
`,o?1+u:u):i===Dk&&o&&(e.result+=`
`);break}for(r?nd(d)?(c=!0,e.result+=Tn.repeat(`
`,o?1+u:u)):c?(c=!1,e.result+=Tn.repeat(`
`,u+1)):u===0?o&&(e.result+=" "):e.result+=Tn.repeat(`
`,u):e.result+=Tn.repeat(`
`,o?1+u:u),o=!0,s=!0,u=0,n=e.position;!$s(d)&&d!==0;)d=e.input.charCodeAt(++e.position);lu(e,n,e.position,!1)}return!0}function CY(e,t){var n,r=e.tag,i=e.anchor,o=[],s,a=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,he(e,"tab characters must not be used in indentation")),!(u!==45||(s=e.input.charCodeAt(e.position+1),!Jr(s))));){if(a=!0,e.position++,gn(e,!0,-1)&&e.lineIndent<=t){o.push(null),u=e.input.charCodeAt(e.position);continue}if(n=e.line,em(e,t,qY,!1,!0),o.push(e.result),gn(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&u!==0)he(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=r,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function cwe(e,t,n){var r,i,o,s,a,u,c=e.tag,l=e.anchor,d={},p=Object.create(null),f=null,m=null,h=null,g=!1,v=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),y=e.input.charCodeAt(e.position);y!==0;){if(!g&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,he(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),o=e.line,(y===63||y===58)&&Jr(r))y===63?(g&&(Zf(e,d,p,f,m,null,s,a,u),f=m=h=null),v=!0,g=!0,i=!0):g?(g=!1,i=!0):he(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=r;else{if(s=e.line,a=e.lineStart,u=e.position,!em(e,n,UY,!1,!0))break;if(e.line===o){for(y=e.input.charCodeAt(e.position);nd(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),Jr(y)||he(e,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(Zf(e,d,p,f,m,null,s,a,u),f=m=h=null),v=!0,g=!1,i=!1,f=e.tag,m=e.result;else if(v)he(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=l,!0}else if(v)he(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=l,!0}if((e.line===o||e.lineIndent>t)&&(g&&(s=e.line,a=e.lineStart,u=e.position),em(e,t,Y_,!0,i)&&(g?m=e.result:h=e.result),g||(Zf(e,d,p,f,m,h,s,a,u),f=m=h=null),gn(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&y!==0)he(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return g&&Zf(e,d,p,f,m,null,s,a,u),v&&(e.tag=c,e.anchor=l,e.kind="mapping",e.result=d),v}function uwe(e){var t,n=!1,r=!1,i,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&he(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(n=!0,s=e.input.charCodeAt(++e.position)):s===33?(r=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,n){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):he(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Jr(s);)s===33&&(r?he(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),$Y.test(i)||he(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),Qxe.test(o)&&he(e,"tag suffix cannot contain flow indicator characters")}o&&!jY.test(o)&&he(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{he(e,"tag name is malformed: "+o)}return n?e.tag=o:du.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:he(e,'undeclared tag handle "'+i+'"'),!0}function lwe(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&he(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!Jr(n)&&!Jf(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&he(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function dwe(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!Jr(r)&&!Jf(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&he(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),du.call(e.anchorMap,n)||he(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],gn(e,!0,-1),!0}function em(e,t,n,r,i){var o,s,a,u=1,c=!1,l=!1,d,p,f,m,h,g;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=Y_===n||qY===n,r&&gn(e,!0,-1)&&(c=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;uwe(e)||lwe(e);)gn(e,!0,-1)?(c=!0,a=o,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=c||i),(u===1||Y_===n)&&(z_===n||UY===n?h=t:h=t+1,g=e.position-e.lineStart,u===1?a&&(CY(e,g)||cwe(e,g,h))||swe(e,h)?l=!0:(s&&awe(e,h)||iwe(e,h)||owe(e,h)?l=!0:dwe(e)?(l=!0,(e.tag!==null||e.anchor!==null)&&he(e,"alias node should not have any properties")):rwe(e,h,z_===n)&&(l=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(l=a&&CY(e,g))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&he(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,p=e.implicitTypes.length;d<p;d+=1)if(m=e.implicitTypes[d],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(du.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,f=e.typeMap.multi[e.kind||"fallback"],d=0,p=f.length;d<p;d+=1)if(e.tag.slice(0,f[d].tag.length)===f[d].tag){m=f[d];break}m||he(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&he(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):he(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||l}function pwe(e){var t=e.position,n,r,i,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(gn(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!Jr(s);)s=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),i=[],r.length<1&&he(e,"directive name must not be less than one character in length");s!==0;){for(;nd(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!$s(s));break}if($s(s))break;for(n=e.position;s!==0&&!Jr(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(n,e.position))}s!==0&&Uk(e),du.call(bY,r)?bY[r](e,r,i):K_(e,'unknown document directive "'+r+'"')}if(gn(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,gn(e,!0,-1)):o&&he(e,"directives end mark is expected"),em(e,e.lineIndent-1,Y_,!1,!0),gn(e,!0,-1),e.checkLineBreaks&&Xxe.test(e.input.slice(t,e.position))&&K_(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&J_(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,gn(e,!0,-1));return}if(e.position<e.length-1)he(e,"end of the stream or a document separator is expected");else return}function WY(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new nwe(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,he(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)pwe(n);return n.documents}function fwe(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var r=WY(e,n);if(typeof t!="function")return r;for(var i=0,o=r.length;i<o;i+=1)t(r[i])}function mwe(e,t){var n=WY(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Qr("expected a single document in the stream, but found more")}}var hwe=fwe,gwe=mwe,GY={loadAll:hwe,load:gwe},zY=Object.prototype.toString,YY=Object.prototype.hasOwnProperty,$k=65279,vwe=9,ty=10,ywe=13,xwe=32,wwe=33,Ewe=34,Ok=35,bwe=37,_we=38,Cwe=39,Swe=42,KY=44,Twe=45,X_=58,Iwe=61,Pwe=62,Rwe=63,Awe=64,XY=91,QY=93,Dwe=96,JY=123,kwe=124,ZY=125,mr={};mr[0]="\\0";mr[7]="\\a";mr[8]="\\b";mr[9]="\\t";mr[10]="\\n";mr[11]="\\v";mr[12]="\\f";mr[13]="\\r";mr[27]="\\e";mr[34]='\\"';mr[92]="\\\\";mr[133]="\\N";mr[160]="\\_";mr[8232]="\\L";mr[8233]="\\P";var Owe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Nwe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Lwe(e,t){var n,r,i,o,s,a,u;if(t===null)return{};for(n={},r=Object.keys(t),i=0,o=r.length;i<o;i+=1)s=r[i],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),u=e.compiledTypeMap.fallback[s],u&&YY.call(u.styleAliases,a)&&(a=u.styleAliases[a]),n[s]=a;return n}function Fwe(e){var t,n,r;if(t=e.toString(16).toUpperCase(),e<=255)n="x",r=2;else if(e<=65535)n="u",r=4;else if(e<=4294967295)n="U",r=8;else throw new Qr("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Tn.repeat("0",r-t.length)+t}var Mwe=1,ny=2;function Uwe(e){this.schema=e.schema||MY,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Tn.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Lwe(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?ny:Mwe,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function SY(e,t){for(var n=Tn.repeat(" ",t),r=0,i=-1,o="",s,a=e.length;r<a;)i=e.indexOf(`
`,r),i===-1?(s=e.slice(r),r=a):(s=e.slice(r,i+1),r=i+1),s.length&&s!==`
`&&(o+=n),o+=s;return o}function Nk(e,t){return`
`+Tn.repeat(" ",e.indent*t)}function qwe(e,t){var n,r,i;for(n=0,r=e.implicitTypes.length;n<r;n+=1)if(i=e.implicitTypes[n],i.resolve(t))return!0;return!1}function Q_(e){return e===xwe||e===vwe}function ry(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==$k||65536<=e&&e<=1114111}function TY(e){return ry(e)&&e!==$k&&e!==ywe&&e!==ty}function IY(e,t,n){var r=TY(e),i=r&&!Q_(e);return(n?r:r&&e!==KY&&e!==XY&&e!==QY&&e!==JY&&e!==ZY)&&e!==Ok&&!(t===X_&&!i)||TY(t)&&!Q_(t)&&e===Ok||t===X_&&i}function $we(e){return ry(e)&&e!==$k&&!Q_(e)&&e!==Twe&&e!==Rwe&&e!==X_&&e!==KY&&e!==XY&&e!==QY&&e!==JY&&e!==ZY&&e!==Ok&&e!==_we&&e!==Swe&&e!==wwe&&e!==kwe&&e!==Iwe&&e!==Pwe&&e!==Cwe&&e!==Ewe&&e!==bwe&&e!==Awe&&e!==Dwe}function jwe(e){return!Q_(e)&&e!==X_}function Zv(e,t){var n=e.charCodeAt(t),r;return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function e6(e){var t=/^\n* /;return t.test(e)}var t6=1,Lk=2,n6=3,r6=4,Qf=5;function Hwe(e,t,n,r,i,o,s,a){var u,c=0,l=null,d=!1,p=!1,f=r!==-1,m=-1,h=$we(Zv(e,0))&&jwe(Zv(e,e.length-1));if(t||s)for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=Zv(e,u),!ry(c))return Qf;h=h&&IY(c,l,a),l=c}else{for(u=0;u<e.length;c>=65536?u+=2:u++){if(c=Zv(e,u),c===ty)d=!0,f&&(p=p||u-m-1>r&&e[m+1]!==" ",m=u);else if(!ry(c))return Qf;h=h&&IY(c,l,a),l=c}p=p||f&&u-m-1>r&&e[m+1]!==" "}return!d&&!p?h&&!s&&!i(e)?t6:o===ny?Qf:Lk:n>9&&e6(e)?Qf:s?o===ny?Qf:Lk:p?r6:n6}function Bwe(e,t,n,r,i){e.dump=function(){if(t.length===0)return e.quotingType===ny?'""':"''";if(!e.noCompatMode&&(Owe.indexOf(t)!==-1||Nwe.test(t)))return e.quotingType===ny?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,n),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=r||e.flowLevel>-1&&n>=e.flowLevel;function u(c){return qwe(e,c)}switch(Hwe(t,a,e.indent,s,u,e.quotingType,e.forceQuotes&&!r,i)){case t6:return t;case Lk:return"'"+t.replace(/'/g,"''")+"'";case n6:return"|"+PY(t,e.indent)+RY(SY(t,o));case r6:return">"+PY(t,e.indent)+RY(SY(Vwe(t,s),o));case Qf:return'"'+Wwe(t)+'"';default:throw new Qr("impossible error: invalid scalar style")}}()}function PY(e,t){var n=e6(e)?String(t):"",r=e[e.length-1]===`
`,i=r&&(e[e.length-2]===`
`||e===`
`),o=i?"+":r?"":"-";return n+o+`
`}function RY(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Vwe(e,t){for(var n=/(\n+)([^\n]*)/g,r=function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,n.lastIndex=c,AY(e.slice(0,c),t)}(),i=e[0]===`
`||e[0]===" ",o,s;s=n.exec(e);){var a=s[1],u=s[2];o=u[0]===" ",r+=a+(!i&&!o&&u!==""?`
`:"")+AY(u,t),i=o}return r}function AY(e,t){if(e===""||e[0]===" ")return e;for(var n=/ [^ ]/g,r,i=0,o,s=0,a=0,u="";r=n.exec(e);)a=r.index,a-i>t&&(o=s>i?s:a,u+=`
`+e.slice(i,o),i=o+1),s=a;return u+=`
`,e.length-i>t&&s>i?u+=e.slice(i,s)+`
`+e.slice(s+1):u+=e.slice(i),u.slice(1)}function Wwe(e){for(var t="",n=0,r,i=0;i<e.length;n>=65536?i+=2:i++)n=Zv(e,i),r=mr[n],!r&&ry(n)?(t+=e[i],n>=65536&&(t+=e[i+1])):t+=r||Fwe(n);return t}function Gwe(e,t,n){var r="",i=e.tag,o,s,a;for(o=0,s=n.length;o<s;o+=1)a=n[o],e.replacer&&(a=e.replacer.call(n,String(o),a)),(Wa(e,t,a,!1,!1)||typeof a>"u"&&Wa(e,t,null,!1,!1))&&(r!==""&&(r+=","+(e.condenseFlow?"":" ")),r+=e.dump);e.tag=i,e.dump="["+r+"]"}function DY(e,t,n,r){var i="",o=e.tag,s,a,u;for(s=0,a=n.length;s<a;s+=1)u=n[s],e.replacer&&(u=e.replacer.call(n,String(s),u)),(Wa(e,t+1,u,!0,!0,!1,!0)||typeof u>"u"&&Wa(e,t+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=Nk(e,t)),e.dump&&ty===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function zwe(e,t,n){var r="",i=e.tag,o=Object.keys(n),s,a,u,c,l;for(s=0,a=o.length;s<a;s+=1)l="",r!==""&&(l+=", "),e.condenseFlow&&(l+='"'),u=o[s],c=n[u],e.replacer&&(c=e.replacer.call(n,u,c)),Wa(e,t,u,!1,!1)&&(e.dump.length>1024&&(l+="? "),l+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Wa(e,t,c,!1,!1)&&(l+=e.dump,r+=l));e.tag=i,e.dump="{"+r+"}"}function Ywe(e,t,n,r){var i="",o=e.tag,s=Object.keys(n),a,u,c,l,d,p;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new Qr("sortKeys must be a boolean or a function");for(a=0,u=s.length;a<u;a+=1)p="",(!r||i!=="")&&(p+=Nk(e,t)),c=s[a],l=n[c],e.replacer&&(l=e.replacer.call(n,c,l)),Wa(e,t+1,c,!0,!0,!0)&&(d=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,d&&(e.dump&&ty===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,d&&(p+=Nk(e,t)),Wa(e,t+1,l,!0,d)&&(e.dump&&ty===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,i+=p));e.tag=o,e.dump=i||"{}"}function kY(e,t,n){var r,i,o,s,a,u;for(i=n?e.explicitTypes:e.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(n?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,zY.call(a.represent)==="[object Function]")r=a.represent(t,u);else if(YY.call(a.represent,u))r=a.represent[u](t,u);else throw new Qr("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=r}return!0}return!1}function Wa(e,t,n,r,i,o,s){e.tag=null,e.dump=n,kY(e,n,!1)||kY(e,n,!0);var a=zY.call(e.dump),u=r,c;r&&(r=e.flowLevel<0||e.flowLevel>t);var l=a==="[object Object]"||a==="[object Array]",d,p;if(l&&(d=e.duplicates.indexOf(n),p=d!==-1),(e.tag!==null&&e.tag!=="?"||p||e.indent!==2&&t>0)&&(i=!1),p&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(l&&p&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),a==="[object Object]")r&&Object.keys(e.dump).length!==0?(Ywe(e,t,e.dump,i),p&&(e.dump="&ref_"+d+e.dump)):(zwe(e,t,e.dump),p&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object Array]")r&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?DY(e,t-1,e.dump,i):DY(e,t,e.dump,i),p&&(e.dump="&ref_"+d+e.dump)):(Gwe(e,t,e.dump),p&&(e.dump="&ref_"+d+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&Bwe(e,e.dump,t,o,u);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Qr("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function Kwe(e,t){var n=[],r=[],i,o;for(Fk(e,n,r),i=0,o=r.length;i<o;i+=1)t.duplicates.push(n[r[i]]);t.usedDuplicates=new Array(o)}function Fk(e,t,n){var r,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)Fk(e[i],t,n);else for(r=Object.keys(e),i=0,o=r.length;i<o;i+=1)Fk(e[r[i]],t,n)}function Xwe(e,t){t=t||{};var n=new Uwe(t);n.noRefs||Kwe(e,n);var r=e;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Wa(n,0,r,!0,!0)?n.dump+`
`:""}var Qwe=Xwe,Jwe={dump:Qwe};function jk(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var iy=GY.load,tVe=GY.loadAll,nVe=Jwe.dump;var rVe=jk("safeLoad","load"),iVe=jk("safeLoadAll","loadAll"),oVe=jk("safeDump","dump");var Ko=B(require("path")),l6=B(require("os")),d6=B(require("crypto")),p6=B(Bb());var oy=B(require("path")),s6=B(require("os"));var o6=B(require("crypto"));var Yo={async readDocument(e){switch(e.scheme){case"file":try{return(await nt(e.fsPath)).toString()}catch(t){if(t&&t.code==="ENOENT")return;throw t}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}},async applyEdits(e,t,n){switch(e.scheme){case"file":let r=Br(n,t);await _E(e.fsPath,r);break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},Wk=class{constructor(t,n=Wk.scheme){this.fileHost=t;this.scheme=n}async readDocument(t){switch(t.scheme){case this.scheme:try{return(await this.fileHost.readFile(we(t,this.fileHost.platform))).toString()}catch{return}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}async applyEdits(t,n,r){switch(t.scheme){case this.scheme:let i=Br(r,n);await this.fileHost.writeFile(we(t,this.fileHost.platform),Buffer.from(i));break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},ut=Wk;ut.scheme="vscode-fileHost";var rd=class{constructor(t){this.shellServer=t}async readDocument(t){switch(t.scheme){case rd.scheme:try{let{stdout:n}=await this.shellServer.exec(`cat ${t.path}`);return n}catch{return}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}async applyEdits(t,n,r){switch(t.scheme){case rd.scheme:try{rd.nonce||(rd.nonce=o6.randomUUID());let i=Br(r,n),o=`EOF-${rd.nonce}`;await this.shellServer.exec(`cat <<'${o}' >${t.path}
${i}
${o}
`)}catch(i){console.log(i)}break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},Zr=rd;Zr.scheme="vscode-remote";var Bk=class{constructor(t){this.documents=t}async readDocument(t){let n=this.documents[t.scheme];if(!n)throw new Error(`Unsupported scheme: ${t.toString()}`);return n.readDocument(t)}async applyEdits(t,n,r){let i=this.documents[t.scheme];if(!i)throw new Error(`Unsupported scheme: ${t.toString()}`);return i.applyEdits(t,n,r)}};function Fn(e,t){let n={file:Yo,[ut.scheme]:new ut(e)};return t&&(n[Zr.scheme]="readFile"in t?new ut(t,Zr.scheme):new Zr(t)),new Bk(n)}var Hk=new Map;async function Vk(e,t){let n=e.toString(),r=Hk.get(n);if(r||Hk.set(n,r=[]),r.push(t),r.length===1){for(;r.length;)await r[0](),r.shift();Hk.delete(n)}}function we(e,t){let n;return e.authority&&e.path.length>1&&(e.scheme==="file"||e.scheme===ut.scheme)?n=`//${e.authority}${e.path}`:e.path.charCodeAt(0)===47&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&e.path.charCodeAt(2)===58?n=e.path[1].toLowerCase()+e.path.substr(2):n=e.path,t==="win32"&&(n=n.replace(/\//g,"\\")),n}function tm(e,t){return[e.join(t,".devcontainer","devcontainer.json"),e.join(t,".devcontainer.json")]}function sy(e,t){let n=e.normalize(t);return tm(e,"").includes(n)}async function Z_(e,t){let n=tm(e.path,t);for(let r of n)if(await e.isFile(r))return xe.file(r).with({scheme:ut.scheme})}async function a6(e){let t=tm(oy,e);for(let n of t)if(await or(n))return n}var Ga=`{${s6.EOL}}`;async function ho(e,t,n,r){t.scheme==="file"&&await jo(oy.dirname(t.fsPath)),await e.applyEdits(t,n,r)}function pu(e){let t=oy.posix.dirname(e.path);return e.with({path:t})}var Gk=B(require("path")),eEe={src:"source",destination:"target",dst:"target"};function c6(e){return e.split(",").map(t=>t.split("=")).reduce((t,[n,r])=>({...t,[eEe[n]||n]:r}),{})}function eC(e){let t=typeof e=="string"?Gk.join(e,"dist"):e.distFolder;return Gk.join(t,"node_modules","vscode-dev-containers","container-features")}function u6(e){var t;return(t=e.options)!=null&&t.version?"version":void 0}var ay=require("string_decoder");function uy(e){if(!(e.extensions||e.settings||e.devPort!==void 0))return e;let t={...e},n=t.customizations||(t.customizations={}),r=n.vscode||(n.vscode={});return t.extensions&&(r.extensions=(r.extensions||[]).concat(t.extensions),delete t.extensions),t.settings&&(r.settings={...t.settings,...r.settings||{}},delete t.settings),t.devPort!==void 0&&r.devPort===void 0&&(r.devPort=t.devPort,delete t.devPort),t}function cy(e,t,n){return tC(e,t.configFilePath,n)}function tC(e,t,n){let r=pu(t);return t.with({path:Ko.posix.resolve(r.path,e.platform==="win32"&&t.scheme!==Zr.scheme?(Ko.win32.isAbsolute(n)?"/":"")+n.replace(/\\/g,"/"):n)})}function hr(e){return"dockerFile"in e||"build"in e&&"dockerfile"in e.build}function nC(e){return e&&(hr(e)||"image"in e||"dockerComposeFile"in e)}function fu(e,t){return cy(e,t,tEe(t))}function tEe(e){return"dockerFile"in e?e.dockerFile:e.build.dockerfile}async function mu(e,t,n,r){if(Array.isArray(t.dockerComposeFile)){if(t.dockerComposeFile.length)return t.dockerComposeFile.map(i=>we(cy(e,t,i),e.platform))}else if(typeof t.dockerComposeFile=="string")return[we(cy(e,t,t.dockerComposeFile),e.platform)];if(r){let i=n==null?void 0:n.COMPOSE_FILE;if(i)return i.split(e.path.delimiter).map(a=>e.path.resolve(r,a));try{let a=e.path.join(r,".env"),u=await e.readFile(a),c=/^COMPOSE_FILE=(.+)$/m.exec(u.toString()),l=c&&c[1].trim();if(l)return l.split(e.path.delimiter).map(d=>e.path.resolve(r,d))}catch(a){if(!(a&&(a.code==="ENOENT"||a.code==="EISDIR")))throw a}let o=[e.path.resolve(r,"docker-compose.yml")],s=e.path.resolve(r,"docker-compose.override.yml");return await e.isFile(s)&&o.push(s),o}return[]}async function js(e,t){let{cliHost:n,postCreate:r,output:i}=e,o=await nEe(e),s=rEe(n),a;return await iEe({exec:n.exec,cwd:o.cwd,cmd:s.cmd,args:[...s.args,o.script,...t],env:oEe(e,s.cmd),stdin:r==null?void 0:r.onDidInput,output:i,stdoutData:u=>a=u,stderrData:u=>{i.event(u)}}),a}async function nEe(e){let{cliHost:t,extensionPath:n,output:r}=e,i=Ko.join(n,"dist","spec-node","devContainersSpecCLI.js"),o=t.type==="local"?n:t.path.join(await t.homedir(),".vscode-remote-containers","dist",`dev-containers-cli-${e.package.version}`),s=t.type==="local"?i:t.path.join(o,"dist","spec-node","devContainersSpecCLI.js");if(["wsl","ssh"].indexOf(t.type)!==-1&&!await t.isFile(s)){let a=`${o}-${d6.randomUUID()}`,u=t.path.join(a,"dist","spec-node","devContainersSpecCLI.js");await t.mkdirp(t.path.dirname(u)),await t.writeFile(t.path.join(a,"package.json"),await nt(Ko.join(n,"package.json"))),await t.writeFile(u,await nt(i));let c=eC(n),l=t.path.join(a,"dist","node_modules","vscode-dev-containers","container-features");await id(c,t,l,r),await id(Ko.join(n,"scripts"),t,t.path.join(a,"scripts"),r),await t.rename(a,o)}return{cwd:o,script:s}}function rEe(e){if(e.type==="local")return au?{cmd:process.argv[0],args:[]}:{cmd:process.argv[0],args:process.versions.electron&&process.versions["microsoft-build"]?["--ms-enable-electron-run-as-node"]:[]};if(e.nodeExecutable)return{cmd:e.nodeExecutable,args:[]};throw new Error("Node executable required")}async function iEe(e){let{exec:t,cmd:n,args:r,cwd:i,env:o,stdin:s,output:a,stdoutData:u,stderrData:c}=e,l=await t({cmd:n,args:r,cwd:i,env:o,output:a});return new Promise((d,p)=>{let f=new ay.StringDecoder,m="";l.stdout.on("data",y=>{m+=f.write(y);let x=m.split(`
`);m=x.pop();for(let E of x)if(E.trim())try{u(JSON.parse(E))}catch{a.write(E)}}),l.stdout.on("error",y=>{if((y==null?void 0:y.code)!=="ENOTCONN")throw y});let h=new ay.StringDecoder,g="";l.stderr.on("data",y=>{g+=h.write(y);let x=g.split(`
`);g=x.pop();for(let E of x)if(E.trim())try{c(JSON.parse(E))}catch{a.write(E)}}),l.stderr.on("error",y=>{if((y==null?void 0:y.code)!=="ENOTCONN")throw y});let v=[];l.exit.then(({code:y})=>{try{v.forEach(x=>x.dispose()),y?(a.write(`Exit code ${y}`),p({message:`Command failed: ${n} ${(r||[]).join(" ")}`,code:y})):d()}catch(x){p(x)}},p),typeof s=="function"&&v.push(s(y=>l.stdin.write(y)))})}function oEe(e,t){let{cliHost:n,env:r,appRoot:i}=e;return{...r,...n.type==="local"?i?{NODE_PATH:`${n.path.join(i,"node_modules.asar")}${Ko.delimiter}${n.path.join(i,"node_modules")}`}:void 0:n.type==="container"?void 0:{NODE_PATH:n.path.join(n.path.dirname(t),"node_modules")},...au?{TS_NODE_PROJECT:void 0}:{}}}async function id(e,t,n,r){await t.mkdirp(n);let i=p6.c({cwd:e,filter:c=>(console.log(c),!0)},["."]),o=new Promise((c,l)=>{i.on("error",l),i.on("finish",c)}),s=await t.exec({cmd:"tar",args:["--no-same-owner","-x","-f","-"],cwd:n,output:r}),a=new ay.StringDecoder;s.stdout.on("data",c=>{r.write(a.write(c))});let u=new ay.StringDecoder;s.stderr.on("data",c=>{r.write(et(u.write(c)))}),i.pipe(s.stdin),await Promise.all([s.exit,o])}async function go(){return Ko.join(l6.tmpdir(),process.platform==="linux"?`vsch-${await P_()}`:"vsch")}function sEe(){return{contentHashes:{}}}async function iC(e,t,n,r){let i=e.getConfigurationState();if(i){let o=i.contentHashes,s=Object.keys(o),u=(await zk(t,n,r)).contentHashes,c=Object.keys(u),l=new Set(c);s.forEach(f=>l.delete(f));let d=new Set(s);c.forEach(f=>d.delete(f));let p=[];for(let f of s)f in u&&u[f]!==o[f]&&p.push(f);if(l.size||d.size||p.length){let f=await zk(t,n,r);(async()=>{await e.containerOutdated([...l,...d,...p].sort())==="ignore"&&await e.updateConfigurationState(f)})().catch(console.error)}}else await m6(e,t,n,r)}async function oC(e,t,n,r,i){let o="Updating configuration state",s=i.start(o);await m6(e,t,n,r),i.stop(o,s)}async function m6(e,t,n,r){let i=await zk(t,n,r);await e.updateConfigurationState(i)}async function zk(e,t,n){let r=sEe();rC(r,ly.posix.basename(n.configFilePath.path),JSON.stringify({...n,forwardPorts:void 0,configFilePath:void 0,postStartCommand:void 0,postAttachCommand:void 0}));let i=pu(n.configFilePath).path;if(hr(n)){let o=fu(e,n),s=await t.readDocument(o);s!==void 0&&rC(r,ly.posix.relative(i,o.path),s)}if("dockerComposeFile"in n){let o=await mu(e,n,e.env,e.cwd),s=await Promise.all(o.map(async a=>{let u=xe.file(a).with({scheme:ut.scheme});return{uri:u,content:await t.readDocument(u)}}));for(let{uri:a,content:u}of s)u!==void 0&&rC(r,ly.posix.relative(i,a.path),u);for(let a=s.length-1;a>=0;a--){let{uri:u,content:c}=s[a];if(c){let l=iy(c),d=l&&l.services,p=d&&d[n.service],f=p&&p.build,m=f&&(typeof f=="string"?f:f.context);if(m){let h=tC(e,u,m),g=h6(h,f.dockerfile||"Dockerfile"),v=await t.readDocument(g);v!==void 0&&rC(r,ly.posix.relative(i,g.path),v)}if(p&&(p.image||p.build))break}}}return r}function rC(e,t,n){let r=f6.createHash("sha256").update(n).digest("hex");e.contentHashes[t]=r}var Qo=B(require("path")),wu=B(require("crypto"));var Tr=B(require("path")),aO=B(require("crypto"));var w6=B(require("net")),Jk=B(require("path"));var Yk=B(require("path")),Xk=B(require("http")),g6=B(require("os")),v6=B(require("crypto"));async function y6(e,t){let n=await Qk(e),r=new Kk(n,t);return r.listen(),r}var Kk=class{constructor(t,n){this.ipcHandlePath=t;this.server=Xk.createServer((r,i)=>{Promise.resolve(n(r,i)).catch(o=>console.error(o&&o.message||o))}),this.server.on("error",r=>console.error(r))}listen(){this.server.listen(this.ipcHandlePath)}dispose(){this.server.close()}};async function x6(e){return new Promise((t,n)=>{let r=[];e.setEncoding("utf8"),e.on("data",i=>r.push(i)),e.on("error",i=>n(i)),e.on("end",()=>{let i=JSON.parse(r.join(""));t(i)})})}async function Qk(e){let t=v6.randomUUID(),n=`${e}-${t}`;return process.platform==="win32"?`\\\\.\\pipe\\${n}-sock`:process.env.XDG_RUNTIME_DIR?Yk.join(process.env.XDG_RUNTIME_DIR,`${n}.sock`):Yk.join(g6.tmpdir(),`${n}.sock`)}var sC=class{constructor(){this.messages=[]}push(t){this.messages.push(t),this.dequeueRequest&&(this.dequeueRequest.resolve(this.messages),this.dequeueRequest=void 0,this.messages=[])}async dequeue(t){if(this.messages.length){let n=this.messages;return this.messages=[],n}return this.dequeueRequest&&this.dequeueRequest.resolve([]),new Promise((n,r)=>{this.dequeueRequest={resolve:n,reject:r},typeof t=="number"&&setTimeout(r,t)})}};async function Hs(e,t,n){let r=await Qk("ssh-askpass");return await new Promise((i,o)=>{w6.createServer(s=>{s.setEncoding("utf8");let a="";s.on("data",async u=>{if(a+=u,a.endsWith(`
`))try{n.write(`SSH askpass request: ${a}`,1);let c=await t(JSON.parse(a));s.write(c,l=>{l&&console.error(l)}),s.end()}catch(c){console.error(c)}}),s.on("error",u=>console.error(u))}).on("error",s=>{o(s)}).listen(r,()=>{i()})}),{DISPLAY:process.env.DISPLAY||"1",ELECTRON_RUN_AS_NODE:"1",SSH_ASKPASS:Jk.join(e,"scripts",`ssh-askpass.${process.platform==="win32"?"bat":"sh"}`),SSH_ASKPASS_REQUIRE:"force",VSCODE_SSH_ASKPASS_NODE:process.execPath,VSCODE_SSH_ASKPASS_EXTRA_ARGS:process.versions.electron?"--ms-enable-electron-run-as-node":"",VSCODE_SSH_ASKPASS_MAIN:Jk.join(e,"dist","common","sshAskpass.js"),VSCODE_SSH_ASKPASS_HANDLE:r}}var aEe=0;function an(e){return e.VSCODE_SSH_ASKPASS_HANDLE?{VSCODE_SSH_ASKPASS_COUNTER:String(++aEe)}:{}}async function ei(e,t){return(await Bs(e,[t]))[0]}async function Bs(e,t){let n=await cC(e,"container",t);for(let r of n){r.Ports=[];let i=r.NetworkSettings.Ports;for(let o in i){let[s,a]=o.split("/");for(let u of i[o]||[]){let{HostIp:c,HostPort:l}=u;r.Ports.push({IP:c,PrivatePort:parseInt(s),PublicPort:parseInt(l),Type:a})}}}return n}async function E6(e,t){return(await cC(e,"image",[t]))[0]}async function aC(e,t){return(await cC(e,"volume",[t]))[0]}async function od(e,t){return cC(e,"volume",t)}async function cC(e,t,n){if(!n.length)return[];let r=gu(e),i=await me({...r,args:(r.args||[]).concat(["inspect","--type",t,...n])});try{return JSON.parse(i.stdout.toString())}catch(o){throw console.error({stdout:i.stdout.toString(),stderr:i.stderr.toString()}),o}}async function za(e,t=!1,n=[]){let r=[];t&&r.push("-a");for(let o of n)r.push("--filter",`label=${o}`);return(await Ae(e,"ps","-q",...r)).stdout.toString().split(/\r?\n/).filter(o=>!!o)}async function ti(e,t=[]){let n=[];for(let i of t)n.push("--filter",`label=${i}`);return(await Ae(e,"volume","ls","-q",...n)).stdout.toString().split(/\r?\n/).filter(i=>!!i)}async function hu(e,t=[]){return(await Ae(e,"volume","ls","-q","-f","dangling=true",...t.map(r=>["-f",`label=${r}`]).flat())).stdout.toString().split(/\r?\n/).filter(r=>!!r)}async function nm(e,t,n){let r=[];for(let i of n||[])r.push("--label",i);await Ae(e,"volume","create",...r,t)}async function Zk(e,t){let{exec:n,cmd:r,args:i,env:o,output:s}=gu(e),a=[];for(let p in t)for(let f of t[p])a.push("--filter",`${p}=${f}`);let u=await tO(e)?"json":"{{json .}}",c=(i||[]).concat(["events","--format",u,...a]),l=await n({cmd:r,args:c,env:o,output:s}),d=[];return l.stderr.on("data",p=>d.push(p)),l.exit.then(({code:p,signal:f})=>{d.length&&s.write(et(Buffer.concat(d).toString())),(p||f&&f!=="SIGKILL")&&s.write(et(`Docker events terminated (code: ${p}, signal: ${f}).`))},p=>{s.write(et(p&&(p.stack||p.message)))}),l}async function Ae(e,...t){let n=gu(e);return me({...n,args:(n.args||[]).concat(t)})}async function eO(e){var t;try{let{stdout:n}=await Ae(e,"context","ls","--format","{{json .}}"),r=`[${n.toString().trim().split(/\r?\n/).join(",")}]`;return(t=JSON.parse(r).find(s=>s.Current))==null?void 0:t.Name}catch{return}}async function tO(e){try{let{stdout:t}=await Ae(e,"-v");return t.toString().toLowerCase().indexOf("podman")!==-1}catch{return!1}}async function b6(e,...t){let n=S6(e);return Nf({...n,args:(n.args||[]).concat(t)})}async function dy(e,...t){let n=gu(e,"dockerComposeCLI"in e?await e.dockerComposeCLI():void 0);return me({...n,args:(n.args||[]).concat(t)})}function Xo(e,t,n){return async function(r){let{exec:i,cmd:o,args:s,env:a}=gu(e),{argsPrefix:u,args:c}=C6(t,n,r,!1);return i({cmd:o,args:(s||[]).concat(c),env:a,output:_6(r.output,o,u)})}}async function Vs(e,t,n,r){if(!await r("node-pty"))throw new Error("Missing node-pty");return async function(o){let{ptyExec:s,cmd:a,args:u,env:c}=S6(e),{argsPrefix:l,args:d}=C6(t,n,o,!0);return s({cmd:a,args:(u||[]).concat(d),env:c,output:_6(o.output,a,l)})}}function _6(e,t,n){return cEe(e,`Run: ${t} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,"Run in container:")}function cEe(e,t,n){let r=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");return Zi({...e,get dimensions(){return e.dimensions},event:o=>e.event("text"in o?{...o,text:o.text.replace(r,n)}:o)})}function C6(e,t,n,r){let{env:i,cwd:o,cmd:s,args:a}=n,u=["exec","-i"];r&&u.push("-t"),t&&u.push("-u",t),i&&Object.keys(i).forEach(l=>u.push("-e",`${l}=${i[l]}`)),o&&u.push("-w",o),u.push(e);let c=u.slice();return u.push(s),a&&u.push(...a),{argsPrefix:c,args:u}}function gu(e,t){return"dockerEnv"in e?{exec:e.common.cliHost.exec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:{...e.dockerEnv,...an(e.dockerEnv)},output:e.common.output}:"cliHost"in e?{exec:e.cliHost.exec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:{...e.env,...an(e.env)},output:e.output}:{...e,env:{...e.env,...an(e.env)}}}function S6(e,t){return"dockerEnv"in e?{ptyExec:e.common.cliHost.ptyExec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:{...e.dockerEnv,...an(e.dockerEnv)},output:e.common.output}:"cliHost"in e?{ptyExec:e.cliHost.ptyExec,cmd:t?t.cmd:e.dockerCLI,args:t?t.args:[],env:{...e.env,...an(e.env)},output:e.output}:{...e,env:{...e.env,...an(e.env)}}}var T6="com.docker.compose.project",uEe="com.docker.compose.service";async function I6(e,t,n,r,i,o,s,a,u,c,l,d,p,f,m){return lEe(e,t,n,r,i,o,dEe(r),s,a,u,c,l,d,p,f,m)}async function lEe(e,t,n,r,i,o,s,a,u,c,l,d,p,f,m,h){var x,E;let{common:g}=e,{cliHost:v}=t,y;try{let b=await mu(v,r,v.env,v.cwd),C=v.path.join(v.cwd,".env"),R=Array.isArray(r.dockerComposeFile)&&r.dockerComposeFile.length===0&&await v.isFile(C)?C:void 0,T=await nO(t,n,b),_=!c,A={...t.env,...an(t.env)},P={cliHost:v,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:A,extensionPath:g.extensionPath,appRoot:g.appRoot,package:g.package,output:g.postCreate.output},{mergedConfiguration:I}=await yu(P,o,f,g.getLogLevel(),h,p,a.Id,m,g.cliMode),F=I.remoteUser;y=await im(e,a.Id,s,F),d&&c&&y.user!=="root"&&(y.launchRootShellServer?await V_(y,y.launchRootShellServer,s,r.configFilePath.path):g.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let q=Fn(v,y.shellServer);_||await oC(e.configurationTracking,v,q,r,g.output);let $=I.shutdownAction;$==="stopContainer"&&($="stopCompose");let M={cwd:i,dockerCLI:e.dockerCLI,dockerComposeCLI:await e.dockerComposeCLI(),env:g.env,containerId:a.Id,user:y.user,sessionId:g.sessionId,shutdownAction:$,projectName:T,composeFiles:b,envFile:R,buildContainerRunArgs:l,service:r.service,runServices:r.runServices,logLevel:g.getLogLevel(),delay:1e4},{shutdownArgs:k,doneWithDocuments:U}=await dC(e,v,q,"dockerCompose",M,_?r:void 0);g.backgroundTasks.push(U);let V=((E=(((x=I.customizations)==null?void 0:x.vscode)||[]).slice().reverse().find(_e=>typeof _e.devPort=="number"))==null?void 0:E.devPort)||uu,{hostOrContainerPort:L,hostPortServer:G,connectionToken:W,remoteEnv:z,serverDownloaded:se}=await Xf(g,y,r,I,V,om(e,t,y,o,p,a.Id,u,f,m));return k.hostPortServer=G,{params:g,properties:y,config:r,resolvedAuthority:{host:vu,port:L,connectionToken:W,extensionHostEnv:z},tunnelInformation:g.isLocalContainer?rm(a):{},dockerParams:e,dockerContainerId:a.Id,serverDownloaded:se}}catch(b){let C=b instanceof ve?b:new ve({description:"An error occurred setting up the container.",originalError:b});throw a&&(C.manageContainer=!0,C.params=e.common,C.containerId=a.Id,C.dockerParams=e),y&&(C.containerProperties=y),C.config=r,C}}function dEe(e){return e.workspaceFolder||"/"}async function P6(e,t,n){let r=await za(e,!0,[`${T6}=${t}`,`${uEe}=${n}`]);return r&&r[0]}async function nO(e,t,n){let{cliHost:r}="cliHost"in e?e:e.common,i=await pEe(e),o=uC(r.env.COMPOSE_PROJECT_NAME||"",i);if(o)return o;try{let u=r.path.join(r.cwd,".env"),c=await r.readFile(u),l=/^COMPOSE_PROJECT_NAME=(.+)$/m.exec(c.toString()),d=l&&l[1].trim(),p=uC(d||"",i);if(p)return p}catch(u){if(!(u&&(u.code==="ENOENT"||u.code==="EISDIR")))throw u}let s=t.configFolderPath,a=n[0]?r.path.dirname(n[0]):r.cwd;return b4(r.platform,a,r.path.join(s,".devcontainer"))?uC(`${r.path.basename(s)}_devcontainer`,i):uC(r.path.basename(a),i)}function lC(e){let t=(e.Config.Labels||{})[T6];return t||void 0}function uC(e,t){return t?e.toLowerCase().replace(/[^-_a-z0-9]/g,""):e.toLowerCase().replace(/[^a-z0-9]/g,"")}async function pEe(e){try{let t=Wf((await e.dockerComposeCLI()).version);return t?!Gf(t,[1,21,0]):!0}catch{return!0}}function Ws(e,t,n){let r;return()=>r||(r=(async()=>{let i=!1,o;try{o=(await dy({...e,cmd:n},"version","--short")).stdout}catch(s){if((s==null?void 0:s.code)!=="ENOENT")throw s;o=(await dy({...e,cmd:t},"compose","version","--short")).stdout,i=!0}return{version:o.toString().trim(),cmd:i?t:n,args:i?["compose"]:[]}})())}var Gs=B(require("url")),R6=B(require("https"));function zs(e){return e.toLowerCase().indexOf("github.com")>=0?vEe(e):e.toLowerCase().indexOf("visualstudio.com")>=0?hEe(e):e.toLowerCase().indexOf("dev.azure.com")>=0?mEe(e):e.toLowerCase().indexOf("gitlab.com")>=0?gEe(e):fEe(e)}function Ya(e){let t="owner",n="repository";return{repository:"unknown",repositoryUrl:e,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`}}function fEe(e){var s;let t="unknown-owner",n,r=e,i;i=(s=Gs.parse(e))==null?void 0:s.path;let o=i==null?void 0:i.split("/");return!o||o.length<1?Ya(e):(n=o[o.length-1],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf("."))),{repository:"unknown",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`})}function mEe(e){var o,s;let t,n,r=e,i;if(fC(e)){let a=`http://${e}`;i=(o=Gs.parse(a))==null?void 0:o.path;let u=i==null?void 0:i.split("/");if(!u||u.length<5)return Ya(e);t=u[3],n=u[4]}else{i=(s=Gs.parse(e))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return Ya(e);t=a[2],n=a[4],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf(".")))}return{repository:"ado",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`}}function hEe(e){var o,s;let t,n,r=e,i;if(fC(e)){let a=`http://${e}`;i=(o=Gs.parse(a))==null?void 0:o.path;let u=i==null?void 0:i.split("/");if(!u||u.length<5)return Ya(e);t=u[3],n=u[4]}else{i=(s=Gs.parse(e))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return Ya(e);t=a[2],n=a[4],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf(".")))}return{repository:"vso",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`}}function gEe(e){var o,s;let t,n,r=e,i;if(fC(e)){let a=`http://${e}`;i=(o=Gs.parse(a))==null?void 0:o.path,i&&(i=i.replace("/:","/"));let u=i==null?void 0:i.split("/");if(!u||u.length<3)return Ya(e);t=u[u.length-2],n=u[u.length-1]}else{i=(s=Gs.parse(e))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<3)return Ya(e);t=a[a.length-2],n=a[a.length-1]}return n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf("."))),{repository:"gitlab",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:t,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${t}/${n}`}}function vEe(e){var u,c;let t,n,r=e,i,o,s;if(fC(e)){let l=`http://${e}`;s=(u=Gs.parse(l))==null?void 0:u.path,s&&(s=s.replace("/:","/"))}else s=(c=Gs.parse(e))==null?void 0:c.path;let a=s==null?void 0:s.split("/");if(!a||a.length<=2)return Ya(e);if(t=a[1],n=a[2],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf("."))),a.length>=3){if(a[3]==="commit"||a[3]==="tree"){let l=e.match(/\/tree\/|\/commit\//);l&&l.index&&(r=e.substring(0,l.index),i=e.substring(l.index+l[0].length))}if(a[3]==="pull"){o=a[4];let l=e.match(/\/pull\//);l&&l.index&&(r=e.substring(0,l.index))}}return{repository:"github",repositoryUrl:r,ref:i,commit:a[3]==="commit",repositoryOwner:t,repositoryName:n,pullRequestId:o,fullRepositoryName:`${t}/${n}`}}function fC(e){return e=e.toLowerCase(),e.indexOf("://")<0?e.indexOf("@")<e.indexOf(":"):!1}var py=class extends Error{constructor(n,r){super();this.code=n,this.description=r}},fy=class{constructor(t){this.inputUrl=t,this.gitUrlInfo=zs(this.inputUrl)}repositoryName(){return this.gitUrlInfo.repositoryName}repositoryOwner(){return this.gitUrlInfo.repositoryOwner}async postClone(t,n,r,i){}installExtension(){return null}},rO=class extends fy{constructor(t){super(t)}async parseUrl(t){var o,s,a;let n=(o=this.gitUrlInfo)==null?void 0:o.repositoryOwner,r=(s=this.gitUrlInfo)==null?void 0:s.repositoryName,i=(a=this.gitUrlInfo)==null?void 0:a.pullRequestId;return this.getPullRequestInfo(t,n,r,i)}async getPullRequestInfo(t,n,r,i){var l,d,p,f,m,h,g,v,y,x,E;let o=await this.fetchPullRequestInfo(t,n,r,i),s=(d=(l=o.head)==null?void 0:l.repo)==null?void 0:d.clone_url,a=(f=(p=o.base)==null?void 0:p.repo)==null?void 0:f.clone_url;if(!a)throw new py(2,"Cannot access the head repository of the Pull Request.");let u=(m=o.head)==null?void 0:m.ref,c=((v=(g=(h=o.head)==null?void 0:h.repo)==null?void 0:g.owner)==null?void 0:v.login)===n?null:(E=(x=(y=o.head)==null?void 0:y.repo)==null?void 0:x.owner)==null?void 0:E.login;return{urlToClone:a,prRepositoryUrl:s,ref:u,sourceOwner:c}}async fetchPullRequestInfo(t,n,r,i){let o=`/repos/${n}/${r}/pulls/${i}`,s={"user-agent":"vscode-remote-containers"};t&&(s.authorization=`token ${t}`);let a={hostname:"api.github.com",port:443,path:o,method:"GET",headers:s};return new Promise((u,c)=>{let l="",d=R6.request(a,p=>{if(p.statusCode<200||p.statusCode>=300)return c(new Error(`Status Code: ${p.statusCode}`));p.on("data",f=>{l+=f}),p.on("end",()=>{let f=JSON.parse(l.toString());u(f)})});d.on("error",c),d.end()})}cloneOptions(t){return{url:t.urlToClone,fullClone:!0}}async postClone(t,n,r,i){if(t.sourceOwner){let c=t.prRepositoryUrl.replace(/\.[^/.]+$/,"");await me({exec:n.exec,cmd:"git",args:["remote","add",t.sourceOwner,c],cwd:r,output:i}),await me({exec:n.exec,cmd:"git",args:["fetch",t.sourceOwner,t.ref],cwd:r,output:i});try{await me({exec:n.exec,cmd:"git",args:["checkout","-t",`${t.sourceOwner}/${t.ref}`],cwd:r,output:i})}catch(l){if(!(l.stderr&&l.stderr.startsWith(`fatal: A branch named '${t.ref}' already exists`)))throw l}await me({exec:n.exec,cmd:"git",args:["config","--local",`remote.${t.sourceOwner}.github-pr-remote`,"true"],cwd:r,output:i})}else await me({exec:n.exec,cmd:"git",args:["checkout",t.ref],cwd:r,output:i});let o=this.gitUrlInfo.repositoryOwner,s=this.gitUrlInfo.repositoryName,a=this.gitUrlInfo.pullRequestId,u=`${o}#${s}#${a}`;await me({exec:n.exec,cmd:"git",args:["config","--local",`branch.${t.ref}.github-pr-owner-number`,u],cwd:r,output:i})}installExtension(){return"GitHub.vscode-pull-request-github"}},iO=class extends fy{constructor(t){super(t)}async parseUrl(t){var n,r;return{urlToClone:(n=this.gitUrlInfo)==null?void 0:n.repositoryUrl,ref:(r=this.gitUrlInfo)==null?void 0:r.ref}}cloneOptions(t){let n=this.gitUrlInfo.commit;return{url:t.urlToClone,branch:!n&&t.ref||void 0,fullClone:n}}async postClone(t,n,r,i){this.gitUrlInfo.commit&&await me({exec:n.exec,cmd:"git",args:["checkout",t.ref],cwd:r,output:i})}},pC=class extends fy{constructor(n,r){super(n);this.branch=r}async parseUrl(n){return{urlToClone:this.inputUrl,ref:this.branch}}cloneOptions(n){return{url:n.urlToClone,branch:n.ref||void 0}}};function sm(e,t){if(t)return new pC(e,t);let n=zs(e);if(n.repository==="github"){if(n.pullRequestId)return new rO(e);if(n.ref)return new iO(e)}return new pC(e)}async function A6(e,t,n,r){if(t&&!/\/\.?devcontainer\.json$/.test(t.path))throw new Error(`Filename must be devcontainer.json or .devcontainer.json (${we(t,e.common.cliHost.platform)}).`);let i=e.parsedAuthority;if(!i||Mn(i))return yEe(e,i,t,n,r);if(Ir(i))return i.inspectVolume?oO(e,i):xEe(e,i,t);if(Ka(i))return i.inspectVolume?oO(e,i):wEe(e,i,t);if(xy(i))return oO(e,i);throw new Error(`Unexpected authority: ${JSON.stringify(i)}`)}async function yEe(e,t,n,r,i){let{common:o,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:u}=e,{cliHost:c,env:l,output:d}=o,p=c.cwd,f=e.originalCwd||p,m=t&&At(c.path,Uv(t.hostPath)?c.path.join(p,Tr.basename(t.hostPath)):p);t!=null&&t.configFile&&!n&&(n=t.configFile);let h;m&&(h=await SEe(e,m),h&&(o.backgroundTasks.push(h==null?void 0:h.gitUnshallow),await h.gitClone()));let g={cliHost:c,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:u,env:l,output:d},v=i?void 0:[`${vy}=${f}`],y=i||[`${yy}=${f}`,`${yC}=${o.product.quality}`];return cO(e,g,v,y,f,p,n,r,void 0,m,t==null?void 0:t.settings,[],o.cliMode?"never":"on")}async function xEe(e,t,n){let{repositoryPath:r,volumeName:i,folder:o}=t,s=ki(r);i=await F6(e,s,i);let{labels:a,remoteWorkspaceFolder:u}=M6(s,r,o,i),c=[...a],l=[...a,`${yC}=${e.common.product.quality}`],{containerId:d,shellServer:p,remoteContainersEnv:f,config:m,preInstalledExtensions:h}=await s.cloneAndInitializeRepository(e,t,s,i,n),g=o?s.workspaceFolder(o):s.fullRepositoryName,v=dO(s,i,o);return D6(e,t,n,m,h,d,p,f,i,g,u,c,l,v)}async function wEe(e,t,n){let{common:r}=e,{extensionPath:i,appRoot:o,loadNativeModule:s,output:a}=r,{volumeName:u,folder:c}=t,l=[`${gC}=${u}`,`${N6}=${c}`],d=l;await fO(e);let p=pO(u,sd()),{stdout:f}=await Ae(e,...p),m=f.toString().trim(),h=Xo(e,m,"root"),g=await lo(h,a),v=[],y=gy(c),x=y,E=await Vs(e,m,"root",s),b=Ri("container",y,{},h,E,()=>{throw new Error("not implemented")},"node",a),{configuration:C}=await my({cliHost:b,dockerPath:"docker",dockerComposePath:"docker-compose",env:{},extensionPath:i,appRoot:o,package:r.package,output:a},y,n,e.common.getLogLevel(),l);return D6(e,t,n,C,v,m,g,{},u,y,x,l,d,p)}async function D6(e,t,n,r,i,o,s,a,u,c,l,d,p,f){var T,_,A;let m=At(Tr.posix,c),h=[`type=volume,source=${u},target=${Tr.posix.dirname(m.rootFolderPath)},external=true`],g=await U6(e,o,a,l),v={},{HOME:y,USERPROFILE:x}=e.common.env;y!==void 0&&(v.HOME=y,await s.exec(`test -e "${y}" || (mkdir -p "$(dirname "${y}")" && ln -s ~ "${y}")`)),x!==void 0&&(v.USERPROFILE=x);let E=g.cliHost,b,C,R=hr(r)||"image"in r;if(R||"dockerComposeFile"in r&&r.workspaceFolder||i.length){let P=i.length?{...r.customizations,vscode:{...(T=r.customizations)==null?void 0:T.vscode,extensions:[...((A=(_=r.customizations)==null?void 0:_.vscode)==null?void 0:A.extensions)||[],...i]}}:r.customizations;C=R?$=>({...$,workspaceFolder:void 0,workspaceMount:"",customizations:P}):$=>({...$,workspaceFolder:m.rootFolderPath,customizations:P});let I=E.path.join(await E.tmpdir(),`devcontainer-${aO.randomUUID()}.json`),F=`EOF-${I}`,q=`${I}_${Date.now()}`;await s.exec(`cat <<'${F}' >${q}
${JSON.stringify({...C(r),configFilePath:void 0})}
${F}
mv ${q} ${I}`),b=xe.from({scheme:ut.scheme,path:I})}try{return await cO(e,g,d,p,e.common.cliHost.cwd,E.cwd,n,b,C,m,t.settings,h,"off",f,!0,void 0,v)}finally{Promise.all(e.common.backgroundTasks.filter(P=>typeof P!="function").map(P=>P.catch(()=>{}))).then(()=>Ae(e,"rm","-f",o))}}async function oO(e,t){let{common:n,dockerCLI:r,dockerComposeCLI:i,dockerComposePath:o}=e,{cliHost:s,env:a,output:u}=n,{volumeName:c}=t,l,d,p=xy(t);p?(l=vC,d="Inspect Volume"):(l=ki(t.repositoryPath).volumeDestination,d="Recovery Container");let f=[`${am}=${c}`],m=[`${am}=${c}`,`${yC}=${n.product.quality}`],h=await L6(e),g=[`type=volume,source=${c},target=${l},external=true`],v={cliHost:s,dockerCLI:r,dockerComposeCLI:i,dockerComposePath:o,env:a,output:u},y=At(s.path,h);return cO(e,v,f,m,h,h,void 0,void 0,void 0,y,t.settings,g,"never",void 0,!p,d)}async function cO(e,t,n,r,i,o,s,a,u,c,l,d,p,f,m,h,g){var rn;let{common:v,userRepositoryConfigurationPaths:y}=e,{output:x,extensionPath:E,appRoot:b,postCreate:C,localWaylandSocket:R}=v,{cliHost:T}=t,_=[...d];if(e.cacheMount==="bind"&&(await jo(v.localCacheFolder),_.push(`type=bind,source=${v.localCacheFolder},target=/vscode`)),e.cacheMount==="volume"){let dt="vscode";(await ti(t)).indexOf(dt)===-1&&await nm(t,dt),_.push("type=volume,source=vscode,target=/vscode,external=true")}if(R){let dt=await u4(void 0);_.push(`type=bind,source=${R},target=${dt}`)}let A=s?{uri:s,location:EEe(T,c,s)}:c?await hC(T,c,y,!a,x):void 0,P=A==null?void 0:A.uri;if((P==null?void 0:P.scheme)==="file"&&T.type!=="local"){let dt=Tr.dirname(P.fsPath),bt=Tr.basename(P.fsPath),Hr=bt===".devcontainer.json"?dt:Tr.dirname(dt),Gp=T.path.join(await T.tmpdir(),`devcontainer-config-${aO.randomUUID()}`);await id(Hr,T,Gp,x),P=xe.from({scheme:ut.scheme,path:T.path.join(Gp,...bt===".devcontainer.json"?[bt]:[Tr.basename(dt),bt])})}typeof e.removeOnStartup=="string"&&await Di(e,e.removeOnStartup)&&await Ae(e,"rm","-f",e.removeOnStartup);let I=await mC(t,r);I&&e.removeOnStartup===!0&&n&&(await Ae(e,"rm","-f",I.Id),I=void 0);let F=!!I||!n,q=F?r:await bEe(e,t,A,n),$=!1,M=e.removeOnStartup!==!0?I||n&&await mC(t,n):void 0;!v.cliMode&&((rn=M==null?void 0:M.State)==null?void 0:rn.Status)==="running"&&($=!0,Ae({...gu(e),print:"continuous"},"exec","-i","-u","root",M.Id,"/bin/sh","-c",`echo "Container already running. Keep-alive process started." ; export VSCODE_REMOTE_CONTAINERS_SESSION=${e.common.sessionId} ; /bin/sh`).catch(()=>{$=!1,x.write("Keep-alive process ended.")}));let k={...g,...t.env,...an(t.env)},U={cliHost:T,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:k,extensionPath:E,appRoot:b,package:v.package,postCreate:C,output:v.postCreate.output},V=v.postCreate.output.dimensions||v.output.dimensions,L=v.additionalFeaturesToInstall,G=await js(U,["up",...t.cliHost.type==="local"&&v.persistedFolder?["--user-data-folder",v.persistedFolder]:[],...t.dockerCLI!=="docker"?["--docker-path",t.dockerCLI]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],...v.containerSessionDataFolder?["--container-session-data-folder",v.containerSessionDataFolder]:[],...F?["--container-data-folder",po(e.common.product.serverDataFolderName)]:[],...F?["--container-system-data-folder",Kf(e.common.product.serverDataFolderName)]:[],"--workspace-folder",o,...e.workspaceMountConsistencyDefault?["--workspace-mount-consistency",e.workspaceMountConsistencyDefault]:[],...[].concat(...q.map(dt=>["--id-label",dt])),"--log-level",ks(v.getLogLevel()),"--log-format","json",...P?["--config",we(P,T.platform)]:[],...a?["--override-config",we(a,T.platform)]:[],"--default-user-env-probe",v.defaultUserEnvProbe,...e.buildNoCache?["--build-no-cache"]:[],...e.removeOnStartup===!0?["--remove-existing-container"]:[],...e.expectExistingContainer?["--expect-existing-container"]:[],...[].concat(..._.map(dt=>["--mount",dt])),"--skip-post-create","--update-remote-user-uid-default",p,"--mount-workspace-git-root",String(!v.cliMode),...V?["--terminal-columns",String(V.columns),"--terminal-rows",String(V.rows)]:[],...Object.keys(L).length>0?["--additional-features",JSON.stringify(L)]:[]]);if((G==null?void 0:G.outcome)!=="success")throw new ve({description:`devcontainer command failed: ${G?JSON.stringify(G):"data missing"}`});let W=await Di(e,G.containerId);if(!W)return $6(v.output,"Dev container not found.");!v.cliMode&&!$&&($=!0,Ae({...gu(e),print:"continuous"},"exec","-i","-u","root",W.Id,"/bin/sh","-c",`echo "New container started. Keep-alive process started." ; export VSCODE_REMOTE_CONTAINERS_SESSION=${e.common.sessionId} ; /bin/sh`).catch(()=>{$=!1,x.write("Keep-alive process ended.")}));let z=await my(U,o,P,v.getLogLevel(),q,W.Id,a,v.cliMode),se=z.configuration,_e=cm(l),Ue=h||(se.name?`Dev Container: ${se.name}${_e}`:`Dev Container${_e}`);v.setWorkspaceName(Ue);let je;if(hr(se)||"image"in se)je=await q6(e,t,se,z.workspace,i,o,W,F,!M,m,q,P,a,v.additionalFeaturesToInstall);else if("dockerComposeFile"in se){if(!c)throw new ve({description:"A Dev Container using Docker Compose requires a workspace folder."});je=await I6(e,t,c,se,i,o,W,F,!M,f,m,q,P,a,v.additionalFeaturesToInstall)}else throw new ve({description:`Dev container config (${se.configFilePath}) is missing one of "image", "dockerFile" or "dockerComposeFile" properties.`});return _Ee(e,U,se,a,u,W,f,o,P,q,je.properties),je.configLocation=A==null?void 0:A.location,je}function EEe(e,t,n){return t&&(n.scheme===ut.scheme||n.scheme==="file"&&e.type==="local")&&iR(Tr,t.rootFolderPath,we(n,e.platform))?"workspace":n.scheme==="file"?"user":"unknown"}async function bEe(e,t,n,r){var s;let{cliHost:i}=t,o;if(n){let{uri:a}=n,u;a.scheme===ut.scheme||a.scheme==="file"&&i.type==="local"?u=we(a,i.platform):u=a.toString();let c=[...r,`${sO}=${u}`];if(await mC(t,c))o=c;else{let l=await mC(t,r);l&&!((s=l.Config.Labels)!=null&&s[sO])?e.removeOnStartup===!0?(await Ae(t,"rm","-f",l.Id),o=c):o=r:o=c}}else o=r;return o}function _Ee(e,t,n,r,i,o,s,a,u,c,l){let{common:d}=e,{output:p,extensionPath:f,appRoot:m}=d,{cliHost:h}=t;if(e.watch){let g,v=n.configFilePath;if(v.scheme===ut.scheme)if(h.type==="local")g=v.with({scheme:"file"});else if(h.type==="container")g=v.with({scheme:Zr.scheme,authority:d.authority});else{let y=we(v,h.platform),x=o.Mounts.find(E=>iR(h.path,E.Source,y));if(x){let E=h.path.relative(x.Source,y),b=h.platform==="win32"?E.replace(/\\/g,"/"):E;g=xe.from({scheme:Zr.scheme,authority:d.authority,path:Tr.posix.join(x.Destination,b)})}}else(v.scheme==="file"||v.scheme===Zr.scheme)&&(g=v);if(g){let C=function(){y||(E=x().finally(async()=>{await mo(h.type==="container"?5e3:1e3),E=void 0,b&&(b=!1,C())}))},y=!1;async function x(){let T=t,_;try{if(h.type==="container"){let{stdout:I}=await Ae(e,...s);_=I.toString().trim();let F=Xo(e,_,"root");if(r&&i){let M=r.path,k=`EOF-${M}`,U=`${M}_${Date.now()}`,V=await lo(F,p),L=Ze((await V.exec(`cat '${v.path}'`)).stdout);await V.exec(`cat <<'${k}' >${U}
${JSON.stringify({...i(L),configFilePath:void 0})}
${k}
mv ${U} ${M}`)}let q=await Vs(e,_,"root",d.loadNativeModule);T={cliHost:Ri("container",a,{},F,q,()=>{throw new Error("not implemented")},"node",p),dockerPath:"docker",dockerComposePath:"docker-compose",env:{},extensionPath:f,appRoot:m,package:d.package,output:p}}let A=await my(T,a,u,d.getLogLevel(),c,o.Id,r,d.cliMode),P=Fn(T.cliHost,l.shellServer);await iC({...e.configurationTracking,containerOutdated:async I=>{y=!0;let F=await e.configurationTracking.containerOutdated(I);return F==="ignore"&&(y=!1),F}},T.cliHost,P,A.configuration)}finally{_&&await Ae(e,"rm","-f",_)}}let E,b=!1,R=e.watch(g,()=>{E?b=!0:C()});e.common.shutdowns.push(async()=>(await R).dispose())}}}async function mC(e,t){let n=await za(e,!0,t);return(await Bs(e,n)).filter(i=>i.State.Status!=="removing")[0]}async function my(e,t,n,r,i,o,s,a=!1){let{cliHost:u,output:c}=e,l=await js(e,["read-configuration",...e.dockerPath!=="docker"?["--docker-path",e.dockerPath]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],"--workspace-folder",t,...(i||[]).map(d=>["--id-label",d]).flat(),...o?["--container-id",o]:[],"--log-level",ks(r),"--log-format","json",...n?["--config",we(n,u.platform)]:[],...s?["--override-config",we(s,u.platform)]:[],"--mount-workspace-git-root",String(!a),...c.dimensions?["--terminal-columns",String(c.dimensions.columns),"--terminal-rows",String(c.dimensions.rows)]:[]]);return l.configuration.configFilePath=xe.revive(l.configuration.configFilePath).with({scheme:u.type==="local"?"file":ut.scheme}),l}async function hy(e,t,n,r,i){let o=await hC(e,t,n,r,i);return o==null?void 0:o.uri}async function hC(e,t,n,r,i){let o=await jG(e,t,He),s=o&&await uO(o,n);if(s)return{uri:s,location:"user"};let a=await Z_(e,t.configFolderPath);if(a)return{uri:a,location:"workspace"};r&&i&&(o!=null&&o.length?i.write(`No dev container config found. Additional locations checked:
${k6(o,n).map(u=>`- ${Tr.join(u,".devcontainer","devcontainer.json")}`).join(`
`)}`):i.write("No dev container config found. No repository connection string found."))}async function uO(e,t){let n=k6(e,t);for(let r of n){let i=await a6(r);if(i)return xe.file(i)}}function k6(e,t){let n=[],r=new Set(e.map(CEe).filter(i=>!!i));for(let i of r)for(let o of t){let s=Tr.join(o,i);n.push(s)}return n}function O6(e,t,n){let r=e.path.relative(t.rootFolderPath,we(n,e.platform));return r&&!r.startsWith("..")&&!e.path.isAbsolute(r)}function CEe(e){let t;if(e.startsWith("https://"))t=e.substr(8);else{let n=/[^@:]+@([^:]+):(.+)/.exec(e);if(n)t=`${n[1]}/${n[2]}`;else return}if(!(t.toLowerCase().startsWith("github.com")&&(t=(/^[^/]+\/[^/]+\/[^/]+/.exec(t)||[])[0],!t)))return t.endsWith(".git")&&(t=t.substr(0,t.length-4)),t}async function SEe(e,t){var f;let{common:n,gitClone:r}=e,{cliHost:i}=n;if(!r)return;let o=Qv(n),s=Qv(n),a=sm(r.url,r.branch),u=await a.parseUrl(r.tokenEnvVar?i.env[r.tokenEnvVar]:void 0),c=a.cloneOptions(u),l={...r,...c,env:{...r.env,...c.env}},d=await s_(n,n.cliHost,t.rootFolderPath,l,o.output,s.output),p=(f=d.gitClone)==null?void 0:f.then(()=>a.postClone(u,i,t.rootFolderPath,o.output));return{gitClone:async()=>{o.flush(),await p},gitUnshallow:async()=>{o.flush(),s.flush(),await d.gitUnshallow}}}var gC="vsc.devcontainer.volume.name",N6="vsc.devcontainer.volume.folder";function lO(e){return e?`${e.volumeName}:${e.folder}`:void 0}function xu(e){let t=(e.Config.Labels||{})[gC],n=(e.Config.Labels||{})[N6];return t&&n?{volumeName:t,folder:n}:void 0}var gO="vsch.local.repository",xC="dev.container.volume";function ki(e){return{repositoryPath:e,fullRepositoryName:vO(e),repositoryName:yO(e),workspaceFolder:gy,volumeDestination:sd(),oldVolumeName:IEe(e),alreadyCloned:!1,uniqueVolumeName:PEe(e),legacyUniqueVolumeName:REe(e),getOldWorkspacePath:V6,cloneAndInitializeRepository:AEe,gitUrlHandler:sm(e),gitUrlInfo:zs(e)}}function vO(e){let t=zs(e);return t==null?void 0:t.fullRepositoryName}function yO(e){let t=zs(e);return t==null?void 0:t.repositoryName}function sd(){return"/workspaces"}function IEe(e){let t=vO(e);return`vsc-${Qo.posix.basename(t)}-${H6(e)}`}function PEe(e){let t=j6(e),n=wu.createHash("sha256").update(e).digest("hex");return`${t}-${n}`}function REe(e){let t=j6(e),n=H6(e);return`${t}-${n}`}function j6(e){let t=zs(e),n="";return t&&t.repositoryName&&(n=t.repositoryName,t.ref?n=`${n}-${t.ref.replace(/\//g,"-")}`:t.pullRequestId&&(n=`${n}-pull-${t.pullRequestId}`)),n}function H6(e){return wu.createHash("md5").update(e).digest("hex")}function gy(e){return Qo.posix.join(`${sd()}`,`${e}`)}async function AEe(e,{folder:t,cloneInfo:n},r,i,o){var d;await fO(e);let{containerId:s,shellServer:a,remoteContainersEnv:u}=await DEe(e,r,i,t,o,e.configProvider,n),{config:c}=await kEe(e,r,t,o,a),l=(d=r.gitUrlHandler)==null?void 0:d.installExtension();return{repository:r,volumeName:i,containerId:s,shellServer:a,remoteContainersEnv:u,config:c,preInstalledExtensions:l?[l]:[]}}async function DEe(e,t,n,r,i,o,s){let{common:a}=e,{output:u,loadNativeModule:c}=a,l=t.fullRepositoryName,d,p,f,m;e.common.progress(1);let h=dO(t,n,r,e.buildContainerRunArgs);r?(u.write(`Cloning Github repository: ${l} into ${t.workspaceFolder(r)}
\r`),d=`fatal: destination path '${t.workspaceFolder(r)}' already exists`,m=t.workspaceFolder(r),f=`Repository '${l}' was already cloned into '${t.workspaceFolder(r)}'.
\r`):(u.write(`Cloning Github repository: ${l} into volume ${n}
\r`),d=`fatal: destination path '${l}' already exists`,m=`${l}`,f=`Repository '${l}' was already cloned into volume.`);let g=t.gitUrlHandler;if(!g)throw new ve({description:"Could not analyze the URL."});s?p=g.cloneOptions(s):p={url:t.repositoryPath};let{stdout:v}=await Ae(e,...h),y=v.toString().trim(),x=Xo(e,y,"root"),E=await lo(x,u),b,C={},R=Promise.resolve(),T;if(!a.cliMode){let I=await Wv(a,{remoteExec:x,user:"root",nodeExecutable:"node",shellServer:E,launchRootShellServer:async()=>E});b=I.remoteContainersCLI,C=I.remoteEnv,R=I.ready,T=I.mrpcExec}let _=await Vs(e,y,"root",c),A=Ri("container",m,{},await T||x,_,()=>{throw new Error("not implemented")},void 0,u);try{a.cliMode||(e.common.isCopyGitConfigEnabled&&(await ed(e.common,{homeFolder:"/root",shellServer:E},[".gitconfig"],"git"),await W_(e.common,{homeFolder:"/root",shellServer:E},{})),await Yf({shellServer:E,nodeExecutable:"node"},b,u,"global"),await ed(e.common,{homeFolder:"/root",shellServer:E},[".ssh","known_hosts"],"ssh"),await R);let I=Qv(a),F=await s_(a,A,m,{...p,env:{...C,...p.env}},u,I.output);if(await F.gitClone,F.gitUnshallow&&(a.backgroundTasks.push(F.gitUnshallow.then(()=>{})),F.gitUnshallow.then(I.flush,I.flush)),F.gitClone&&s)try{await g.postClone(s,A,m,u)}catch{return mO(e,y,`Failed to checkout the repository ${s.urlToClone}.`)}}catch(I){let F=I&&(I.cmdOutput||I.stack||I.message)||String(I);if(F=F.replace(Xp,""),F.replace(/[\r\n]+/gm,"").includes(d))u.write(f),t.alreadyCloned=!0;else return mO(e,y,`Git clone failed. ${F}`)}let{configRaw:P}=await B6(e,t,r,i,E);if(!nC(P)&&o){u.write(`Repository ${l} has no dev container files.
\r`);let I=!0;for(;I;){let F=await o.createConfiguration(m,A);if(F)I=!1;else if(F=await o.showError("You must select a container configuration since the repository does not contain a dev container configuration. Without a dev container configuration the container cannot be started.","Select Configuration"),F!=="Select Configuration")return mO(e,y,"Cancelled container configuration selection.")}}return{containerId:y,shellServer:E,remoteContainersEnv:C}}function dO(e,t,n,r=[]){let i=n?e.volumeDestination:e.fullRepositoryName;return pO(t,i,r)}function pO(e,t,n=[]){return["run","-d","--mount",`type=volume,src=${e},dst=${t}`,"-v","/var/run/docker.sock:/var/run/docker.sock",...n,`${W6}`,"sleep","infinity"]}function mO(e,t,n){throw t&&Ae(e,"rm","-f",t),new ve({description:n})}async function B6(e,t,n,r,i){let o,s;if(n?s=t.workspaceFolder(n):s=`${V6(t.repositoryPath)}`,r)return o=(await i.exec(`cat ${r.path} 2>/dev/null`,{logOutput:!1})).stdout,{configRaw:o&&Ze(o),configFile:r,workspaceFolder:s};if(r=await uO([t.repositoryPath],e.userRepositoryConfigurationPaths),r&&(o=(await nt(r.fsPath)).toString()),!r)for(let a of tm(Qo.posix,s))try{o=(await i.exec(`cat ${a} 2>/dev/null`,{logOutput:!1})).stdout,r=xe.from({scheme:"vscode-remote",path:a});break}catch{}return{configRaw:o&&Ze(o),configFile:r,workspaceFolder:s}}async function kEe(e,t,n,r,i){let{configRaw:o,configFile:s,workspaceFolder:a}=await B6(e,t,n,r,i);if(!s||!o)throw new ve({description:"The repository does not have a 'devcontainer.json' configuration file."});let{common:u,configUpdater:c}=e,{cliHost:l,output:d}=u,p=uy({...o}),f=p;c&&(p.configFilePath=s,f=c(p),delete f.configFilePath);let m=M_({platform:l.platform,configFile:s,env:l.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:a},f);return m.configFilePath=s,("workspaceMount"in m||"workspaceFolder"in m)&&d.write("The options 'workspaceMount' or 'workspaceFolder' are ignored when cloning a repository into a volume."),{workspaceFolder:a,config:m}}function V6(e){return`/workspaces/${Qo.posix.basename(vO(e))}`}var W6="vsc-volume-bootstrap";var hO="bootstrap.Dockerfile",OEe="volume.Dockerfile";async function fO(e,t,n,r){let{cliHost:i,output:o}="cliHost"in e?e:e.common;"cliHost"in e||(t=e.common.extensionPath,n=e.common.package.version,r=e.development);let s=i.path.join(await bO(i),"bootstrap-image",r?`${n}-dev-${Date.now()}`:n),a=i.path.join(s,hO),u=!await i.isFolder(s);if(!u&&!await i.isFile(a)){let l="Removing incomplete bootstrap-image folder.",d=o.start(l),p=`${s}-${wu.randomUUID()}`;await i.rename(s,p),await i.rm(p,{recursive:!0,force:!0}),u=!await i.isFolder(s),o.stop(l,d)}if(u){let l=`${s}-${wu.randomUUID()}`,d=i.path.join(l,".vscode-remote-containers","dist",`dev-containers-cli-${n}`);await i.mkdirp(i.path.join(d,"dist","spec-node")),await i.writeFile(i.path.join(l,hO),await nt(Qo.join(t,"scripts",hO))),await i.writeFile(i.path.join(d,"package.json"),await nt(Qo.join(t,"package.json"))),await i.writeFile(i.path.join(d,"dist","spec-node","devContainersSpecCLI.js"),await nt(Qo.join(t,"dist","spec-node","devContainersSpecCLI.js"))),await i.mkdirp(i.path.join(d,"scripts")),await i.writeFile(i.path.join(d,"scripts","updateUID.Dockerfile"),await nt(Qo.join(t,"scripts","updateUID.Dockerfile")));let p=eC(t),f=i.path.join(d,"dist","node_modules","vscode-dev-containers","container-features");await id(p,i,f,o),await i.rename(l,s)}await b6(e,...["build","-f",a,"-t",W6,s])}async function L6(e){let{common:t}=e,{cliHost:n,output:r}=t,i=await NEe(e),o=n.path.join(i,OEe),s=!await n.isFolder(i);if(!s&&!await n.isFile(o)){let a="Removing incomplete inspect-volume folder.",u=r.start(a),c=`${i}-${wu.randomUUID()}`;await n.rename(i,c),await n.rm(c,{recursive:!0,force:!0}),s=!await n.isFolder(i),r.stop(a,u)}if(s){let a=`${i}-${wu.randomUUID()}`;await id(Qo.join(t.extensionPath,"scripts","inspect-volume"),n,a,r),await n.rename(a,i)}return i}async function NEe(e){let{common:t,development:n}=e,{cliHost:r}=t,i=t.package.version;return r.path.join(await bO(r),"inspect-volume",n?`${i}-dev-${Date.now()}`:i)}async function F6(e,t,n){let r=[`${gO}=${t.repositoryPath}`];!n||n===vo?r.push("vsch.local.repository.unique=true"):r.push("vsch.local.repository.unique=false"),t.gitUrlInfo.ref&&r.push(`vsch.local.repository.branch=${t.gitUrlInfo.ref}`),t.gitUrlInfo.pullRequestId&&r.push(`vsch.local.repository.pullRequestId=${t.gitUrlInfo.pullRequestId}`);let i=await ti(e),o=xO(t,n,i);return i.indexOf(o)===-1&&await nm(e,o,r),o}function xO(e,t,n){return t?t===vo&&(n.indexOf(e.uniqueVolumeName)!==-1||n.indexOf(e.legacyUniqueVolumeName)===-1?t=e.uniqueVolumeName:t=e.legacyUniqueVolumeName):n.indexOf(e.uniqueVolumeName)!==-1||n.indexOf(e.oldVolumeName)===-1?t=e.uniqueVolumeName:t=e.oldVolumeName,t}var um="vsch.local.repository",wO="vsch.local.repository.volume",EO="vsch.local.repository.folder";function M6(e,t,n,r){return n?{labels:[`${um}=${t}`,`${wO}=${r}`,`${EO}=${n}`],remoteWorkspaceFolder:e.workspaceFolder(n)}:{labels:[`${um}=${t}`],remoteWorkspaceFolder:e.getOldWorkspacePath(t)}}async function U6(e,t,n,r){let{loadNativeModule:i,output:o}=e.common,s=Xo(e,t,"root"),a=await Vs(e,t,"root",i),u=Ri("container",r,n,s,a,()=>{throw new Error("not implemented")},"node",o);return{cliHost:u,dockerCLI:"docker",dockerComposeCLI:Ws({exec:u.exec,env:n,output:o},"docker","docker-compose"),dockerComposePath:"docker-compose",env:n,output:o}}var vy="devcontainer.local_folder",sO="devcontainer.config_file",am="vsch.local.volume",vC="/volume",yC="vsch.quality",yy="vsch.local.folder";async function q6(e,t,n,r,i,o,s,a,u,c,l,d,p,f){let{common:m}=e,h;try{let g=!u,v={...t.env,...an(t.env)},y={cliHost:t.cliHost,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:v,extensionPath:m.extensionPath,appRoot:m.appRoot,package:m.package,output:m.postCreate.output},{mergedConfiguration:x}=await yu(y,o,d,m.getLogLevel(),f,l,s.Id,p,m.cliMode),E=x.remoteUser;h=await im(e,s.Id,r.workspaceFolder,E),c&&u&&r.workspaceFolder&&h.user!=="root"&&(h.launchRootShellServer?await V_(h,h.launchRootShellServer,r.workspaceFolder,n.configFilePath.path):m.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let b=await Y6(m,u,r,h);return await FEe(s,a,e,t,h,n,x,g,i,o,l,d,p,b)}catch(g){throw LEe(g,s,e,h,n)}}function LEe(e,t,n,r,i){let o=e instanceof ve?e:new ve({description:"An error occurred setting up the container.",originalError:e});return t&&(o.manageContainer=!0,o.params=n.common,o.containerId=t.Id,o.dockerParams=n),r&&(o.containerProperties=r),i&&(o.config=i),o}async function FEe(e,t,n,r,i,o,s,a,u,c,l,d,p,f){var A,P;let{common:m}=n,h=Fn(r.cliHost,i.shellServer);a||await oC(n.configurationTracking,r.cliHost,h,o,m.output);let g=s.shutdownAction;g==="stopCompose"&&(g="stopContainer");let v={cwd:u,dockerCLI:n.dockerCLI,env:m.env,containerId:e.Id,user:i.user,sessionId:m.sessionId,shutdownAction:g,logLevel:m.getLogLevel(),delay:1e4},{shutdownArgs:y,doneWithDocuments:x}=await dC(n,r.cliHost,h,"singleContainer",v,a?o:void 0);m.backgroundTasks.push(x);let E=((P=(((A=s.customizations)==null?void 0:A.vscode)||[]).slice().reverse().find(I=>typeof I.devPort=="number"))==null?void 0:P.devPort)||uu,{hostOrContainerPort:b,hostPortServer:C,connectionToken:R,remoteEnv:T,serverDownloaded:_}=await Xf(m,i,o,s,E,om(n,r,i,c,l,e.Id,t,d,p),f);return y.hostPortServer=C,{params:m,properties:i,config:o,resolvedAuthority:{host:vu,port:b,connectionToken:R,extensionHostEnv:T},tunnelInformation:m.isLocalContainer?rm(e):{},dockerParams:n,dockerContainerId:e.Id,serverDownloaded:_}}function Eu(e){let t=e.Config.Labels||{},n=t[vy]||t[yy];return n||void 0}function Xa(e){let t=(e.Config.Labels||{})[um];return t||void 0}function wC(e){let t=(e.Config.Labels||{})[wO];return t||void 0}function G6(e){let t=(e.Config.Labels||{})[am];return t||void 0}function z6(e){let t=(e.Config.Labels||{})[EO];return t||void 0}function $6(e,t){throw e.write(et(t)),new Error(t)}var K6=B(require("path"));async function X6(e,t,n,r,i,o){let s,a=new Promise(m=>s=m),u=new sC,c=[],l=await y6("vscode-remote-containers",async(m,h)=>{let g=await x6(m),v=[];if(g.type==="poll")try{v=await u.dequeue(6e4)}catch{}else if(g.type==="reply"){let y=c[g.sequence];y&&(y(g.reply),delete c[g.sequence])}else g.type==="done"&&s?s():g.type==="log"&&r.event(g.event);h.write(JSON.stringify(v)),h.end()});l.server.unref();let d=K6.join(n,"dist","shutdown","shutdownMonitorProcess"),p=[l.ipcHandlePath,e,xi[t],i||"",o.getTime().toString()];r.write(`Forking shutdown monitor: ${d} ${p.join(" ")}\r
`);let f=C4(d,p,{stdio:["ignore","ignore","ignore","ipc"],detached:!0,execArgv:[]});return f.on("error",m=>{console.error(m)}),f.unref(),{queue:u,sequence:0,replies:c,done:a}}async function EC(e,t,n){let r=e.sequence++,i=new Promise(s=>e.replies[r]=s);return e.queue.push({type:"configure",sequence:r,options:t}),await i}async function Q6({queue:e,done:t}){e.push({type:"cleanup"}),await t}var J6=require("util");var vo="__UNIQUE__",vu="127.0.0.1";async function Z6(e,t){if(e.scheme==="file"&&t.type==="wsl"){let{stdout:n}=await me({exec:t.exec,cmd:"wslpath",args:["-u",e.fsPath],output:He});return n.toString().trim()}return we(e,t.platform)}function lm(e,t){let n=e.platform==="win32"&&!e.env.SSH_AUTH_SOCK?v_:e.type==="wsl"?e.env.SSH_AUTH_SOCK:void 0,r={DOCKER_CONTEXT:"default"};return t&&("context"in t?r.DOCKER_CONTEXT=t.context:(t.host&&(t.host.startsWith("ssh://")&&e.type==="ssh"?r.VSCODE_DOCKER_HOST=t.host:r.DOCKER_HOST=t.host),t.certPath&&(r.DOCKER_CERT_PATH=t.certPath),t.tlsVerify&&(r.DOCKER_TLS_VERIFY=t.tlsVerify))),n&&(r.SSH_AUTH_SOCK=n),r}function Un(e){let t;if(e.DOCKER_CONTEXT&&e.DOCKER_CONTEXT!=="default")t={context:e.DOCKER_CONTEXT};else{t={};let n=e.VSCODE_DOCKER_HOST||e.DOCKER_HOST;n&&(t.host=n),e.DOCKER_CERT_PATH&&(t.certPath=e.DOCKER_CERT_PATH),e.DOCKER_TLS_VERIFY&&(t.tlsVerify=e.DOCKER_TLS_VERIFY),Object.keys(t).length||(t=void 0)}return t}function bC(e,t){t&&("context"in t&&t.context&&e.write(`Context: ${t.context}\r
`),"host"in t&&t.host&&e.write(`Host: ${t.host}\r
`),"certPath"in t&&t.certPath&&e.write(`CertPath: ${t.certPath}\r
`),"tlsVerify"in t&&t.tlsVerify&&e.write(`TLSVerify: ${t.tlsVerify}\r
`))}function _C(e){return!e.VSCODE_DOCKER_HOST&&!e.DOCKER_HOST&&(!e.DOCKER_CONTEXT||e.DOCKER_CONTEXT==="default")}function cm(e){return e&&("context"in e||e.host)?` @ ${"context"in e?e.context:e.host}`:""}async function Di(e,t){try{return await ei(e,t)}catch{return}}async function CC(e){let{common:t}=e,{output:n}=t,r="Check Docker is running",i=n.start(r);try{let{stdout:o}=await Ae(e,"version","--format","{{.Server.APIVersion}}"),s=o.toString();if(s.toLowerCase().indexOf("cannot connect")!==-1)throw new Error(s);n.write(`Server API version: ${s.trim()}`)}catch(o){console.error(o);let s=o&&(o.stderr?o.stderr.toString():o.message)||"";s&&n.write(et(s));let a="Docker returned an error. Make sure the Docker daemon is running and select an option how to proceed.",u=o&&(o.stderr?o.stderr.toString().toLowerCase():o.message)||"";throw u.indexOf("permission denied")!==-1?u.indexOf("ssh")!==-1?a="Cannot connect to Docker daemon using 'ssh'. Make sure public/private keys are set up for connecting without keyboard interaction.":a="Current user does not have permission to run 'docker'. Try adding the user to the 'docker' group.":u.indexOf("ENOENT")!==-1&&(a="The 'docker' command was not found. Make sure Docker is installed."),new ve({description:a,originalError:`Docker returned an error code ${o.code}, message: ${o.message}`})}finally{n.stop(r,i)}}function Mn(e){return e.hostPath!==void 0}function Ir(e){return e.repositoryPath!==void 0}function Ka(e){return!Ir(e)&&!!e.folder}function xy(e){return!Ir(e)&&!Ka(e)&&e.volumeName!==void 0}function Oi(e){let t=tK("dev-container",e);if(t)return typeof t=="string"?{hostPath:t}:"repositoryPath"in t?t.dockerHost?{repositoryPath:t.repositoryPath,settings:{host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`,cloneInfo:t.cloneInfo}}:t:("hostPath"in t&&t.configFile&&(t.configFile=xe.revive(t.configFile)),"hostPath"in t&&t.dockerHost?{hostPath:t.hostPath,settings:{host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`}}:t)}function Ey(e,t,n,r,i){let o=n||i?JSON.stringify({hostPath:e,localDocker:r,settings:n,configFile:i}):e;return`vscode-remote://dev-container+${Buffer.from(o,"utf8").toString("hex")}${t}`}function Jo(e,t,n,r,i,o){if(e){let a=ki(e);if(!t){let c=JSON.stringify({repositoryPath:e,settings:i,cloneInfo:o,inspectVolume:r});return`vscode-remote://dev-container+${Buffer.from(c,"utf8").toString("hex")}${a.getOldWorkspacePath(e)}`}let u=JSON.stringify({repositoryPath:e,volumeName:t,folder:n,settings:i,cloneInfo:o,inspectVolume:r});return`vscode-remote://dev-container+${Buffer.from(u,"utf8").toString("hex")}${a.workspaceFolder(n)}`}if(n){let a={volumeName:t,folder:n,settings:i};return`vscode-remote://dev-container+${Buffer.from(JSON.stringify(a),"utf8").toString("hex")}${gy(n)}`}let s=JSON.stringify({volumeName:t,settings:i});return`vscode-remote://dev-container+${Buffer.from(s,"utf8").toString("hex")}${vC}`}function dm(e){let t=tK("attached-container",e);if(t)return typeof t=="string"?{containerId:t}:(t.dockerHost&&(t.settings={host:`tcp://${t.dockerHost.host}:${t.dockerHost.port}`},delete t.dockerHost),t)}function eK(e,t,n){let r=JSON.stringify({containerName:e,settings:t,cwd:n});return`attached-container+${Buffer.from(r,"utf8").toString("hex")}`}function tK(e,t){try{let[n,r]=t.split("+"),i=n===e&&r?Buffer.from(r,"hex").toString("utf8"):void 0;return i?i.startsWith("{")?JSON.parse(i):i:void 0}catch(n){console.warn(n);return}}async function nK(e,t,n,r=!1){return!r&&await jv(e,t,n)||t}function rK(e,t,n){let r=e.path.relative(e.path.dirname(t),n);return`/workspaces/${e.platform==="win32"?r.replace(/\\/g,"/"):r}`}function iK(e,t,n){if(e==="win32")return t;let r=`${MEe(n,"/")}/`;return(e==="linux"?t.startsWith(r):t.toLowerCase().startsWith(r.toLowerCase()))&&(t=`~/${t.substr(r.length)}`),t}function MEe(e,t){if(t.length===0)return e;for(;e.endsWith(t);)e=e.substr(0,e.length-t.length);return e}function h6(e,t){return e.with({path:wy.posix.resolve(e.path,t)})}async function dC(e,t,n,r,i,o){let{common:s,onRemoveOnShutdownChanged:a}=e;if(s.cliMode)return{shutdownArgs:{},doneWithDocuments:Promise.resolve()};let u=s.output.start("Setup shutdown monitor"),c=await X6(r,s.getLogLevel(),s.extensionPath,s.output,s.logFilePath?wy.dirname(s.logFilePath):void 0,s.sessionStart);EC(c,i,s.output).catch(f=>console.error(f)),a&&a(async f=>{i.rebuild=!!f,i.delay=0,await EC(c,i,s.output)}),s.onDidChangeLogLevel(async f=>{i.logLevel=f,await EC(c,i,s.output)});let l={},d=async()=>{let f=Q6(c);l.hostPortServer&&await(0,J6.promisify)(l.hostPortServer.close.bind(l.hostPortServer))(),await f};s.shutdowns.push(d);let p=o?iC(e.configurationTracking,t,n,o).catch(console.error):Promise.resolve();return s.output.stop("Setup shutdown monitor",u),{monitor:c,shutdownArgs:l,doneWithDocuments:p}}function rm(e){return{environmentTunnels:e.Ports.filter(t=>!!t.PublicPort).map(t=>({remoteAddress:{port:t.PrivatePort,host:t.IP},localAddress:t.IP+":"+t.PublicPort}))}}async function im(e,t,n,r,i){var E;let{common:o}=e,s="Inspecting container",a=o.output.start(s),u=await ei(e,t);o.output.stop(s,a);let c=r||u.Config.User||"root",[,l,,d]=/([^:]*)(:(.*))?/.exec(c),p=UEe(u.Config.Env),f=Xo(e,t,c),m=await Vs(e,t,c,o.loadNativeModule),h=Xo(e,t,"root"),g=u.Mounts.find(b=>b.Type==="volume"&&b.Name==="vscode"),v=u.Mounts.find(b=>b.Type==="bind"&&b.Source===o.localCacheFolder),y=g&&wy.posix.join(g.Destination,/^\.*(.*)$/.exec(o.product.serverDataFolderName)[1])||(v==null?void 0:v.Destination),x=(E=u.Mounts.find(b=>b.Type==="bind"&&b.Destination.startsWith("/tmp/vscode-wayland-")))==null?void 0:E.Destination;return H_({params:o,createdAt:u.Created,startedAt:u.State.StartedAt,sharedDataFolder:y,sharedDataFolderIsLocalCacheFolder:!g&&!!v,remoteWorkspaceFolder:n,containerUser:l==="0"?"root":l,containerGroup:d,containerEnv:p,remoteExec:f,remotePtyExec:m,remoteExecAsRoot:h,rootShellServer:i,remoteWaylandSocket:x})}function UEe(e){return(e||[]).reduce((t,n)=>{let r=n.indexOf("=");return r!==-1&&(t[n.substr(0,r)]=n.substr(r+1)),t},{})}async function bO(e){return e.path.join(await e.tmpdir(),e.platform==="linux"?`vsch-${await e.getUsername()}`:"vsch")}async function oK(e){let{common:t,dockerCLI:n,dockerComposeCLI:r,dockerComposePath:i,dockerEnv:o}=e,{cliHost:s,output:a}=t;return{cliHost:s,dockerCLI:n,dockerComposeCLI:r,dockerComposePath:i,env:o,output:a}}async function sK(e,t){return e.type==="local"&&t?e.path.join(t,"data"):e.path.join(await e.homedir(),".vscode-remote-containers","data")}function om(e,t,n,r,i,o,s,a,u){let c=!s;return async(l,d,p,f,m)=>{let{common:h}=e,{cliHost:g}=t,{dotfilesConfiguration:v}=h,y=f.getDotfileConfiguration("dotfiles.repository")||v.repository,x=f.getDotfileConfiguration("dotfiles.installCommand")||v.installCommand,E=f.getDotfileConfiguration("dotfiles.targetPath")||v.targetPath;c&&y&&(c=!1,await R4(n));let b={...t.env,...an(t.env)},C={cliHost:t.cliHost,dockerPath:t.dockerCLI,dockerComposePath:t.dockerComposePath,env:b,extensionPath:h.extensionPath,appRoot:h.appRoot,package:h.package,postCreate:h.postCreate,output:h.postCreate.output},R=h.postCreate.output.dimensions||h.output.dimensions,T=await js(C,["run-user-commands",...t.cliHost.type==="local"&&h.persistedFolder?["--user-data-folder",h.persistedFolder]:[],...t.dockerCLI!=="docker"?["--docker-path",t.dockerCLI]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],...h.containerSessionDataFolder?["--container-session-data-folder",h.containerSessionDataFolder]:[],...s?["--container-data-folder",po(e.common.product.serverDataFolderName)]:[],...s?["--container-system-data-folder",Kf(e.common.product.serverDataFolderName)]:[],...r?["--workspace-folder",r]:[],...(i||[]).map(_=>["--id-label",_]).flat(),"--container-id",o,"--log-level",ks(h.getLogLevel()),"--log-format","json",...a?["--config",we(a,g.platform)]:[],...u?["--override-config",we(u,g.platform)]:[],"--default-user-env-probe",h.defaultUserEnvProbe,"--skip-non-blocking-commands",String(l),...h.skipPostAttach?["--skip-post-attach"]:[],"--prebuild",String(p),"--stop-for-personalization",String(d),...[].concat(...Object.keys(m).map(_=>["--remote-env",`${_}=${m[_]}`])),"--mount-workspace-git-root",String(!h.cliMode),...R?["--terminal-columns",String(R.columns),"--terminal-rows",String(R.rows)]:[],...y?["--dotfiles-repository",y]:[],...x?["--dotfiles-install-command",x]:[],...E?["--dotfiles-target-path",E]:[]]);if((T==null?void 0:T.outcome)!=="success")throw new ve({description:`devcontainer command failed: ${T?JSON.stringify(T):"data missing"}`});return T.result}}async function yu(e,t,n,r,i,o,s,a,u=!1){let{cliHost:c,output:l}=e,d=await js(e,["read-configuration",...e.dockerPath!=="docker"?["--docker-path",e.dockerPath]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],...t?["--workspace-folder",t]:[],...(o||[]).map(p=>["--id-label",p]).flat(),...s?["--container-id",s]:[],"--log-level",ks(r),"--log-format","json",...n?["--config",we(n,c.platform)]:[],...a?["--override-config",we(a,c.platform)]:[],"--include-merged-configuration","--mount-workspace-git-root",String(!u),...l.dimensions?["--terminal-columns",String(l.dimensions.columns),"--terminal-rows",String(l.dimensions.rows)]:[],...Object.keys(i).length>0?["--additional-features",JSON.stringify(i)]:[]]);return d.configuration.configFilePath=d.configuration.configFilePath&&xe.revive(d.configuration.configFilePath).with({scheme:c.type==="local"?"file":ut.scheme}),d}async function Y6(e,t,n,r){if(!e.cliMode&&t&&n.workspaceMount)try{let i=c6(n.workspaceMount);if(i.type==="bind")return await r.shellServer.exec(`command -v git >/dev/null 2>&1 && cd '${i.target}' && test -d .git && test "$(stat -c %u .)" != "$(id -u)"`),e.cliHost.platform==="win32"?await me({exec:e.cliHost.exec,cmd:"powershell",args:["-NoProfile","-NonInteractive","-Command",'if (-not (Get-Acl . | foreach { $_.Owner }).Equals("$env:UserDomain\\$env:UserName")) { exit 1 }'],cwd:i.source,output:e.output}):await me({exec:e.cliHost.exec,cmd:"/bin/sh",args:["-c",`cd '${i.source}' && test "$(stat -${e.cliHost.platform==="darwin"?"f":"c"} %u .)" = "$(id -u)"`],output:e.output}),async()=>{await r.shellServer.exec(`git config --global --add safe.directory '${i.target}'`)}}catch{}}var Ft=B(require("vscode"));var ad={id:"openDocumentation",title:"Open Documentation",isLastAction:!1,applicable:(e,t)=>!t,execute:async e=>{await Ft.env.openExternal(Ft.Uri.parse("https://aka.ms/vscode-remote/container/resolve-failed"))}},cd={id:"reloadWindow",title:"Reload Window",isLastAction:!0,applicable:(e,t)=>!t&&e.data.reload!==!1,execute:async e=>{e.manageContainer&&e.dockerParams&&e.containerId&&await Ae(e.dockerParams,"stop","-t","0",e.containerId),await Ft.commands.executeCommand("workbench.action.reloadWindow")}},cK={id:"rebuildContainer",title:"Rebuild Container",isLastAction:!0,applicable:(e,t)=>e.manageContainer&&!!e.dockerParams&&!!e.containerId&&!t,execute:async e=>{await Ae(e.dockerParams,"rm","-f",e.containerId),await Ft.commands.executeCommand("workbench.action.reloadWindow")}},pm={id:"openRecent",title:"Open Recent...",isLastAction:!0,applicable:(e,t)=>!t,execute:async e=>{await Ft.commands.executeCommand("workbench.action.openRecent")}},uK={id:"startContainer",title:"Start Container",isLastAction:!0,applicable:e=>!!e.dockerParams&&!!e.containerId&&e.data.start===!0,execute:async e=>{await Ae(e.dockerParams,"start",e.containerId),await Ft.commands.executeCommand("workbench.action.reloadWindow")}},lK={id:"chooseContainer",title:"Choose Container",isLastAction:!0,applicable:e=>e.data.attach===!0,execute:async()=>{await Ft.commands.executeCommand("remote-containers.attachToRunningContainer")}},bu={id:"closeRemote",title:"Close Remote",isLastAction:!0,applicable:(e,t)=>{if(!t)return!1;let n=Ft.workspace.workspaceFile;return!(n&&n.scheme==="untitled"||Ft.workspace.textDocuments.some(i=>i.isDirty))},execute:async e=>{await Ft.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null})}},fm=[{id:"retry",title:"Retry",isLastAction:!0,applicable:(e,t)=>t&&e.data.reload!==!1,execute:cd.execute},{id:"moreActions",title:"More Actions...",isCloseAffordance:!0,isLastAction:!1,applicable:(e,t)=>t,execute:async e=>{}},{id:"learnMore",title:"Learn More",isLastAction:!1,applicable:(e,t)=>t&&!!e.data.learnMoreUrl,async execute(e){await Ft.env.openExternal(Ft.Uri.parse(e.data.learnMoreUrl))}}];async function _u(e,t,n,r=!1,i){var p,f,m,h,g,v;let o=e instanceof ve?e:new ve({description:"An error occurred setting up the container.",originalError:e});if(i){i.show();let y=o.originalError&&(o.originalError.stack||o.originalError.message)||o.originalError;if(y!==void 0){i.log.write(et(String(y)));let x=(f=(p=o.originalError)==null?void 0:p.stdout)==null?void 0:f.toString().trim();x&&i.log.write(x);let E=(h=(m=o.originalError)==null?void 0:m.stderr)==null?void 0:h.toString().trim();E&&i.log.write(et(E)),(g=o.originalError)!=null&&g.code&&i.log.write(`Exit code ${(v=o.originalError)==null?void 0:v.code}`)}}if(e.message.indexOf("Cancelled container configuration selection")!==-1)throw await Ft.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),Ft.RemoteAuthorityResolverError.NotAvailable(void 0,!1);let s=o.actions;s.length||(s=[ad]);let a=await s.reduce(async(y,x)=>await x.applicable(o,!0)?[...await y,x]:y,Promise.resolve([])),u=await Ft.window.showErrorMessage(o.description,{modal:!0},...a);if(u&&(aK(n,t,u.id),await u.execute(o)),u&&u.isLastAction){if(r)throw Ft.RemoteAuthorityResolverError.NotAvailable(void 0,!0);return}let c=await s.reduce(async(y,x)=>await x.applicable(o,!1)?[...await y,x]:y,Promise.resolve([])),l=c.map(y=>({label:y.title,action:y}));async function d(){let x=await(c.length?Ft.window.showQuickPick(l,{ignoreFocusOut:!0,placeHolder:"Pick an action to help resolve the problem."}):Promise.resolve(void 0));x&&(aK(n,t,x.action.id),x.action.execute(o).catch(console.error),x.action.isLastAction||await d())}if(d().catch(console.error),r)throw Ft.RemoteAuthorityResolverError.NotAvailable(void 0,!0)}function aK(e,t,n){e.sendTelemetryEvent("errorAction",{resolver:t,action:n})}var te=B(require("vscode")),Sg=B(require("path"));var Pae=B(Woe()),Sl=B(Eae());var bae=B(require("vscode"));function ir(e){let t=bae.workspace.getConfiguration(),n=Lf(e),r=t.get(n),i=ou(e),o=t.get(i);if(o!=null&&o!==r){let s=t.inspect(n);if(!s||s.globalValue===void 0&&s.workspaceValue===void 0&&s.workspaceFolderValue===void 0)return o}return r}function j$(e,t){return e.affectsConfiguration(Lf(t))||e.affectsConfiguration(ou(t))}var g0=B(require("path"));var Yi=B(require("vscode"));async function v0(){await Yi.window.showInformationMessage("You need to first save your workspace in a folder containing all its workspace folders.",{modal:!0})}var y0="{.devcontainer.json,.devcontainer/devcontainer.json,.devcontainer/*/devcontainer.json}";async function Fp(e,t){let n;if(t.length>1){let r=Yi.window.createQuickPick();r.placeholder="Select a devcontainer.json file.",r.busy=!0,r.enabled=!1,r.show(),r.items=await Promise.all(t.map(async o=>{let s=we(o,e.platform),a=Ze((await e.readFile(s)).toString()),u,c,l=e.path.dirname(s),d=e.path.dirname(l);return e.path.basename(l)===".devcontainer"?(u="Main",c=d):e.path.basename(d)===".devcontainer"?(u=e.path.basename(l),c=e.path.dirname(d)):(u="Project Root",c=l),{label:a.name||u,description:e.path.relative(c,s),uri:o,buttons:[{iconPath:new Yi.ThemeIcon("go-to-file"),tooltip:"Open File"}]}})),r.busy=!1,r.enabled=!0;let i=await new Promise(o=>{r.onDidAccept(()=>o(r.selectedItems[0])),r.onDidHide(()=>o(void 0)),r.onDidTriggerItemButton(({item:s})=>{Yi.commands.executeCommand("vscode.open",s.uri),o(void 0)})});r.dispose(),n=i?xe.from(i.uri):"cancelled"}else t.length===1&&(n=t[0]);return n}function Cg(e,t){let n=Yi.workspace.fs;return{platform:e,path:e==="win32"?g0.win32:g0.posix,async isFile(r){try{return((await n.stat(Lc(e,t,r))).type&Yi.FileType.File)!==0}catch(i){if((i==null?void 0:i.code)==="FileNotFound"||(i==null?void 0:i.code)==="FileNotADirectory")return!1;throw i}},async readFile(r){try{let i=await n.readFile(Lc(e,t,r));return Buffer.from(i)}catch(i){if((i==null?void 0:i.code)==="FileNotFound"){let o=new Error(`Could not read file: ${r}`);throw o.originalError=i,o.code="ENOENT",o}throw i}},async rename(r,i){try{let o=Lc(e,t,r),s=Lc(e,t,r);await n.rename(o,s)}catch(o){if((o==null?void 0:o.code)==="FileNotFound"){let s=new Error(`Could not rename  ${r} -> ${i}`);throw s.originalError=o,s.code="ENOENT",s}throw o}},async writeFile(r,i){await n.writeFile(Lc(e,t,r),i)},async readDir(r){return(await n.readDirectory(Lc(e,t,r))).map(o=>o[0])},async readDirWithTypes(r){return n.readDirectory(Lc(e,t,r))},async mkdirp(r){await n.createDirectory(Lc(e,t,r))},async toCommonURI(r){return Lc(e,t,r)}}}function Lc(e,t,n){let r=e==="win32"?"/"+n.replace(/\\/g,"/"):n;return t.with({path:r})}var zw=class{async readDocument(t){try{let n=await Yi.workspace.fs.readFile(t);return Buffer.from(n).toString()}catch{return}}async applyEdits(t,n,r){let i=Br(r,n);await Yi.workspace.fs.writeFile(t,Buffer.from(i))}};var $r="remote-containers.revealLogTerminal",Y$="remote-containers.revealPostCreateTerminal",Up="remote-containers.openDevContainerFile",Rae="remote-containers.openRepositoryInVolume",w0="remote-containers.openRepositoryInUniqueVolume",Aae="remote-containers.openRepositoryFromRemoteHubWithEditSession",Dae="remote-containers.openRepositoryFromGitWithEditSession",kae="remote-containers.openPullRequestInVolume",qp=te.Uri.parse("https://aka.ms/vscode-remote/containers/folder-setup"),$p=te.Uri.parse("https://aka.ms/vscode-dev-containers"),_ae=new CE,qr={onRemoveOnShutdownChangedEmitter:_ae,onRemoveOnShutdownChanged:_ae.event,results:new Map},Mp,Ki=e=>A_(e,te.env.appRoot);function E0(e,t,n,r,i){return async(o,s)=>{if(te.commands.executeCommand("setContext","forwardedPortsViewEnabled",!0),s.resolveAttempt>1){let a=n.get(o);if(!a)throw new Error("Reconnect attempt without old result.");let u=`Reconnection attempt ${s.resolveAttempt-1}`,c=e.log.start(u),{cliHost:l}=a.params;if(l.reconnect)try{await l.reconnect()}catch(d){throw e.log.write(et(String(d&&(d.stack||d.message)||d))),te.RemoteAuthorityResolverError.TemporarilyNotAvailable("Cannot reconnect to remote host.")}if(a.dockerContainerId){let d=await Di(a.dockerParams,a.dockerContainerId);if(!d)throw te.RemoteAuthorityResolverError.NotAvailable("Container no longer exists.");if(d.State.Status==="paused")throw te.RemoteAuthorityResolverError.TemporarilyNotAvailable("Container is paused.");if(d.State.Status!=="running")throw te.RemoteAuthorityResolverError.NotAvailable("Container is no longer running.")}return e.log.stop(u,c),{...a.resolvedAuthority,isTrusted:a.isTrusted}}else{let a="Resolving Remote",u=e.log.start(a),c=await i(o,e,t);return U1e(c.params,c.properties).catch(l=>{}),n.set(o,c),r(),e.log.stop(a,u),te.window.withProgress({location:te.ProgressLocation.Window,title:oMe,cancellable:!1},async l=>{await vY(c.params.backgroundTasks)}).then(void 0,l=>{e.log.write(et(String(l&&(l.stack||l.message)||l)))}),{...c.resolvedAuthority,...c.tunnelInformation,isTrusted:c.isTrusted}}}}async function U1e(e,t){if(!t.nodeExecutable)return;let n=await nt(Sg.join(e.extensionPath,"dist","node","remoteCloudGuesser.js"),{encoding:"utf8"}),{stdout:r}=await Va(e,t,[t.nodeExecutable,"-e",n],void 0,{silent:!0}),i=r.toString().trim();e.sendTelemetryEvent("extraInfo",{remoteCloud:i})}var H$;async function q1e(e){return H$||(H$=Hs(Sg.join(__dirname,"..",".."),Fc,e)),H$}var Yw={};async function Fc(e,t=!0){var n;if(e.counter&&((n=Yw[e.prompt])==null?void 0:n.from)===e.counter&&delete Yw[e.prompt],!Yw[e.prompt]){if(!t)return"";Yw[e.prompt]={result:Promise.resolve(te.window.showInputBox({prompt:e.prompt||"Enter password",password:!0,ignoreFocusOut:!0}).then(r=>r||"")),from:e.counter}}return Yw[e.prompt].result}async function Qe(e,t,n,r=!0,i=q1e(t),o=!0){var g;let s=!n;if(s){if(qr.results.size){let v=[...qr.results.values()].filter(y=>y.dockerParams)[0];return oK(v.dockerParams)}if(Mp)return Mp}n&&typeof n!="string"&&"scheme"in n&&(n.scheme==="file"?n=n.fsPath:n=jf(n));let a;if(!n){let v=(te.workspace.workspaceFolders||[])[0];if(te.env.remoteName==="wsl")v?n=jf(v.uri):n={wslDistro:S_(te.env.remoteAuthority),wslPath:"/"};else if(te.env.remoteName==="ssh-remote"){let y=$1e(te.env.remoteAuthority);if(y){let{user:x,hostName:E,port:b}=y;a={host:`ssh://${x?`${x}@`:""}${E}${b?`:${b}`:""}`},v?n=v.uri.path:n="/"}}else te.env.remoteName==="attached-container"?a=(g=dm(te.env.remoteAuthority))==null?void 0:g.settings:(v==null?void 0:v.uri.scheme)==="file"&&(n=v.uri.fsPath);n||(n=process.cwd())}let u=a&&"host"in a&&a.host||void 0,c=r?va():{executeInWSL:"never",defaultDistro:void 0},l=Ai(u,n,Ki,c,e.extensionPath,await go(),await Yv(te.env.appRoot),t,Ps,{sshAskpassEnv:i,settings:Tg()});o&&!await Promise.race([l,mo(1e3)])&&await te.window.withProgress({location:te.ProgressLocation.Notification,title:`[Setting up Dev Containers (show log)](command:${$r} "Show details in terminal")`,cancellable:!1},async()=>{await l});let d=await l,p=Is(),f=ga();if(!a){let v=te.workspace.getConfiguration("docker"),y=v.get("environment")||{},x=y.DOCKER_CONTEXT||v.get("context")||d.env.DOCKER_CONTEXT;if(!x){let E={cliHost:d,dockerCLI:p,dockerComposeCLI:Ws({exec:d.exec,env:{},output:He},p,f),dockerComposePath:f,env:{},output:He};x=await eO(E)||"default"}x&&x!=="default"?a={context:x}:(a={...Un(d.env),...["host","certPath","tlsVerify"].reduce((E,b)=>j1e(E,v,b),{}),...Un(y)},Object.keys(a).length||(a=void 0))}let m={...await i,...lm(d,a)},h={cliHost:d,dockerCLI:p,dockerComposeCLI:Ws({exec:d.exec,env:m,output:t},p,f),dockerComposePath:f,env:m,output:t};return s&&(Mp=h,K$(e)),h}var x0;function K$(e){if(x0)return x0;let t=V1e(e);return e.subscriptions.push(t),e.subscriptions.push(t.event(()=>{let n=Mp==null?void 0:Mp.cliHost;Mp=void 0,n!=null&&n.terminate&&n.terminate()})),x0=t.event,x0}function $1e(e){let t=/^ssh-remote\+(.*)$/.exec(e);if(!t)return;let n=t[1];try{let r=JSON.parse(Buffer.from(n,"hex").toString("utf8"));if(r&&r.hostName)return r}catch{}return{hostName:n}}function j1e(e,t,n){let r=t.get(n);return r&&(e[n]=r),e}var H1e=["docker.context","docker.host","docker.certPath","docker.tlsVerify","docker.environment"],B1e=["dockerComposePath","executeInWSL","executeInWSLDistro"];function V1e(e){let t=new te.EventEmitter,n=te.workspace.onDidChangeConfiguration(async u=>{(H1e.some(c=>u.affectsConfiguration(c))||B1e.some(c=>j$(u,c)))&&t.fire()}),r,i,o,s=()=>{(async()=>{i||(i=await Ai(void 0,process.cwd(),Ki,va(),e.extensionPath,await go(),void 0,He,Ps));let u={cliHost:i,dockerCLI:Is(),dockerComposeCLI:Ws({exec:i.exec,env:{},output:He},Is(),ga()),dockerComposePath:ga(),env:{},output:He},c=await eO(u);c===void 0?o=setTimeout(s,2*60*1e3):(c!==r&&(r!==void 0&&t.fire(),r=c),o=setTimeout(s,2*1e3))})().catch(console.error)};s();let a=t.dispose;return t.dispose=()=>{n.dispose(),o&&clearTimeout(o),a.call(t)},t}function jp(){let e=te.workspace.workspaceFolders;if((e==null?void 0:e.length)===1){let t=e[0].uri;return X$(t)}return null}function X$(e){if(e&&e.scheme==="vscode-remote"&&/dev-container\+(.*)/.exec(e.authority)){let n=Oi(e.authority);if(Mn(n))return null;if(Ir(n)&&n.inspectVolume&&n.inspectVolume===!0)return n}return null}function b0(e){return{getConfigurationState:()=>e.get("configurationState"),updateConfigurationState:async t=>e.update("configurationState",t),containerOutdated:W1e}}async function W1e(e){let t="Rebuild",n="Ignore",r=await te.window.showInformationMessage(`Configuration file(s) changed: ${e.join(", ")}. The container might need to be rebuilt to apply the changes.`,t,n);if(r===t)return te.commands.executeCommand("remote-containers.rebuildContainer");if(r===n)return"ignore"}async function G1e(e){return e?Cae():Array.from(new Set([...ir("defaultExtensions")||[],...Cae()]))}function Oae(){return ir("defaultFeatures")||{}}function Cae(){let e=te.env.language,t=e.indexOf("-"),n=Sae(e)||(t!==-1?Sae(e.substr(0,t)):void 0);return n?[n]:[]}function Sae(e){let t=e.toLowerCase();return te.extensions.all.filter(n=>{var i;let r=n.packageJSON&&n.packageJSON.contributes;return(i=r==null?void 0:r.localizations)!=null&&i.length?!!r.localizations.find(o=>{var s;return((s=o==null?void 0:o.languageId)==null?void 0:s.toLowerCase())===t}):!1}).map(n=>n.id)[0]}function Tae(){return!!te.workspace.getConfiguration().get("workbench.enableExperiments")}function z1e(){return!!ir("enableWebAccess")}function _0(){return ir("workspaceMountConsistency")||"cached"}function C0(){return!!ir("experimentalUpdateRemoteUserUIDOnMacOS")}function S0(){return ir("cacheVolume")??!0}function Y1e(){let e=ir("copyGitConfig");return typeof e=="boolean"?e:!0}function K1e(){return ir("gitCredentialHelperConfigLocation")||"global"}function X1e(){let e=ir("dockerCredentialHelper");return typeof e=="boolean"?e:!0}function Q1e(){let e=ir("mountWaylandSocket");return typeof e=="boolean"?e:!0}function Is(){return ir("dockerPath")||"docker"}function va(){return{executeInWSL:Q$(),defaultDistro:J$()}}function Q$(){return process.platform!=="win32"?"never":ir("executeInWSL")?"always":"forWSLPath"}function J$(){if(process.platform==="win32")return ir("executeInWSLDistro")||void 0}function ga(){return ir("dockerComposePath")||"docker-compose"}function Xw(){let e=ir("logLevel")||"debug";return oH(e)}var J1e=e=>te.workspace.onDidChangeConfiguration(t=>{j$(t,"logLevel")&&e(Xw())});function Z1e(){let e=te.workspace.getConfiguration(),t=n=>(e.get(ou(n),"")||e.get(n,"")).trim();return{repository:t("dotfiles.repository")||void 0,installCommand:t("dotfiles.installCommand")||void 0,targetPath:t("dotfiles.targetPath")||"~/dotfiles"}}function Tg(){let e=te.workspace.getConfiguration();return{executablePath:e.get("remote.SSH.path"),configFilePath:e.get("remote.SSH.configFile")}}function Mc(e,t,n,r,i,o,s,a){var d,p;let u={resolver:t,outcome:n};r&&(u.hostType=r.cliHost.type),i&&(u.configProperties=JSON.stringify(Object.keys(i)),u.configExtensions=JSON.stringify(((p=(d=i.customizations)==null?void 0:d.vscode)==null?void 0:p.extensions)||[]),u.configFeatures=JSON.stringify(Object.keys(i.features||{})),"image"in i?u.configType="image":hr(i)?u.configType="dockerfile":"dockerComposeFile"in i&&(u.configType="dockerCompose")),o&&(u.configLocation=o),s&&(u.hardwareId=s.osRelease.hardware,u.osReleaseId=s.osRelease.id,u.osReleaseVersion=s.osRelease.version);let c=a&&a.originalError,l=c&&(c.stack||c.message||String(c))||a&&a.description;l&&(u.errorMessage=l),e.sendTelemetryEvent("resolver",u)}var B$=class{constructor(t){this.onClose=t;this.writeEmitter=new te.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.inputEmitter=new te.EventEmitter;this.onDidInput=this.inputEmitter.event;this.queue=[];this.ready=!1}open(){this.ready=!0,this.queue.forEach(t=>this.writeEmitter.fire(t))}close(){this.ready=!1,this.onClose()}write(t){this.queue.push(t),this.ready&&this.writeEmitter.fire(t)}handleInput(t){this.inputEmitter.fire(t)}},Kw=class{constructor(t,n,r=void 0){this.sessionStart=n;this.outputTerminal=new B$(()=>this._terminal=void 0);this.onDidInput=this.outputTerminal.onDidInput;this._name="Dev Containers";this._revealOnNextOutput=!1;let i=o=>{this.outputTerminal.write(o),this.revealOnNextOutput&&(this.revealOnNextOutput=!1,this.show())};this.logFilePath=t?Sg.join(t,`remoteContainers-${n.toISOString().replace(/:/g,"-")}.log`):void 0,this.log=eMe(i,Xw,this.logFilePath,n,r),Object.defineProperty(this.log,"dimensions",{get:()=>{var o;return(o=this._terminal)==null?void 0:o.dimensions}}),this.log.onDidChangeDimensions=o=>te.window.onDidChangeTerminalDimensions(s=>{s.terminal===this._terminal&&o(s.dimensions)})}get name(){return this._name}set name(t){this._name=t}get revealOnNextOutput(){return this._revealOnNextOutput}set revealOnNextOutput(t){this._revealOnNextOutput=t}show(){this._terminal||(this._terminal=te.window.createTerminal({name:this.name,pty:this.outputTerminal})),this._terminal.show()}dispose(){this._terminal&&this._terminal.dispose()}get shown(){return!!this._terminal}};function eMe(e,t,n,r,i=void 0){let o=[];return n&&o.push(aH(n,()=>Math.min(2,t()))),o.push(cH(e,t,r)),Zi(sH(o,i))}async function Z$(e,t){let n=await Di(e,t.Id);if(n&&n.State.Status==="running")try{await Ae(e,"stop",n.Id)}catch(r){te.window.showErrorMessage(`Error stopping container: ${r.message}`)}}async function T0(e,t){let n=await Di(e,t.Id);if(n&&n.State.Status!=="running")try{await Ae(e,"start",n.Id)}catch(r){te.window.showErrorMessage(`Error starting container: ${r.message}`)}}async function Nae(e,t){try{await Ae(e,"rm",t)}catch(n){te.window.showErrorMessage(`Error removing container: ${n.message}`)}}async function ej(e,t){try{await Ae(e,"volume","rm","--force",t)}catch(n){te.window.showErrorMessage(`Error removing volume: ${n.message}`)}}function tMe(){return te.env.sessionId!=="someValue.sessionId"?te.env.sessionId:`${te.env.sessionId}_${Date.now()}`}function nMe(e,t){let n=te.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:e.authority,formatting:{label:"${path}",separator:"/",workspaceSuffix:t,tildify:!0}});e.shutdowns.push(n.dispose.bind(n))}async function Lae(e,t){if(e.globalState.get("removeOnStartup")===t)return await e.globalState.update("removeOnStartup",null),!0;let n=e.workspaceState.get("removeOnStartup",!1);return n&&await e.workspaceState.update("removeOnStartup",null),n}async function Fae(e,t){await e.workspaceState.update("removeOnStartup",t)}async function tj(e,t){await e.globalState.update("removeOnStartup",t)}async function Mae(e,t){return e.globalState.get("buildNoCache")===t?(await e.globalState.update("buildNoCache",null),!0):!1}async function Qw(e,t){await e.globalState.update("buildNoCache",t)}async function Jw(e,t,n,r,i){await e.globalState.update("openEditorsOnStartup",{workspaceFolder:t,fileWithError:n==null?void 0:n.toString(),logFile:r,openLog:i})}async function Uae(e){var n;let t=e.globalState.get("openEditorsOnStartup");if(t){await e.globalState.update("openEditorsOnStartup",void 0);let r=(n=te.workspace.workspaceFolders)==null?void 0:n.some(o=>o.uri.fsPath===t.workspaceFolder||o.uri.path===t.workspaceFolder),i=await jp();if(r||i&&i.repositoryPath===t.workspaceFolder&&(r=!0),r){let o=t.fileWithError?xe.parse(t.fileWithError):void 0;if(t.openLog==="onTheSide"&&await Iae(o),t.openLog&&t.logFile){let s={viewColumn:t.openLog==="onTheSide"?te.ViewColumn.Beside:te.ViewColumn.One,preserveFocus:!0},a=await te.window.showTextDocument(te.Uri.file(t.logFile),s),u=new te.Position(a.document.lineCount-1,0);a.selection=new te.Selection(u,u),a.revealRange(a.selection)}return t.openLog!=="onTheSide"&&await Iae(o),!0}}return!1}function qae(e){return[`vscode-remote:/workspaces/${e}/.devcontainer/devcontainer.json`,`vscode-remote:/workspaces/${e}/.devcontainer.json`]}async function Iae(e){return e?te.commands.executeCommand("vscode.open",te.Uri.parse(e.toString()),{viewColumn:te.ViewColumn.One}):te.commands.executeCommand("remote-containers.openDevContainerFile",void 0,{viewColumn:te.ViewColumn.One})}async function nj(){return qr.results.size?[...qr.results.values()].filter(e=>e.config).map(e=>e.config.configFilePath):te.workspace.findFiles(y0)}function Tl(){return ir("repositoryConfigurationPaths")||[]}async function rMe(e,t,n="localhost"){await te.workspace.openTunnel({remoteAddress:{host:n,port:t}})}function $ae(e,t){let n=new Kw(void 0,t);n.name="Configuring...",n.revealOnNextOutput=!0;let r=!1;n.onDidInput(()=>{r&&(r=!1,n.dispose())});let i,o={enabled:!0,skipNonBlocking:!1,output:S4(n.log,"postCreate",e),onDidInput:n.onDidInput,done:()=>{n.shown&&(n.log.raw("\x1B[1mDone. Press any key to close the terminal.\x1B[0m"),r=!0),i()},promise:new Promise(s=>i=s)};return{channel:n,postCreate:o}}async function Ig(e){let{authority:t,extensionContext:n,sessionStart:r,progress:i,cliHost:o,env:s,cwd:a,wslSettings:u,isLocalContainer:c,telemetry:l,output:d,logFilePath:p,allowSystemConfigChange:f,postCreate:m}=e,h=z1e(),g=tMe(),v=await go(),y;if(o.type!=="wsl"&&process.platform==="win32")try{y=await T_(void 0,u,n.extensionPath,v,l.product,Ki,d,Ps)}catch(E){d.write("Could not connect to WSL."),d.write((E==null?void 0:E.message)||String(E)),E!=null&&E.stdout&&d.write(E.stdout.toString()),E!=null&&E.stderr&&d.write(E.stderr.toString())}let x={computeExtensionHostEnv:!0,...l,appRoot:te.env.appRoot,localCacheFolder:v,containerSessionDataFolder:Sg.posix.join("/tmp",`devcontainers-${g}`),extensionPath:n.extensionPath,sessionId:g,sessionStart:r,authority:t,cliHost:o,env:s,cwd:a,isLocalContainer:c,getAdditionalExtensionsToInstall:G1e,additionalFeaturesToInstall:Oae(),isCopyGitConfigEnabled:Y1e(),credentialHelperConfigLocation:K1e(),isDockerCredentialHelperEnabled:X1e(),dotfilesConfiguration:Z1e(),progress:cMe(i),output:d,logFilePath:p,allowSystemConfigChange:f,defaultUserEnvProbe:"loginInteractiveShell",postCreate:m,getTelemetryLevel:()=>l.getTelemetryLevel(),forwardServerPort:!0,web:h,getLogLevel:Xw,onDidChangeLogLevel:J1e,loadNativeModule:Ki,shutdowns:[],forwardedPorts:new Set,backgroundTasks:[],setWorkspaceName:E=>nMe(x,E),openTunnel:rMe,getTunnels:()=>Promise.resolve(te.workspace.tunnels),onAdoptProcess:te.window.onDidOpenTerminal,persistedFolder:await sK(o,n.globalStoragePath),alternateDownload:Ps,skipPostAttach:!1,wslCLIHost:y,localWaylandSocket:c?await iMe(o,y,d):void 0};return x}async function iMe(e,t,n){if(!Q1e())return;let r=await ek(e);if(r)return r;let i=t&&await ek(t);if(i)return g4(t,i,n)}async function Ps(e,t){let n=await te.commands.executeCommand("_workbench.downloadResource",te.Uri.parse(e));if(!n)throw new ve({description:"Downloading the VS Code Server failed. Please try again later."});await ba(n.fsPath,t)}var Pg=`[Starting Dev Container (show log)](command:${$r} "Show details in terminal")`,oMe=`[Configuring Dev Container (show log)](command:${Y$} "Show details in terminal")`,sMe=`[Reading Dev Container Configuration (show log)](command:${$r} "Show details in terminal")`,aMe={[0]:"",[1]:"Cloning Repository",[2]:"Building image",[3]:"Starting container",[4]:"Installing server",[5]:"Starting server",[6]:""};function cMe(e){let t=0;return n=>{let r=6-n,i=(100-t)/(r+1);e.report({message:aMe[n],increment:i}),t+=i}}function jae(e,t,n){let{name:r,publisher:i,version:o,aiKey:s}=t;if(!s)return eH(t,n);let a=i?`${i}.${r}`:r,u=new Pae.default(s);e.subscriptions.push(u);let c=new V$(u),l=uMe(n),d=Tae()?(0,Sl.getExperimentationService)(a,o,l,c,e.globalState):void 0;return{sendTelemetryEvent:c.sendTelemetryEvent.bind(c),isCachedFlightEnabled:async p=>d&&Tae()?d.isCachedFlightEnabled(p):!1,product:n,package:t,getTelemetryLevel:()=>u.telemetryLevel}}var V$=class{constructor(t){this.baseReporter=t;this.sharedProperties={}}sendTelemetryEvent(t,n,r){this.baseReporter.sendTelemetryEvent(t,{...this.sharedProperties,...n},r)}setSharedProperty(t,n){this.sharedProperties[t]=n}postEvent(t,n){let r={};for(let[i,o]of n)r[i]=o;this.sendTelemetryEvent(t,r)}};function uMe(e){switch(e.quality){case"stable":return Sl.TargetPopulation.Public;case"insider":return Sl.TargetPopulation.Insiders;case"exploration":return Sl.TargetPopulation.Internal;case void 0:return Sl.TargetPopulation.Team;default:return Sl.TargetPopulation.Public}}var Zw="Opening a folder in a Dev Container may execute arbitrary code both inside and outside the container.",W$="userConfirmedCloneRepositoryInDevContainerRequiresTrust";async function eE(e,t){if(t!=null&&t.toLowerCase().startsWith("https://github.com/microsoft/vscode-remote-try-")||e.globalState.get(W$))return!0;let n="Got It",r="Learn More",i=await te.window.showWarningMessage("Cloning a repository in a Dev Container may execute arbitrary code. ",{modal:!0,detail:"Only clone a repository in a Dev Container if you trust its authors."},n,r);return i===n?(await e.globalState.update(W$,!0),!0):(i===r&&te.env.openExternal(te.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}var G$="userConfirmedAttachToContainerRequiresTrust";async function Il(e){if(e.globalState.get(G$))return!0;let t="Got It",n="Learn More",r=await te.window.showWarningMessage("Attaching to a container may execute arbitrary code.",{modal:!0,detail:"Only attach to a container if you trust its origin."},t,n);return r===t?(await e.globalState.update(G$,!0),!0):(r===n&&te.env.openExternal(te.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}function Hae(e){e.globalState.setKeysForSync([W$,G$,z$])}function Bae(){let e=process.env.PATH||"";process.platform==="darwin"&&!/(^|:)\/usr\/local\/bin(:|$)/i.test(e)&&(process.env.PATH=`${e}:/usr/local/bin`)}var z$="updatedToPreRelease2",lMe="2022-01-19T05:14:31.474Z";async function Vae(e,t){try{t.quality==="insider"&&t.date&&t.date.localeCompare(lMe)>=0&&!e.globalState.get(z$,!1)&&(await e.globalState.update(z$,!0),await te.commands.executeCommand("workbench.extensions.installExtension","ms-vscode-remote.remote-containers",{installPreReleaseVersion:!0}))}catch(n){console.error(n)}}async function tE(e,t,n,r,i=!1){try{return my(e,t,n,Xw(),void 0,void 0,r,i)}catch{return}}async function rj(e,t,n,r,i=!1){let o=(async()=>{try{return yu(e,t,n,Xw(),Oae(),void 0,void 0,r,i)}catch{return}})(),s=await Promise.race([o,new Promise(a=>setTimeout(()=>a("timeout"),1e3))]);return s!=="timeout"?s:te.window.withProgress({location:te.ProgressLocation.Notification,title:sMe,cancellable:!0},async(a,u)=>Promise.race([o,new Promise(c=>{let l=u.onCancellationRequested(()=>{l.dispose(),c("canceled")})})]))}async function Hp(e){return te.commands.executeCommand("_workbench.addToRecentlyOpened",e)}var Qi=B(require("vscode")),xa=B(require("path"));var le=B(require("vscode"));var ice=B(bD());var A0=B(require("path"));var Wae=B(tf()),Gae=B(require("url"));function zae(e,t){return new Promise((n,r)=>{let i=new Gae.URL(e.url),o={hostname:i.hostname,port:i.port,path:i.pathname+i.search,method:e.type,headers:e.headers},s=Wae.https.request(o,a=>{if(a.statusCode<200||a.statusCode>299)r(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`)),t&&t.write(`HTTP request failed with status code ${a.statusCode}: : ${a.statusMessage}`,5);else{a.on("error",r);let u=[];a.on("data",c=>u.push(c)),a.on("end",()=>n(Buffer.concat(u)))}});s.on("error",r),e.data&&s.write(e.data),s.end()})}async function Pl(e){let r=await zae({type:"GET",url:"https://containers.dev/static/devcontainer-index.json",headers:{"user-agent":"devcontainers-vscode",Accept:"application/json"}},e),i=Ze(r.toString());if(i.collections.length===0||i.collections[0].features.length===0){e.write("No container features retrieved from index.",5);return}return i}var Cn=B(require("vscode")),oj=B(require("os"));var iE=B(require("path"));var jn=B(require("vscode"));var Yae="Keep Defaults",dMe="Configure Options",nE={iconPath:new jn.ThemeIcon("check-all"),tooltip:"Finish"};async function rE(e,t,n,r=[],i=!0,o=!1){if(!t.length)return{};let s={iconPath:new jn.ThemeIcon("info"),tooltip:"Open Documentation"},a=e.quickPick.onDidTriggerItemButton(h=>{let g=h.item.feature.documentationURL;jn.env.openExternal(jn.Uri.parse(g))}),u=t.map(h=>{let g=r.indexOf(h)!==-1,v;if(g)v="$(lock) Feature is included in base image and cannot be removed";else if(h.owner){let y=h.owner==="devcontainers"?"$(verified)":"";v=`${h.owner||"Unknown Publisher"} ${y}`}else v=void 0;return{label:h.name,detail:h.description,description:v,picked:n.indexOf(h)!==-1,buttons:h.documentationURL?[s]:void 0,feature:h,isAlreadyInstalledViaBaseImage:g,kind:jn.QuickPickItemKind.Default}}).sort((h,g)=>h.label.localeCompare(g.label)).sort((h,g)=>h.isAlreadyInstalledViaBaseImage===g.isAlreadyInstalledViaBaseImage?0:h.isAlreadyInstalledViaBaseImage?1:-1),c,l=e.quickPick,{matchOnDetail:d}=l;try{l.matchOnDetail=!0;let h=[];o&&h.push(jn.QuickInputButtons.Back),i&&h.push(nE),c=await Xi(l,u,"Select additional features to install","Select Features",!0,h)}finally{l.matchOnDetail=d}if(a.dispose(),!c)return;if(c.button===jn.QuickInputButtons.Back)return"back";let p=c.pick.filter(h=>!h.isAlreadyInstalledViaBaseImage).map(h=>h.feature),f={};if(!p||!p.length)return f;for(let h of t){let g=p.indexOf(h)!==-1;f[h.id]=g?{}:!1}return c.button===nE||!i||await jn.window.showQuickPick([Yae,dMe],{title:"Keep Feature defaults or configure options?",canPickMany:!1})===Yae?f:pMe(e,f,p,()=>rE(e,t,n,r))}async function pMe(e,t,n,r){return async function i(o,s,a){if(!s.length)return o;let u=s[0],c=o;if(!(u!=null&&u.options))return i(c,s.slice(1),a);let l,d;return l=await fMe(e,c,u),l&&(d=await mMe(e,l,u,a)),!l||!d?await a():i(d,s.slice(1),a)}(t,n,r)}async function fMe(e,t,n){let r=n==null?void 0:n.options;if(!r)return t;let o=Object.keys(r).filter(c=>{var l;return((l=r[c])==null?void 0:l.type)==="boolean"}).map(c=>{let l=r[c];return{label:c,description:l.description,key:c,value:!0,picked:!!(l!=null&&l.default)}});if(!o.length)return t;let s=n.id,a=n.name||s,u=await Xi(e.quickPick,o,`Select boolean options for ${a}`,`Select boolean options for '${a}'`,!0,[jn.QuickInputButtons.Back,nE]);if(!(!u||u.button===jn.QuickInputButtons.Back))return u.pick.reduce((c,l)=>({...c,[s]:{...c==null?void 0:c[s],[l.key]:l.value}}),t)}async function mMe(e,t,n,r){let i=n==null?void 0:n.options;if(!i)return t;let o=n.id,s=n.name||o;return async function a(u,c,l){if(!c.length)return u;let d=c[0],p=i[d],f=("enum"in p&&p.enum||"proposals"in p&&p.proposals||[]).map(g=>({label:String(g),value:g,description:p.default===g?"(default)":void 0,picked:!1}));if(f.length===0)return a(u,c.slice(1),l);let m=f.length===1?{pick:f[0],button:"ok"}:await Xi(e.quickPick,f,p.description||"Select a value",`Select options for '${s}'`,void 0,[jn.QuickInputButtons.Back,nE]);if(!m||m.button===jn.QuickInputButtons.Back)return;let h={...u,[o]:{...u==null?void 0:u[o],[d]:m.pick.value}};return m.button===nE?h:a(h,c.slice(1),l)}(t,Object.keys(i).filter(a=>{var u;return((u=i[a])==null?void 0:u.type)==="string"}),r)}var hMe=["png","md","json","txt","map"],gMe=["node_modules",".git","bin","out","dist",".vscode-test"],vMe=[{tag:"function.json",pattern:/^function\.json$/i},{tag:"package.json",pattern:/^package\.json$/i},{tag:"sln",pattern:/^.+\.sln$/i},{tag:"project.json",pattern:/^project\.json$/i},{tag:"csproj",pattern:/^.+\.csproj$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"amlignore",pattern:/^.+\.amlignore$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"environment.yml",pattern:/^environment\.yml$/i},{tag:"_config.yml",pattern:/^_config\.yml$/i},{tag:"_config.toml",pattern:/^_config\.toml$/i},{tag:"server.xml",pattern:/^server\.xml$/i},{tag:"web.xml",pattern:/^web\.xml$/i}],Kae={"Node.js":["package.json"],".NET Core":["sln","project.json","csproj"],"Azure Functions":["function.json"],"Azure Machine Learning":["azureml","amlignore"],Anaconda:["environment.yml"],Jekyll:["_config.yml","_config.toml"],Tomcat:["server.xml","web.xml"],Dapr:[]},Xae={"C#":["cs"],"C++":["cpp","cxx",".cc","c++"],"F#":["fs"],JavaScript:["js"],TypeScript:["ts"],Java:["java"],Elm:["elm"],Go:["go"],Python:["py","ipynb"],Ruby:["rb"],Perl:["pl"],PHP:["php"],R:["r"],PowerShell:["ps1"],Dart:["dart"],Rust:["rs"],Swift:["swift"],ReasonML:["re"],TerraForm:["tf"]},yMe=["ghcr.io/devcontainers/templates/docker-existing-docker-compose","ghcr.io/devcontainers/templates/docker-existing-dockerfile","ghcr.io/devcontainers/templates/codespaces-linux"];function Qae(e,t){let n=new Map;for(let r of t)if(r.platforms){if(yMe.indexOf(r.id)>-1)continue;let i=0,o=0,s=r.platforms;if(s[0]==="Any")i+=5;else for(let a of s)if(Xae[a]){let u=Xae[a];for(let c of u)e.fileTypes.get(c.toLowerCase())&&(i+=10),e.mostPopularFileType===c&&(i+=10)}else if(Kae[a]){let u=Kae[a],c=!1;for(let l of u)e.configFiles.get(l)&&(c=!0,o+=20);c||(o-=20)}n.set(r,i+(o<0?-4:o))}return n}async function Jae(e,t){return xMe(e,t.rootFolderPath,gMe,hMe)}async function xMe(e,t,n,r){let i=new Map,o=new Map,s=500;function a(f,m,h,g){let v=[];(e.readDirWithTypes||e.readDir)(f).then(x=>{if(h.count>=s)return h.count+=x.length,h.maxReached=!0,g(v);let E=x.length;if(E===0)return g(v);let b=x;h.count+x.length>s&&(h.maxReached=!0,E=s-h.count,b=x.slice(0,E)),h.count+=x.length;for(let C of b){let R=Array.isArray(C)?C[0]:C;(Array.isArray(C)?Promise.resolve((C[1]&1)!==0):e.isFile(e.path.join(f,R))).then(_=>{_?(v.push(R),--E===0&&g(v)):m.indexOf(R)===-1?a(e.path.join(f,R),m,h,A=>{if(v=v.concat(A),--E===0)return g(v)}):--E===0&&g(v)},()=>{if(--E===0)return g(v)})}},()=>g(v))}let u=f=>{i.has(f)?i.set(f,i.get(f)+1):i.set(f,1)},c=f=>{for(let m of vMe)m.pattern.test(f)&&(o.has(m.tag)?o.set(m.tag,o.get(m.tag)+1):o.set(m.tag,1))},l=f=>{if(f.lastIndexOf(".")>=0){let m=f.split(".").pop();m&&!r.includes(m)&&u(m.toLowerCase())}c(f)},d=f=>[...f.entries()].reduce((m,h)=>h[1]>m[1]?h:m,["",0])[0],p={count:0,maxReached:!1};return new Promise((f,m)=>{a(t,n,p,async h=>{h.forEach(l),f({configFiles:o,fileTypes:i,fileCount:p.count,mostPopularFileType:d(i)})})})}var ij=iE.default.join(__dirname,"..",".."),Zae=Cn.env.appRoot,wMe=e=>A_(e,Zae);async function Rg(e){let{fileHost:t,output:n}=e;n.write(" -- CREATEDEVCONTAINER v2");let r=await rce();if(r){let i=we(r,t.platform),o=At(t.path,i),s=await n_(t,o);if(s){let u="Continue";if(await Cn.window.showInformationMessage(`The workspace could fail to open in a container: ${s}`,{modal:!0},u)!==u)return!1}let a=await cj(e,o);if(a){let u=await t.toCommonURI(a);u&&Cn.window.showTextDocument(Cn.Uri.parse(u.toString()))}return!!a}return!1}async function I0(e,t,n,r,i=(o,s)=>s){return Cn.window.withProgress({location:Cn.ProgressLocation.Notification,title:"Adding Dev Container Configuration Files...",cancellable:!1},async()=>aj(e,t,n,r,i))}async function aj(e,t,n,r,i=(o,s)=>s){let{output:o}=e,s=iE.default.join(oj.tmpdir(),`tmp-output-dir-${Date.now()}`),a=iE.default.join(oj.tmpdir(),`tmp-dir-${Date.now()}`);e.quickPick.busy=!0,e.quickPick.enabled=!1;let u={executeInWSL:"forWSLPath",defaultDistro:void 0},c=await go(),l=process.cwd(),p={cliHost:await Ai(void 0,l,wMe,u,ij,c,void 0,o,void 0,void 0),dockerPath:"",dockerComposePath:"",extensionPath:ij,appRoot:Zae,output:o,package:await Xr(ij)},f=await js(p,["templates","apply","--workspace-folder",s,"--template-id",r.id,"--template-args",r.options?JSON.stringify(r.options):"{}","--features",r.features?JSON.stringify(r.features):"[]","--tmp-dir",a]),m="Skip",h;for(let g of f.files){let v=t.path.join(n.configFolderPath,g);if(await t.isFile(v)){let E=await Cn.window.showInformationMessage(`File '${g}' already exists, overwrite?`,{modal:!0},m,"Overwrite");if(!E)return;if(E===m)continue}await t.mkdirp(t.path.dirname(v));let y=await nt(iE.default.join(s,g)),x=i(g,y);await t.writeFile(v,x),!h&&sy(t.path,g)&&(h=v)}return await Hc(s,{recursive:!0,force:!0}),await Hc(a,{recursive:!0,force:!0}),e.quickPick.busy=!1,e.quickPick.enabled=!0,h}async function cj(e,t,n){let{fileHost:r,telemetry:i}=e,o=await R0(r,t);if(o){ya(await i,"exists");let u=we(o.uri,r.platform);if(!await Cn.window.showWarningMessage(`Dev Container configuration '${r.path.relative(t.configFolderPath,u)}' file already exists.`,{modal:!0},"Continue")){let l=await r.toCommonURI(u);l&&Cn.window.showTextDocument(Cn.Uri.parse(l.toString()));return}}let s=await uj(e,n,!1),a=await oE(s,r,t,lj);return s.quickPick.hide(),a}async function uj(e,t,n){let r=Cn.window.createQuickPick();r.ignoreFocusOut=!0,t&&(r.title=t);let i=await Pl(e.output);return{...e,quickPick:r,replaceExistingConfig:!0,existingConfig:void 0,telemetry:await e.telemetry,index:i,skipOptions:n}}async function lj(e,t,n,r){if(!e.index)return;let o=await P0(e,t,n);if(o)return o==="back"?r?r():void 0:I0(e,t,n,o)}var ece=["ghcr.io/devcontainers/templates/docker-existing-docker-compose","ghcr.io/devcontainers/templates/docker-existing-dockerfile"];async function P0(e,t,n){let{index:r,predefinedDefinitionsLearnMoreLink:i}=e,o=((r==null?void 0:r.collections.map(c=>c.templates).flat())||[]).filter(c=>!ece.includes(c.id));if(!(o!=null&&o.length))return;let s=()=>P0(e,t,n),a=await EMe(e,t,n,o);if(!(a!=null&&a.length))return sj(e,[],o,s);let u=[{label:"Show All Definitions...",detail:"Show all available predefined container definitions.",alwaysShow:!0,type:"showAll"},...i?[dj]:[]];return sj(e,u,a,s)}async function EMe(e,t,n,r){r=r.filter(a=>a.owner==="devcontainers");let i=e.stats||t&&n&&(e.stats=await Jae(t,n));if(!(i!=null&&i.mostPopularFileType.length))return;let o=Qae(i,r);return r.filter(a=>(o.get(a)||0)>0).sort(bMe.bind(null,o))}function bMe(e,t,n){let r=e.get(n)||0,i=e.get(t)||0;return r-i}async function sj(e,t,n,r){let{index:i,predefinedDefinitionsLearnMoreLink:o,telemetry:s}=e,a={iconPath:new Cn.ThemeIcon("info"),tooltip:"Open Documentation"},u=e.quickPick.onDidTriggerItemButton(d=>{let p=d.item.template.documentationURL;Cn.env.openExternal(Cn.Uri.parse(p))}),c=n.map(d=>{let p;if(d.owner){let f=(d==null?void 0:d.owner)==="devcontainers"?"$(verified)":"";p=`${((d==null?void 0:d.owner)==="microsoft"&&d.id.includes("microsoft/vscode-dev-containers")?"community":d==null?void 0:d.owner)||"Unknown Publisher"} ${f}`}return{label:d.name,picked:n.indexOf(d)!==-1,detail:d==null?void 0:d.description,description:p,buttons:[a],template:d}}).sort((d,p)=>d.label.localeCompare(p.label)),l=await Xi(e.quickPick,[...t,...c],"Select a container configuration template",void 0,void 0,!1);if(u.dispose(),!l){ya(s,"canceled");return}if(l.type==="help"){ya(s,"help"),Cn.env.openExternal(o);return}if(l.type==="showAll"){let d=((i==null?void 0:i.collections.map(p=>p.templates).flat())||[]).filter(p=>!ece.includes(p.id));return sj(e,[],d,r)}if(l.template)return Ag(e,l.template,r)}async function Ag(e,t,n){let r={id:`${t.id}:latest`,options:{},features:[],metadata:{template:t,features:[]}};if(e.skipOptions)return r;if(!t.options){let u=await nce(e,r,n);return u?u==="back"?n():u:void 0}let i=t.options,o=[],s=[];for(let u in i){let c=i[u];c.name=u,c.type==="boolean"?o.push(c):c.type==="string"&&s.push(c)}let a=await _Me(e,s,r,async()=>"back",(u,c)=>tce(e,o,t.name,u,c));if(a==="back")return n();if(a)return a}async function _Me(e,t,n,r,i){let o=t.map(s=>{let a=[];s.proposals&&s.proposals.length>0?a=s.proposals:s.enum&&s.enum.length>0&&(a=s.enum);let u=s.default,c=a.map(d=>({label:d,description:d===u?"(default)":void 0,value:d})),l=c.findIndex(d=>d.value===u);return l!==-1&&c.unshift(...c.splice(l,1)),{placeholder:s.description||s.name,name:s.name,default:s.default,items:c}});return async function s(a,u,c){if(!a.length)return i(u,c);let l=a[0],d=await Xi(e.quickPick,l.items,l.placeholder,void 0,void 0,!0);if(!d)return;if(d==="back")return c();let p={...u.options};return p[l.name]=d.value,u.options={...p},s(a.slice(1),u,()=>s(a,u,c))}(o,n,r)}async function tce(e,t,n,r,i){let o=r,s=t.map(c=>{let l=c.default==="true";return{label:c.description||c.name,picked:l,name:c.name,default:l}}),a=s.length?await Xi(e.quickPick,s,`Select the options for the '${n}' dev container`,void 0,!0,!0):[];if(!a)return r;if(a==="back")return i();for(let c of s){let l=a.indexOf(c)!==-1,d={...r.options};d[c.name]=l.toString(),r.options={...d}}let u=await nce(e,r,()=>t.length>0?tce(e,t,n,o,i):i());if(u)return u==="back"?i():u}async function nce(e,t,n){let{quickPick:r,telemetry:i,output:o,index:s}=e,a=s==null?void 0:s.collections.reduce((p,f)=>p.concat(f.features),[]).filter(p=>!p.deprecated);if(!(a!=null&&a.length))return t;let c=await rE({quickPick:r,telemetry:i,output:o},a,[],[],!0,!0);if(!c)return;if(c==="back")return n();let l=[],d=[];for(let p in c)if(c[p]){let f=a.find(m=>m.id===p);if(f){d.push(f);let m=f.majorVersion||"latest",h={id:`${p}:${m}`,options:c[p]};l.push(h)}}return t.features=l,t.metadata.features=d,t}function oce(e){return{provideCompletionItems(t,n,r){let i=Kj(t.getText(),t.offsetAt(n)),o=t.getWordRangeAtPosition(n)||new le.Range(n,n);if(i.path[0]==="extensions"||i.path[0]==="vscode"&&i.path[1]==="extensions"){let s=Ze(t.getText());return s.configFilePath=t.uri,CMe(s,o)}if(i.path[0]==="features"){let s=Ze(t.getText());s.configFilePath=t.uri;try{return SMe(e,s,i,o)}catch(a){console.error(a)}}return[]}}}function CMe(e,t){var r,i;let n=((e==null?void 0:e.extensions)||[]).concat(((i=(r=e==null?void 0:e.customizations)==null?void 0:r.vscode)==null?void 0:i.extensions)||[]);if(Array.isArray(n)){let o=le.extensions.all.filter(s=>!(s.id.startsWith("vscode.")||s.id==="Microsoft.vscode-markdown"||n.indexOf(s.id)>-1));if(o.length)return o.map(s=>{let a=new le.CompletionItem(s.id),u=`"${s.id}"`;return a.kind=le.CompletionItemKind.Value,a.insertText=u,a.range=t,a.filterText=u,a})}}async function SMe(e,t,n,r){var o;let i=t&&t.features||{};if(typeof i=="object"){if(t.configFilePath.scheme==="vscode-remote"&&e.fileHost.type==="local"){t={...t,configFilePath:t.configFilePath.with({scheme:ut.scheme,authority:""})};let u=le.env.remoteName&&le.env.remoteName!=="test"?"linux":process.platform,c=((o=(le.workspace.workspaceFolders||[])[0])==null?void 0:o.uri)||xe.file(process.cwd());e={...e,fileHost:await Cg(u,c)}}let s=await Pl(e.output),a=(s==null?void 0:s.collections.map(u=>u.features).flat().filter(u=>!u.deprecated))||[];if(n.path.length===2)if(n.isAtPropertyKey){let u=a.filter(c=>!(c.id in i));if(u.length)return u.map(c=>{let l=new le.CompletionItem(c.id),d=`"${c.id}": `;return l.kind=le.CompletionItemKind.Property,l.insertText=d,l.range=r,l.filterText=d,l})}else{let u=n.path[1],c=a.find(l=>l.id===u);if(c){let l=u6(c),d=l&&(c.options||{})[l]||{type:"boolean",description:"Set to true to install."},p=(d.type==="string"?("enum"in d&&d.enum||"proposals"in d&&d.proposals||[""]).map(f=>`"${f}"`):["true","false"]).map(f=>({label:f,text:f}));return p.push({label:"{}",text:new le.SnippetString(`{
	$1
}$0`)}),p.map(({label:f,text:m},h)=>{let g=new le.CompletionItem(f);return g.kind=le.CompletionItemKind.Value,g.insertText=m,g.range=r,g.sortText=`${h}_${f}`,g})}}else if(n.path.length===3){let u=n.path[1],c=a.find(l=>l.id===u);if(c){let l=c.options||{};if(n.isAtPropertyKey)return Object.keys(l).filter(d=>!(d in(i[u]||{}))).map(d=>{let p=new le.CompletionItem(d),f=`"${d}": `;return p.kind=le.CompletionItemKind.Property,p.insertText=f,p.range=r,p.filterText=f,p.detail=l[d].description,p});{let d=n.path[2],p=l[d];if(p)return(p.type==="string"?("enum"in p&&p.enum||"proposals"in p&&p.proposals||[""]).map(m=>`"${m}"`):["true","false"]).map((m,h)=>{let g=new le.CompletionItem(m),v=m;return g.kind=le.CompletionItemKind.Value,g.insertText=v,g.range=r,g.filterText=v,g.sortText=`${h}_${m}`,g})}}}}}async function sce(e){let t=await fj(e);if((t==null?void 0:t.scheme)===ut.scheme){let n=we(t,e.fileHost.platform);t=await e.fileHost.toCommonURI(n)}t&&await le.window.showTextDocument(le.Uri.parse(t.toString()))}async function fj(e){let t=await e.findDevContainerFiles();if(!t.length){let r="Add Files...";await le.window.showInformationMessage("No container configuration file found.",{modal:!0},r)===r&&await Rg(e)&&(t=await e.findDevContainerFiles())}let n=await Fp(e.fileHost,t);return n!=="cancelled"?n:void 0}async function ace(e,t){var r,i,o,s,a,u,c;let n=await fj(e);if(n){let l=Fn(e.fileHost);n.scheme==="file"&&!await or(n.fsPath)?await ho(Yo,n,[],Ga):n.scheme==="vscode-remote"&&(l=new zw);let d=await l.readDocument(n);if(d){let p=!/\.?devcontainer\.json/.test(A0.default.posix.basename(n.path)),f=Ze(d),m=!p&&(((i=(r=f.customizations)==null?void 0:r.vscode)==null?void 0:i.extensions)||!f.extensions),h=(m?(s=(o=f.customizations)==null?void 0:o.vscode)==null?void 0:s.extensions:f.extensions)||[],g=e.openConfigurationCommandId?`[Dev Container configuration](command:${e.openConfigurationCommandId})`:"Dev Container configuration";if((f.extensions||[]).concat(((u=(a=f.customizations)==null?void 0:a.vscode)==null?void 0:u.extensions)||[]).indexOf(t)===-1){h.push(t);let v;m?(c=f.customizations)!=null&&c.vscode?v=mn(d,["customizations","vscode","extensions"],h,{formattingOptions:{}}):f.customizations?v=mn(d,["customizations","vscode"],{extensions:h},{formattingOptions:{}}):v=mn(d,["customizations"],{vscode:{extensions:h}},{formattingOptions:{}}):v=mn(d,["extensions"],h,{formattingOptions:{}}),await l.applyEdits(n,v,d),await le.window.showInformationMessage(`Extension has been added to the ${g}.`)}else await le.window.showInformationMessage(`Extension is already included in the ${g}.`)}}}async function cce(e,t){let n=await le.commands.executeCommand("remote.tunnel.label",t);if(n===void 0)return;let r=n.label,i=n.port,o=await fj(e);if(o){let s=Fn(e.fileHost);o.scheme==="file"&&!await or(o.fsPath)?await ho(Yo,o,[],Ga):o.scheme==="vscode-remote"&&(s=new zw);let a=await s.readDocument(o);if(a){let c=Ze(a).portsAttributes??{},l=c[`${i}`]??{},d=e.openConfigurationCommandId?`[Dev Container configuration](command:${e.openConfigurationCommandId})`:"Dev Container configuration";if(c&&l&&l.label===r)await le.window.showInformationMessage(`Port attributes are already included in the ${d}.`);else{l.label=r,c[`${i}`]=l;let p=mn(a,["portsAttributes"],c,{formattingOptions:{}});await s.applyEdits(o,p,a),await le.window.showInformationMessage(`Port attributes have been added to the ${d}.`)}}}}function uce(e,t){let n=le.languages.createDiagnosticCollection("devcontainer"),r=le.window.activeTextEditor;return r&&pj(r.document,n,t.output),e.subscriptions.push(le.workspace.onDidChangeTextDocument(async i=>{i&&pj(i.document,n,t.output)})),e.subscriptions.push(le.workspace.onDidOpenTextDocument(async i=>{i&&pj(i,n,t.output)})),n.dispose}function lce(e,t,n){let r=async(s,a,u)=>{let c=A0.default.basename(s.uri.fsPath);if(/\.?devcontainer\.json/.test(c)){let l=Qg(s.getText());if(!l)return;if((Jg(l)||{}).features){let p=s.getText(s.getWordRangeAtPosition(a,/"[^"]*"/)).replace(/"/g,""),f=IMe(p,t.output,await n());if(f)return{contents:[f],range:s.getWordRangeAtPosition(a,/"[^"]*"/)}}}},i=le.languages.registerHoverProvider({pattern:"**/devcontainer.json"},{provideHover:r}),o=le.languages.registerHoverProvider({pattern:"**/.devcontainer.json"},{provideHover:r});return e.subscriptions.push(i),e.subscriptions.push(o),[i,o]}function pj(e,t,n){let r=A0.default.basename(e.uri.fsPath);if(/\.?devcontainer\.json/.test(r)){let i=Qg(e.getText());if(!i)return;let o=Jg(i)||{},s=[...PMe(e,o,n),...RMe(i,e)];t.set(e.uri,s)}}function TMe(e,t){let n=new RegExp("^[a-zA-Z0-9_-]*$");if(!e)return{type:void 0,tooltip:"Empty feature id"};let r={};if(!e.includes("/")&&!e.includes("\\")&&n.test(e))return{...r,type:"local-cache",isLegacy:!0,level:le.DiagnosticSeverity.Warning};if(e.startsWith("http://"))return{...r,type:void 0,tooltip:"Direct tarball references must be served over HTTPS.",level:le.DiagnosticSeverity.Error};if(e.startsWith("https://"))try{return le.Uri.parse(e,!0).scheme==="https"?{...r,type:"direct-tarball",level:void 0}:{...r,type:void 0,level:le.DiagnosticSeverity.Error,tooltip:"Failed to parse scheme of URI"}}catch{return{...r,type:void 0,level:le.DiagnosticSeverity.Error,tooltip:"Invalid URI"}}if(e.startsWith("/"))return{...r,type:void 0,tooltip:"Absolute file paths are not allowed.  Local file path must be indicated relative to the devcontainer.json.",level:le.DiagnosticSeverity.Error};if(e.startsWith("./")||e.startsWith("../"))return{...r,type:"file-path"};if(e.split("/").length===3&&e.length>=5&&!e.includes("."))return new RegExp("^[a-zA-Z0-9_/@-]*$").test(e)?{...r,type:"github-repo",isLegacy:!0,level:le.DiagnosticSeverity.Warning}:{...r,type:void 0,tooltip:"GitHub release feature id contains invalid characters",level:le.DiagnosticSeverity.Error};let o=e.split("/");return e.includes(".")&&o.length>1&&o[1].length>=1?new RegExp("^[a-zA-Z0-9_/:.-]*$").test(e)?{...r,type:"oci"}:{...r,type:void 0,level:le.DiagnosticSeverity.Error,tooltip:"OCI Feature id contains invalid characters"}:{...r,type:void 0,level:le.DiagnosticSeverity.Error,tooltip:"Failed to parse feature identifier."}}function IMe(e,t,n){var o;if(!n){t.write("No index found.",5);return}let i=(n==null?void 0:n.collections.map(s=>s.features).flat()).find(s=>e===s.id||e.startsWith(`${s.id}:`));if(i){let s=`${i.name}
`??"",a=i.description?`
${i.description}
`:"",u=i.documentationURL?`
${i.documentationURL}
`:"",c="";if(i.majorVersion){let l=e.split(":");if(l.length===2){let d=l[1];if(d&&d!=="latest")try{let p=(o=ice.parse(d,{loose:!0}))==null?void 0:o.major,f=Number.parseInt(i.majorVersion),m=`
\u26A0\uFE0F New major version "${f}" published.
`;if(p&&p<f)c=m;else{let h=Number.parseInt(d);h!==void 0&&h<f&&(c=m)}}catch{}}}return new le.MarkdownString(`${s}${a}${u}${c}`)}}function PMe(e,t,n){let r=t==null?void 0:t.features;if(!r)return[];let i=[];return Object.keys(r).forEach(o=>{let s=TMe(o,n);for(let a=0;a<e.lineCount;a++){let u=e.lineAt(a);if(u.text.includes(`"${o}"`)){let c=u.text.indexOf(o),l=c+o.length;if(s.hint){let p={message:s.hint,severity:le.DiagnosticSeverity.Hint,range:new le.Range(new le.Position(a,c),new le.Position(a,l))};i.push(p)}if(s.level!==void 0){let d=s.tooltip??"",p=s.level,f={message:d,severity:p,range:new le.Range(new le.Position(a,c),new le.Position(a,l)),code:{target:le.Uri.parse("https://containers.dev/implementors/features/#referencing-a-feature"),value:"referencing-a-feature"}};i.push(f)}break}}}),i}function RMe(e,t){return["extensions","settings","devPort"].filter(n=>$c(e,[n])&&$c(e,["vscode",n])).map(n=>{var s,a;let r=(((a=(s=$c(e,[n]))==null?void 0:s.parent)==null?void 0:a.children)||[])[0],i=t.positionAt(r.offset),o=t.positionAt(r.offset+r.length);return{message:`Legacy "${n}" property when "${n}" property under "vscode" is also present.`,range:new le.Range(i,o),severity:le.DiagnosticSeverity.Warning}})}var Dg=B(require("vscode"));async function dce(e,t){let n=await AMe(e);if(!n)return e.output.write("Failed to find configuration.  Cannot configure container features.",5),!1;let r=await DMe(e,n,(t==null?void 0:t.preInstalledInBaseImageFeatureIds)||[]);if(!r)return!1;let i=await e.fileHost.toCommonURI(r);return i&&Dg.window.showTextDocument(Dg.Uri.parse(i.toString())),!!i}async function AMe(e){let t=await e.findDevContainerFiles();if(t.length){let n=await Fp(e.fileHost,t);if(!n||n==="cancelled")return;let r=n.scheme==="file"?Cg(process.platform,pu(n)):e.fileHost,i=r.path.dirname(we(n,r.platform)),o=r.path.basename(i)===".devcontainer"?r.path.dirname(i):i,s=At(r.path,o),a=await R0(r,s,n);if(a)return{fileHost:r,workspace:s,config:a}}else{let n="Add Files...";await Dg.window.showInformationMessage("No container configuration file found.",{modal:!0},n)===n&&await Rg(e)}}async function DMe(e,t,n){var f;let{fileHost:r,workspace:i,config:o}=t,s=Dg.window.createQuickPick();s.ignoreFocusOut=!0;let a={workspace:i,quickPick:s,telemetry:await e.telemetry,output:e.output},u=await Pl(e.output);if(!u)return;let c=u.collections.reduce((m,h)=>m.concat(h.features),[]).filter(m=>!m.deprecated),l=c.filter(m=>n.includes(m.id)),d=[];if(o.object.features&&Object.entries(o.object.features).length>0){let m=Object.keys(o.object.features);d=c.filter(h=>m.some(g=>g.split(":")[0]===h.id))}let p=await rE(a,c,d,l,!0,!1);if(p)try{let m=o.text,h=o.text;for(let g of c){let v=[],y=g.majorVersion?`${g.id}:${g.majorVersion}`:g.id,x=["features",y];if(!p[g.id]&&((f=o.object.features)!=null&&f[y]))v=v.concat(mn(h,x,void 0,{formattingOptions:{}}));else if(p[g.id]){let b=p[g.id];v=v.concat(mn(h,x,b,{formattingOptions:{}}))}v.length&&(h=Br(h,v))}return m!==h&&await Fn(r,r).applyEdits(o.uri,[{content:h,offset:0,length:o.text.length}],o.text),s.dispose(),we(o.uri,r.platform)}catch(m){e.output.write(`Error in selecting dev container features: ${m}`,5),console.log("Error in selecting dev container features: ",m),s.dispose();return}}function fce(e,t){let n,r=()=>n||(n=Pl(t.output));return uce(e,t),lce(e,t,r),{async openConfiguration(){return sce(t)},async createConfiguration(i){return Rg(t)},async addExtensionToConfiguration(i){return ace(t,i)},async addPortLabelToConfiguration(i){return cce(t,i)},async configureContainerFeatures(i){return dce(t,i)},createCompletionItemProvider(){return oce(t)}}}async function rce(){let e=Qi.workspace.workspaceFile,t=Qi.workspace.workspaceFolders,n;if(e){if(e.scheme==="untitled"){await v0();return}n=e}else if(t&&t.length)if(t.length>1){let r=await Qi.window.showWorkspaceFolderPick({placeHolder:"Select a folder to create a container configuration for"});r&&(n=r.uri)}else n=t[0].uri;return n}function Xi(e,t,n,r,i,o,s){if(e.value="",e.title=r||e.title||"Add Dev Container Configuration Files",e.placeholder=n,e.canSelectMany=!!i,Array.isArray(t))if(e.items=t,i)e.selectedItems=t.filter(p=>p.picked);else{let p=t.find(f=>f.picked);p&&(e.activeItems=[p])}e.buttons=o?Array.isArray(o)?o:[Qi.QuickInputButtons.Back]:[];let a=[],u=e.items,c=u.filter(p=>p.isAlreadyInstalledViaBaseImage===!0),l={kind:Qi.QuickPickItemKind.Separator,label:"pre-installed features"};c.length&&(e.items=e.items.slice(0,u.length-c.length).concat(l).concat(e.items.slice(u.length-c.length)));let d=new Promise((p,f)=>{if(Array.isArray(t)||(e.busy=!0,t.then(m=>{if(e.busy=!1,e.items=m,i)e.selectedItems=m.filter(h=>h.picked);else{let h=m.find(g=>g.picked);h&&(e.activeItems=[h])}},m=>{e.busy=!1,f(m)})),a.push(e.onDidAccept(()=>{let m=i?e.selectedItems.slice():e.selectedItems[0];p(Array.isArray(o)?{pick:m,button:"ok"}:m),a.forEach(h=>h.dispose())})),a.push(e.onDidChangeSelection(m=>{if(!i)return;let h=c.filter(g=>!e.selectedItems.includes(g));h.length&&(e.selectedItems=e.selectedItems.concat(h))})),e.buttons.length&&a.push(e.onDidTriggerButton(m=>{let h=i?e.selectedItems.slice():e.activeItems[0];p(o===!0?"back":{pick:h,button:m}),a.forEach(g=>g.dispose())})),a.push(e.onDidHide(()=>{a.forEach(m=>m.dispose()),e.dispose(),p(void 0)})),s){let m;a.push(e.onDidChangeValue(h=>{let g=h.trim().toLowerCase(),v=!g||e.items.find(y=>y.label.toLowerCase()===g);if(v&&m)e.items=e.items.filter(y=>y!==m),m=void 0;else if(!v){let y=e.items.filter(x=>x!==m);y.push(m={label:`Other: ${h}`,value:h}),e.items=y}}))}});return e.show(),d}var dj={label:"Learn More",description:"Documentation on predefined container definitions",alwaysShow:!0,type:"help"};async function D0(e,t,n){return cj(e,t,n)}async function oE(e,t,n,r=lj){let{telemetry:i,existingFilesLearnMoreLink:o,index:s}=e,a=s==null?void 0:s.collections.find(y=>y.sourceInformation.ociReference==="ghcr.io/devcontainers/templates"),u=a==null?void 0:a.templates.find(y=>y.id==="ghcr.io/devcontainers/templates/docker-existing-docker-compose"),c=a==null?void 0:a.templates.find(y=>y.id==="ghcr.io/devcontainers/templates/docker-existing-dockerfile"),l=await t.readDir(n.rootFolderPath),d=u?l.filter(y=>/docker.*compose/i.test(y)).map(y=>t.path.join(n.rootFolderPath,y)):[],p=c?l.filter(y=>/dockerfile/i.test(y)).map(y=>t.path.join(n.rootFolderPath,y)):[],f=p.map(y=>{let x=t.path.basename(y);return{label:`From '${x}'`,description:pce(t,y),dockerfile:x,dockerfilePath:y,detail:`Refer to the existing '${x}' in the container configuration`,type:"dockerfile"}}),m=d.map(y=>{let x=t.path.basename(y);return{label:`From '${x}'`,description:pce(t,y),dockerComposeFile:x,dockerComposePath:y,detail:`Refer to the existing '${x}' in the container configuration`,type:"dockerComposeFile"}});if(!(p.length>0||d.length>0))return r(e,t,n,void 0);let g={label:"From a predefined container configuration definition...",detail:"Use a base configuration from the container definition registry",alwaysShow:!0,type:"predefined"},v=await Xi(e.quickPick,[g,...f,...m,...o?[dj]:[]],"How would you like to create your container configuration?");if(!v){ya(i,"canceled");return}if(v.type==="help"){ya(i,"help"),Qi.env.openExternal(o);return}if(v.type==="predefined")return r(e,t,n,()=>oE(e,t,n));if(v.type==="dockerComposeFile")return OMe(e,t,n,v.dockerComposePath,u,()=>oE(e,t,n));if(v.type==="dockerfile")return kMe(e,t,n,v.dockerfilePath,c,()=>oE(e,t,n))}function pce(e,t){let n=Qi.workspace.workspaceFolders||[];if(n.length<2)return;let r=n.find(i=>e.platform==="win32"?t.toLowerCase().startsWith(i.uri.fsPath.toLowerCase()):t.startsWith(i.uri.fsPath));return r&&r.name}async function kMe(e,t,n,r,i,o){let{telemetry:s}=e,a=await Ag(e,i,async()=>{});if(!a){ya(s,"canceled");return}if(a==="back")return o();let u=await I0(e,t,n,a,(c,l)=>{if(!sy(t.path,c))return l;let d=t.path.sep!==xa.sep?c.replace(xa.sep===xa.win32.sep?/\\/g:/\//g,t.path.sep):c,p=t.path.resolve(n.configFolderPath,d),f=t.path.relative(t.path.dirname(p),r),m=t.platform==="win32"?f.replace(/\\/g,"/"):f,h=l.toString(),g="dockerFile"in Ze(h)?["dockerFile"]:["build","dockerfile"],v=mn(h,g,m,{formattingOptions:{}}),y=Br(h,v);return Buffer.from(y)});return u&&ya(s,"dockerFile"),u}async function OMe(e,t,n,r,i,o){let{telemetry:s}=e,a=(await t.readFile(r)).toString(),u=iy(a);if(!u){await Qi.window.showErrorMessage(`Invalid docker-compose file "${r}"`,{modal:!0});return}let c=u.version,l=Object.keys(u&&u.services||{}),d=l.length<2?l[0]||"":await Xi(e.quickPick,l.map(h=>({label:h,type:"service"})),"Select a service",void 0,void 0,!0);if(d==="back")return o();if(d===void 0){ya(s,"canceled");return}let p=typeof d=="string"?d:d.label,f=await Ag(e,i,async()=>{});if(!f)return;if(f==="back")return o();let m=await I0(e,t,n,f,(h,g)=>{if(sy(t.path,h)){let v=t.path.sep!==xa.sep?h.replace(xa.sep===xa.win32.sep?/\\/g:/\//g,t.path.sep):h,y=t.path.resolve(n.configFolderPath,v),x=t.path.relative(t.path.dirname(y),r),E=t.platform==="win32"?x.replace(/\\/g,"/"):x,b=g.toString(),C=Ze(b).dockerComposeFile,R=Array.isArray(C)?C.slice(1):[],T=[E,...R],_=mn(b,["dockerComposeFile"],T,{formattingOptions:{}}),A=Br(b,_),P=mn(A,["service"],p,{formattingOptions:{}}),I=Br(A,P);return Buffer.from(I)}if(/compose.*\.ya?ml$/.test(xa.posix.basename(h))){let v=g.toString(),y=iy(v);y.version&&c&&y.version!==c&&(v=v.replace(new RegExp(`^(version:.*)(${y.version.replace(/\./g,"\\.")})`,"m"),`$1${c}`));let x=Object.keys(y&&y.services||{});return x.length&&(v=v.replace(new RegExp(`\\b${x[0]}\\b`),p)),Buffer.from(v)}return g});return m&&ya(s,"dockerComposeFile"),m}function ya(e,t,n){let r={outcome:t};n&&(r.definitionName=n),e.sendTelemetryEvent("createConfiguration",r)}async function R0(e,t,n){if(n||(n=await Z_(e,t.configFolderPath)),!n)return;let r=await Fn(e,e).readDocument(n);if(!r)return;let i=Ze(r);return{uri:n,text:r,object:i}}async function mce(e,t,n,r,i,o){let s=Oi(n);if(Mn(s)&&!await qe.workspace.requestWorkspaceTrust({message:Zw}))return Sr(s.hostPath)?(await qe.window.showInformationMessage("The WSL folder is currently not trusted.",{modal:!0,detail:"Trust is required to build a dev container from it. The folder will now reopen in WSL."}),await qe.commands.executeCommand("remote-containers.reopenInWSL")):(await qe.window.showInformationMessage("The local folder is currently not trusted.",{modal:!0,detail:"Trust is required to build a dev container from it. The folder will now reopen locally."}),await qe.commands.executeCommand("remote-containers.reopenLocally")),new Promise(()=>{});let a=Ir(s);if(a&&!await eE(e,s.repositoryPath))return await qe.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{});let u=Ka(s);return{...await NMe(s,e,i,o,t,n,r),isTrusted:a||u||void 0}}async function NMe(e,t,n,r,i,o,s){let{log:a,logFilePath:u}=n,c="hostPath"in e&&Sr(e.hostPath)&&!!qe.extensions.getExtension("ms-vscode-remote.remote-wsl");c&&qe.commands.executeCommand("setContext","canReopenInWSL",!0);let l=e.settings,d="localDocker"in e&&e.localDocker,p=!!(l&&"host"in l&&l.host&&l.host.startsWith("ssh://")&&!d)&&(!!qe.extensions.getExtension("ms-vscode-remote.remote-ssh")||!!qe.extensions.getExtension("ms-vscode-remote.remote-ssh-nightly"));p&&qe.commands.executeCommand("setContext","canReopenInSSH",!0);let f=!(l&&"host"in l&&l.host&&l.host.startsWith("ssh://")&&!d);f&&qe.commands.executeCommand("setContext","canReopenLocally",!0);let m;return qe.window.withProgress({location:qe.ProgressLocation.Notification,title:Pg,cancellable:!1},async h=>{let g=va(),v=Hs(t.extensionPath,Fc,a),{cliHost:y,originalCwd:x}=await LMe(e,g,t.extensionPath,await go(),v,i.product,a),E={...await v,...lm(y,e.settings)},b={...y.env,...E},C=await Ig({authority:o,extensionContext:t,sessionStart:n.sessionStart,progress:h,cliHost:y,env:b,cwd:y.cwd,wslSettings:g,isLocalContainer:_C(E),telemetry:i,output:a,logFilePath:u,allowSystemConfigChange:!0,postCreate:r}),R={async createConfiguration(T,_){return D0({fileHost:_,telemetry:i,output:a,existingFilesLearnMoreLink:qp,predefinedDefinitionsLearnMoreLink:$p,openConfigurationCommandId:Up},At(sE.posix,T))},async showError(T,..._){return await qe.window.showErrorMessage(T,{modal:!0},..._)}};return m={common:C,parsedAuthority:e,dockerCLI:Is(),dockerComposePath:ga(),dockerComposeCLI:Ws({exec:C.cliHost.exec,env:{...E,...an(E)},output:C.output},Is(),ga()),dockerEnv:E,workspaceMountConsistencyDefault:_0(),updateRemoteUserUIDOnMacOS:C0(),cacheMount:S0()?"volume":"none",configurationTracking:b0(t.workspaceState),removeOnStartup:await Lae(t,o),buildNoCache:await Mae(t,o),onRemoveOnShutdownChanged:s,userRepositoryConfigurationPaths:Tl(),originalCwd:x,configProvider:R,development:t.extensionMode===qe.ExtensionMode.Development,watch:async(T,_)=>{let A=qe.workspace.createFileSystemWatcher(new qe.RelativePattern(T,"*"));return A.onDidChange(_),A.onDidCreate(_),A.onDidDelete(_),A}},await CC(m),A6(m)}).then(h=>(s(async g=>{await Fae(t,g&&h.dockerContainerId||!1),await Qw(t,g==="rebuildNoCache"?o:!1)}),Mc(i,mj(e),"success",m==null?void 0:m.common,h.config,h.configLocation,h.properties),h),h=>{var R;let g=h instanceof ve?h:new ve({description:"An error occurred setting up the container.",originalError:h});Ir(e)&&(g.volumeName=e.volumeName,g.repositoryPath=e.repositoryPath,g.folderPath=e.folder),Mc(i,mj(e),"failure",m==null?void 0:m.common,g.config,void 0,g.containerProperties,g);let v="onTheSide",y=(R=g.data)==null?void 0:R.fileWithError;!y&&(m!=null&&m.parsedAuthority)&&Mn(m.parsedAuthority)&&m.parsedAuthority.configFile&&(y=we(m.parsedAuthority.configFile,m.common.cliHost.platform));let x=y&&(m==null?void 0:m.common.cliHost.path.basename(y))||"devcontainer.json",E=Mn(e)?[{id:"openFileWithErrorLocally",title:`Edit ${x} Locally`,isLastAction:!0,applicable:async(T,_)=>f&&!(_&&c),async execute(){let T=m==null?void 0:m.common.cliHost,_=y?T.type==="wsl"?await T.toCommonURI(y):xe.file(y):void 0;await Jw(t,e.hostPath,_,u,v);let A=qe.Uri.file(e.hostPath);await qe.commands.executeCommand("vscode.openFolder",A)}},{id:"openFileWithErrorinWSL",title:`Edit ${x} in WSL`,isLastAction:!0,applicable:async()=>c,async execute(){let T=qe.Uri.parse((await $f(e.hostPath,a)).toString());await Jw(t,T.path,y?T.with({path:y}):void 0,u,v),await qe.commands.executeCommand("vscode.openFolder",T)}},{id:"openFileWithErrorinSSH",title:`Edit ${x} in SSH`,isLastAction:!0,applicable:async()=>p,async execute(){let T=e.settings,_=qe.Uri.parse(Xv(T.host,e.hostPath).toString());await Jw(t,_.path,y?_.with({path:y}):void 0,u,v),await qe.commands.executeCommand("vscode.openFolder",_)}}]:[],b=Ir(e)?e.inspectVolume?[bu]:[{id:"reopenInRecoveryContainer",title:`Edit ${x} in Recovery Container`,isLastAction:!0,applicable:(T,_)=>!0,execute:async T=>{await Jw(t,e.repositoryPath,y?xe.file(y).with({scheme:"vscode-remote"}):void 0,u,v);let _=ki(T.repositoryPath),A=await ti(m),P=xO(_,T.volumeName,A);await qe.commands.executeCommand("remote-containers.inspectVolume",P,T.repositoryPath,T.folderPath)}},bu,{id:"openRepository",title:"Open Repository",isLastAction:!1,applicable:(T,_)=>!_,async execute(){qe.env.openExternal(qe.Uri.parse(e.repositoryPath))}}]:[],C=xy(e)?[bu]:[];return g.actions=[...fm,cd,cK,...E,...b,...C,pm,ad],FMe(g),_u(g,mj(e),i,!0,n)})}async function LMe(e,t,n,r,i,o,s){let{settings:a}=e,u=a&&"host"in a&&a.host||void 0;if(Mn(e)){let c=At(sE,e.hostPath),l=c.rootFolderPath,d=await Ai(u,c.rootFolderPath,Ki,t,n,r,o,s,Ps,{sshAskpassEnv:i,settings:Tg(),localDocker:e.localDocker});return d.cwd!==c.rootFolderPath&&(c=At(d.path,c.isWorkspaceFile?d.path.join(d.cwd,sE.basename(e.hostPath)):d.cwd)),s.write(`Setting up container for folder or workspace: ${c.workspaceOrFolderPath}\r
`),bC(s,e.settings),e.localDocker&&s.write(`Local Docker: ${e.localDocker}\r
`),{cliHost:d,originalCwd:l}}else{let c=await Ai(u,void 0,Ki,t,n,r,o,s,Ps,{sshAskpassEnv:i,settings:Tg()});return{cliHost:c,originalCwd:await c.homedir()}}}function mj(e){return Mn(e)?"config":Ir(e)?e.inspectVolume?"volume":"repository":"volume"}function FMe(e){let t=(e.originalError&&(e.originalError.cmdOutput||e.originalError.message)||"").toLowerCase();t&&t.indexOf("drive has not been shared")!==-1?e.description="The drive of the workspace folder is not shared. Share it in the Docker settings first.":t&&(t.indexOf("port is already allocated")!==-1||t.indexOf("address already in use")!==-1)?e.description="A port the container is setup to bind to is already in use. See the Dev Containers terminal for details.":t&&t.indexOf('invalid mount config for type "bind"')!==-1?e.description="A mount config is invalid. Make sure it has the right format and a source folder that exists on the machine where the Docker daemon is running.":t&&t.indexOf("deb.debian.org/debian/dists/jessie-updates")!==-1&&(e.description="The base image references the obsolete Debian 8 update repository.",e.actions.push({id:"learnMore",title:"Learn More",isLastAction:!1,applicable:(n,r)=>r,async execute(){qe.env.openExternal(qe.Uri.parse("https://aka.ms/vscode-remote/containers/troubleshooting/jessie"))}}))}var Ea=B(require("vscode"));var gce=require("util");var wa=B(require("path")),vce=B(require("crypto"));async function yce(e,t,n,r){var m,h;let{dockerCLI:i,dockerComposeCLI:o,dockerComposePath:s,common:a}=e,{cliHost:u,extensionPath:c,appRoot:l,postCreate:d,output:p}=a,f;try{let{commit:g}=a.product;if(!g)throw new ve({description:"Cannot attach without commit id for the remote extension host."});let v=r?n.configFilePath:void 0;if((v==null?void 0:v.scheme)==="file"&&u.type!=="local"){let M=u.path.join(await u.tmpdir(),`devcontainer-config-${vce.randomUUID()}.json`);await u.writeFile(M,await nt(v.fsPath)),v=xe.from({scheme:ut.scheme,path:M})}let y={...a.env,...an(a.env)},x={cliHost:u,dockerPath:i,dockerComposePath:s,env:y,extensionPath:c,appRoot:l,package:a.package,postCreate:d,output:p},E=a.postCreate.output.dimensions||p.dimensions,b=await js(x,["set-up","--container-id",t.Id,...u.type==="local"&&a.persistedFolder?["--user-data-folder",a.persistedFolder]:[],...e.dockerCLI!=="docker"?["--docker-path",e.dockerCLI]:[],...a.containerSessionDataFolder?["--container-session-data-folder",a.containerSessionDataFolder]:[],"--log-level",ks(a.getLogLevel()),"--log-format","json",...v?["--config",we(v,u.platform)]:[],"--default-user-env-probe",a.defaultUserEnvProbe,"--skip-post-create",...E?["--terminal-columns",String(E.columns),"--terminal-rows",String(E.rows)]:[]]);if((b==null?void 0:b.outcome)!=="success")throw new ve({description:`devcontainer command failed: ${b?JSON.stringify(b):"data missing"}`});let{mergedConfiguration:C}=await yu(x,void 0,v,a.getLogLevel(),{},[],t.Id,void 0,a.cliMode),R=C.remoteUser;f=await im(e,t.Id,C.workspaceFolder,R);let T={cliHost:u,dockerCLI:i,dockerComposeCLI:o,dockerComposePath:s,env:y,output:d.output},_=((h=(((m=C.customizations)==null?void 0:m.vscode)||[]).slice().reverse().find(M=>typeof M.devPort=="number"))==null?void 0:h.devPort)||uu,{hostOrContainerPort:A,hostPortServer:P,connectionToken:I,remoteEnv:F,serverDownloaded:q}=await Xf(a,f,n,C,_,om(e,T,f,void 0,void 0,t.Id,!1,v,void 0)),$=Fn(a.cliHost,f.shellServer);if(MMe(a,f,$,n.configFilePath),qMe(a,f,$,n.configFilePath),P){let M=async()=>{await(0,gce.promisify)(P.close.bind(P))()};a.shutdowns.push(M)}return{params:a,properties:f,config:n,resolvedAuthority:{host:vu,port:A,connectionToken:I,extensionHostEnv:F},tunnelInformation:a.isLocalContainer?rm(t):{},dockerParams:e,dockerContainerId:t.Id,serverDownloaded:q}}catch(g){let v=g instanceof ve?g:new ve({description:"An error occurred attaching to the container.",originalError:g});throw t&&(v.manageContainer=!1,v.params=e.common,v.containerId=t.Id,v.dockerParams=e),f&&(v.containerProperties=f),v.config=n,v}}function MMe(e,t,n,r){t.installFolder&&xce(e,t,n,r).catch(console.error)}async function xce(e,t,n,r){try{await Va(e,t,["/bin/sh","-c",`# Watch installed extensions
			trap "exit 0" 15
			old=\`ls -A --full-time\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],tY(t),{print:"off"});return}catch(i){(i==null?void 0:i.code)===1?await UMe(e,t,n,r):(i==null?void 0:i.code)!==2&&await mo(6e4)}return xce(e,t,n,r)}async function UMe(e,t,n,r){let i=await sY(e,t);await Vk(r,async()=>{var s,a;let o=await k0(e.cliHost,n,r,t.remoteWorkspaceFolder);if(!jMe(((a=(s=o.config.customizations)==null?void 0:s.vscode)==null?void 0:a.extensions)||[],i)){let u=mn(o.text,["extensions"],i,{formattingOptions:{}});await ho(n,r,u,o.text)}})}function qMe(e,t,n,r){wce(e,t,n,r).catch(console.error)}async function wce(e,t,n,r){try{let i=B_(t),o=wa.posix.dirname(i),s=wa.posix.basename(i);await Va(e,t,["/bin/sh","-c",`# Watch machine settings
			trap "exit 0" 15
			old=\`ls -A --full-time ${s} 2>/dev/null || true\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time ${s} 2>/dev/null || true\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],o,{print:"off"});return}catch(i){(i==null?void 0:i.code)===1?await $Me(e.cliHost,t,n,r):(i==null?void 0:i.code)!==2&&await mo(6e4)}return wce(e,t,n,r)}async function $Me(e,t,n,r){let{stdout:i}=await t.shellServer.exec(`cat ${B_(t)}`),o=Ze(i)||{};await Vk(r,async()=>{var a,u;let s=await k0(e,n,r,t.remoteWorkspaceFolder);if(JSON.stringify(((u=(a=s.config.customizations)==null?void 0:a.vscode)==null?void 0:u.settings)||{})!==JSON.stringify(o)){let c=mn(s.text,["settings"],o,{formattingOptions:{}});await ho(n,r,c,s.text)}})}function jMe(e,t){let n=new Set(e),r=new Set(t);return n.size===r.size&&e.every(i=>r.has(i))}async function Ece(e,t){let n=N0(e,t.Name),r=await hce(n);return r||(n=Cce(e,t.Config.Image),r=await hce(n)),r}async function bce(e,t,n,r,i){let o=xe.file(N0(n,r.Name)),s=await k0(e,t,o,i);return s.exists||(o=xe.file(Cce(n,r.Config.Image)),s=await k0(e,t,o,i)),s}function O0(e){return wa.join(e,"nameConfigs")}function N0(e,t){let n=t.startsWith("/")?t.substr(1):t;return wa.join(O0(e),`${Tce(n)}.json`)}async function _ce(e){try{let t=O0(e);return(await jc(t)).filter(r=>r.endsWith(".json")).map(r=>({name:Ice(r.substr(0,r.length-5)),uri:xe.file(wa.join(t,r))}))}catch(t){if(t&&t.code==="ENOENT")return[];throw t}}function L0(e){return wa.join(e,"imageConfigs")}function Cce(e,t){return wa.join(L0(e),`${Tce(t)}.json`)}async function Sce(e){try{let t=L0(e);return(await jc(t)).filter(r=>r.endsWith(".json")).map(r=>({image:Ice(r.substr(0,r.length-5)),uri:xe.file(wa.join(t,r))}))}catch(t){if(t&&t.code==="ENOENT")return[];throw t}}function Tce(e){return e.replace(/[:/%]/g,t=>`%${t.charCodeAt(0).toString(16)}`)}function Ice(e){return e.replace(/%([0-9a-f]{2})/g,(t,n)=>String.fromCharCode(parseInt(n,16)))}async function hce(e){if(!await or(e))return;let t=await nt(e),n=Ze(t.toString())||{},r=uy(n);return r.configFilePath=xe.file(e),r}async function k0(e,t,n,r){let i=await t.readDocument(n),o=i||Ga,s=Ze(o)||{},a=uy(s),u=M_({platform:e.platform,configFile:n,env:e.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:r},a);return u.configFilePath=n,{exists:!!i,text:o,config:u}}async function Pce(e,t,n,r,i){return await Il(e)?{...await HMe(e,t,n,r,i),isTrusted:!0}:(await Ea.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function HMe(e,t,n,r,i){let o,s;return Ea.window.withProgress({location:Ea.ProgressLocation.Notification,title:Pg,cancellable:!1},async a=>{var u,c;try{let l=dm(n),{settings:d}=l,p="containerName"in l?l.containerName:l.containerId;r.log.write(`Setting up container: ${p}\r
`),bC(r.log,d);let f=d&&"host"in d&&d.host||void 0,m=va(),h=Hs(e.extensionPath,Fc,r.log),g=await Ai(f,l.cwd,Ki,m,e.extensionPath,await go(),t.product,r.log,Ps,{sshAskpassEnv:h,settings:Tg()}),v=Is(),y={...await h,...lm(g,d)},x=Ws({exec:g.exec,env:{...y,...an(y)},output:r.log},Is(),ga()),E={...g.env,...y},b=await Di({cliHost:g,dockerCLI:v,dockerComposeCLI:x,dockerComposePath:ga(),env:E,output:r.log},"containerName"in l?l.containerName:l.containerId);if(!b)throw new ve({description:`Cannot attach to the container with name/id ${p}, it no longer exists.`,data:{reload:!1,attach:!0}});let C=(c=(u=(Ea.workspace.workspaceFolders||[void 0])[0])==null?void 0:u.uri)==null?void 0:c.path,R=await bce(g,Yo,e.globalStoragePath,b,C);if(C&&R.config.workspaceFolder!==C){let P=mn(R.text,["workspaceFolder"],C,{formattingOptions:{}});await ho(Yo,R.config.configFilePath,P,R.text)}o={common:await Ig({authority:n,extensionContext:e,sessionStart:r.sessionStart,progress:a,cliHost:g,env:E,cwd:l.cwd||await g.homedir(),wslSettings:m,isLocalContainer:_C(y),telemetry:t,output:r.log,logFilePath:r.logFilePath,allowSystemConfigChange:!1,postCreate:i}),parsedAuthority:l,dockerCLI:v,dockerComposePath:ga(),dockerComposeCLI:x,dockerEnv:y,workspaceMountConsistencyDefault:_0(),updateRemoteUserUIDOnMacOS:C0(),cacheMount:S0()?"volume":"none",configurationTracking:b0(e.workspaceState),userRepositoryConfigurationPaths:[],development:e.extensionMode===Ea.ExtensionMode.Development},await CC(o);let T=cm(d),_=b.Name.startsWith("/")?b.Name.substr(1):b.Name,A=`Container ${b.Config.Image} (${_})${T}`;if(o.common.setWorkspaceName(A),b.State.Status!=="running")throw new ve({description:`Cannot attach to the container ${b.Config.Image} (${_})${T}, it is not running.`,params:o.common,containerId:b.Id,dockerParams:o,data:{reload:!1,start:!0}});return await yce(o,b,R.config,R.exists)}catch(l){let d=l instanceof ve?l:new ve({description:"An error occurred attaching to the container.",originalError:l});throw d.actions=[uK,lK,...fm,cd,bu,pm,ad],d}}).then(a=>(Mc(t,"attach","success",o==null?void 0:o.common,s,void 0,a.properties),a),a=>{let u=a instanceof ve?a:new ve({description:"An error occurred attaching to the container.",originalError:a});return Mc(t,"attach","failure",o==null?void 0:o.common,s,void 0,u.containerProperties,u),_u(u,"attach",t,!0,r)})}var Ot=B(require("vscode"));var Xt=B(require("vscode")),Ace=B(require("path")),Bp=B(require("os")),aE=B(require("fs")),Dce=B(require("child_process")),kce=B(require("crypto")),Oce=B(tf());async function M0(e){WMe()?await new hj().downloadAndInstallDocker(e):Nce()?await new gj().downloadAndInstallDocker(e):await Xt.env.openExternal(Xt.Uri.parse("https://aka.ms/download-docker-linux-vscode"))}var F0=class{async downloadAndInstallDocker(t){if(await this.preInstallCheck(t)){let r="Downloading Docker installer...",i="The Docker Desktop installation is started. Complete the installation and then start Docker Desktop.",o;try{o=await Xt.window.withProgress({location:Xt.ProgressLocation.Notification,title:r},async()=>this.downloadInstaller())}catch(a){let u="Downloading the Docker Desktop installer failed. Do you want to manually download and install?",c="Download";throw this.handleError(u,c,this.downloadUrl),a}let s=this.getInstallCommand(o);Xt.window.showInformationMessage(i);try{await this.install(o,s,t)}catch(a){let u=`Docker Desktop installation failed. ${a}`,c="Install Instruction";throw this.handleError(u,c,"https://aka.ms/AA37qtj"),a}}}async preInstallCheck(t){let n=!0;if(await new vj(t).isDockerInstalledRealTimeCheck()){let r="Docker Desktop is already installed. Would you like to reinstall?",i="Reinstall";n=await Xt.window.showInformationMessage(r,{modal:!0},i)!==void 0}return n}async downloadInstaller(){let t=`${VMe()}.${this.fileExtension}`;return await zMe(this.downloadUrl,t),t}handleError(t,n,r){Xt.window.showErrorMessage(t,{title:n}).then(i=>{i&&Xt.env.openExternal(Xt.Uri.parse(r))})}},hj=class extends F0{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-windows-vscode";this.fileExtension="exe"}getInstallCommand(n){return`"${n}"`}async install(n,r,i){try{i.write(`Executing command ${r}`),await Lce(r,i)}finally{try{await aE.promises.stat(n),await aE.promises.unlink(n)}catch{}}}},gj=class extends F0{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-mac-vscode";this.fileExtension="dmg"}getInstallCommand(n){return`chmod +x '${n}' && open '${n}'`}async install(n){let r="Docker Install",i=this.getInstallCommand(n);await GMe(i,r,{addDockerEnv:!1})}},BMe=0;function VMe(){return Ace.join(Bp.tmpdir(),`${Xt.env.sessionId}-${BMe++}.tmp`)}function WMe(){return Bp.platform()==="win32"}function Nce(){return Bp.platform()==="darwin"}async function GMe(e,t,n){var a,u;let r;n=n??{},n.addDockerEnv&&(r={});let i=new Xt.Task({type:"shell"},n.workspaceFolder??Xt.TaskScope.Workspace,t,"Docker",new Xt.ShellExecution(e,{cwd:n.cwd||((u=(a=n.workspaceFolder)==null?void 0:a.uri)==null?void 0:u.fsPath)||Bp.homedir(),env:r}),[]);n.alwaysRunNew&&(i.definition.idRandomizer=kce.randomUUID()),n.focus&&(i.presentationOptions={focus:!0});let o=await Xt.tasks.executeTask(i);return new Promise((c,l)=>{let d=Xt.tasks.onDidEndTaskProcess(p=>{p.execution===o&&(d.dispose(),p.exitCode&&n.rejectOnError&&l(p.exitCode),c())})})}var vj=class{constructor(t){this.output=t;this.maxCacheTime=3e4;this.isDockerInstalledLazy=new xj(async()=>{let n=await this.isDockerInstalledRealTimeCheck();return n&&this.isDockerInstalledLazy.cacheForever(),n},this.maxCacheTime)}async isDockerInstalled(){return await this.isDockerInstalledLazy.getValue()}async isDockerInstalledRealTimeCheck(){try{let t=await co("docker");return await Lce(`${t} -v`,this.output),!0}catch{return!1}}};async function zMe(e,t){await new Promise((n,r)=>{let i=aE.createWriteStream(t);Oce.https.get(e,s=>{if(s.statusCode<200||s.statusCode>299){r(new Error(`Failed to download Docker (${e}): HTTP ${s.statusCode} - ${s.statusMessage}`));return}s.on("error",r),s.pipe(i),s.on("end",n)}).on("error",r)})}var Rce=10*1024;async function Lce(e,t,n,r){let i=Buffer.alloc(n&&n.maxBuffer||Rce),o=Buffer.alloc(n&&n.maxBuffer||Rce);return await YMe(e,t,n,r,i,r,o),{stdout:yj(i),stderr:yj(o)}}async function YMe(e,t,n,r,i,o,s,a){return await new Promise((u,c)=>{let l,d=0,p=0;n=n||{},n.shell=!0,KMe(n,t);let f=Dce.spawn(e,n);f.on("error",m=>(l&&(l.dispose(),l=void 0),c(m))),f.on("close",(m,h)=>{if(l&&(l.dispose(),l=void 0),a&&a.isCancellationRequested)return c(new Error("User canceled"));if(m){let g=`Process '${e.length>50?`${e.substring(0,50)}...`:e}' exited with code ${m}`;s&&(g+=`
Error: ${yj(s)}`);let v=new Error(g);return v.code=m,v.signal=h,v.stdErrHandled=o!==null,c(v)}return u()}),n!=null&&n.stdin&&(f.stdin.write(n.stdin),f.stdin.end()),(r||i)&&f.stdout.on("data",m=>{let h=m.toString();r&&r(h,f),i&&(d+=i.write(h,d))}),(o||s)&&f.stderr.on("data",m=>{let h=m.toString();o&&o(h,f),s&&(p+=s.write(h,p))}),a&&(l=a.onCancellationRequested(()=>{f.kill()}))})}function KMe(e,t){var n;Nce()&&(/(?<=^|:)\/usr\/local\/bin(?=$|:)/i.test(((n=e==null?void 0:e.env)==null?void 0:n.PATH)||process.env.PATH||"")||(e=e??{},e.env=e.env??{...process.env},t.write("WARNING: Adding '/usr/local/bin' to the PATH because it is missing."),e.env.PATH=`${e.env.PATH}:/usr/local/bin`))}function yj(e){return e.toString().replace(/[\x00-\x09\x0B-\x0C\x0E-\x1F]|\r?\n$/g,"")}var xj=class{constructor(t,n){this.valueFactory=t;this._valueLifetime=n;this._isValueCreated=!1}get isValueCreated(){return this._isValueCreated}cacheForever(){this._valueLifetime=void 0}clear(){this._isValueCreated=!1,this._valuePromise=void 0}async getValue(){if(this._isValueCreated)return this._value;let t=this._valuePromise===void 0;t&&(this._valuePromise=this.valueFactory());let n=await this._valuePromise;if(t&&(this._value=n,this._valuePromise=void 0,this._isValueCreated=!0),this._valueLifetime&&t){let r=setTimeout(()=>{this._valueLifetime&&this._valuePromise===void 0&&(this._isValueCreated=!1,this._value=void 0),clearTimeout(r)},this._valueLifetime)}return n}};async function jr(e,t,n){var o;let r=(o=(Ot.workspace.workspaceFolders||[])[0])==null?void 0:o.uri;r&&(r.scheme==="file"&&Sr(r.fsPath)||jf(r))&&(t=await Qe(e,t.output,r));let i=await uE(t,n);if(i==="permission")return await Ot.window.showErrorMessage("Current user does not have permission to run 'docker'.",{modal:!0,detail:"Try adding the user to the 'docker' group."},"Documentation")&&Ot.env.openExternal(Ot.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079224")),!1;if(i==="ssh")return await Ot.window.showErrorMessage("Cannot connect to Docker daemon using 'ssh'.",{modal:!0,detail:"Make sure public/private keys are set up for connecting without keyboard interaction."},"Show Log")&&Ot.commands.executeCommand($r),!1;if(i==="daemon")return await Ot.window.showErrorMessage("Docker returned an error.",{modal:!0,detail:"Make sure the Docker daemon is running."},"Show Log")&&Ot.commands.executeCommand($r),!1;if(!i||i==="command"){if(t.cliHost.type==="wsl")await Ot.window.showErrorMessage("Docker Desktop WSL 2 backend required.",{modal:!0},"Read more on docker.com")&&Ot.env.openExternal(Ot.Uri.parse("https://docs.docker.com/docker-for-windows/wsl"));else{let s="Install",a="License",u="Ignore",c=i===!1?[s,a,u]:[s,a],l=await Ot.window.showErrorMessage("Docker version 17.12.0 or later required.",{modal:!0,detail:`${i==="command"&&t.dockerCLI!=="docker"?`Command not found: '${t.dockerCLI}'. `:""}Check the license for details.`},...c);if(l===s)M0(t.output).then(console.error);else if(l===a)Ot.env.openExternal(Ot.Uri.parse("https://aka.ms/docker-subscription-service-agreement"));else if(l===u)return!0}return!1}return i==="wsl1"?(await Ot.window.showErrorMessage("WSL 2 distro required.",{modal:!0,detail:"The WSL distro is running with WSL 1."},"Read more on docker.com")&&Ot.env.openExternal(Ot.Uri.parse("https://docs.docker.com/docker-for-windows/wsl")),!1):!0}async function uE(e,t){var s,a,u,c;let n;try{let l=await Ae(e,"version","--format","{{.Server.APIVersion}}");n=l.stdout.toString(),e.output.write(n);let d=l.stderr.toString();d&&e.output.write(et(d))}catch(l){console.error(l);let d=(s=l==null?void 0:l.stdout)==null?void 0:s.toString();d&&e.output.write(d);let p=l&&(l.stderr?l.stderr.toString():l.message)||"";p&&e.output.write(et(p)),cE(t,"error",void 0,p);let f=p.toLowerCase();return f.indexOf("permission denied")!==-1?f.indexOf("ssh")!==-1?"ssh":"permission":f.indexOf("enoent")!==-1||f.indexOf("not found")!==-1?(e.output.write(`CLI host's PATH: ${e.cliHost.env.PATH}`),"command"):e.cliHost.type==="wsl"&&((c=(u=(a=l==null?void 0:l.stdout)==null?void 0:a.toString())==null?void 0:u.toLowerCase())==null?void 0:c.indexOf("wsl 1"))!==-1?"wsl1":"daemon"}let r=n.trim(),i=Wf(r);if(!i&&r.toLowerCase().indexOf("error during connect")!==-1)return cE(t,"error",void 0,r),"daemon";if(!i)return cE(t,"unparsed",r),!0;let o=!Gf(i,[1,35]);return!o&&await tO(e)?(cE(t,"podman",r),!0):(cE(t,o?"success":"failure",r),o)}function cE(e,t,n,r){let i={outcome:t};n&&(i.version=n),r&&(i.errorMessage=r),e.sendTelemetryEvent("dockerVersion",i)}async function Fce(e){try{return await dy(e,"version"),!0}catch{return await Ot.window.showErrorMessage("Docker Compose required",{modal:!0},"Documentation")&&Ot.env.openExternal(Ot.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079610")),!1}}var kg=B(require("vscode"));var U0=class{constructor(t){this.fileHost=t}async provideDocumentLinks(t,n){let r=[],i=Qg(t.getText());if(!i)return r;let o=Jg(i)||{};return o.configFilePath=t.uri,hr(o)&&this._linksForDockerfile(r,o,i,t),"dockerComposeFile"in o&&await this._linksForDockerCompose(r,o,i,t),r}_tryAddDocumentLinkToBucket(t,n,r,i,o){let s=t.positionAt(n),a=t.positionAt(r);s.compareTo(a)!==0&&o.push(new kg.DocumentLink(new kg.Range(s,a),i))}_linksForDockerfile(t,n,r,i){let o=$c(r,["build","dockerfile"])||$c(r,["dockerFile"]);o&&o.type==="string"&&this._tryAddDocumentLinkToBucket(i,o.offset+1,o.offset+o.length-1,fu(this.fileHost,n),t)}async _linksForDockerCompose(t,n,r,i){let s=(await mu(this.fileHost,n)).map(u=>kg.Uri.file(u).path),a=$c(r,["dockerComposeFile"]);if(s.length>0&&a)if(a.type==="array"&&a.children)for(let u=0;u<a.children.length;u++)this._tryAddDocumentLinkToBucket(i,a.children[u].offset+1,a.children[u].offset+a.children[u].length-1,i.uri.with({path:s[u]}),t);else a.type==="string"&&this._tryAddDocumentLinkToBucket(i,a.offset+1,a.offset+a.length-1,i.uri.with({path:s[0]}),t)}};var Y=B(require("vscode")),Ng=B(require("path"));var Mce=B(require("path"));function q0(e){let t=Eu(e);if(t)return`${Mce.basename(t)}`;{let n=lC(e);if(n)return n;let r=Xa(e);if(r)return yO(r);let i=xu(e);return i?i.volumeName:e.Config.Image}}function $0(e){return e.Name.substring(1)}function j0(e){let t=e.Name;if(e.Labels&&Og(e)){let r=B0(e);r&&r.gitUrlInfo.repository!=="unknown"&&(t=r.gitUrlInfo.fullRepositoryName)}return t}function H0(e){let t="";if(e.Labels&&Og(e)){let r=B0(e);if(r&&r.gitUrlInfo.repository!=="unknown"){let i=wj(e),o=Ej(e);o?t=`#${o}`:i&&(t=`${i}`)}}return t}function Og(e){let t=e.Labels;if(t){let n=t["vsch.local.repository.unique"];if(n&&n==="true")return!0}return!1}function wj(e){let t=e.Labels;if(t&&Og(e)&&t["vsch.local.repository.branch"])return t["vsch.local.repository.branch"]}function Ej(e){let t=e.Labels;if(t&&Og(e)&&t["vsch.local.repository.pullRequestId"])return t["vsch.local.repository.pullRequestId"]}function B0(e){let t=e.Labels;if(t){let n=t["vsch.local.repository.unique"];if(n&&n==="true"){let r=t["vsch.local.repository"];return ki(r)}}}var Uce=1e3,qce=Uce*60,$ce=qce*60,jce=$ce*24,XMe=jce*365;function bj(e,t){let n,r,i=e.getTime()-t.getTime();return(r=Math.round(i/XMe))>0?r===1?n="year":n="years":(r=Math.round(i/jce))>0?r===1?n="day":n="days":(r=Math.round(i/$ce))>0?r===1?n="hour":n="hours":(r=Math.round(i/qce))>0?r===1?n="minute":n="minutes":(r=Math.round(i/Uce),r===1?n="second":n="seconds"),`${r} ${n}`}var lE=B(require("vscode"));async function Hce(e){let t=(await Promise.all([vy,yy,um,am,gC].map(async i=>{let{stdout:o}=await Ae(e,"ps","-a","-q","--filter","status=exited","--filter",`label=${i}`);return o.toString().split(/\r?\n/).filter(s=>!!s)}))).flat(),n;if(t.length){let o=(await Bs(e,t)).map(a=>({label:q0(a),description:$0(a),container:a}));o.sort((a,u)=>a.label.localeCompare(u.label));let s=await lE.window.showQuickPick(o,{canPickMany:!0,placeHolder:"Select stopped dev containers to delete"});if(!s)return;s.length&&(n=new Set(await hu(e)),await Ae(e,"rm",...s.map(a=>a.container.Id)))}let r=await Vce(e,n);(!t.length||r==="none")&&await lE.window.showInformationMessage("There are no stopped dev containers or unused dev volumes to delete.",{modal:!0})}async function Bce(e){await Vce(e)==="none"&&await lE.window.showInformationMessage("There are no unused dev volumes to delete.",{modal:!0})}async function Vce(e,t){let n=[...new Set([...t?(await hu(e)).filter(r=>!t.has(r)&&r!=="vscode"):[],...await hu(e,[gO]),...await hu(e,[xC])])];if(n.length){let i=(await od(e,n)).map(s=>({label:j0(s),description:H0(s),volume:s}));i.sort((s,a)=>s.label.localeCompare(a.label));let o=await lE.window.showQuickPick(i,{canPickMany:!0,placeHolder:"Select unused dev volumes to delete"});if(!o)return"cancel";o.length&&await Ae(e,"volume","rm",...o.map(s=>s.volume.Name))}return n.length?"done":"none"}var Wce="Stop Container",Gce="Reopen Folder locally",zce="Close Workspace";var Hn=class{static isGroupItem(t){return!!t&&t.type==="Group"}static isContainerItem(t){return!!t&&t.type==="Container"}static isFolderItem(t){return!!t&&t.type==="Folder"}};var V0=class extends Hn{constructor(n,r){super();this.label=n;this.groupType=r;this.type="Group"}async asTreeItem(n,r,i,o){return new Y.TreeItem(this.label,Y.TreeItemCollapsibleState.Expanded)}},Lg=class extends Hn{constructor(n,r=[],i,o=!1){super();this.container=n;this.folders=r;this.parent=i;this.isDevContainer=o;this.type="Container";this._alreadyCheckedRepository=!1}async asTreeItem(n,r,i,o){let s=new Y.TreeItem(this.getContainerLabel(),this.getCollapsibleState());s.description=$0(this.container);let a=this.getContextBase();s.iconPath=G0(r,eUe),s.contextValue="exited"+a;let u=!1;return i&&this.container.Id===i.Id?(s.iconPath=G0(r,ZMe),s.contextValue="active"+a,u=!0):n&&await this.setTreeItemIconAndContext(n,a,s),s.tooltip=this.getHover(u,s.iconPath instanceof Y.ThemeIcon?s.iconPath:new Y.ThemeIcon("vm"),s.label),this.folders.length===1&&(s.contextValue+="Folder"),s}getContextBase(){return(this.isDevContainer?"Dev":"")+"Container"}getCollapsibleState(){return this.folders.length>1?Y.TreeItemCollapsibleState.Expanded:Y.TreeItemCollapsibleState.None}async setTreeItemIconAndContext(n,r,i){switch(this.container.State.Status){case"created":{i.iconPath=new Y.ThemeIcon("vm"),i.contextValue="exited"+r;break}case"paused":{i.iconPath=new Y.ThemeIcon("vm-outline"),i.contextValue="running"+r;break}case"restarting":{i.iconPath=new Y.ThemeIcon("vm-outline"),i.contextValue="exited"+r;break}case"exited":{i.iconPath=new Y.ThemeIcon("vm"),i.contextValue="exited"+r;break}case"running":{i.iconPath=new Y.ThemeIcon("vm-running"),i.contextValue="running"+r;break}}}getTimeElapsed(n){if(!n)return"";let r="",i=n.State.Status,o=new Date(n.State.StartedAt),s=new Date(n.State.FinishedAt);if(o.getFullYear()>1&&s.getFullYear()>1){let a=new Date,u=new Date(o>s?n.State.StartedAt:n.State.FinishedAt);r=` ${bj(a,u)}`+(i.endsWith("ing")?"":" ago")}return`${i.charAt(0).toUpperCase()+i.slice(1)}`+r}getContainerLabel(){return q0(this.container)}getHover(n,r,i){let o=new Y.MarkdownString(void 0,!0);if(o.appendMarkdown(`$(${r.id}) ${i} (${this.container.Name.substr(1)})  
`),this.repository){let a=this.repository.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)";o.appendMarkdown(`${a} [${this.repository.fullRepositoryName}](${this.repository.gitUrlInfo.repositoryUrl})  
`)}let s=wC(this.container);return s&&o.appendMarkdown(`$(file-symlink-directory) ${s}  
`),n?o.appendMarkdown("$(remote) Connected"):o.appendMarkdown(`$(history) ${this.getTimeElapsed(this.container)}`),o}get repository(){if(!this._alreadyCheckedRepository){let n=Xa(this.container);n&&(this._repository=ki(n)),this._alreadyCheckedRepository=!0}return this._repository}inspect(n){return ei(n,this.container.Id)}},Uc=class extends Hn{constructor(n,r,i){super();this.container=n;this.folder=r;this.isDevContainer=i;this.type="Folder"}async asTreeItem(n,r,i,o){let s=new Y.TreeItem(Ng.basename(this.folder.path),Y.TreeItemCollapsibleState.None);return s.description=this.folder.path,s.iconPath=G0(r,nUe),s.contextValue="attachedFolder",this.isDevContainer&&!Xa(this.container)&&!xu(this.container)&&(s.contextValue="devFolder"),i&&this.container.Id===i.Id&&o===this.folder.path&&(s.iconPath=G0(r,tUe),s.tooltip=`Active Folder ${s.label}`,s.contextValue=`active${s.contextValue}`),s}};function QMe(e,t,n,r){if(!(!Y.env.remoteName||Y.env.remoteName!=="attached-container"&&Y.env.remoteName!=="dev-container"))return Yce(e,t,n,r)}function Yce(e,t,n,r){Y.commands.executeCommand("setContext","remote-containers:showDetails",!0);let i=new Ij(e,t,r,t.output),o=Y.window.createTreeView("detailsContainers",{treeDataProvider:i});return i.setTitle=s=>{o.title=s},e.subscriptions.push(n.onDidChangeActiveContainer(s=>i.refresh(s))),i}function JMe(e,t){let n=[Wce];return e&&e.Id===t.Id&&Y.workspace.workspaceFolders&&Y.workspace.workspaceFolders.length>0&&(n.push(zce),Y.workspace.workspaceFolders[0].uri.authority.startsWith("dev-container")&&n.push(Gce)),n}var _j=class{constructor(t,n){this.dockerParams=t;this.containerId=n;this.writeEmitter=new Y.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.destroyables=[]}open(){let{cliHost:t,env:n,output:r}=this.dockerParams;t.exec({cmd:Is(),args:["logs","-f",this.containerId],env:n,output:r}).then(i=>{this.destroyables.push(i.stdout.on("data",o=>{this.write(o.toString())})),this.destroyables.push(i.stderr.on("data",o=>{this.write(o.toString())}))}).catch(console.error)}close(){this.writeEmitter.dispose(),this.destroyables.forEach(t=>{t.destroy()})}write(t){this.writeEmitter.fire(t.replace(/\n/g,`\r
`))}},W0=class{constructor(t,n,r,i,o,s){this.targetsTreeData=t;this.detailsTreeData=n;this.devVolumesTreeData=r;this.dockerParams=i;this.context=o;this.telemetry=s}updateDockerParameters(t){this.dockerParams=t}registerCommands(){let t=[];return t.push(Y.commands.registerCommand("remote-containers.stopContainer",this.commandStopContainer,this)),t.push(Y.commands.registerCommand("remote-containers.removeContainer",this.commandRemoveContainer,this)),t.push(Y.commands.registerCommand("remote-containers.startContainer",this.commandStartContainer,this)),t.push(Y.commands.registerCommand("remote-containers.removeRecentFolder",this.commandRemoveRecentFolder,this)),t.push(Y.commands.registerCommand("remote-containers.showDetails",this.commandShowDetails,this)),t.push(Y.commands.registerCommand("remote-containers.explorerDetailsRefresh",this.commandExplorerDetailsRefresh,this)),t.push(Y.commands.registerCommand("remote-containers.attachToContainer",this.commandAttachToContainer,this)),t.push(Y.commands.registerCommand("remote-containers.attachToContainerNewWindow",this.commandAttachToContainerNewWindow,this)),t.push(Y.commands.registerCommand("remote-containers.inspectDockerResource",this.commandInspectDockerResource,this)),t.push(Y.commands.registerCommand("remote-containers.openInformationAboutMountPerformance",this.openInformationAboutMountPerformance,this)),t.push(Y.commands.registerCommand("remote-containers.inspectInBasicDevContainer",this.commandInspectInBasicDevContainer,this)),t.push(Y.commands.registerCommand("remote-containers.cloneInVolume",this.commandCloneInVolume,this)),t.push(Y.commands.registerCommand("remote-containers.removeVolume",this.commandRemoveVolume,this)),t.push(Y.commands.registerCommand("remote-containers.explorerVolumesRefresh",this.commandExplorerVolumesRefresh,this)),t.push(Y.commands.registerCommand("remote-containers.startAndOpenFolder",this.commandStartAndOpenFolder,this)),t.push(Y.commands.registerCommand("remote-containers.showContainerLog",this.commandShowContainerLog,this)),t}async commandStopContainer(t){if(!Hn.isContainerItem(t))return;let n=this.targetsTreeData.currentContainer&&this.targetsTreeData.currentContainer.Id===t.container.Id?"Stop active container? This will disconnect your current window.":`Stop ${t.getContainerLabel()}?`,r=await Y.window.showWarningMessage(n,{modal:!0},...JMe(this.targetsTreeData.currentContainer,t.container));await this.targetsTreeData.withProgress(t,async()=>{switch(r){case Wce:{await Z$(this.dockerParams,t.container),t.container=await ei(this.dockerParams,t.container.Id);break}case zce:{await Y.commands.executeCommand("workbench.action.closeFolder");break}case Gce:{await Y.commands.executeCommand("remote-containers.reopenLocally");break}}})}async commandRemoveContainer(t){if(!Hn.isContainerItem(t))return;let n=await Di(this.dockerParams,t.container.Id);if(!n)return;let r=await Y.window.showWarningMessage("Remove this container?",{modal:!0,detail:"This action is not reversible and deletes the container permanently."},"Remove");await this.targetsTreeData.withProgress(t.parent,async()=>{r==="Remove"&&(await Z$(this.dockerParams,t.container),await Nae(this.dockerParams,n.Id),this.detailsTreeData&&await this.detailsTreeData.refresh(void 0),await this.tryRemoveVolume(t.container))})}async tryRemoveVolume(t){let n=wC(t);if(n||(n=G6(t)),n){let r=await aC(this.dockerParams,n);if((await hu(this.dockerParams)).indexOf(n)>=0){let s;r!=null&&r.Labels&&r.Labels["vsch.local.repository.unique"]==="true"?s="The container is using a volume with a cloned repository.":s=`This is the last container using '${n}'.`,await Y.window.showInformationMessage(s,{modal:!0,detail:"Do you want to remove the volume and the data it contains?"},"Remove")==="Remove"&&await ej(this.dockerParams,n)}}}async commandExplorerVolumesRefresh(t){return await this.devVolumesTreeData.getDockerParams(),this.devVolumesTreeData.refresh(void 0)}async commandStartContainer(t){Hn.isContainerItem(t)&&await this.targetsTreeData.withProgress(t,async()=>{await T0(this.dockerParams,t.container),t.container=await ei(this.dockerParams,t.container.Id)})}async commandRemoveRecentFolder(t){Hn.isFolderItem(t)&&(await Y.commands.executeCommand("vscode.removeFromRecentlyOpened",t.folder.toString()),await this.targetsTreeData.refresh(void 0))}async commandShowDetails(t){Hn.isContainerItem(t)&&(this.detailsTreeData||(this.detailsTreeData=Yce(this.context,this.dockerParams,this.targetsTreeData,this.telemetry)),await this.detailsTreeData.refresh(t))}async commandExplorerDetailsRefresh(){this.detailsTreeData&&await this.detailsTreeData.refresh(void 0)}async commandStartAndOpenFolder(t){let n,r;Hn.isFolderItem(t)?(r=t,n=t.container):Lg.isContainerItem(t)&&(r=t.folders[0],n=t.container),n&&(await T0(this.dockerParams,n),await Y.commands.executeCommand("remote-containers.openFolder",r))}async commandAttachToContainer(t){return this.attachToContainerInternal(t)}async commandAttachToContainerNewWindow(t){return this.attachToContainerInternal(t,!0)}async attachToContainerInternal(t,n=!1){let r;Hn.isContainerItem(t)?r=t.container:this.detailsTreeData&&(r=this.detailsTreeData.container),r&&(await T0(this.dockerParams,r),await z0(this.dockerParams,r,this.context,n))}async commandInspectDockerResource(t){let n;(Hn.isContainerItem(t)||qc.isImageItem(t)||qc.isVolume(t)||qc.isDevVolume(t))&&(n=await t.inspect(this.dockerParams)),n&&Y.window.showTextDocument(await Y.workspace.openTextDocument({language:"json",content:JSON.stringify(n,null,"	")}))}async openInformationAboutMountPerformance(){await Y.env.openExternal(Y.Uri.parse("https://aka.ms/vscode-remote/containers/open-repo"))}async commandInspectInBasicDevContainer(t){qc.isDevVolume(t)&&await t.inspectInBasicDevContainer()}async commandCloneInVolume(t){qc.isDevVolume(t)&&await t.cloneRepositoryInVolume()}async commandRemoveVolume(t){qc.isDevVolume(t)&&await t.removeVolume(this.dockerParams)}static async commandNewContainer(){var r;let t=[...(r=Y.workspace.workspaceFolders)!=null&&r.length?[{label:"Open Current Folder in Container",command:"remote-containers.reopenInContainer"}]:[],{label:"Open Folder in Container...",command:"remote-containers.openFolder"},{label:"Open Workspace in Container...",command:"remote-containers.openWorkspace"},{label:"New Dev Container...",command:"remote-containers.createDevContainer"},{label:"Clone Repository in Container Volume...",command:"remote-containers.openRepositoryInVolume"},{label:"Clone GitHub Pull Request in Container Volume...",command:"remote-containers.openPullRequestInVolume"},{label:"Try a Sample...",command:"remote-containers.trySample"}],n=await Y.window.showQuickPick(t,{placeHolder:"Select an action to create a dev container"});if(n)return Y.commands.executeCommand(n.command)}async commandShowContainerLog(t){if(!Hn.isContainerItem(t))return;let n=new _j(this.dockerParams,t.container.Id);Y.window.createTerminal({name:t.container.Config.Image,pty:n}).show()}};function Kce(e,t,n,r){Y.commands.executeCommand("setContext","remote-containers:showDetails",!1);let i=new Cj(e,t,s,n,r),o=Y.window.createTreeView("targetsContainers",{treeDataProvider:i});i.setMessage=a=>o.message=a,e.subscriptions.push(Y.commands.registerCommand("remote-containers.explorerTargetsRefresh",async()=>(await i.getDockerParams(!0),i.refresh(void 0)))),e.subscriptions.push(Y.commands.registerCommand("remote-containers.newContainer",W0.commandNewContainer)),e.subscriptions.push(Y.commands.registerCommand("remote-containers.pruneVolumes",async()=>{let a=await i.getDockerParams(!0);a&&await Bce(a)}));function s(a){let u=QMe(e,a,i,n),c=new Rj(e,n,r),l=Y.window.createTreeView("devVolumes",{treeDataProvider:c});e.subscriptions.push(l);let d=new W0(i,u,c,a,e,n);e.subscriptions.push(...d.registerCommands()),e.subscriptions.push(K$(e)(async()=>{i.refresh(void 0),c.refresh(void 0);let p=await Qe(e,r);u&&u.updateDockerParameters(p),d.updateDockerParameters(p)}))}}var Cj=class{constructor(t,n,r,i,o){this.context=t;this.resolverResults=n;this.onFirstReveal=r;this.telemetry=i;this.output=o;this._onDidChangeTreeData=new Y.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this._onDidChangeActiveContainer=new Y.EventEmitter;this.onDidChangeActiveContainer=this._onDidChangeActiveContainer.event;this.refreshDockerParams=!1;this.needsSSHCredentials=!1;this.setTreeMessage=()=>{};this.devContainers=[];this.attachContainers=[];this.otherContainers=[];this.recentAttachEntries=new Map;this.recentAttachDevContainerEntries=new Map;this.recentDevComposeEntries=new Map;this.containerItems=new Map;this.action=Promise.resolve();this.needsDockerStartOrInstallContext=void 0;this.hasContainersContext=void 0}set setMessage(t){this.setTreeMessage=t}get currentContainer(){return this._currentContainer}async getDockerParams(t=!1){if(!this.dockerParams){this.passiveSSHAskpassEnv||(this.passiveSSHAskpassEnv=Hs(this.context.extensionPath,async n=>(this.needsSSHCredentials=!0,Fc(n,!1)),this.output));try{this.dockerParams=await Qe(this.context,this.output,void 0,void 0,t?void 0:this.passiveSSHAskpassEnv,!1),await uE(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)}catch(n){if(!this.needsSSHCredentials)throw n}}return this.dockerParams}handleDockerEvent(t){try{let n=JSON.parse(t.toString());if(!n.Action)return;let r="exec_create: /root/.vscode-server";if(n.Action==="die"||n.Action==="destroy"||n.Action==="create")this._onDidChangeTreeData.fire();else if(!n.Action.startsWith("exec_create")&&n.Actor&&n.Actor.ID&&this.containerItems.has(n.Actor.ID)){let i=this.containerItems.get(n.Actor.ID);this.dockerParams&&i?(async()=>(i.container=await ei(this.dockerParams,i.container.Id),this._onDidChangeTreeData.fire(i)))():this._onDidChangeTreeData.fire(i);return}else if(n.Action.startsWith(r)){this._onDidChangeTreeData.fire();return}}catch{}}async tryEnsureDocker(){let t=await this.getDockerParams();if(t)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await Zk(t,{event:["create","destroy","die","health-status","kill","pause","rename","resize","restart","start","stop","unpause","update","exec_create"]}),this.eventsProcess.stdout.on("data",n=>{this.handleDockerEvent(n)})}catch(n){n.code!=="ENOENT"&&console.log(n),this.dockerParams=void 0}}async getTreeItem(t){return t.asTreeItem(this.dockerParams,this.context,this._currentContainer,this.currentFolder)}async setDockerStartOrInstallContext(t){(this.needsDockerStartOrInstallContext===void 0||this.needsDockerStartOrInstallContext!==t)&&(this.needsDockerStartOrInstallContext=t,!this.needsDockerStartOrInstallContext&&this.hasContainersContext===!1&&this.setHasContainersContext(!0),await Y.commands.executeCommand("setContext","remote-containers:needsDockerStartOrInstall",!this.needsDockerStartOrInstallContext&&!this.needsSSHCredentials),await Y.commands.executeCommand("setContext","remote-containers:needsSSHCredentials",!this.needsDockerStartOrInstallContext&&this.needsSSHCredentials))}async setHasContainersContext(t){if(this.hasContainersContext===void 0||this.hasContainersContext!==t){this.hasContainersContext=t;let n=Y.workspace.workspaceFolders&&Y.workspace.workspaceFolders.length>0?"remote-containers:noContainersWithFolder":"remote-containers:noContainersWithoutFolder";await Y.commands.executeCommand("setContext",n,!this.hasContainersContext)}}async getDockerOrShowMessage(t){return this.refreshDockerParams&&(this.refreshDockerParams=!1,this.dockerParams=void 0),!this.dockerParams&&(t===void 0&&await this.tryEnsureDocker(),!this.dockerParams)?(this.setDockerStartOrInstallContext(!1),this._onDidChangeActiveContainer.fire(void 0),!1):(this.setDockerStartOrInstallContext(!0),!0)}async getChildGroups(t){this.containerItems.clear(),await this.setCurrents(),await this.setContainerTypes(t);let n=[];return(this.devContainers.length>0||this.attachContainers.length>0)&&n.push(new V0("Dev Containers",0)),this.otherContainers.length>0&&n.push(new V0("Other Containers",2)),n}async getChildDevContainer(t,n){let r=await this.getWorkspaceFolderFromContainer(t),i=r?[new Uc(t,r,!0)]:[],o=Eu(t);o&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new Uc(t,a,!1))):o&&this.recentAttachEntries.has(t.Id)?i.push(...this.recentAttachEntries.get(t.Id).map(a=>new Uc(t,a,!1))):(o=Xa(t))&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new Uc(t,a,!1))):(o=lO(xu(t)))&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new Uc(t,a,!1))):o===void 0&&this.recentDevComposeEntries.has(t.Id)&&i.push(...this.recentDevComposeEntries.get(t.Id).map(a=>new Uc(t,a,!1)));let s=new Lg(t,i,n,!0);return this.setContainerItems(s),s}setContainerItems(t){this.containerItems.set(t.container.Id,t),this._currentContainer&&t.container.Id===this._currentContainer.Id&&this._onDidChangeActiveContainer.fire(t)}async getChildContainers(t){if(t.groupType===0){let n=this.devContainers.map(async r=>this.getChildDevContainer(r,t));return n.push(...this.attachContainers.map(async r=>{let i=new Lg(r,this.recentAttachEntries.get(r.Id).map(o=>new Uc(r,o,!1)),t);return this.setContainerItems(i),i})),Promise.all(n)}else return this.otherContainers.map(n=>{let r=new Lg(n,[],t);return this.setContainerItems(r),r})}getChildFolders(t){return t.folders&&t.folders.length>1?t.folders:[]}async getChildItems(t){if(t===void 0){let n=await za(this.dockerParams,!0);if(await this.setHasContainersContext(n.length>0),n.length===0)return[];let r=await Bs(this.dockerParams,n);return this.getChildGroups(r)}else{if(Hn.isGroupItem(t))return this.getChildContainers(t);if(Hn.isContainerItem(t))return this.getChildFolders(t)}return[]}async getChildren(t){return await this.action,await this.getDockerOrShowMessage(t)?(this.onFirstReveal&&(this.onFirstReveal(this.dockerParams),this.onFirstReveal=void 0),this.setTreeMessage(void 0),this.getChildItems(t)):[]}async refresh(t){t===void 0&&(this.refreshDockerParams=!0),this._onDidChangeTreeData.fire(t)}async setCurrents(){let t=Y.workspace.workspaceFolders,n;if(this.dockerParams){if(t&&t.length>0){let r=this.resolverResults.get(t[0].uri.authority);r&&r.dockerContainerId&&(n=await Di(this.dockerParams,r.dockerContainerId),this.currentFolder=t[0].uri.path)}else if(this.resolverResults.size>0){let r=[...this.resolverResults.values()][0].dockerContainerId;r&&(n=await Di(this.dockerParams,r))}}n!==this._currentContainer&&(this._currentContainer=n)}addContainerToMap(t){if(Eu(t)){this.devContainers.push(t);return}else if(Xa(t)){this.devContainers.push(t);return}else if(xu(t)){this.devContainers.push(t);return}else if(lC(t)&&this.recentDevComposeEntries.has(t.Id)){this.devContainers.push(t);return}else if(this.recentAttachEntries.has(t.Id)){this.attachContainers.push(t);return}this.otherContainers.push(t)}async setContainerTypes(t){return await this.setRecentEntries(t),this.devContainers.length=0,this.attachContainers.length=0,this.otherContainers.length=0,t.forEach(n=>{this.addContainerToMap(n)}),{hasDev:this.devContainers.length>0,hasAttach:this.attachContainers.length>0}}async getWorkspaceFolderFromHostWorkspace(t){let{cliHost:n,dockerCLI:r,dockerComposePath:i}=this.dockerParams,o=At(n.path,t),s=await hy(n,o,Tl()),a={cliHost:n,dockerPath:r,dockerComposePath:i,appRoot:Y.env.appRoot,extensionPath:this.context.extensionPath,package:await Xr(this.context.extensionPath),output:this.output},u=s&&await tE(a,o.rootFolderPath,s);if(u&&hr(u.configuration)){let c=Un(this.dockerParams.env);return Y.Uri.parse(Ey(t,u.workspace.workspaceFolder,c),!0)}}async getWorkspaceFolderFromContainer(t){let n=Eu(t);if(n)return this.getWorkspaceFolderFromHostWorkspace(n);{let r=Xa(t),i=wC(t),o=z6(t);if(r){let a=Un(this.dockerParams.env);return Y.Uri.parse(Jo(r,i,o,!1,a,void 0))}let s=xu(t);if(s){let a=Un(this.dockerParams.env);return Y.Uri.parse(Jo(void 0,s.volumeName,s.folder,!1,a,void 0))}}}async getWorkspaceFolderFromHostPath(t){let n=this.dockerParams.cliHost,r=await nK(n,t,this.output),i=rK(n,r,t),o=Un(this.dockerParams.env);return Y.Uri.parse(Ey(t,i,o),!0)}getWorkspaceFolderFromRepository(t,n,r){let i=Un(this.dockerParams.env);return Y.Uri.parse(Jo(t,n,r,!1,i,void 0),!0)}getWorkspaceFolderFromDevContainerInVolume(t,n){let r=Un(this.dockerParams.env);return Y.Uri.parse(Jo(void 0,t,n,!1,r,void 0),!0)}async findComposeTargetContainer(t,n){var r;return(r=n.find(i=>Eu(i)===t))==null?void 0:r.Id}trySetEntryWithAttachAuthority(t,n,r){let i;if("containerName"in n){let o=r.find(s=>s.Name===n.containerName);o&&(i=o.Id)}else i=n.containerId;i&&(this.recentAttachEntries.has(i)?this.recentAttachEntries.get(i).push(t):this.recentAttachEntries.set(i,[t]))}async trySetEntryWithDevAuthority(t,n,r,i){let o=n.hostPath,s=i[o];if(s||(s=await this.getWorkspaceFolderFromHostPath(n.hostPath),i[o]=s),s.path!==t.path){this.recentAttachDevContainerEntries.has(n.hostPath)?this.recentAttachDevContainerEntries.get(n.hostPath).push(t):this.recentAttachDevContainerEntries.set(n.hostPath,[t]);let a=await this.findComposeTargetContainer(n.hostPath,r);a&&this.recentDevComposeEntries.has(a)?this.recentDevComposeEntries.get(a).push(t):a&&this.recentDevComposeEntries.set(a,[t])}}trySetEntryWithRepoAuthority(t,n){this.getWorkspaceFolderFromRepository(n.repositoryPath,n.volumeName,n.folder).path!==t.path&&(this.recentAttachDevContainerEntries.has(n.repositoryPath)?this.recentAttachDevContainerEntries.get(n.repositoryPath).push(t):this.recentAttachDevContainerEntries.set(n.repositoryPath,[t]))}trySetEntryWithDevContainerInVolumeAuthority(t,n){if(this.getWorkspaceFolderFromDevContainerInVolume(n.volumeName,n.folder).path!==t.path){let i=lO(n);this.recentAttachDevContainerEntries.has(i)?this.recentAttachDevContainerEntries.get(i).push(t):this.recentAttachDevContainerEntries.set(i,[t])}}trySetEntryWithVolumeAuthority(t,n){let r=n.volumeName;r&&(this.recentAttachEntries.has(r)?this.recentAttachEntries.get(r).push(t):this.recentAttachEntries.set(r,[t]))}async trySetEntry(t,n,r){if(!t||!t.folderUri&&!t.workspace.configPath)return;let i=t.folderUri??t.workspace.configPath,o=dm(i.authority);if(o)this.trySetEntryWithAttachAuthority(i,o,n);else{let s=Oi(i.authority);s&&(Mn(s)?await this.trySetEntryWithDevAuthority(i,s,n,r):Ir(s)?this.trySetEntryWithRepoAuthority(i,s):Ka(s)?this.trySetEntryWithDevContainerInVolumeAuthority(i,s):this.trySetEntryWithVolumeAuthority(i,s))}}async setRecentEntries(t){this.recentAttachEntries.clear(),this.recentAttachDevContainerEntries.clear(),this.recentDevComposeEntries.clear();let n=await Y.commands.executeCommand("_workbench.getRecentlyOpened");if(n&&n.workspaces){let r={};for(let i of n.workspaces)await this.trySetEntry(i,t,r)}}withProgress(t,n){return this.action=this.action.then(()=>n()),this.refresh(t)}};var qc=class{constructor(t){this.label=t;this.type="Default"}static isDetailItem(t){return!!t&&t.label!==void 0&&t.type!==void 0}static isImageItem(t){return!!t&&t.type==="Image"}static isVolume(t){return!!t&&t.type==="Volume"}static isDevVolume(t){return!!t&&t.type==="DevVolume"}},Sj=class{constructor(t){this.detail=t;this.type="Image";this.context="image";this.label="Image"}inspect(t){return E6(t,this.detail)}},Tj=class{constructor(t,n,r){this.label=t;this.detail=n;this.volumeDetails=r;this.type="Volume";this.context="volume"}async inspect(t){return aC(t,this.volumeDetails)}},Ij=class{constructor(t,n,r,i){this.context=t;this.dockerParams=n;this.telemetry=r;this.output=i;this._onDidChangeTreeData=new Y.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.setTreeTitle=()=>{}}updateDockerParameters(t){this.dockerParams=t}set setTitle(t){this.setTreeTitle=t}get container(){return this._container?this._container.container:void 0}getTreeItem(t){let n=new Y.TreeItem(t.label,Array.isArray(t.detail)&&t.detail.length>0?Y.TreeItemCollapsibleState.Expanded:Y.TreeItemCollapsibleState.None);return n.tooltip=t.label,t.detail&&!Array.isArray(t.detail)&&(n.description=t.detail,n.tooltip+=` ${n.description}`),n.contextValue=t.context,n.command=t.command,n}async getAttributes(t,n,r){let i=[];n&&i.push({label:"Workspace",detail:n});let o=Xa(t.container);o&&i.push({label:"Repository",detail:o});let s=xu(t.container);return s&&(i.push({label:"Volume",detail:s.volumeName}),i.push({label:"Folder",detail:s.folder})),i.push({label:"Name",detail:t.container.Name}),i.push(new Sj(t.container.Config.Image)),r&&i.push({label:"Configuration",detail:r,command:{title:"Open Dev Container File",command:"remote-containers.openDevContainerFile",arguments:[r]},context:"devContainer"}),i}async getMounts(t){let n=[];return t&&t.Mounts.forEach(r=>{if(r.Type==="volume"){let i=r.Name,o=new Tj("Volume",i,i),s={label:"Destination",detail:r.Destination};n.push({label:"Volume mount",detail:[o,s]})}else if(r.Type==="bind"){let i={label:"Source",detail:r.Source},o={label:"Destination",detail:r.Destination},s=this.dockerParams&&["win32","darwin"].includes(this.dockerParams.cliHost.platform)?[{label:"I/O performance",detail:"reduced by bridging OSes",context:"mountPerformanceInfo",command:{command:"remote-containers.openInformationAboutMountPerformance"}}]:[];n.push({label:"Bind mount",detail:[i,o,...s]})}}),n}async getChildrenFromRoot(t){let n=[],r=Eu(t.container),i;if(this.dockerParams&&r){let a=await hy(this.dockerParams.cliHost,At(this.dockerParams.cliHost.path,r),Tl());a&&(i=we(a,this.dockerParams.cliHost.platform))}n.push({label:"Attributes",detail:await this.getAttributes(t,r,i),type:"Title"});let o;this.dockerParams&&(o=await ei(this.dockerParams,t.container.Id));let s=await this.getMounts(o);return s.length>0&&n.push({label:"Mounts",detail:s,type:"Title"}),n}async testContainer(){let t=!0;try{(this.dockerParams?await ei(this.dockerParams,this._container.container.Id):void 0)===void 0&&(t=!1)}catch{t=!1}return t||(this._container=void 0,this.setTreeTitle("Details (Containers)")),t}async getChildren(t){if(this._container===void 0)return[];let n=[];return t===void 0?await this.testContainer()&&(this.setTreeTitle(this._container.getContainerLabel()),n=await this.getChildrenFromRoot(this._container)):Array.isArray(t.detail)&&n.push(...t.detail),n}async refresh(t){this.dockerParams=await Qe(this.context,this.output),await uE(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0,this._container=void 0),this._container=t||this._container,this._onDidChangeTreeData.fire(void 0)}},Pj=class extends qc{constructor(n){super(n.Name);this.type="DevVolume";this.volumeDetails=n,this.createdAt=void 0}async asTreeItem(){let n=this.getLabel(),r=new Y.TreeItem(n,Y.TreeItemCollapsibleState.None);return r.iconPath=this.iconPath,r.description=this.getDescription(),this.isUniqueVolume()?r.contextValue="uniqueDevVolume":r.contextValue="devVolume",r}isUniqueVolume(){return Og(this.volumeDetails)}getLabel(){return j0(this.volumeDetails)}getDescription(){return H0(this.volumeDetails)}getBranchName(){return wj(this.volumeDetails)}getPullRequestId(){return Ej(this.volumeDetails)}getRepository(){return B0(this.volumeDetails)}get iconPath(){return new Y.ThemeIcon("file-symlink-directory")}getTimeElapsed(){if(this.createdAt)return this.createdAt;let n="";if(new Date(this.volumeDetails.CreatedAt).getFullYear()>1){let i=new Date,o=new Date(this.volumeDetails.CreatedAt);n=` ${bj(i,o)} ago`}return this.createdAt=n,n}async inspect(n){return aC(n,this.volumeDetails.Name)}async inspectInBasicDevContainer(){await Y.commands.executeCommand("remote-containers.inspectVolume",this.volumeDetails.Name)}async cloneRepositoryInVolume(){await Y.commands.executeCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",this.volumeDetails.Name)}async removeVolume(n){if(!((await hu(n)).indexOf(this.volumeDetails.Name)>=0)){await Y.window.showInformationMessage(`Volume '${this.volumeDetails.Name}' is in use and cannot be removed.`,{modal:!0});return}await Y.window.showInformationMessage(`Are you sure you want to remove volume '${this.volumeDetails.Name}'?`,{modal:!0},"Remove")==="Remove"&&await ej(n,this.volumeDetails.Name)}},Rj=class{constructor(t,n,r){this.context=t;this.telemetry=n;this.output=r;this._onDidChangeTreeData=new Y.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event}async getTreeItem(t){return t.asTreeItem()}async getDockerParams(){return this.dockerParams||(this.dockerParams=await Qe(this.context,this.output,void 0,void 0),await uE(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)),this.dockerParams}async setHasVolumesContext(t){await Y.commands.executeCommand("setContext","remote-containers:noDevVolumes",t)}async getDockerOrShowMessage(t){return!(!this.dockerParams&&(t===void 0&&await this.tryEnsureDocker(),!this.dockerParams))}async getChildren(t){if(!await this.getDockerOrShowMessage(t))return[];let n=await Qe(this.context,this.output),r=await ti(n),i=await od(n,r),o=a=>!(a.Name==="vscode"||a.Name.length===64&&/^[0-9a-fA-F]+$/.test(a.Name)),s=i.filter(o);return await this.setHasVolumesContext(s.length===0),s.sort((a,u)=>{let c=new Date(a.CreatedAt);return new Date(u.CreatedAt).getTime()-c.getTime()}),s.map(a=>new Pj(a))}async resolveTreeItem(t,n){let r=await Qe(this.context,this.output),i=await this.getAssociatedContainers(r,n),o=n.getLabel(),s=n.getRepository(),a=n.getBranchName(),u=n.getPullRequestId(),c=n.getTimeElapsed();return i.length>0?t.tooltip=this.renderMarkdown(o,s,a,u,c,i.join(", ")):t.tooltip=this.renderMarkdown(o,s,a,u,c,"*None*"),t}async getAssociatedContainers(t,n){let r=[],i=await za(t,!0),o=await Bs(t,i);for(let s of o)for(let a of s.Mounts)a.Type==="volume"&&a.Name===n.volumeDetails.Name&&r.push(s.Name.substring(1));return r}renderMarkdown(t,n,r,i,o,s){let a=new Y.MarkdownString(void 0,!0);if(n){let u=n.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)",c=n.gitUrlInfo.repositoryUrl;c.startsWith("http")?(c=n.gitUrlInfo.repositoryUrl.replace(".git",""),a.appendMarkdown(`${u} [${c}](${c})
`)):a.appendMarkdown(`${u} ${c})
`),a.appendMarkdown(`&nbsp;  
`),r&&(n.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-compare) [${r}](${c}/tree/${r})
`):a.appendMarkdown(`$(git-compare) ${r}
`),a.appendMarkdown(`&nbsp;  
`)),i&&(n.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-pull-request-create) [#${i}](${c}/pull/${i})
`):a.appendMarkdown(`$(git-pull-request-create) #${i}
`),a.appendMarkdown(`&nbsp;  
`)),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`)}else a.appendMarkdown(`$(file-symlink-directory) ${t}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`);return a}handleDockerEvent(t){try{let n=JSON.parse(t.toString());if(!n.Action)return;(n.Action==="die"||n.Action==="destroy"||n.Action==="create"||n.Action==="prune")&&this._onDidChangeTreeData.fire()}catch{}}async tryEnsureDocker(){let t=await this.getDockerParams();if(t)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await Zk(t,{event:["destroy","die","kill","create","rename","resize","restart","start","stop","unpause","prune"]}),this.eventsProcess.stdout.on("data",n=>{this.handleDockerEvent(n)})}catch(n){n.code!=="ENOENT"&&console.log(n),this.dockerParams=void 0}}async refresh(t){t===void 0&&(this.dockerParams=void 0),this._onDidChangeTreeData.fire(t)}},ZMe="vm-active",eUe="vm-default",tUe="folder-active",nUe="folder";function G0(e,t){let n=`${t}.svg`;return{light:Y.Uri.file(e.asAbsolutePath(Ng.join("resources","light",n))),dark:Y.Uri.file(e.asAbsolutePath(Ng.join("resources","dark",n))),highContrast:Y.Uri.file(e.asAbsolutePath(Ng.join("resources","highContrast",n)))}}var Uj=require("util");var $o=B(require("vscode"));async function Xce(e,t,n={}){let r=Hf(t[0],t.slice(1),void 0),i=await _4(t[0],t.slice(1),void 0,e.loadNativeModule),o=await H_({params:e,createdAt:void 0,startedAt:void 0,sharedDataFolderIsLocalCacheFolder:!1,sharedDataFolder:void 0,remoteWorkspaceFolder:"/",containerUser:void 0,containerGroup:void 0,containerEnv:void 0,remoteExec:r,remotePtyExec:i,remoteExecAsRoot:void 0,rootShellServer:void 0,remoteWaylandSocket:void 0}),{hostOrContainerPort:s,connectionToken:a,remoteEnv:u,serverDownloaded:c}=await nY(e,o,n,async()=>{},void 0);return{params:e,properties:o,config:void 0,resolvedAuthority:{host:vu,port:s,connectionToken:a,extensionHostEnv:u},tunnelInformation:{},dockerParams:void 0,dockerContainerId:void 0,serverDownloaded:c}}async function Qce(e,t,n){var r,i,o;if(await Il(e))if(n&&n.name){let s=["get","pod",n.name,"-o","json"];n.namespace&&s.push("--namespace",n.namespace);let{cliHost:a,env:u,output:c}=t,l=(await me({exec:a.exec,cmd:"kubectl",args:["config","current-context"],env:u,output:c})).stdout.toString().trim(),p=(await me({exec:a.exec,cmd:"kubectl",args:s,env:u,output:c})).stdout.toString(),f=JSON.parse(p),m=((r=f.spec)==null?void 0:r.containers)||[];if(!m.length){t.output.write(`No containers found. Pod details:
${p}`),await $o.window.showErrorMessage("No containers found.",{modal:!0},"Show Log")&&$o.commands.executeCommand($r);return}let h=m.length>1?(i=await $o.window.showQuickPick(m.map(g=>({label:g.name,detail:g.image,container:g})),{placeHolder:"Select container"}))==null?void 0:i.container:m[0];if(h){let g=((o=f.metadata)==null?void 0:o.namespace)||n.namespace,v={remoteAuthority:iUe({context:l,podname:n.name,namespace:g,name:h.name,image:h.image})};/\d$/.test(e.extensionPath)||(v.reuseWindow=!0),await $o.commands.executeCommand("vscode.newWindow",v)}}else t.output.write(`No Pod name found. Pod object:
${JSON.stringify(n,void 0,"  ")}`),await $o.window.showErrorMessage("No Pod name found.",{modal:!0},"Show Log")&&$o.commands.executeCommand($r)}async function Jce(e,t,n,r,i){return await Il(e)?{...await rUe(e,t,n,r,i),isTrusted:!0}:(await $o.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function rUe(e,t,n,r,i){let o;return $o.window.withProgress({location:$o.ProgressLocation.Notification,title:Pg,cancellable:!1},async s=>{try{let a=oUe(n),u=process.cwd(),c=va(),l=await Ai(void 0,u,Ki,c,e.extensionPath,await go(),t.product,r.log,Ps);o=await Ig({authority:n,extensionContext:e,sessionStart:r.sessionStart,progress:s,cliHost:l,env:l.env,cwd:u,wslSettings:c,isLocalContainer:!0,telemetry:t,output:r.log,logFilePath:r.logFilePath,allowSystemConfigChange:!1,postCreate:i}),o.setWorkspaceName(`${a.name} in ${a.podname} (${a.image})`);let d=["kubectl","exec","-it",a.podname];return a.context&&d.push("--context",a.context),a.namespace&&d.push("--namespace",a.namespace),d.push("--container",a.name,"--"),await Xce(o,d)}catch(a){let u=a instanceof ve?a:new ve({description:"An error occurred attaching to the container.",originalError:a});throw u.actions=[...fm,cd,bu,pm,ad],u}}).then(s=>(Mc(t,"k8s-container","success",o,void 0,void 0,s.properties),s),s=>{let a=s instanceof ve?s:new ve({description:"An error occurred attaching to the container.",originalError:s});return Mc(t,"k8s-container","failure",o,void 0,void 0,a.containerProperties,a),_u(a,"k8s-container",t,!0,r)})}function iUe(e){let t=[];for(let n in e){let r=e[n];r&&t.push(`${n}=${encodeURIComponent(r)}`)}return`k8s-container+${t.join("+")}`}function oUe(e){return e.substr(e.indexOf("+")+1).split("+").reduce((t,n)=>{let r=n.indexOf("=");return r!==-1&&(t[n.substr(0,r)]=decodeURIComponent(n.substr(r+1))),t},{})}var Et=B(require("vscode")),Wp=B(require("fs")),Fg=B(require("os")),Vp=B(require("path")),Y0=require("child_process"),Mg=require("util");function K0(e){switch(e.quality){case"stable":return"";case"insider":return"-insiders";default:return`-${e.quality}`}}async function Zce(e,t){let n=e.globalStorageUri,r=Ii.joinPath(n,"cli-bin");await Et.workspace.fs.createDirectory(r);let i="";try{i=(await Et.workspace.fs.readFile(Ii.joinPath(r,"remote-containers-path"))).toString()}catch(c){if((c==null?void 0:c.code)!=="FileNotFound")return}if(i===e.extensionPath)return;let o=Ii.joinPath(e.extensionUri,"dev-containers-user-cli","bin"),s=K0(t),a=`devcontainer${s}`,u=[{source:"devcontainer",destination:a},{source:"devcontainer.cmd",destination:`devcontainer${s}.cmd`}];for(let c of u)await Et.workspace.fs.copy(Ii.joinPath(o,c.source),Ii.joinPath(r,c.destination),{overwrite:!0});process.platform!=="win32"&&await Wp.promises.chmod(Ii.joinPath(r,a).fsPath,493),await Et.workspace.fs.writeFile(Ii.joinPath(r,"vscode-app-root"),Buffer.from(Et.env.appRoot,"utf-8")),await Et.workspace.fs.writeFile(Ii.joinPath(r,"vscode-path"),Buffer.from(process.execPath,"utf-8")),await Et.workspace.fs.writeFile(Ii.joinPath(r,"vscode-quality"),Buffer.from(t.quality??"","utf-8")),await Et.workspace.fs.writeFile(Ii.joinPath(r,"vscode-machine-id"),Buffer.from(Et.env.machineId,"utf-8")),await Et.workspace.fs.writeFile(Ii.joinPath(r,"remote-containers-path"),Buffer.from(e.extensionPath,"utf-8"))}async function sUe(e,t){let n=K0(t),r="";try{let i=await co("powershell.exe");if(r=(await(0,Mg.promisify)(Y0.exec)(`"${i}" -NoProfile -NonInteractive -Command "[System.Environment]::GetEnvironmentVariable('PATH', 'User')"`)).stdout.toString().trim(),r.indexOf(e)>=0)return await Et.window.showInformationMessage("The devcontainer CLI is already in your PATH",{modal:!0,detail:`Try running 'devcontainer${n} --help'
Note: you may need to restart your shell for PATH changes to take effect`}),!0;switch(await Et.window.showInformationMessage("The devcontainer CLI needs to be added to your PATH",{modal:!0},"Add","Copy CLI Path")){case"Add":let a=(0,Mg.promisify)(Y0.exec)(`"${i}"  -NoProfile -NonInteractive -Command "[System.Environment]::SetEnvironmentVariable('PATH', '${r};${e}', 'User')`),u=Et.window.showInformationMessage("The devcontainer CLI has been added to your PATH",{modal:!0,detail:`Try running 'devcontainer${n} --help'
Note: you may need to restart your shell for PATH changes to take effect`});await Promise.all([a,u]);break;case"Copy CLI Path":await Et.env.clipboard.writeText(e),await Et.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${n} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break}return!0}catch{return!1}}async function aUe(e,t){let r=(process.env.PATH??"").split(":"),i=[Vp.join(Fg.homedir(),"bin"),Vp.join(Fg.homedir(),".local/bin")],o="/usr/local/bin";Fg.platform()==="darwin"&&i.push(o);let s=(0,Mg.promisify)(Wp.stat);for(let a of i){if(r.findIndex(p=>p===a)<0)continue;try{await s(a)}catch{continue}let u=K0(t),c=Vp.join(a,`devcontainer${u}`);try{let p=await s(c);return console.log(p),await Et.window.showInformationMessage(`The devcontainer CLI is already symlinked in ${a}`,{modal:!0,detail:`Try running 'devcontainer${u} --help'
Note: you may need to restart your shell for PATH changes to take effect`}),!0}catch(p){if((p==null?void 0:p.code)!=="ENOENT")return!1}let l=await Et.window.showInformationMessage("The devcontainer CLI needs to be in your PATH",{detail:`Create a symlink in ${a}?`,modal:!0},"Create","Copy CLI Path"),d=Vp.join(e,`devcontainer${u}`);switch(l){case"Create":if(a===o){if(!await cUe(d,c))break}else await(0,Mg.promisify)(Wp.symlink)(d,c);await Et.window.showInformationMessage(`The devcontainer CLI has been symlinked in ${a}`,{modal:!0,detail:`Try running 'devcontainer${u} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break;case"Copy CLI Path":await Et.env.clipboard.writeText(e),await Et.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${u} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break}return!0}return!1}async function cUe(e,t){try{return await Wp.promises.symlink(e,t),!0}catch(n){if(n.code!=="EACCES"&&n.code!=="ENOENT")throw n;if(await Et.window.showInformationMessage("This will now prompt with 'osascript' for Administrator privileges to install the shell command.",{modal:!0},"OK")==="OK"){let o=`"${await co("osascript")}" -e "do shell script \\"mkdir -p ${Vp.dirname(t)} && ln -sf '${e}' '${t}'\\" with administrator privileges"`;return await(0,Mg.promisify)(Y0.exec)(o),!0}return!1}}async function eue(e,t){let n=e.globalStorageUri,r=Ii.joinPath(n,"cli-bin").fsPath;switch(Fg.platform()){case"win32":if(await sUe(r,t))return;break;case"darwin":case"linux":if(await aUe(r,t))return;break}if(await Et.window.showInformationMessage("The devcontainer CLI needs to be included your PATH",{modal:!0},"Copy CLI Path")==="Copy CLI Path"){await Et.env.clipboard.writeText(r);let o=K0(t);await Et.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${o} --help'
Note: you may need to restart your shell for PATH changes to take effect`})}}var Bn=B(require("vscode")),Aj=B(require("path"));var uUe="Select Dev Container Configuration",lUe=`[Creating Dev Container (show log)](command:${$r} "Show details in terminal")`,tue="alpine:3.16.3",nue=["devcontainers","microsoft"];async function rue(e,t,n){let r=await dUe(e,t,n);if(!r)return;let{volumeAndFolderName:i}=r,o=Un(t.env),s=Bn.Uri.parse(Jo(void 0,i,i,!1,o,void 0));await Hp({uri:s,type:"folder",label:`${i} [Dev Container]`}),await Bn.commands.executeCommand("vscode.openFolder",s)}async function dUe(e,t,n){let{output:r}=t;Ae(t,"pull",tue);let i=await uj({telemetry:n,output:r,existingFilesLearnMoreLink:qp,predefinedDefinitionsLearnMoreLink:$p,openConfigurationCommandId:Up},uUe,!0),o=await ti(t),s=async()=>{i.skipOptions=!0;let l=await P0(i,void 0,void 0);if(l==="back"||!l)return;let d=l.metadata.template;if(nue.indexOf(d.owner)===-1){let p=`@${d.owner}`,f={label:`Trust ${p}`,description:"from GitHub",buttons:[{iconPath:new Bn.ThemeIcon("info"),tooltip:"Open Documentation"}]},m={label:"Cancel"},h=i.quickPick.onDidTriggerItemButton(()=>{Bn.env.openExternal(Bn.Uri.parse(d.documentationURL))}),g=await Xi(i.quickPick,[f,m],`The ${d.name} is from the ${p} GitHub owner/organization.`,void 0,void 0,!0);if(h.dispose(),!g||g===m){i.quickPick.dispose();return}if(g==="back")return s()}return iue(i,l,o,pUe(l.id,o),s)},a=await s();if(!a)return;let{selectedTemplate:u,volumeName:c}=a;return Bn.window.withProgress({location:Bn.ProgressLocation.Notification,title:lUe,cancellable:!1},async()=>{let l;try{await nm(t,c,[`${xC}=true`]);let{stdout:d}=await Ae(t,...fUe(c,sd()));l=d.toString().trim();let p=Aj.posix.join(sd(),c),f=Xo(t,l,"root"),m=await Vs(t,l,"root",Ki),h=Ri("container",p,{},f,m,()=>{throw new Error("not implemented")},"node",r);await h.mkdirp(p);let g=At(Aj.posix,p),v=await aj(i,h,g,u);return i.quickPick.hide(),v?{volumeAndFolderName:c}:void 0}finally{if(l)try{await Ae(t,"rm","-f",l)}catch{}}})}function pUe(e,t){let n,r=(/([^/:]+)(:[^/:]+)?$/.exec(e)||[])[1]||"devcontainer",i=0;do n=`${r}${i++?`-${i}`:""}`;while(t.indexOf(n)!==-1);return n}async function iue(e,t,n,r,i){let{quickPick:o}=e;o.placeholder="Dev container name",o.selectedItems=[],o.value=r,o.buttons=[Bn.QuickInputButtons.Back];let s={label:"Additional Options...",alwaysShow:!0},a=!1;function u(){a=!1,o.items=[{label:"Create Dev Container",description:o.value,alwaysShow:!0},s]}function c(f){a=!0,o.items=[{label:f,alwaysShow:!0}]}u();let l=[],d=await new Promise(f=>{l=[o.onDidAccept(()=>{o.value?a||f({volumeName:o.value,options:o.selectedItems[0]===s}):c("The name cannot be empty.")}),o.onDidHide(()=>f(void 0)),o.onDidChangeValue(m=>{n.indexOf(m)!==-1?c("A Docker volume with this name already exists."):m&&!/^[a-zA-Z0-9]/.test(m)?c("Only alphanumeric characters are allowed as the first character."):m&&!/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/.test(m)?c("Only alphanumeric characters, periods, underscores and hyphens are allowed."):u()}),o.onDidTriggerButton(()=>f("back"))]});if(l.forEach(f=>f.dispose()),!d)return;if(d==="back")return i();let{volumeName:p}=d;if(d.options){let f=async()=>{e.skipOptions=!1;let h=await Ag(e,t.metadata.template,async()=>{let y=await iue(e,t,n,p,i);if(y)return p=y.volumeName,y.selectedTemplate});if(h==="back"||!h)return;let v=h.metadata.features.filter(y=>nue.indexOf(y.owner)===-1);if(v.length){let y=[...new Set(v.map(T=>T.owner))].sort().map(T=>`@${T}`),x=y.length===1?y[0]:`${y.slice(0,-1).join(", ")} and ${y[y.length-1]}`,E={label:`Trust ${x}`,description:"from GitHub",buttons:[{iconPath:new Bn.ThemeIcon("info"),tooltip:"Open Documentation"}]},b={label:"Cancel"},C=e.quickPick.onDidTriggerItemButton(()=>{for(let T of v)Bn.env.openExternal(Bn.Uri.parse(T.documentationURL))}),R=await Xi(e.quickPick,[E,b],`Some features are from the ${x} GitHub owner/organization(s).`,void 0,void 0,!0);if(C.dispose(),!R||R===b){e.quickPick.dispose();return}if(R==="back")return f()}return h},m=await f();if(!m)return;t=m}return o.busy=!0,o.enabled=!1,{volumeName:p,selectedTemplate:t}}function fUe(e,t){return["run","-d","--mount",`type=volume,src=${e},dst=${t}`,tue,"sleep","infinity"]}var Oj=class{constructor(t,n,r){this.context=t;this.output=n;this.telemetry=r}handleUri(t){switch(t.path){case"/cloneInVolume":this.cloneInVolume(t)}}async cloneInVolume(t){let n=due.parse(t.query);if(!n.url){D.window.showErrorMessage(`Failed to handle the URI '${t}' expected a 'url' query parameter.`,{modal:!0});return}let r;Array.isArray(n.url)?r=n.url[0]:r=n.url;let i=await Qe(this.context,this.output.log);if(!await jr(this.context,i,this.telemetry))return;if(await AD(i.cliHost,r,this.output.log)===!1){D.commands.executeCommand($r),await D.window.showErrorMessage(`Cannot access the repository '${r}'.`,{modal:!0});return}await D.commands.executeCommand(w0,n.url)}};async function hUe(e){var T;Bae();let t=new Date;Hae(e);let n=await Xr(e.extensionPath),r=await Yv(D.env.appRoot);Vae(e,r);let i=jae(e,n,r),o=`Dev Containers ${n.version} in VS Code ${D.version} (${r.commit||"out-of-source"}).`,s=new Kw(e.logPath,t,o);e.subscriptions.push(D.commands.registerCommand($r,()=>s.show()));let{channel:a,postCreate:u}=$ae(s.log,t);e.subscriptions.push(D.commands.registerCommand(Y$,()=>a.show()));let c,l=new Promise(_=>c=_);e.subscriptions.push(D.workspace.registerRemoteAuthorityResolver("dev-container",{resolve:E0(s,u,qr.results,c,async(_,A,P)=>mce(e,i,_,qr.onRemoveOnShutdownChanged,A,P)),async getCanonicalURI(_){var P;let A=Oi(_.authority);if(A&&Mn(A)){let{hostPath:I,settings:F}=A;return Sr(I)?$f(I,s.log):F&&"host"in F&&((P=F.host)!=null&&P.startsWith("ssh://"))?Xv(F.host,I):D.Uri.file(I)}return _}}),D.workspace.registerRemoteAuthorityResolver("attached-container",{resolve:E0(s,u,qr.results,c,async(_,A,P)=>Pce(e,i,_,A,P))}),D.workspace.registerRemoteAuthorityResolver("k8s-container",{resolve:E0(s,u,qr.results,c,async(_,A,P)=>Jce(e,i,_,A,P))}),D.window.registerUriHandler(new Oj(e,s,i)));let d=async(_,A,P)=>{let I=await Qe(e,s.log);if(!await jr(e,I,i))return;let F;if(Hn.isFolderItem(_)?(F=_.folder,P=wUe()):F=_,F.scheme==="vscode-remote")return D.commands.executeCommand("vscode.openFolder",F,P);{let q=At(I.cliHost.path,we(F,I.cliHost.platform));return J0(e,q,I,i,A,P)}};e.subscriptions.push(D.commands.registerCommand("remote-containers.openFolder",async(_,A)=>_?d(_,!1,A):cue(e,!0,i,!1,s.log))),e.subscriptions.push(D.commands.registerCommand("remote-containers.openWorkspace",async(_,A)=>_?d(_,!1,A):cue(e,!1,i,!1,s.log))),e.subscriptions.push(D.commands.registerCommand(Rae,async _=>Ug(e,i,s.log,_))),e.subscriptions.push(D.commands.registerCommand(w0,async _=>Ug(e,i,s.log,_,vo))),e.subscriptions.push(D.commands.registerCommand(Dae,async()=>{var $,M,k;let A=(await(($=D.extensions.getExtension("vscode.git"))==null?void 0:$.activate())).getAPI(1);if(A.repositories.length===0)return;let P=A.repositories.reduce((U,V)=>{let L=V.state.remotes.find(G=>{var W,z;return G.name===((z=(W=V.state.HEAD)==null?void 0:W.upstream)==null?void 0:z.remote)});return L!=null&&L.pushUrl&&U.push({repository:V,label:L.pushUrl}),U},[]),I=P[0];if(P.length>1){let U=await D.window.showQuickPick(P,{canPickMany:!1,placeHolder:"Choose which repository to clone"});if(U===void 0)return;I=U}let F=I.label,q=(k=(M=I.repository.state.HEAD)==null?void 0:M.upstream)==null?void 0:k.name;return Ug(e,i,s.log,{url:F,branch:q},vo)})),e.subscriptions.push(D.commands.registerCommand(Aae,async()=>{var q;let _=D.workspace.workspaceFolders;if(!_)return;let A=_[0].uri;if(_.length>1){let $=await D.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1,title:"Choose a repository to clone in a Container Volume"});A=$==null?void 0:$[0]}let P,I;try{let $=await D.commands.executeCommand("remoteHub.api.getRepositoryContext",A);if(!$)throw new Error("Unable to get active repository context.");P=$.name,I=$.ref}catch{let k=await(await((q=D.extensions.getExtension("ms-vscode.remote-repositories"))==null?void 0:q.activate())).getMetadata(A);if(!k)throw new Error("Unable to get active repository context.");P=`${k.repo.owner}/${k.repo.name}`,I=(await k.getRevision()).name}let F=`https://github.com/${P}`;return I&&(F=`${F}/tree/${I}`),Ug(e,i,s.log,F,vo)})),e.subscriptions.push(D.commands.registerCommand(kae,async _=>SUe(e,i,s.log,_,vo))),e.subscriptions.push(D.commands.registerCommand("remote-containers.inspectVolume",async(_,A,P)=>mue(e,_,A,P,i,s.log))),e.subscriptions.push(D.commands.registerCommand("remote-containers.inspectVolumeFromViewlet",async _=>TUe(e,_,i,s.log))),e.subscriptions.push(D.commands.registerCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",async _=>Ug(e,i,s.log,void 0,_))),e.subscriptions.push(D.commands.registerCommand("remote-containers.reopenInContainer",()=>p(!1))),e.subscriptions.push(D.commands.registerCommand("remote-containers.rebuildAndReopenInContainer",()=>p(!0))),e.subscriptions.push(D.commands.registerCommand("remote-containers.rebuildNoCacheAndReopenInContainer",()=>p("rebuildNoCache")));let p=async _=>{if(!await D.workspace.requestWorkspaceTrust({message:Zw}))return;let P=await Qe(e,s.log);if(!await jr(e,P,i))return;let I=D.workspace.workspaceFile;if(I&&I.scheme==="untitled"){await v0();return}let F=D.workspace.workspaceFolders;if(!I&&F&&F.length){let $=F.length>1?await D.window.showWorkspaceFolderPick({placeHolder:"Pick a folder to reopen in a container."}):F[0];$&&(I=$.uri)}let q=X$(I);if(q){await dE(e,q.repositoryPath,q.volumeName,q.folder,P);return}if(I){let $;if(P.cliHost.type==="wsl"&&I.scheme==="file"){let k=we(I,process.platform),U=qf(k)||J$()||await C_(P.output)||(()=>{throw new Error("No default WSL distro found.")})();$=await Zl(U,k,P.output)}else $=we(I,P.cliHost.platform);let M=At(P.cliHost.path,$);await J0(e,M,P,i,_,{forceReuseWindow:!0})}};e.subscriptions.push(D.commands.registerCommand("remote-containers.reopenLocally",async()=>{let _=D.workspace.workspaceFolders,A=D.workspace.workspaceFile||_&&_.length&&_[0].uri;if(A&&A.scheme==="vscode-remote"){let P=Oi(A.authority);if(P&&Mn(P)){let I=D.Uri.file(P.hostPath),F={forceReuseWindow:!0};await D.commands.executeCommand("vscode.openFolder",I,F)}else D.window.showInformationMessage("'Reopen Locally' not possible in current context.")}})),e.subscriptions.push(D.commands.registerCommand("remote-containers.reopenInWSL",async()=>{let _=D.workspace.workspaceFolders,A=D.workspace.workspaceFile||_&&_.length&&_[0].uri;if(A&&A.scheme==="vscode-remote"){let P=Oi(A.authority);if(P&&Mn(P)&&Sr(P.hostPath)){let I=D.Uri.parse((await $f(P.hostPath,s.log)).toString()),F={forceReuseWindow:!0};await D.commands.executeCommand("vscode.openFolder",I,F)}else D.window.showInformationMessage("'Reopen in WSL' not possible in current context.")}})),e.subscriptions.push(D.commands.registerCommand("remote-containers.reopenInSSH",async()=>{let _=D.workspace.workspaceFolders,A=D.workspace.workspaceFile||_&&_.length&&_[0].uri;if(A&&A.scheme==="vscode-remote"){let P=Oi(A.authority),I=P==null?void 0:P.settings;if(P&&Mn(P)&&I&&"host"in I&&I.host&&I.host.startsWith("ssh://")){let F=D.Uri.parse(Xv(I.host,P.hostPath).toString()),q={forceReuseWindow:!0};await D.commands.executeCommand("vscode.openFolder",F,q)}else D.window.showInformationMessage("'Reopen in SSH' not possible in current context.")}}));let f,m=async _=>{var F;if(!await Il(e))return;let A,P=typeof _=="string"?_:(F=_==null?void 0:_.containerDesc)==null?void 0:F.Id;if(P){let q=await Qe(e,s.log);if(!await jr(e,q,i))return;A=await ei(q,P)}else{let q=!1;f||(f=Hs(e.extensionPath,async M=>(q=!0,Fc(M)),s.log));let $=await Qe(e,s.log,void 0,void 0,f);if(A=await NUe($,jr(e,$,i),()=>q),!A)return}let I=await Qe(e,s.log);z0(I,A,e)};e.subscriptions.push(D.commands.registerCommand("remote-containers.attachToRunningContainer",m)),e.subscriptions.push(D.commands.registerCommand("remote-containers.attachToRunningContainerFromViewlet",m)),e.subscriptions.push(D.commands.registerCommand("remote-containers.attachToK8sContainerFromViewlet",async _=>Qce(e,await Qe(e,s.log),_)));let h=async _=>{var I;let A=await Qe(e,s.log);if(!await jr(e,A,i))return;let P=(I=_==null?void 0:_.pullRequestModel)==null?void 0:I.html_url;Ug(e,i,s.log,P,vo)};e.subscriptions.push(D.commands.registerCommand("remote-containers.checkoutPRInVolume",h)),e.subscriptions.push(D.commands.registerCommand("remote-containers.rebuildContainer",async()=>{let _=jp();if(_){let A=await Qe(e,s.log);await dE(e,_.repositoryPath,_.volumeName,_.folder,A,!0);return}return await Promise.all(qr.onRemoveOnShutdownChangedEmitter.fire(!0)),D.commands.executeCommand("workbench.action.reloadWindow")})),e.subscriptions.push(D.commands.registerCommand("remote-containers.rebuildContainerNoCache",async()=>{let _=jp();if(_){let A=await Qe(e,s.log);await dE(e,_.repositoryPath,_.volumeName,_.folder,A,"rebuildNoCache");return}return await Promise.all(qr.onRemoveOnShutdownChangedEmitter.fire("rebuildNoCache")),D.commands.executeCommand("workbench.action.reloadWindow")}));let g=D.env.remoteName&&D.env.remoteName!=="test"?"linux":process.platform,v=((T=(D.workspace.workspaceFolders||[])[0])==null?void 0:T.uri)||xe.file(process.cwd()),y=Cg(g,v),x={fileHost:y,findDevContainerFiles:nj,telemetry:i,output:s.log,existingFilesLearnMoreLink:qp,predefinedDefinitionsLearnMoreLink:$p,openConfigurationCommandId:Up},E=fce(e,x);e.subscriptions.push(D.commands.registerCommand("remote-containers.createDevContainerFile",async()=>{if(!D.workspace.workspaceFolders){await D.window.showInformationMessage("Open a folder to create the configuration files in first.",{modal:!0},"Open Folder")&&await D.commands.executeCommand(process.platform==="darwin"?"workbench.action.files.openFileFolder":"workbench.action.files.openFolder");return}await kj(e,y,E,i,s.log)})),e.subscriptions.push(D.commands.registerCommand("remote-containers.createDevContainer",async()=>{let _=await Qe(e,s.log);await jr(e,_,i)&&await rue(e,_,i)})),e.subscriptions.push(D.commands.registerCommand("remote-containers.openDevContainerFile",async(_,A)=>{let P,I=await Qe(e,s.log),F;if(typeof _=="string"?P=[xe.file(_)]:(F=await nj(),P=(await Promise.all(F.map(q=>q.scheme==="file"||q.scheme==="vscode-remote"?q:I.cliHost.toCommonURI(we(q,I.cliHost.platform))))).filter(q=>!!q)),P.length){let q=await Fp(I.cliHost,P);if(!q||q==="cancelled")return;let $=jp();if($){let M=qae($.folder);for(let k of M){try{await D.workspace.openTextDocument(D.Uri.parse(k.toString()))}catch{continue}await D.commands.executeCommand("vscode.open",D.Uri.parse(k.toString()),A);return}return}if(q){if(q.scheme==="file"&&await or(q.fsPath))return await D.commands.executeCommand("vscode.open",D.Uri.parse(q.toString()),A);if(q.scheme==="file"&&qr.results.size)return await ho(Yo,q,[],Ga),await D.commands.executeCommand("vscode.open",D.Uri.parse(q.toString()),A);if(q.scheme==="vscode-remote")return await D.commands.executeCommand("vscode.open",D.Uri.parse(q.toString()),A);if(_===void 0)return await kj(e,y,E,i,s.log)}}else if(_===void 0&&!(F!=null&&F.length))return await kj(e,y,E,i,s.log)})),e.subscriptions.push(D.commands.registerCommand("remote-containers.openAttachConfigByNameFile",async()=>{let{dockerContainerId:_,dockerParams:A}=[...qr.results.values()][0];if(!_||!A)return D.window.showInformationMessage("Named configurations are only available for Docker containers.",{modal:!0});let P=await ei(A,_),I=N0(e.globalStoragePath,P.Name),F=D.Uri.file(I);return await or(I)?D.commands.executeCommand("vscode.open",F):(await ho(Yo,F,[],Ga),D.commands.executeCommand("vscode.open",F))})),e.subscriptions.push(D.commands.registerCommand("remote-containers.openAttachDevContainerFile",async()=>{let _=[...(await _ce(e.globalStoragePath)).map(P=>({label:P.name,...P})).sort((P,I)=>P.label.localeCompare(I.label)),...(await Sce(e.globalStoragePath)).map(P=>({label:P.image,...P})).sort((P,I)=>P.label.localeCompare(I.label))],A=await D.window.showQuickPick(_.length?_:[{label:"No configuration found."}],{placeHolder:"Choose a configuration file"});if(A&&"uri"in A)return D.commands.executeCommand("vscode.open",D.Uri.parse(A.uri.toString()))})),e.subscriptions.push(D.commands.registerCommand("remote-containers.settings",async()=>D.commands.executeCommand("workbench.action.openSettings",`@ext:${aue()}`))),e.subscriptions.push(D.commands.registerCommand("remote-containers.getHelp",async()=>D.env.openExternal(D.Uri.parse("https://aka.ms/vscode-remote/containers")))),e.subscriptions.push(D.commands.registerCommand("remote-containers.getStarted",async()=>D.env.openExternal(D.Uri.parse("https://aka.ms/vscode-remote/containers/getting-started")))),e.subscriptions.push(D.commands.registerCommand("remote-containers.reportIssue",async()=>{let _={extensionId:aue(),issueBody:"For bug reports please include the complete log output. (In the VS Code window: `F1` > `Dev Containers: Show Container Log`.)"};return D.commands.executeCommand("vscode.openIssueReporter",_)})),e.subscriptions.push(D.commands.registerCommand("remote-containers.provideFeedback",async()=>D.env.openExternal(D.Uri.parse("https://aka.ms/vscode-remote/containers/provide-feedback")))),e.subscriptions.push(D.languages.registerDocumentLinkProvider([{pattern:"**/devcontainer.json",language:"jsonc"},{pattern:"**/.devcontainer.json",language:"jsonc"}],new U0(y))),e.subscriptions.push(D.commands.registerCommand("remote-containers.trySample",async()=>{jUe(e,s.log)})),e.subscriptions.push(D.commands.registerCommand("remote-containers.openLogFile",()=>HUe(e))),e.subscriptions.push(D.commands.registerCommand("remote-containers.openLastLogFile",()=>BUe(e,"remoteContainers",s.logFilePath))),e.subscriptions.push(D.commands.registerCommand("remote-containers.showReopenInContainerNotificationReset",()=>MUe(e))),e.subscriptions.push(D.commands.registerCommand("remote-containers.showRecoveryContainerNotificationReset",()=>vUe(e))),e.subscriptions.push(D.commands.registerCommand("remote-containers.installDocker",()=>M0(s.log))),e.subscriptions.push(D.commands.registerCommand("remote-containers.cleanUpDevContainers",async()=>Hce(await Qe(e,s.log)))),Kce(e,qr.results,i,s.log),Zce(e,r).catch(_=>{s.log.write(`Error ensuring user CLI is configured: ${(_==null?void 0:_.stack)||(_==null?void 0:_.message)||String(_)}`)}),e.subscriptions.push(D.commands.registerCommand("remote-containers.installUserCLI",()=>eue(e,r))),(async()=>{let _=D.env.remoteAuthority,A=_&&Oi(_);A&&(Ir(A)||Ka(A))&&A.inspectVolume&&await l,await Uae(e)||await hue(e,y,i,s.log)})().catch(console.error),yUe(e);let b=D.env.remoteName,C=!b||["dev-container","attached-container","wsl","ssh-remote","exec","k8s-container","codespaces"].indexOf(b)!==-1?[{pattern:"**/.devcontainer.json"},{pattern:"**/devcontainer.json"}]:[];e.subscriptions.push(D.commands.registerCommand("remote-containers.addExtensionToConfig",E.addExtensionToConfiguration),D.languages.registerCompletionItemProvider([...C,{pattern:nn.join(L0(e.globalStoragePath),"*.json")},{pattern:nn.join(O0(e.globalStoragePath),"*.json")}],E.createCompletionItemProvider()),D.commands.registerCommand("remote-containers.configureContainerFeatures",async()=>{await E.configureContainerFeatures()}),D.commands.registerCommand("remote-containers.labelPortAndUpdateConfig",E.addPortLabelToConfiguration)),jp()&&D.commands.executeCommand("setContext","isRecoveryContainer",!0)}var sue="showRecoveryContainerNotification",pue="showReopenInContainerNotificationReset",gUe=5e3;function vUe(e){return e.globalState.update(pue,Date.now())}async function yUe(e){setTimeout(async()=>{let t=e.globalState.get(pue);if(Mj(e.globalState.get(sue),t))return;if(jp()){let r="This is a recovery container that allows you to edit your Dockerfile. Use 'Reopen in Container' to retry.",i="Reopen in Container",o="Don't Show Again",s=await D.window.showInformationMessage(r,i,o);s===i?D.commands.executeCommand("remote-containers.reopenInContainer"):s===o&&await e.globalState.update(sue,Date.now())}},gUe)}async function xUe(){await Promise.all([...qr.results.values()].map(e=>Promise.all(e.params.shutdowns.map(t=>{try{t()}catch(n){console.error(n)}}))))}function aue(){let{name:e,publisher:t}=oue();return`${t}.${e}`}async function cue(e,t,n,r,i){var d;let o=await Qe(e,i);if(!await jr(e,o,n))return;let s,a=D.workspace.workspaceFolders;if(a&&a[0]){let p=a[0].uri;if(p.scheme==="vscode-remote"){let f=Oi(p.authority);if(f&&Mn(f)){let m=At(o.cliHost.path,f.hostPath);s=D.Uri.file(m.rootFolderPath)}else/^(wsl|ssh-remote)\+/.test(p.authority)&&(s=p)}else p.scheme==="file"&&(s=p)}s||((d=D.env.remoteName)!=null&&d.match(/^(wsl|ssh-remote)$/)?s=D.Uri.from({scheme:"vscode-remote",authority:D.env.remoteAuthority,path:await o.cliHost.homedir()}):s=D.Uri.file(lue.homedir()));let u=t?{defaultUri:s,canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:"Open"}:{defaultUri:s,canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Code Workspace":["code-workspace"]},openLabel:"Open"},c=await D.window.showOpenDialog(u),l=c&&c[0];if(l){let p=t?l:l.with({path:nn.posix.dirname(l.path)}),f=await Qe(e,o.output,p,Q$()==="always"),m=we(l,f.cliHost.platform),h=At(f.cliHost.path,m);await J0(e,h,f,n,r)}}function wUe(){return D.workspace.getConfiguration("window").get("openFoldersInNewWindow",void 0)==="on"?{forceNewWindow:!0}:{forceReuseWindow:!0}}async function J0(e,t,n,r,i,o){var C,R;let{cliHost:s}=n;if(Sr(t.rootFolderPath)){if(n=await Qe(e,n.output,t.rootFolderPath),s=n.cliHost,!await jr(e,n,r))return;t=At(s.path,t.isWorkspaceFile?s.path.join(s.cwd,nn.basename(t.workspaceOrFolderPath)):s.cwd)}let a=await n_(s,t);if(a){let T="Continue";if(await D.window.showInformationMessage(`The workspace could fail to open in a container: ${a}`,{modal:!0},T)!==T)return}let u=await EUe(s,t);if(u==="cancelled")return;let c=u||await hy(s,t,Tl(),!0,n.output),l=c&&(c.scheme==="file"?await nt(c.fsPath):await s.readFile(we(c,s.platform))).toString(),d=!!(l&&((C=Ze(l))!=null&&C.initializeCommand)),{dockerCLI:p,dockerComposePath:f}=n,m={cliHost:s,dockerPath:p,dockerComposePath:f,appRoot:D.env.appRoot,extensionPath:e.extensionPath,package:await Xr(e.extensionPath),output:n.output},h=c&&await(d?tE(m,t.rootFolderPath,c):rj(m,t.rootFolderPath,c));if(h==="canceled")return;if(!h||!nC(h.configuration)){let T=await D0({fileHost:s,telemetry:r,output:n.output,existingFilesLearnMoreLink:qp,predefinedDefinitionsLearnMoreLink:$p,openConfigurationCommandId:Up},t);if(!T||(h=await rj(m,t.rootFolderPath,xe.file(T).with({scheme:ut.scheme})),!h||h==="canceled"))return}if(!await _Ue(n,"mergedConfiguration"in h?h.mergedConfiguration:h.configuration))return;let g=h.configuration,v=h.workspace.workspaceFolder;if(hr(g)){let T=fu(s,g);if(!g.initializeCommand&&!await Fn(s).readDocument(T))return pE(`"${T.fsPath}" does not exist.`,s,g.configFilePath);if(g.workspaceFolder&&!nn.posix.isAbsolute(g.workspaceFolder))return pE("Workspace folder in devcontainer.json must be an absolute path.",s,g.configFilePath)}else if(!("image"in g))if("dockerComposeFile"in g){if(!await Fce(n)||!await LUe(t,n,g))return}else{let T=g.configFilePath;return pE(`Configuration "${s.path.relative(t.rootFolderPath,we(T,s.platform))}" not valid.`,s,T)}t.isWorkspaceFile&&(v=nn.posix.join(v,s.path.basename(t.workspaceOrFolderPath)));let y=Un(n.env),x=s.type==="wsl"?(await s.toCommonURI(t.workspaceOrFolderPath)).fsPath:t.workspaceOrFolderPath,E=(s.type==="local"||s.type==="wsl")&&y&&"host"in y&&((R=y.host)==null?void 0:R.startsWith("ssh://")),b=D.Uri.parse(Ey(x,v,y,E,c));await Hp({uri:b,type:t.isWorkspaceFile?"workspace":"folder",label:`${iK(s.platform,t.workspaceOrFolderPath,await s.homedir())}${cm(y)} [Dev Container]`}),await tj(e,i?b.authority:!1),await Qw(e,i==="rebuildNoCache"?b.authority:!1),await D.commands.executeCommand("vscode.openFolder",b,o)}async function EUe(e,t){let n=await bUe(e,t.rootFolderPath),r=new D.RelativePattern(n,y0),i=await Promise.all((await D.workspace.findFiles(r)).map(async o=>o.scheme===Zr.scheme?xe.from({scheme:ut.scheme,path:o.path}):e.type==="wsl"&&o.scheme==="file"?xe.from({scheme:ut.scheme,path:await Z6(o,e)}):o));return Fp(e,i)}function bUe(e,t){switch(e.type){case"local":return xe.file(t);case"wsl":return D.env.remoteName==="wsl"?xe.from({scheme:"vscode-remote",authority:D.env.remoteAuthority,path:t}):e.toCommonURI(t);case"ssh":return D.env.remoteName==="ssh-remote"?xe.from({scheme:"vscode-remote",authority:D.env.remoteAuthority,path:t}):void 0;default:return}}async function _Ue(e,{hostRequirements:t}){var r,i;let n=t&&CUe(t);if(n&&(n.cpus||n.memory||n.gpu&&n.gpu!=="optional")){let o=await Ae(e,"info","--format","{{json .}}"),s=JSON.parse(o.stdout.toString()),a=s.NCPU&&n.cpus&&n.cpus>s.NCPU,u=s.MemTotal&&n.memory&&n.memory>s.MemTotal,c=((i=(r=s.Runtimes)==null?void 0:r.nvidia)==null?void 0:i.path)==="nvidia-container-runtime";if(a||u){let l=[];s.NCPU&&l.push(`CPUs ${s.NCPU.toLocaleString()}`),s.MemTotal&&l.push(`RAM ${Dj(s.MemTotal)}`),c&&l.push("GPU");let d=[];n.cpus&&d.push(`CPUs ${n.cpus.toLocaleString()}`),n.memory&&d.push(`RAM ${Dj(n.memory)}`),n.storage&&d.push(`disk ${Dj(n.storage)}`),n.gpu&&n.gpu!=="optional"&&d.push("GPU");let p=`Docker daemon: ${l.join(", ")}
devcontainer.json: ${d.join(", ")}`;if(!await D.window.showInformationMessage("Not all host requirements in devcontainer.json are met by the Docker daemon.",{modal:!0,detail:p},"Continue"))return!1}}return!0}function CUe(e){return{cpus:e.cpus||0,memory:uue(e.memory||"0"),storage:uue(e.storage||"0"),gpu:e.gpu}}function uue(e){let t=/^(\d+)([tgmk]b)?$/.exec(e);if(t){let[,n,r]=t,i=parseInt(n,10),o=r&&{t:2**40,g:2**30,m:2**20,k:2**10}[r[0]]||1;return i*o}return 0}function Dj(e){let t=Math.min(Math.floor(Math.log2(Math.max(Math.abs(e),1))/10),4),n=e/Math.pow(2,10*t),r=Math.max(Math.pow(10,2-Math.floor(Math.log10(Math.max(Math.abs(n),1)))),1),i=Math.round(n*r)/r,o=[" bytes","kb","mb","gb","tb"][t];return`${i.toLocaleString()}${o}`}async function Ug(e,t,n,r,i){if(!await eE(e))return;let o=await Qe(e,n),s=null;if(await jr(e,o,t)){if(typeof r=="string")s=r;else{let a;if(r!==void 0?a=r:a=await D.commands.executeCommand("git-base.api.getRemoteSources",{providerLabel:u=>`Clone a repository from ${u.name} in a Container Volume`,urlLabel:"Clone git repository from URL",branch:!0}),a){s=(typeof a=="string"?a:a.url).trim(),s.split("/").length===2&&s.indexOf(":")===-1&&(s=`https://github.com/${s}`);let u=zs(s);if(await AD(o.cliHost,u.repositoryUrl,o.output)===!1){D.commands.executeCommand($r),await D.window.showInformationMessage(`Cannot access the repository '${u.repositoryUrl}'.`,{modal:!0});return}typeof a!="string"&&a.branch&&(s=`${s}/tree/${a.branch}`)}}s&&await fue(e,o,s,i)}}async function fue(e,t,n,r){if(r||(r=await PUe(t)),r){let i=qj(n);r!==vo&&(i=await AUe(n)),i&&await dE(e,n,r,i,t)}}async function SUe(e,t,n,r,i){if(!await eE(e))return;let o=await Qe(e,n),s=/^(?:(?:https:\/\/)?github.com\/)?([^/]+)\/([^/]+?)(?:\/(?:pull\/([0-9]+)))?(?:\/|$)/i;if(!await jr(e,o,t))return;let a={placeHolder:"e.g. https://github.com/microsoft/vscode/pull/123",prompt:"Enter a GitHub pull request url",validateInput:l=>s.test(l)?void 0:"Invalid pull request url"},u;if(r?u=r:u=await D.window.showInputBox(a),!u)return;let c=zs(u);if(c.repository==="unknown"||!c.pullRequestId){await D.window.showInformationMessage(`Invalid pull request URL '${u}'.`,{modal:!0});return}await fue(e,o,u,i)}async function mue(e,t,n,r,i,o){let s=await Qe(e,o);await jr(e,s,i)&&(t||(t=await IUe(s)),t&&(n&&r?await OUe(t,n,r,s):await kUe(t,s)))}async function TUe(e,t,n,r){let i=await Qe(e,r);await jr(e,i,n)&&t&&t.volumeName&&await mue(e,t.volumeName,void 0,void 0,n,r)}var fE=class{get detail(){return""}},Nj=class extends fE{get label(){return"$(plus) Create a new volume..."}get description(){return""}get volumeName(){return""}get detail(){return"Use this volume to store several cloned repositories."}get alwaysShow(){return!0}},Lj=class extends fE{constructor(n){super();this.volume=n}get label(){return`$(folder) ${this.volume.Name}`}get description(){return`created at ${new Date(this.volume.CreatedAt).toDateString()}`}get volumeName(){return this.volume.Name}},Fj=class extends fE{constructor(n){super();this.volume=n}get label(){return`$(folder) ${this.volume.Name}`}get description(){return`created at ${new Date(this.volume.CreatedAt).toDateString()}`}get volumeName(){return this.volume.Name}};async function IUe(e){let t=await ti(e),r=(await od(e,t)).map(a=>new Fj(a)),i="Select the volume to inspect with Visual Studio Code",o=D.window.createQuickPick();o.items=r,o.placeholder=i,o.show();let s=await new Promise(a=>{o.onDidAccept(()=>a(o.activeItems[0])),o.onDidHide(()=>a(void 0))});return o.hide(),s?s.volume.Name:null}async function PUe(e){let t=await ti(e,["vsch.local.repository.unique=false"]),r=(await od(e,t)).map(l=>new Lj(l)),i=new Nj,o=[i,...r],s="Select the volume for the cloned repository",a=D.window.createQuickPick();a.items=o,a.placeholder=s,a.ignoreFocusOut=!0,a.show();let u=await new Promise(l=>{a.onDidAccept(()=>l(a.activeItems[0])),a.onDidHide(()=>l(void 0))});if(a.hide(),!u)return null;let c=null;return u===i?c=await RUe(e):c=u.volumeName,c}async function RUe(e){let t="",n="vsc-remote-containers",r=await ti(e);r.find(s=>s===n)||(t=n);let i={prompt:"Enter the volume name.",value:t,ignoreFocusOut:!0,validateInput:s=>/^[a-zA-Z0-9][a-zA-Z0-9_.-]+$/i.test(s)?null:s.length<2?"Volume names should be at least two characters and the first character must be alphanumeric.":"Only [a-zA-Z0-9_.-] are allowed and the first character must be alphanumeric."},o=await D.window.showInputBox(i);return o?r.find(s=>s===o)?(await D.window.showErrorMessage("Volume already exists",{modal:!0}),null):o:null}async function AUe(e){let t={prompt:"Enter the target folder name.",value:qj(e),ignoreFocusOut:!0},n=await D.window.showInputBox(t);return n||null}function qj(e){return ki(e).repositoryName}async function DUe(){return(await D.authentication.getSession("github",["repo"],{createIfNone:!0})).accessToken}async function dE(e,t,n,r,i,o=!1){let s=Un(i.env),a=sm(t),u;try{u=await a.parseUrl(void 0)}catch(l){if(l instanceof py){D.window.showErrorMessage(l.description);return}let d=await DUe();try{u=await a.parseUrl(d)}catch{D.window.showErrorMessage(`Cannot access '${t}'.`,{modal:!0});return}}let c=D.Uri.parse(Jo(t,n,r,!1,s,u));n===vo&&(n="a unique volume"),await Hp({uri:c,type:"folder",label:`${r} in ${n} [Dev Container]`}),await tj(e,o?c.authority:!1),await Qw(e,o==="rebuildNoCache"?c.authority:!1),await D.commands.executeCommand("vscode.openFolder",c)}async function kUe(e,t){let n=Un(t.env),r=D.Uri.parse(Jo(void 0,e,void 0,!0,n,void 0));await Hp({uri:r,type:"folder",label:`Volume ${e} [Dev Container]`}),await D.commands.executeCommand("vscode.openFolder",r)}async function OUe(e,t,n,r){let i=Un(r.env),o=D.Uri.parse(Jo(t,e,n,!0,i,void 0));await Hp({uri:o,type:"folder",label:`${n} in ${e} [Inspect Dev Container]`}),await D.commands.executeCommand("vscode.openFolder",o)}async function z0(e,t,n,r){if(!await Il(n))return;let i,o=e.cliHost;if(o.type==="wsl"){let c=await o.toCommonURI(o.cwd);c&&c.scheme==="file"&&(i=c.fsPath)}let s=eK(t.Name,Un(e.env),i),a=await Ece(n.globalStoragePath,t),u=n.extensionMode===D.ExtensionMode.Development;if(a&&a.workspaceFolder&&!r){let c=D.Uri.parse(`vscode-remote://${s}${a.workspaceFolder}`),l={};u?l.forceReuseWindow=!0:l.forceNewWindow=!0,await D.commands.executeCommand("vscode.openFolder",c,l)}else{let c={remoteAuthority:s};u&&!r&&(c.reuseWindow=!0),await D.commands.executeCommand("vscode.newWindow",c)}}async function NUe(e,t,n){let r=(async()=>{if(!await t)throw new Error("cancel");let i=await za(e),o=await Bs(e,i),s=[];if(o.forEach(a=>{a.State.Status==="running"&&s.push({label:a.Name,description:`${a.Config.Image} ${a.Id}`,containerInfo:a})}),s.length===0)throw D.window.showErrorMessage("There are no running containers to attach to.",{modal:!0}),new Error("cancel");return s})();try{let i={placeHolder:"Select the container to attach VS Code"},o=await D.window.showQuickPick(r,i);if(!o&&n()){if(!await t)throw new Error("cancel");o=await D.window.showQuickPick(r,i)}return o?o.containerInfo:void 0}catch(i){if(i&&i.message==="cancel")return;throw i}}async function LUe(e,t,n){if(!n.workspaceFolder)return pE("Workspace folder not specified in devcontainer.json.",t.cliHost,n.configFilePath),!1;if(!nn.posix.isAbsolute(n.workspaceFolder))return pE("Workspace folder in devcontainer.json must be an absolute path.",t.cliHost,n.configFilePath),!1;let r=await mu(t.cliHost,n,t.cliHost.env,t.cliHost.cwd),i=await nO(t,e,r),o=await P6(t,i,n.service);return!(o&&await ei(t,o)&&!await FUe(t.cliHost,r))}async function FUe(e,t){let n=[];for(let r=0;r<t.length;r++)await e.isFile(t[r])||n.push(t[r]);return n.length>0?(D.window.showErrorMessage(`The following referenced docker compose files do not exist: ${n.join(", ")}`,{modal:!0}),!1):!0}async function pE(e,t,n){if(await D.window.showErrorMessage(e,{modal:!0},"Open devcontainer.json")){let i=we(n,t.platform),o=await t.toCommonURI(i);o&&D.window.showTextDocument(D.Uri.parse(o.toString()))}}async function kj(e,t,n,r,i){await n.createConfiguration()&&await hue(e,t,r,i)}async function hue(e,t,n,r){if([void 0,"wsl","ssh-remote"].indexOf(D.env.remoteName)===-1)return;let i=D.workspace.workspaceFile,o=D.workspace.workspaceFolders,s=i||o&&o.length&&o[0].uri||void 0;if(s&&s.scheme!=="vscode-vfs"){let a=we(s,t.platform),u=At(t.path,a),c=await hC(t,u,Tl());c&&await UUe(e,c,u,t,n,r)}}var X0="showReopenInContainerNotification",gue="showReopenInContainerNotificationReset";function MUe(e){return e.globalState.update(gue,Date.now())}async function UUe(e,t,n,r,i,o){let s=e.globalState.get(gue);if(Mj(e.globalState.get(X0),s)||Mj(e.workspaceState.get(X0),s))return;let a=O6(r,n,t.uri),u,c="";if(r.platform!=="linux"&&D.env.remoteName!=="wsl"&&!(r.platform==="win32"&&Sr(n.rootFolderPath))&&D.env.remoteName!=="ssh"){let y=await Qe(e,o);if(u=await $G(y.cliHost,n,y.output),u&&a){let x=await jv(y.cliHost,n.rootFolderPath,y.output);x&&await BG(y.cliHost,n,y.cliHost.path.relative(x,we(t.uri,y.cliHost.platform)),y.output)||(u=void 0)}if(u){let{cliHost:x,dockerCLI:E,dockerComposePath:b}=y,C={cliHost:x,dockerPath:E,dockerComposePath:b,appRoot:D.env.appRoot,extensionPath:e.extensionPath,package:await Xr(e.extensionPath),output:o},R=await tE(C,n.rootFolderPath,t.uri);(!R||!hr(R.configuration)&&!("image"in R.configuration))&&(u=void 0)}u&&(c=" Or: Clone repository in Docker volume for [better I/O performance](https://aka.ms/vscode-remote/containers/open-repo).")}let l;a?n.isWorkspaceFile?l="Workspace contains a Dev Container configuration file.":l="Folder contains a Dev Container configuration file.":l="There is a [Dev Container configuration](command:remote-containers.openDevContainerFile) available for this repository.";let d="Reopen in Container",p="Clone in Volume",f="Don't Show Again...",m=n.isWorkspaceFile?`${l} Reopen workspace to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).${c}`:`${l} Reopen folder to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).${c}`,h=u?[d,p,f]:[d,f];qUe(i,t.location);let g=await D.window.showInformationMessage(m,...h);if($Ue(i,g===d?"reopen":g===p?"openRepository":g===f?"dontShowAgain":"cancel",t.location),g===d){if(!await D.workspace.requestWorkspaceTrust({message:Zw}))return;let x=await Qe(e,o);if(!await jr(e,x,i))return;if(x.cliHost.type==="wsl"&&r.platform==="win32"){let{cwd:E}=await uk(n.workspaceOrFolderPath,va(),o);n=At(x.cliHost.path,E)}try{await J0(e,n,x,i,!1,{forceReuseWindow:!0})}catch(E){await _u(E,"ui",i)}}else if(g===p){let y=await Qe(e,o),x=await HG(y.cliHost,n,y.output),E="OK",b="Cancel";(!x||E===await D.window.showInformationMessage("Local changes not pushed to the Git remote will not be available in the Docker volume.",E,b))&&await D.window.withProgress({location:D.ProgressLocation.Notification,title:"Clone in Volume"},async(C,R)=>{C.report({message:"Follow the prompts at the top of the window."}),await D.commands.executeCommand(w0,u)})}else if(g===f){let y=n.isWorkspaceFile?"Any Workspace":"Any Folder",x=n.isWorkspaceFile?"Current Workspace":"Current Folder",E=n.isWorkspaceFile?"Don't show again for the current workspace or for any workspace?":"Don't show again for the current folder or for any folder?",b=await D.window.showInformationMessage(E,y,x);b===y?await e.globalState.update(X0,Date.now()):b===x&&await e.workspaceState.update(X0,Date.now())}}function qUe(e,t){e.sendTelemetryEvent("reopenNotificationOpen",{location:t})}function $Ue(e,t,n){e.sendTelemetryEvent("reopenNotificationResult",{result:t,location:n})}function Mj(e,t){return e===!1?e=1:e===void 0&&(e=-1),t===void 0&&(t=0),t<e}async function jUe(e,t){let n=[{label:"C++",detail:"https://github.com/Microsoft/vscode-remote-try-cpp"},{label:"Go",detail:"https://github.com/Microsoft/vscode-remote-try-go"},{label:"Java",detail:"https://github.com/Microsoft/vscode-remote-try-java"},{label:".NET",detail:"https://github.com/Microsoft/vscode-remote-try-dotnet"},{label:"Node",detail:"https://github.com/Microsoft/vscode-remote-try-node"},{label:"PHP",detail:"https://github.com/Microsoft/vscode-remote-try-php"},{label:"Python",detail:"https://github.com/Microsoft/vscode-remote-try-python"},{label:"Rust",detail:"https://github.com/Microsoft/vscode-remote-try-rust"}],r={placeHolder:"Select a sample repository to clone in a container volume"},i=await D.window.showQuickPick(n,r);if(!i)return;let o=await Qe(e,t);i.detail&&await dE(e,i.detail,vo,qj(i.detail),o)}async function HUe(e){let t=await Promise.all((await vue(e)).map(async r=>{let i=await(0,Uj.promisify)(Z0.stat)(r.path),o=r.time;return{label:r.prefix,description:`${qg(o.getFullYear())}-${qg(o.getMonth()+1)}-${qg(o.getDate())} ${qg(o.getHours())}:${qg(o.getMinutes())}:${qg(o.getSeconds())} - ${i.size} bytes`,path:r.path}}));t.length||t.push({label:"No log files found."});let n=await D.window.showQuickPick(t,{placeHolder:"Choose a log file"});n&&n.path&&await D.window.showTextDocument(D.Uri.file(n.path))}function qg(e,t=2){return e.toString().padStart(t,"0")}async function BUe(e,t,n){let r=(await vue(e)).find(i=>i.name.startsWith(t)&&i.path!==n);r?await D.window.showTextDocument(D.Uri.file(r.path)):await D.window.showInformationMessage("No previous log file found.",{modal:!0})}async function vue(e){let t=[],n=nn.basename(e.logPath),r=nn.dirname(nn.dirname(nn.dirname(e.logPath))),i=/(\d\d\d\d)(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)/;i.test(nn.basename(r))&&(r=nn.dirname(r));for(let o of(await Q0(r)).sort().reverse()){let s=i.exec(o);if(s){let a=nn.join(r,o);for(let u of await Q0(a)){let c=nn.join(a,u),l=u.startsWith("window");for(let d of l?await Q0(c):[u]){let p=nn.join(l?c:a,d),f=nn.join(p,n);for(let m of(await Q0(f)).sort()){let h=nn.join(f,m),g=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d)[:\-](\d\d)[:\-](\d\d)\.(\d\d\d)Z/.exec(m),v=g?new Date(`${g[1]}-${g[2]}-${g[3]}T${g[4]}:${g[5]}:${g[6]}.${g[7]}Z`):new Date(`${s[1]}-${s[2]}-${s[3]}T${s[4]}:${s[5]}:${s[6]}Z`);t.push({name:m,path:h,time:v,prefix:g?m.substr(0,g.index-1):m.substr(0,m.length-4)})}}}}}return t.sort((o,s)=>o.time>s.time?-1:o.time<s.time?1:o.path.localeCompare(s.path)),t}async function Q0(e){try{return await(0,Uj.promisify)(Z0.readdir)(e)}catch{return[]}}0&&(module.exports={activate,attachToContainer,deactivate});
/*! Bundled license information:

@microsoft/dynamicproto-js/lib/dist/esm/dynamicproto-js.js:
  (*!
   * Microsoft Dynamic Proto Utility, 1.1.7
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-snippet/dist/esm/applicationinsights-web-snippet.js:
  (*!
   * Application Insights JavaScript SDK - Web Snippet, 1.0.1
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
//# sourceMappingURL=extension.js.map
