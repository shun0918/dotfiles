module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=34)}([function(t,e){t.exports=require("path")},function(t,e,n){var r,i,o=n(7),s=n(37),c=n(39),a=n(41),u=n(16);"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",i="___graceful-fs.previous");var l=function(){};if(u.debuglog?l=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(l=function(){var t=u.format.apply(u,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!global[r]){var f=[];Object.defineProperty(global,r,{get:function(){return f}}),o.close=function(t){function e(e,n){return t.call(o,e,(function(t){t||d(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(e,i,{value:t}),e}(o.close),o.closeSync=function(t){function e(e){t.apply(o,arguments),d()}return Object.defineProperty(e,i,{value:t}),e}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){l(global[r]),n(17).equal(global[r].length,0)}))}function h(t){s(t),t.gracefulify=h,t.createReadStream=function(e,n){return new t.ReadStream(e,n)},t.createWriteStream=function(e,n){return new t.WriteStream(e,n)};var e=t.readFile;t.readFile=function(t,n,r){"function"==typeof n&&(r=n,n=null);return function t(n,r,i){return e(n,r,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof i&&i.apply(this,arguments),d()):p([t,[n,r,i]])}))}(t,n,r)};var n=t.writeFile;t.writeFile=function(t,e,r,i){"function"==typeof r&&(i=r,r=null);return function t(e,r,i,o){return n(e,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof o&&o.apply(this,arguments),d()):p([t,[e,r,i,o]])}))}(t,e,r,i)};var r=t.appendFile;r&&(t.appendFile=function(t,e,n,i){"function"==typeof n&&(i=n,n=null);return function t(e,n,i,o){return r(e,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof o&&o.apply(this,arguments),d()):p([t,[e,n,i,o]])}))}(t,e,n,i)});var i=t.readdir;function o(e){return i.apply(t,e)}if(t.readdir=function(t,e,n){var r=[t];"function"!=typeof e?r.push(e):n=e;return r.push((function(t,e){e&&e.sort&&e.sort();!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof n&&n.apply(this,arguments),d()):p([o,[r]])})),o(r)},"v0.8"===process.version.substr(0,4)){var a=c(t);f=a.ReadStream,y=a.WriteStream}var u=t.ReadStream;u&&(f.prototype=Object.create(u.prototype),f.prototype.open=function(){var t=this;v(t.path,t.flags,t.mode,(function(e,n){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n),t.read())}))});var l=t.WriteStream;function f(t,e){return this instanceof f?(u.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}function y(t,e){return this instanceof y?(l.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}l&&(y.prototype=Object.create(l.prototype),y.prototype.open=function(){var t=this;v(t.path,t.flags,t.mode,(function(e,n){e?(t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return f},set:function(t){f=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return y},set:function(t){y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"FileReadStream",{get:function(){return f},set:function(t){f=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"FileWriteStream",{get:function(){return y},set:function(t){y=t},enumerable:!0,configurable:!0});var m=t.open;function v(t,e,n,r){return"function"==typeof n&&(r=n,n=null),function t(e,n,r,i){return m(e,n,r,(function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof i&&i.apply(this,arguments),d()):p([t,[e,n,r,i]])}))}(t,e,n,r)}return t.open=v,t}function p(t){l("ENQUEUE",t[0].name,t[1]),global[r].push(t)}function d(){var t=global[r].shift();t&&(l("RETRY",t[0].name,t[1]),t[0].apply(null,t[1]))}t.exports=h(a(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(t.exports=h(o),o.__patched=!0)},function(t,e,n){"use strict";e.fromCallback=function(t){return Object.defineProperty((function(){if("function"!=typeof arguments[arguments.length-1])return new Promise((e,n)=>{arguments[arguments.length]=(t,r)=>{if(t)return n(t);e(r)},arguments.length++,t.apply(this,arguments)});t.apply(this,arguments)}),"name",{value:t.name})},e.fromPromise=function(t){return Object.defineProperty((function(){const e=arguments[arguments.length-1];if("function"!=typeof e)return t.apply(this,arguments);t.apply(this,arguments).then(t=>e(null,t),e)}),"name",{value:t.name})}},function(t,e,n){"use strict";const r=(0,n(2).fromCallback)(n(43)),i=n(44);t.exports={mkdirs:r,mkdirsSync:i,mkdirp:r,mkdirpSync:i,ensureDir:r,ensureDirSync:i}},function(t,e){t.exports=require("vscode")},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getViewPath=e.getSpecPath=e.getTestPath=e.getTestFile=e.relativeToAppDir=e.relativeToRootDir=e.locationWithinAppLocation=e.RailsWorkspaceCache=e.RailsWorkspace=void 0;const i=n(9),o=n(0),s=n(4),c=n(28),a=n(13),u=n(10);class l{constructor(t){this._path=t,this._knownFiles={},this._models=null}get path(){return this._path}get appPath(){const t=s.workspace.getConfiguration("rails").get("appDir","app");return o.resolve(this.path,t)}get specPath(){return o.join(this.path,"spec")}get testPath(){return o.join(this.path,"test")}get controllersPath(){return o.join(this.appPath,"controllers")}get modelsPath(){return o.join(this.appPath,"models")}get viewsPath(){return o.join(this.appPath,"views")}hasSpecs(){return r(this,void 0,void 0,(function*(){return this.hasFile(this.specPath)}))}hasTests(){return r(this,void 0,void 0,(function*(){return this.hasFile(this.testPath)}))}hasFile(t){return r(this,void 0,void 0,(function*(){if(this._knownFiles[t])return!0;if(!t.startsWith(this.path))return!1;const e=yield i.pathExists(t);return e&&(this._knownFiles[t]=!0),e}))}pathIn(t){return t.startsWith(this.path)}getModels(){return r(this,void 0,void 0,(function*(){if(this._models)return this._models;const t=yield new Promise((t,e)=>c(this.modelsPath+"/**/*.rb",(n,r)=>{if(n)return e(n);t(r)}));return this._models=t.map(t=>new a.RailsFile(t,"",[])),this._models}))}clearCache(){this._knownFiles={},this._models=null}}e.RailsWorkspace=l;function f(t,e){return o.dirname(p(e,t)).split(o.sep).slice(1).join(o.sep)}function h(t,e){return e?o.relative(t.path,e):e=>h(t,e)}function p(t,e){return e?o.relative(t.appPath,e):e=>p(t,e)}function d(t,e){const n=(t.inApp?p:h)(e);return o.join(e.specPath,u.appendWithoutExt(n(t.filename),"_spec"))}function y(t,e){const n=(t.inApp?p:h)(e);return o.join(e.specPath,u.appendWithoutExt(n(t.filename),"_spec"))}e.RailsWorkspaceCache=new class{constructor(){this._cache={},this._disposers=[]}fetch(t){return r(this,void 0,void 0,(function*(){if(this._cache[t])return this._cache[t];const e=new l(t);return[o.join(e.appPath,"**/*.rb"),o.join(e.viewsPath,"**/*"),o.join(e.specPath,"**/*.rb"),o.join(e.testPath,"**/*.rb")].map(t=>s.workspace.createFileSystemWatcher(t,!1,!0)).forEach(t=>{t.onDidCreate(()=>e.clearCache()),t.onDidDelete(()=>e.clearCache()),this._disposers.push(t)}),this._cache[t]=e,this._cache[t]}))}dispose(){this._disposers.forEach(t=>t.dispose())}},e.locationWithinAppLocation=f,e.relativeToRootDir=h,e.relativeToAppDir=p,e.getTestFile=function(t,e){return r(this,void 0,void 0,(function*(){return((yield e.hasSpecs())?y:d)(t,e)}))},e.getTestPath=d,e.getSpecPath=y,e.getViewPath=function(t,e){const n=e.basename.split("_").slice(0,-1).join("_");return o.join(t.viewsPath,f(e.filename,t),n)}},function(t,e,n){"use strict";const r=n(2).fromPromise,i=n(23);t.exports={pathExists:r((function(t){return i.access(t).then(()=>!0).catch(()=>!1)})),pathExistsSync:i.existsSync}},function(t,e){t.exports=require("fs")},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getCheckedSwitches=e.getSwitchesFromRules=e.getSwitchesFromRule=e.checkSwitchFiles=void 0;const i=n(5),o=n(9),s=n(75);function c(t){return Boolean(t.checkedExists)}function a(t){return r(this,void 0,void 0,(function*(){return(yield Promise.all((yield Promise.resolve(t)).map(f))).filter(c)}))}function u(t,e,n=!0){return r(this,void 0,void 0,(function*(){const r=yield i.RailsWorkspaceCache.fetch(e.railsRoot),o=Promise.all(t.map(t=>t(e,r))).then(t=>[].concat(...t));return n?a(o):o}))}function l(t){return r(this,void 0,void 0,(function*(){return t.checkedExists||o.pathExists(t.filename)}))}function f(t){return r(this,void 0,void 0,(function*(){const e=yield Promise.resolve(t);return Object.assign(Object.assign({},e),{checkedExists:yield l(e)})}))}e.checkSwitchFiles=a,e.getSwitchesFromRule=function(t,e){const n=function(e){return r(this,void 0,void 0,(function*(){const n=yield i.RailsWorkspaceCache.fetch(e.railsRoot);return a(t(e,n))}))};return e?n(e):n},e.getSwitchesFromRules=u,e.getCheckedSwitches=function(t){return r(this,void 0,void 0,(function*(){return yield u(s.rules,t)}))}},function(t,e,n){"use strict";t.exports=Object.assign({},n(23),n(24),n(27),n(48),n(50),n(56),n(3),n(60),n(62),n(64),n(6),n(19));const r=n(7);Object.getOwnPropertyDescriptor(r,"promises")&&Object.defineProperty(t.exports,"promises",{get:()=>r.promises})},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.ensureDocument=e.appendWithoutExt=void 0;const i=n(0),o=n(9),s=n(4);e.appendWithoutExt=function(t,e){const n=i.extname(t),r=i.basename(t,n);return i.join(i.dirname(t),r+e+n)},e.ensureDocument=function(t){return r(this,void 0,void 0,(function*(){yield o.ensureFile(t);const e=yield s.workspace.openTextDocument(t);yield s.window.showTextDocument(e)}))}},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(76),e),i(n(77),e),i(n(78),e),i(n(79),e),i(n(80),e),i(n(81),e),i(n(82),e)},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.showCreateFile=e.showYesNo=e.showPicker=e.createFile=e.openFile=void 0;const i=n(4),o=n(0),s=n(10);function c(t){return i.workspace.openTextDocument(t).then(i.window.showTextDocument)}function a(t){return r(this,void 0,void 0,(function*(){return c(t.filename)}))}function u(t){const e=function(t){return(e,n)=>({label:e.title,description:"",detail:o.relative(t,e.filename),index:n,create:!1})}(t),n=function(t){return(e,n)=>({label:e.title,description:`Create ${e.type}`,detail:o.relative(t,e.filename),index:n,create:!0})}(t);return(t,r)=>t.checkedExists?e(t,r):n(t,r)}function l(t){return r(this,void 0,void 0,(function*(){const e={title:"Yes"};return(yield i.window.showInformationMessage(t,e,{title:"No",isCloseAffordance:!0}))===e}))}e.openFile=c,e.createFile=a,e.showPicker=function(t,e){return r(this,void 0,void 0,(function*(){const n=yield i.window.showQuickPick(function(t,e){return r(this,void 0,void 0,(function*(){return(yield Promise.resolve(e)).map(u(t))}))}(t,e));if(n){const t=e[n.index];return n.create?yield a(t):yield c(t.filename),t}}))},e.showYesNo=l,e.showCreateFile=function(t){return r(this,void 0,void 0,(function*(){const e=i.workspace.workspaceFolders[0].uri.fsPath,n=`Create ${o.relative(e,t)}`;if(yield l(n))return s.ensureDocument(t)}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCurrentRailsFile=e.RailsFile=void 0;const r=n(0),i=n(9),o=n(4),s=n(74),c=n(14),a=n(14);function u(t){const e=r.dirname(t);return e===t?null:function(t){const e=r.join(t,"bin","rails"),n=r.join(t,"script","rails");return i.existsSync(e)||i.existsSync(n)}(e)?e:u(e)}class l{constructor(t,e,n){this._filename=t,this._methodName=e,this._methods=n,this._parsed=r.parse(this._filename),this._railsRoot=u(this._parsed.dir),this._inApp=r.relative(this._railsRoot,t).startsWith("app"+r.sep)}get classname(){return c.classify(this.withoutExt)}get filename(){return this._filename}get dirname(){return this._parsed.dir}get basename(){return this._parsed.base}get withoutExt(){return r.basename(this._filename,this._parsed.ext)}get ext(){return this._parsed.ext}get inApp(){return this._inApp}get module(){return r.relative(this._railsRoot,this._filename).split(r.sep).slice(2,this.isView()?-2:-1).join(r.sep)}possibleModelNames(){if(this.isModel())return[this.withoutExt];if(this.isView())return[a.singularize(r.basename(this.dirname))];if(this.isFixture())return[a.singularize(this.withoutExt)];const t=this.withoutExt.split("_");return this.isTest()?[a.singularize(t.slice(0,-2).join("_")),a.singularize(t.slice(0,-3).join("_"))]:[a.singularize(t.slice(0,-1).join("_"))]}get railsRoot(){return this._railsRoot}get fileType(){if(!this._inApp)return this._parsed.name.endsWith("_spec")?"spec":this._parsed.name.endsWith("_test")?"test":this.dirname.endsWith("fixtures")?"fixture":".rb"===this._parsed.ext?"unknown_ruby":".erb"===this._parsed.ext?"unknown_erb":"unknown";return r.relative(r.join(this._railsRoot,"app"),this._filename).split(r.sep)[0]}get methodName(){return this._methodName}get methods(){return this._methods}isInAppDir(t){return this.fileType===t}isController(){return this.isInAppDir("controllers")}isModel(){return this.isInAppDir("models")}isView(){return this.isInAppDir("views")}isTest(){return"spec"===this.fileType||"test"===this.fileType}isFixture(){return"fixture"===this.fileType}}e.RailsFile=l,e.getCurrentRailsFile=function(){const t=o.window.activeTextEditor;if(!t)return null;const e=t.selection.active,n=t.document.fileName;return u(n)?new l(n,s.getLastMethodName(t.document,e.line),s.getAllMethodNames(t.document)):null}},function(t,e,n){"use strict";n.r(e),n.d(e,"pluralize",(function(){return m})),n.d(e,"singularize",(function(){return v})),n.d(e,"camelize",(function(){return w})),n.d(e,"underscore",(function(){return b})),n.d(e,"humanize",(function(){return S})),n.d(e,"titleize",(function(){return _})),n.d(e,"tableize",(function(){return E})),n.d(e,"classify",(function(){return x})),n.d(e,"dasherize",(function(){return k})),n.d(e,"foreignKey",(function(){return O})),n.d(e,"ordinal",(function(){return j})),n.d(e,"ordinalize",(function(){return P})),n.d(e,"transliterate",(function(){return M})),n.d(e,"parameterize",(function(){return R})),n.d(e,"capitalize",(function(){return g})),n.d(e,"inflections",(function(){return p})),n.d(e,"transliterations",(function(){return C})),n.d(e,"constantify",(function(){return F}));var r=Object.prototype.toString;function i(t){return"[object Function]"===r.call(t)}var o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function c(t){return t.split("").map((function(t){return"(?:"+t.toUpperCase()+"|"+t.toLowerCase()+")"})).join("")}function a(t,e){for(var n=t.length-1;n>=0;n--)t[n]===e&&Array.prototype.splice.call(t,n,1)}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var l={},f=function(){function t(){o(this,t),this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}return s(t,null,[{key:"getInstance",value:function(e){return l[e]=l[e]||new t,l[e]}}]),s(t,[{key:"acronym",value:function(t){this.acronyms[t.toLowerCase()]=t;var e=[];for(var n in this.acronyms)u(this.acronyms,n)&&e.push(this.acronyms[n]);this.acronymRegex=new RegExp(e.join("|"))}},{key:"plural",value:function(t,e){"string"==typeof t&&a(this.uncountables,t),a(this.uncountables,e),this.plurals.unshift([t,e])}},{key:"singular",value:function(t,e){"string"==typeof t&&a(this.uncountables,t),a(this.uncountables,e),this.singulars.unshift([t,e])}},{key:"irregular",value:function(t,e){a(this.uncountables,t),a(this.uncountables,e);var n=t[0],r=t.substr(1),i=e[0],o=e.substr(1);if(n.toUpperCase()===i.toUpperCase())this.plural(new RegExp("("+n+")"+r+"$","i"),"$1"+o),this.plural(new RegExp("("+i+")"+o+"$","i"),"$1"+o),this.singular(new RegExp("("+n+")"+r+"$","i"),"$1"+r),this.singular(new RegExp("("+i+")"+o+"$","i"),"$1"+r);else{var s=c(r),u=c(o);this.plural(new RegExp(n.toUpperCase()+s+"$"),i.toUpperCase()+o),this.plural(new RegExp(n.toLowerCase()+s+"$"),i.toLowerCase()+o),this.plural(new RegExp(i.toUpperCase()+u+"$"),i.toUpperCase()+o),this.plural(new RegExp(i.toLowerCase()+u+"$"),i.toLowerCase()+o),this.singular(new RegExp(n.toUpperCase()+s+"$"),n.toUpperCase()+r),this.singular(new RegExp(n.toLowerCase()+s+"$"),n.toLowerCase()+r),this.singular(new RegExp(i.toUpperCase()+u+"$"),n.toUpperCase()+r),this.singular(new RegExp(i.toLowerCase()+u+"$"),n.toLowerCase()+r)}}},{key:"uncountable",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.uncountables=this.uncountables.concat(e)}},{key:"human",value:function(t,e){this.humans.unshift([t,e])}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";"all"===t?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[t]=[]}}]),t}();var h={en:function(t){t.plural(/$/,"s"),t.plural(/s$/i,"s"),t.plural(/^(ax|test)is$/i,"$1es"),t.plural(/(octop|vir)us$/i,"$1i"),t.plural(/(octop|vir)i$/i,"$1i"),t.plural(/(alias|status)$/i,"$1es"),t.plural(/(bu)s$/i,"$1ses"),t.plural(/(buffal|tomat)o$/i,"$1oes"),t.plural(/([ti])um$/i,"$1a"),t.plural(/([ti])a$/i,"$1a"),t.plural(/sis$/i,"ses"),t.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),t.plural(/(hive)$/i,"$1s"),t.plural(/([^aeiouy]|qu)y$/i,"$1ies"),t.plural(/(x|ch|ss|sh)$/i,"$1es"),t.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),t.plural(/^(m|l)ouse$/i,"$1ice"),t.plural(/^(m|l)ice$/i,"$1ice"),t.plural(/^(ox)$/i,"$1en"),t.plural(/^(oxen)$/i,"$1"),t.plural(/(quiz)$/i,"$1zes"),t.singular(/s$/i,""),t.singular(/(ss)$/i,"$1"),t.singular(/(n)ews$/i,"$1ews"),t.singular(/([ti])a$/i,"$1um"),t.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"),t.singular(/(^analy)(sis|ses)$/i,"$1sis"),t.singular(/([^f])ves$/i,"$1fe"),t.singular(/(hive)s$/i,"$1"),t.singular(/(tive)s$/i,"$1"),t.singular(/([lr])ves$/i,"$1f"),t.singular(/([^aeiouy]|qu)ies$/i,"$1y"),t.singular(/(s)eries$/i,"$1eries"),t.singular(/(m)ovies$/i,"$1ovie"),t.singular(/(x|ch|ss|sh)es$/i,"$1"),t.singular(/^(m|l)ice$/i,"$1ouse"),t.singular(/(bus)(es)?$/i,"$1"),t.singular(/(o)es$/i,"$1"),t.singular(/(shoe)s$/i,"$1"),t.singular(/(cris|test)(is|es)$/i,"$1is"),t.singular(/^(a)x[ie]s$/i,"$1xis"),t.singular(/(octop|vir)(us|i)$/i,"$1us"),t.singular(/(alias|status)(es)?$/i,"$1"),t.singular(/^(ox)en/i,"$1"),t.singular(/(vert|ind)ices$/i,"$1ex"),t.singular(/(matr)ices$/i,"$1ix"),t.singular(/(quiz)zes$/i,"$1"),t.singular(/(database)s$/i,"$1"),t.irregular("person","people"),t.irregular("man","men"),t.irregular("child","children"),t.irregular("sex","sexes"),t.irregular("move","moves"),t.irregular("zombie","zombies"),t.uncountable("equipment","information","rice","money","species","series","fish","sheep","jeans","police")}};function p(t,e){if(i(t)&&(e=t,t=null),t=t||"en",!e)return f.getInstance(t);e(f.getInstance(t))}for(var d in h)p(d,h[d]);function y(t,e){var n,r,i,o=""+t;if(0===o.length)return o;var s=o.toLowerCase().match(/\b\w+$/);if(s&&p().uncountables.indexOf(s[0])>-1)return o;for(var c=0,a=e.length;c<a;c++)if(r=(n=e[c])[0],i=n[1],o.match(r)){o=o.replace(r,i);break}return o}function m(t){return y(t,p(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en").plurals)}function v(t){return y(t,p(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en").singulars)}function g(t){var e=null==t?"":String(t);return e.charAt(0).toUpperCase()+e.slice(1)}function w(t,e){null==e&&(e=!0);var n=""+t;return n=(n=e?n.replace(/^[a-z\d]*/,(function(t){return p().acronyms[t]||g(t)})):n.replace(new RegExp("^(?:"+p().acronymRegex.source+"(?=\\b|[A-Z_])|\\w)"),(function(t){return t.toLowerCase()}))).replace(/(?:_|(\/))([a-z\d]*)/gi,(function(t,e,n,r,i){return e||(e=""),""+e+(p().acronyms[n]||g(n))}))}function b(t){var e=""+t;return(e=(e=(e=(e=e.replace(new RegExp("(?:([A-Za-z\\d])|^)("+p().acronymRegex.source+")(?=\\b|[^a-z])","g"),(function(t,e,n){return(e||"")+(e?"_":"")+n.toLowerCase()}))).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2")).replace(/([a-z\d])([A-Z])/g,"$1_$2")).replace(/-/g,"_")).toLowerCase()}function S(t,e){var n=""+t,r=p().humans,i=void 0,o=void 0,s=void 0;null!==(e=e||{}).capitalize&&void 0!==e.capitalize||(e.capitalize=!0);for(var c=0,a=r.length;c<a;c++)if(o=(i=r[c])[0],s=i[1],o.test&&o.test(n)||n.indexOf(o)>-1){n=n.replace(o,s);break}return n=(n=(n=n.replace(/_id$/,"")).replace(/_/g," ")).replace(/([a-z\d]*)/gi,(function(t){return p().acronyms[t]||t.toLowerCase()})),e.capitalize&&(n=n.replace(/^\w/,(function(t){return t.toUpperCase()}))),n}function _(t){return S(b(t)).replace(/(^|[\s¿/]+)([a-z])/g,(function(t,e,n,r,i){return t.replace(n,n.toUpperCase())}))}function E(t){return m(b(t))}function x(t){return w(v(t.replace(/.*\./g,"")))}function k(t){return t.replace(/_/g,"-")}function O(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return b(t)+(e?"_id":"id")}function j(t){var e=Math.abs(Number(t)),n=e%100;if(11===n||12===n||13===n)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}function P(t){return""+t+j(t)}var N={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","×":"x","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"Th","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Ĉ":"C","ĉ":"c","Ċ":"C","ċ":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"G","ĝ":"g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"H","ĥ":"h","Ħ":"H","ħ":"h","Ĩ":"I","ĩ":"i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĳ":"IJ","ĳ":"ij","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","ŉ":"'n","Ŋ":"NG","ŋ":"ng","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ŝ":"S","ŝ":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","Ũ":"U","ũ":"u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ё":"E","Ж":"ZH","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"KH","Ц":"C","Ч":"CH","Ш":"SH","Щ":"SHCH","Ъ":"","Ы":"Y","Ь":"","Э":"E","Ю":"YU","Я":"YA","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"kh","ц":"c","ч":"ch","ш":"sh","щ":"shch","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya"},T={},$=function(){function t(){for(var e in o(this,t),this.approximations={},N)this.approximate(e,N[e])}return s(t,null,[{key:"getInstance",value:function(e){return T[e]=T[e]||new t,T[e]}}]),s(t,[{key:"approximate",value:function(t,e){this.approximations[t]=e}},{key:"transliterate",value:function(t,e){var n=this;return t.replace(/[^\u0000-\u007f]/g,(function(t){return n.approximations[t]||e||"?"}))}}]),t}();function C(t,e){if(i(t)&&(e=t,t=null),t=t||"en",!e)return $.getInstance(t);e($.getInstance(t))}function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.locale||"en",r=e.replacement||"?";return C(n).transliterate(t,r)}function R(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===e.separator&&(e.separator="-"),null===e.separator&&(e.separator="");var n=M(t,e);if(n=n.replace(/[^a-z0-9\-_]+/gi,e.separator),e.separator.length){var r=new RegExp(e.separator);n=(n=n.replace(new RegExp(r.source+"{2,}"),e.separator)).replace(new RegExp("^"+r.source+"|"+r.source+"$","i"),"")}return n.toLowerCase()}function F(t){return b(t).toUpperCase().replace(/\s+/g,"_")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRailsContext=void 0;const r=n(13),i=n(5),o=n(8),s=n(4);e.getRailsContext=function(...t){let e,n;2===t.length?(n=t[0],e=t[1]):1===t.length&&Array.isArray(t[0])?n=t[0]:1===t.length&&(e=t[0]);const c=r.getCurrentRailsFile();if(!c)return Promise.resolve(s.window.showWarningMessage("Rails Fast Nav: This is not a rails project"));const a=i.RailsWorkspaceCache.fetch(c.railsRoot),u=(t,r)=>n?o.getSwitchesFromRules(n,t).then(n=>e(t,r,n)):e(t,r);return e?a.then(t=>u(c,t)):a.then(t=>({railsFile:c,workspace:t,in:function(e){return c?u(c,t):Promise.resolve()}}))}},function(t,e){t.exports=require("util")},function(t,e){t.exports=require("assert")},function(t,e,n){"use strict";const r=n(1),i=n(0),o=10,s=5,c=0,a=process.versions.node.split("."),u=Number.parseInt(a[0],10),l=Number.parseInt(a[1],10),f=Number.parseInt(a[2],10);function h(){if(u>o)return!0;if(u===o){if(l>s)return!0;if(l===s&&f>=c)return!0}return!1}function p(t,e){const n=i.resolve(t).split(i.sep).filter(t=>t),r=i.resolve(e).split(i.sep).filter(t=>t);return n.reduce((t,e,n)=>t&&r[n]===e,!0)}function d(t,e,n){return`Cannot ${n} '${t}' to a subdirectory of itself, '${e}'.`}t.exports={checkPaths:function(t,e,n,i){!function(t,e,n){h()?r.stat(t,{bigint:!0},(t,i)=>{if(t)return n(t);r.stat(e,{bigint:!0},(t,e)=>t?"ENOENT"===t.code?n(null,{srcStat:i,destStat:null}):n(t):n(null,{srcStat:i,destStat:e}))}):r.stat(t,(t,i)=>{if(t)return n(t);r.stat(e,(t,e)=>t?"ENOENT"===t.code?n(null,{srcStat:i,destStat:null}):n(t):n(null,{srcStat:i,destStat:e}))})}(t,e,(r,o)=>{if(r)return i(r);const{srcStat:s,destStat:c}=o;return c&&c.ino&&c.dev&&c.ino===s.ino&&c.dev===s.dev?i(new Error("Source and destination must not be the same.")):s.isDirectory()&&p(t,e)?i(new Error(d(t,e,n))):i(null,{srcStat:s,destStat:c})})},checkPathsSync:function(t,e,n){const{srcStat:i,destStat:o}=function(t,e){let n,i;n=h()?r.statSync(t,{bigint:!0}):r.statSync(t);try{i=h()?r.statSync(e,{bigint:!0}):r.statSync(e)}catch(t){if("ENOENT"===t.code)return{srcStat:n,destStat:null};throw t}return{srcStat:n,destStat:i}}(t,e);if(o&&o.ino&&o.dev&&o.ino===i.ino&&o.dev===i.dev)throw new Error("Source and destination must not be the same.");if(i.isDirectory()&&p(t,e))throw new Error(d(t,e,n));return{srcStat:i,destStat:o}},checkParentPaths:function t(e,n,o,s,c){const a=i.resolve(i.dirname(e)),u=i.resolve(i.dirname(o));if(u===a||u===i.parse(u).root)return c();h()?r.stat(u,{bigint:!0},(r,i)=>r?"ENOENT"===r.code?c():c(r):i.ino&&i.dev&&i.ino===n.ino&&i.dev===n.dev?c(new Error(d(e,o,s))):t(e,n,u,s,c)):r.stat(u,(r,i)=>r?"ENOENT"===r.code?c():c(r):i.ino&&i.dev&&i.ino===n.ino&&i.dev===n.dev?c(new Error(d(e,o,s))):t(e,n,u,s,c))},checkParentPathsSync:function t(e,n,o,s){const c=i.resolve(i.dirname(e)),a=i.resolve(i.dirname(o));if(a===c||a===i.parse(a).root)return;let u;try{u=h()?r.statSync(a,{bigint:!0}):r.statSync(a)}catch(t){if("ENOENT"===t.code)return;throw t}if(u.ino&&u.dev&&u.ino===n.ino&&u.dev===n.dev)throw new Error(d(e,o,s));return t(e,n,a,s)},isSrcSubdir:p}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(49);t.exports={remove:r(i),removeSync:i.sync}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(57);t.exports={readJson:r(i.readFile),readJsonSync:i.readFileSync,writeJson:r(i.writeFile),writeJsonSync:i.writeFileSync}},function(t,e,n){t.exports=d,d.Minimatch=y;var r={sep:"/"};try{r=n(0)}catch(t){}var i=d.GLOBSTAR=y.GLOBSTAR={},o=n(66),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},c="[^/]",a=c+"*?",u="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",l="(?:(?!(?:\\/|^)\\.).)*?",f="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{});var h=/\/+/;function p(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function d(t,e,n){if("string"!=typeof e)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new y(e,n).match(t))}function y(t,e){if(!(this instanceof y))return new y(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==r.sep&&(t=t.split(r.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function m(t,e){if(e||(e=this instanceof y?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:o(t)}d.filter=function(t,e){return e=e||{},function(n,r,i){return d(n,t,e)}},d.defaults=function(t){if(!t||!Object.keys(t).length)return d;var e=d,n=function(n,r,i){return e.minimatch(n,r,p(t,i))};return n.Minimatch=function(n,r){return new e.Minimatch(n,p(t,r))},n},y.defaults=function(t){return t&&Object.keys(t).length?d.defaults(t).Minimatch:y},y.prototype.debug=function(){},y.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(t){return t.split(h)})),this.debug(this.pattern,n),n=n.map((function(t,e,n){return t.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},y.prototype.parseNegate=function(){var t=this.pattern,e=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=t.length;i<o&&"!"===t.charAt(i);i++)e=!e,r++;r&&(this.pattern=t.substr(r));this.negate=e},d.braceExpand=function(t,e){return m(t,e)},y.prototype.braceExpand=m,y.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===t)return i;if(""===t)return"";var r,o="",u=!!n.nocase,l=!1,h=[],p=[],d=!1,y=-1,m=-1,g="."===t.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",w=this;function b(){if(r){switch(r){case"*":o+=a,u=!0;break;case"?":o+=c,u=!0;break;default:o+="\\"+r}w.debug("clearStateChar %j %j",r,o),r=!1}}for(var S,_=0,E=t.length;_<E&&(S=t.charAt(_));_++)if(this.debug("%s\t%s %s %j",t,_,o,S),l&&f[S])o+="\\"+S,l=!1;else switch(S){case"/":return!1;case"\\":b(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,_,o,S),d){this.debug("  in class"),"!"===S&&_===m+1&&(S="^"),o+=S;continue}w.debug("call clearStateChar %j",r),b(),r=S,n.noext&&b();continue;case"(":if(d){o+="(";continue}if(!r){o+="\\(";continue}h.push({type:r,start:_-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(d||!h.length){o+="\\)";continue}b(),u=!0;var x=h.pop();o+=x.close,"!"===x.type&&p.push(x),x.reEnd=o.length;continue;case"|":if(d||!h.length||l){o+="\\|",l=!1;continue}b(),o+="|";continue;case"[":if(b(),d){o+="\\"+S;continue}d=!0,m=_,y=o.length,o+=S;continue;case"]":if(_===m+1||!d){o+="\\"+S,l=!1;continue}if(d){var k=t.substring(m+1,_);try{RegExp("["+k+"]")}catch(t){var O=this.parse(k,v);o=o.substr(0,y)+"\\["+O[0]+"\\]",u=u||O[1],d=!1;continue}}u=!0,d=!1,o+=S;continue;default:b(),l?l=!1:!f[S]||"^"===S&&d||(o+="\\"),o+=S}d&&(k=t.substr(m+1),O=this.parse(k,v),o=o.substr(0,y)+"\\["+O[0],u=u||O[1]);for(x=h.pop();x;x=h.pop()){var j=o.slice(x.reStart+x.open.length);this.debug("setting tail",o,x),j=j.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,n){return n||(n="\\"),e+e+n+"|"})),this.debug("tail=%j\n   %s",j,j,x,o);var P="*"===x.type?a:"?"===x.type?c:"\\"+x.type;u=!0,o=o.slice(0,x.reStart)+P+"\\("+j}b(),l&&(o+="\\\\");var N=!1;switch(o.charAt(0)){case".":case"[":case"(":N=!0}for(var T=p.length-1;T>-1;T--){var $=p[T],C=o.slice(0,$.reStart),M=o.slice($.reStart,$.reEnd-8),R=o.slice($.reEnd-8,$.reEnd),F=o.slice($.reEnd);R+=F;var A=C.split("(").length-1,L=F;for(_=0;_<A;_++)L=L.replace(/\)[+*?]?/,"");var I="";""===(F=L)&&e!==v&&(I="$"),o=C+M+F+I+R}""!==o&&u&&(o="(?=.)"+o);N&&(o=g+o);if(e===v)return[o,u];if(!u)return function(t){return t.replace(/\\(.)/g,"$1")}(t);var D=n.nocase?"i":"";try{var W=new RegExp("^"+o+"$",D)}catch(t){return new RegExp("$.")}return W._glob=t,W._src=o,W};var v={};d.makeRe=function(t,e){return new y(t,e||{}).makeRe()},y.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?a:e.dot?u:l,r=e.nocase?"i":"",o=t.map((function(t){return t.map((function(t){return t===i?n:"string"==typeof t?function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(t){this.regexp=!1}return this.regexp},d.match=function(t,e,n){var r=new y(e,n=n||{});return t=t.filter((function(t){return r.match(t)})),r.options.nonull&&!t.length&&t.push(e),t},y.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==r.sep&&(t=t.split(r.sep).join("/"));t=t.split(h),this.debug(this.pattern,"split",t);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=t.length-1;o>=0&&!(i=t[o]);o--);for(o=0;o<s.length;o++){var c=s[o],a=t;if(n.matchBase&&1===c.length&&(a=[i]),this.matchOne(a,c,e))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},y.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,s=0,c=t.length,a=e.length;o<c&&s<a;o++,s++){this.debug("matchOne loop");var u,l=e[s],f=t[o];if(this.debug(e,l,f),!1===l)return!1;if(l===i){this.debug("GLOBSTAR",[e,l,f]);var h=o,p=s+1;if(p===a){for(this.debug("** at the end");o<c;o++)if("."===t[o]||".."===t[o]||!r.dot&&"."===t[o].charAt(0))return!1;return!0}for(;h<c;){var d=t[h];if(this.debug("\nglobstar while",t,h,e,p,d),this.matchOne(t.slice(h),e.slice(p),n))return this.debug("globstar found match!",h,c,d),!0;if("."===d||".."===d||!r.dot&&"."===d.charAt(0)){this.debug("dot detected!",t,h,e,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",t,h,e,p),h!==c))}if("string"==typeof l?(u=r.nocase?f.toLowerCase()===l.toLowerCase():f===l,this.debug("string match",l,f,u)):(u=f.match(l),this.debug("pattern match",l,f,u)),!u)return!1}if(o===c&&s===a)return!0;if(o===c)return n;if(s===a)return o===c-1&&""===t[o];throw new Error("wtf?")}},function(t,e,n){"use strict";function r(t){return"/"===t.charAt(0)}function i(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(t),n=e[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(e[2]||r)}t.exports="win32"===process.platform?i:r,t.exports.posix=r,t.exports.win32=i},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(1),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>"function"==typeof i[t]);Object.keys(i).forEach(t=>{"promises"!==t&&(e[t]=i[t])}),o.forEach(t=>{e[t]=r(i[t])}),e.exists=function(t,e){return"function"==typeof e?i.exists(t,e):new Promise(e=>i.exists(t,e))},e.read=function(t,e,n,r,o,s){return"function"==typeof s?i.read(t,e,n,r,o,s):new Promise((s,c)=>{i.read(t,e,n,r,o,(t,e,n)=>{if(t)return c(t);s({bytesRead:e,buffer:n})})})},e.write=function(t,e,...n){return"function"==typeof n[n.length-1]?i.write(t,e,...n):new Promise((r,o)=>{i.write(t,e,...n,(t,e,n)=>{if(t)return o(t);r({bytesWritten:e,buffer:n})})})},"function"==typeof i.realpath.native&&(e.realpath.native=r(i.realpath.native))},function(t,e,n){"use strict";t.exports={copySync:n(42)}},function(t,e,n){"use strict";const r=n(0);function i(t){return(t=r.normalize(r.resolve(t)).split(r.sep)).length>0?t[0]:null}const o=/[<>:"|?*]/;t.exports={getRootPath:i,invalidWin32Path:function(t){const e=i(t);return t=t.replace(e,""),o.test(t)}}},function(t,e,n){"use strict";const r=n(1),i=n(45),o=n(0);t.exports={hasMillisRes:function(t){let e=o.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));e=o.join(i.tmpdir(),e);const n=new Date(1435410243862);r.writeFile(e,"https://github.com/jprichardson/node-fs-extra/pull/141",i=>{if(i)return t(i);r.open(e,"r+",(i,o)=>{if(i)return t(i);r.futimes(o,n,n,n=>{if(n)return t(n);r.close(o,n=>{if(n)return t(n);r.stat(e,(e,n)=>{if(e)return t(e);t(null,n.mtime>1435410243e3)})})})})})},hasMillisResSync:function(){let t=o.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));t=o.join(i.tmpdir(),t);const e=new Date(1435410243862);r.writeFileSync(t,"https://github.com/jprichardson/node-fs-extra/pull/141");const n=r.openSync(t,"r+");return r.futimesSync(n,e,e),r.closeSync(n),r.statSync(t).mtime>1435410243e3},timeRemoveMillis:function(t){if("number"==typeof t)return 1e3*Math.floor(t/1e3);if(t instanceof Date)return new Date(1e3*Math.floor(t.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")},utimesMillis:function(t,e,n,i){r.open(t,"r+",(t,o)=>{if(t)return i(t);r.futimes(o,e,n,t=>{r.close(o,e=>{i&&i(t||e)})})})},utimesMillisSync:function(t,e,n){const i=r.openSync(t,"r+");return r.futimesSync(i,e,n),r.closeSync(i)}}},function(t,e,n){"use strict";const r=n(2).fromCallback;t.exports={copy:r(n(47))}},function(t,e,n){t.exports=w;var r=n(7),i=n(29),o=n(21),s=(o.Minimatch,n(69)),c=n(71).EventEmitter,a=n(0),u=n(17),l=n(22),f=n(72),h=n(30),p=(h.alphasort,h.alphasorti,h.setopts),d=h.ownProp,y=n(73),m=(n(16),h.childrenIgnored),v=h.isIgnored,g=n(32);function w(t,e,n){if("function"==typeof e&&(n=e,e={}),e||(e={}),e.sync){if(n)throw new TypeError("callback provided to sync glob");return f(t,e)}return new S(t,e,n)}w.sync=f;var b=w.GlobSync=f.GlobSync;function S(t,e,n){if("function"==typeof e&&(n=e,e=null),e&&e.sync){if(n)throw new TypeError("callback provided to sync glob");return new b(t,e)}if(!(this instanceof S))return new S(t,e,n);p(this,t,e),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=g(n),this.on("error",n),this.on("end",(function(t){n(null,t)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return c();for(var o=!0,s=0;s<r;s++)this._process(this.minimatch.set[s],s,!1,c);function c(){--i._processing,i._processing<=0&&(o?process.nextTick((function(){i._finish()})):i._finish())}o=!1}w.glob=w,w.hasMagic=function(t,e){var n=function(t,e){if(null===e||"object"!=typeof e)return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}({},e);n.noprocess=!0;var r=new S(t,n).minimatch.set;if(!t)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},w.Glob=S,s(S,c),S.prototype._finish=function(){if(u(this instanceof S),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();h.finish(this),this.emit("end",this.found)}},S.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var e=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--t&&e._finish()}},S.prototype._realpathSet=function(t,e){var n=this.matches[t];if(!n)return e();var r=Object.keys(n),o=this,s=r.length;if(0===s)return e();var c=this.matches[t]=Object.create(null);r.forEach((function(n,r){n=o._makeAbs(n),i.realpath(n,o.realpathCache,(function(r,i){r?"stat"===r.syscall?c[n]=!0:o.emit("error",r):c[i]=!0,0==--s&&(o.matches[t]=c,e())}))}))},S.prototype._mark=function(t){return h.mark(this,t)},S.prototype._makeAbs=function(t){return h.makeAbs(this,t)},S.prototype.abort=function(){this.aborted=!0,this.emit("abort")},S.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},S.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var n=t[e];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(e=0;e<r.length;e++){var i=r[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},S.prototype._process=function(t,e,n,r){if(u(this instanceof S),u("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,e,n,r]);else{for(var i,s=0;"string"==typeof t[s];)s++;switch(s){case t.length:return void this._processSimple(t.join("/"),e,r);case 0:i=null;break;default:i=t.slice(0,s).join("/")}var c,a=t.slice(s);null===i?c=".":l(i)||l(t.join("/"))?(i&&l(i)||(i="/"+i),c=i):c=i;var f=this._makeAbs(c);if(m(this,c))return r();a[0]===o.GLOBSTAR?this._processGlobStar(i,c,f,a,e,n,r):this._processReaddir(i,c,f,a,e,n,r)}},S.prototype._processReaddir=function(t,e,n,r,i,o,s){var c=this;this._readdir(n,o,(function(a,u){return c._processReaddir2(t,e,n,r,i,o,u,s)}))},S.prototype._processReaddir2=function(t,e,n,r,i,o,s,c){if(!s)return c();for(var u=r[0],l=!!this.minimatch.negate,f=u._glob,h=this.dot||"."===f.charAt(0),p=[],d=0;d<s.length;d++){if("."!==(m=s[d]).charAt(0)||h)(l&&!t?!m.match(u):m.match(u))&&p.push(m)}var y=p.length;if(0===y)return c();if(1===r.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(d=0;d<y;d++){var m=p[d];t&&(m="/"!==t?t+"/"+m:t+m),"/"!==m.charAt(0)||this.nomount||(m=a.join(this.root,m)),this._emitMatch(i,m)}return c()}r.shift();for(d=0;d<y;d++){m=p[d];t&&(m="/"!==t?t+"/"+m:t+m),this._process([m].concat(r),i,o,c)}c()},S.prototype._emitMatch=function(t,e){if(!this.aborted&&!v(this,e))if(this.paused)this._emitQueue.push([t,e]);else{var n=l(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=n),!this.matches[t][e]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[t][e]=!0;var i=this.statCache[n];i&&this.emit("stat",e,i),this.emit("match",e)}}},S.prototype._readdirInGlobStar=function(t,e){if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var n=this,i=y("lstat\0"+t,(function(r,i){if(r&&"ENOENT"===r.code)return e();var o=i&&i.isSymbolicLink();n.symlinks[t]=o,o||!i||i.isDirectory()?n._readdir(t,!1,e):(n.cache[t]="FILE",e())}));i&&r.lstat(t,i)}},S.prototype._readdir=function(t,e,n){if(!this.aborted&&(n=y("readdir\0"+t+"\0"+e,n))){if(e&&!d(this.symlinks,t))return this._readdirInGlobStar(t,n);if(d(this.cache,t)){var i=this.cache[t];if(!i||"FILE"===i)return n();if(Array.isArray(i))return n(null,i)}r.readdir(t,function(t,e,n){return function(r,i){r?t._readdirError(e,r,n):t._readdirEntries(e,i,n)}}(this,t,n))}},S.prototype._readdirEntries=function(t,e,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var i=e[r];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,n(null,e)}},S.prototype._readdirError=function(t,e,n){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return n()}},S.prototype._processGlobStar=function(t,e,n,r,i,o,s){var c=this;this._readdir(n,o,(function(a,u){c._processGlobStar2(t,e,n,r,i,o,u,s)}))},S.prototype._processGlobStar2=function(t,e,n,r,i,o,s,c){if(!s)return c();var a=r.slice(1),u=t?[t]:[],l=u.concat(a);this._process(l,i,!1,c);var f=this.symlinks[n],h=s.length;if(f&&o)return c();for(var p=0;p<h;p++){if("."!==s[p].charAt(0)||this.dot){var d=u.concat(s[p],a);this._process(d,i,!0,c);var y=u.concat(s[p],r);this._process(y,i,!0,c)}}c()},S.prototype._processSimple=function(t,e,n){var r=this;this._stat(t,(function(i,o){r._processSimple2(t,e,i,o,n)}))},S.prototype._processSimple2=function(t,e,n,r,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!r)return i();if(t&&l(t)&&!this.nomount){var o=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=a.join(this.root,t):(t=a.resolve(this.root,t),o&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()},S.prototype._stat=function(t,e){var n=this._makeAbs(t),i="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&d(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return e(null,o);if(i&&"FILE"===o)return e()}var s=this.statCache[n];if(void 0!==s){if(!1===s)return e(null,s);var c=s.isDirectory()?"DIR":"FILE";return i&&"FILE"===c?e():e(null,c,s)}var a=this,u=y("stat\0"+n,(function(i,o){if(o&&o.isSymbolicLink())return r.stat(n,(function(r,i){r?a._stat2(t,n,null,o,e):a._stat2(t,n,r,i,e)}));a._stat2(t,n,i,o,e)}));u&&r.lstat(n,u)},S.prototype._stat2=function(t,e,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[e]=!1,i();var o="/"===t.slice(-1);if(this.statCache[e]=r,"/"===e.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var s=!0;return r&&(s=r.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,o&&"FILE"===s?i():i(null,s,r)}},function(t,e,n){t.exports=l,l.realpath=l,l.sync=f,l.realpathSync=f,l.monkeypatch=function(){r.realpath=l,r.realpathSync=f},l.unmonkeypatch=function(){r.realpath=i,r.realpathSync=o};var r=n(7),i=r.realpath,o=r.realpathSync,s=process.version,c=/^v[0-5]\./.test(s),a=n(65);function u(t){return t&&"realpath"===t.syscall&&("ELOOP"===t.code||"ENOMEM"===t.code||"ENAMETOOLONG"===t.code)}function l(t,e,n){if(c)return i(t,e,n);"function"==typeof e&&(n=e,e=null),i(t,e,(function(r,i){u(r)?a.realpath(t,e,n):n(r,i)}))}function f(t,e){if(c)return o(t,e);try{return o(t,e)}catch(n){if(u(n))return a.realpathSync(t,e);throw n}}},function(t,e,n){function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.alphasort=u,e.alphasorti=a,e.setopts=function(t,e,n){n||(n={});if(n.matchBase&&-1===e.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!n.silent,t.pattern=e,t.strict=!1!==n.strict,t.realpath=!!n.realpath,t.realpathCache=n.realpathCache||Object.create(null),t.follow=!!n.follow,t.dot=!!n.dot,t.mark=!!n.mark,t.nodir=!!n.nodir,t.nodir&&(t.mark=!0);t.sync=!!n.sync,t.nounique=!!n.nounique,t.nonull=!!n.nonull,t.nosort=!!n.nosort,t.nocase=!!n.nocase,t.stat=!!n.stat,t.noprocess=!!n.noprocess,t.absolute=!!n.absolute,t.maxLength=n.maxLength||1/0,t.cache=n.cache||Object.create(null),t.statCache=n.statCache||Object.create(null),t.symlinks=n.symlinks||Object.create(null),function(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]);t.ignore.length&&(t.ignore=t.ignore.map(l))}(t,n),t.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(t.cwd=i.resolve(n.cwd),t.changedCwd=t.cwd!==o):t.cwd=o;t.root=n.root||i.resolve(t.cwd,"/"),t.root=i.resolve(t.root),"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/"));t.cwdAbs=s(t.cwd)?t.cwd:f(t,t.cwd),"win32"===process.platform&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/"));t.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,t.minimatch=new c(e,n),t.options=t.minimatch.options},e.ownProp=r,e.makeAbs=f,e.finish=function(t){for(var e=t.nounique,n=e?[]:Object.create(null),r=0,i=t.matches.length;r<i;r++){var o=t.matches[r];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);e?n.push.apply(n,s):s.forEach((function(t){n[t]=!0}))}else if(t.nonull){var c=t.minimatch.globSet[r];e?n.push(c):n[c]=!0}}e||(n=Object.keys(n));t.nosort||(n=n.sort(t.nocase?a:u));if(t.mark){for(r=0;r<n.length;r++)n[r]=t._mark(n[r]);t.nodir&&(n=n.filter((function(e){var n=!/\/$/.test(e),r=t.cache[e]||t.cache[f(t,e)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n})))}t.ignore.length&&(n=n.filter((function(e){return!h(t,e)})));t.found=n},e.mark=function(t,e){var n=f(t,e),r=t.cache[n],i=e;if(r){var o="DIR"===r||Array.isArray(r),s="/"===e.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==e){var c=f(t,i);t.statCache[c]=t.statCache[n],t.cache[c]=t.cache[n]}}return i},e.isIgnored=h,e.childrenIgnored=function(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return!(!t.gmatcher||!t.gmatcher.match(e))}))};var i=n(0),o=n(21),s=n(22),c=o.Minimatch;function a(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function u(t,e){return t.localeCompare(e)}function l(t){var e=null;if("/**"===t.slice(-3)){var n=t.replace(/(\/\*\*)+$/,"");e=new c(n,{dot:!0})}return{matcher:new c(t,{dot:!0}),gmatcher:e}}function f(t,e){var n=e;return n="/"===e.charAt(0)?i.join(t.root,e):s(e)||""===e?e:t.changedCwd?i.resolve(t.cwd,e):i.resolve(e),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function h(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))}))}},function(t,e){t.exports=function t(e,n){if(e&&n)return t(e)(n);if("function"!=typeof e)throw new TypeError("need wrapper function");Object.keys(e).forEach((function(t){r[t]=e[t]}));return r;function r(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];var r=e.apply(this,t),i=t[t.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(t){r[t]=i[t]})),r}}},function(t,e,n){var r=n(31);function i(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function o(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}t.exports=r(i),t.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.createView=void 0;const i=n(5),o=n(15),s=n(10),c=n(4),a=n(0);e.createView=function(){return r(this,void 0,void 0,(function*(){return o.getRailsContext((function(t,e){return r(this,void 0,void 0,(function*(){if(!t.isController())return;const n=c.workspace.getConfiguration("rails").get("viewFileExtension"),r=t.methodName&&t.methodName.length>0?`${t.methodName}.${n}`:"",o=yield c.window.showInputBox({value:r,prompt:`Create view for controller ${t.classname}`,placeHolder:`index.${n}`});if(!o||""===o)return;const u=i.getViewPath(e,t),l=a.join(u,o);return yield s.ensureDocument(l)}))}))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const r=n(4),i=n(35),o=n(5);e.activate=function(t){Object.keys(i.commands).forEach(e=>{const n=i.commands[e],o=r.commands.registerCommand(`rails.${e}`,n);t.subscriptions.push(o)})},e.deactivate=function(){o.RailsWorkspaceCache&&o.RailsWorkspaceCache.dispose()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.commands=void 0;const r=n(36),i=n(83),o=n(84),s=n(85),c=n(86),a=n(87),u=n(33),l=n(88);e.commands={fastNavigation:r.navigateRails,switchToView:i.switchToView,switchToModel:o.switchToModel,switchToTest:s.switchToTest,switchToSpec:s.switchToTest,switchToController:c.switchToController,switchToFixture:a.switchToFixture,createView:u.createView,createSpec:l.createSpec}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.navigateRails=void 0;const i=n(8),o=n(13),s=n(12);e.navigateRails=function(){return r(this,void 0,void 0,(function*(){try{const t=o.getCurrentRailsFile();if(!t)return;const e=yield i.getCheckedSwitches(t);return yield s.showPicker(t.railsRoot,e)}catch(t){console.error(t)}}))}},function(t,e,n){var r=n(38),i=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(t){}var c=process.chdir;process.chdir=function(t){o=null,c.call(process,t)},t.exports=function(t){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,n,i){t.open(e,r.O_WRONLY|r.O_SYMLINK,n,(function(e,r){e?i&&i(e):t.fchmod(r,n,(function(e){t.close(r,(function(t){i&&i(e||t)}))}))}))},t.lchmodSync=function(e,n){var i,o=t.openSync(e,r.O_WRONLY|r.O_SYMLINK,n),s=!0;try{i=t.fchmodSync(o,n),s=!1}finally{if(s)try{t.closeSync(o)}catch(t){}else t.closeSync(o)}return i}}(t);t.lutimes||function(t){r.hasOwnProperty("O_SYMLINK")?(t.lutimes=function(e,n,i,o){t.open(e,r.O_SYMLINK,(function(e,r){e?o&&o(e):t.futimes(r,n,i,(function(e){t.close(r,(function(t){o&&o(e||t)}))}))}))},t.lutimesSync=function(e,n,i){var o,s=t.openSync(e,r.O_SYMLINK),c=!0;try{o=t.futimesSync(s,n,i),c=!1}finally{if(c)try{t.closeSync(s)}catch(t){}else t.closeSync(s)}return o}):(t.lutimes=function(t,e,n,r){r&&process.nextTick(r)},t.lutimesSync=function(){})}(t);t.chown=o(t.chown),t.fchown=o(t.fchown),t.lchown=o(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=c(t.chownSync),t.fchownSync=c(t.fchownSync),t.lchownSync=c(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=u(t.statSync),t.fstatSync=u(t.fstatSync),t.lstatSync=u(t.lstatSync),t.lchmod||(t.lchmod=function(t,e,n){n&&process.nextTick(n)},t.lchmodSync=function(){});t.lchown||(t.lchown=function(t,e,n,r){r&&process.nextTick(r)},t.lchownSync=function(){});"win32"===s&&(t.rename=(e=t.rename,function(n,r,i){var o=Date.now(),s=0;e(n,r,(function c(a){if(a&&("EACCES"===a.code||"EPERM"===a.code)&&Date.now()-o<6e4)return setTimeout((function(){t.stat(r,(function(t,o){t&&"ENOENT"===t.code?e(n,r,c):i(a)}))}),s),void(s<100&&(s+=10));i&&i(a)}))}));var e;function n(e){return e?function(n,r,i){return e.call(t,n,r,(function(t){l(t)&&(t=null),i&&i.apply(this,arguments)}))}:e}function i(e){return e?function(n,r){try{return e.call(t,n,r)}catch(t){if(!l(t))throw t}}:e}function o(e){return e?function(n,r,i,o){return e.call(t,n,r,i,(function(t){l(t)&&(t=null),o&&o.apply(this,arguments)}))}:e}function c(e){return e?function(n,r,i){try{return e.call(t,n,r,i)}catch(t){if(!l(t))throw t}}:e}function a(e){return e?function(n,r,i){function o(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?e.call(t,n,r,o):e.call(t,n,o)}:e}function u(e){return e?function(n,r){var i=r?e.call(t,n,r):e.call(t,n);return i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296),i}:e}function l(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}t.read=function(e){function n(n,r,i,o,s,c){var a;if(c&&"function"==typeof c){var u=0;a=function(l,f,h){if(l&&"EAGAIN"===l.code&&u<10)return u++,e.call(t,n,r,i,o,s,a);c.apply(this,arguments)}}return e.call(t,n,r,i,o,s,a)}return n.__proto__=e,n}(t.read),t.readSync=(f=t.readSync,function(e,n,r,i,o){for(var s=0;;)try{return f.call(t,e,n,r,i,o)}catch(t){if("EAGAIN"===t.code&&s<10){s++;continue}throw t}});var f}},function(t,e){t.exports=require("constants")},function(t,e,n){var r=n(40).Stream;t.exports=function(t){return{ReadStream:function e(n,i){if(!(this instanceof e))return new e(n,i);r.call(this);var o=this;this.path=n;this.fd=null;this.readable=!0;this.paused=!1;this.flags="r";this.mode=438;this.bufferSize=65536;i=i||{};var s=Object.keys(i);for(var c=0,a=s.length;c<a;c++){var u=s[c];this[u]=i[u]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){o._read()}));t.open(this.path,this.flags,this.mode,(function(t,e){if(t)return o.emit("error",t),void(o.readable=!1);o.fd=e,o.emit("open",e),o._read()}))},WriteStream:function e(n,i){if(!(this instanceof e))return new e(n,i);r.call(this);this.path=n;this.fd=null;this.writable=!0;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;i=i||{};var o=Object.keys(i);for(var s=0,c=o.length;s<c;s++){var a=o[s];this[a]=i[a]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1;this._queue=[];null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(t,e){t.exports=require("stream")},function(t,e,n){"use strict";t.exports=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:t.__proto__};else e=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(3).mkdirsSync,s=n(26).utimesMillisSync,c=n(18);function a(t,e,n,o){if(!o.filter||o.filter(e,n))return function(t,e,n,o){const s=(o.dereference?r.statSync:r.lstatSync)(e);if(s.isDirectory())return function(t,e,n,i,o){if(!e)return function(t,e,n,i){return r.mkdirSync(n),l(e,n,i),r.chmodSync(n,t.mode)}(t,n,i,o);if(e&&!e.isDirectory())throw new Error(`Cannot overwrite non-directory '${i}' with directory '${n}'.`);return l(n,i,o)}(s,t,e,n,o);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(t,e,n,i,o){return e?function(t,e,n,i){if(i.overwrite)return r.unlinkSync(n),u(t,e,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}(t,n,i,o):u(t,n,i,o)}(s,t,e,n,o);if(s.isSymbolicLink())return function(t,e,n,o){let s=r.readlinkSync(e);o.dereference&&(s=i.resolve(process.cwd(),s));if(t){let t;try{t=r.readlinkSync(n)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return r.symlinkSync(s,n);throw t}if(o.dereference&&(t=i.resolve(process.cwd(),t)),c.isSrcSubdir(s,t))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${t}'.`);if(r.statSync(n).isDirectory()&&c.isSrcSubdir(t,s))throw new Error(`Cannot overwrite '${t}' with '${s}'.`);return function(t,e){return r.unlinkSync(e),r.symlinkSync(t,e)}(s,n)}return r.symlinkSync(s,n)}(t,e,n,o)}(t,e,n,o)}function u(t,e,i,o){return"function"==typeof r.copyFileSync?(r.copyFileSync(e,i),r.chmodSync(i,t.mode),o.preserveTimestamps?s(i,t.atime,t.mtime):void 0):function(t,e,i,o){const s=n(46)(65536),c=r.openSync(e,"r"),a=r.openSync(i,"w",t.mode);let u=0;for(;u<t.size;){const t=r.readSync(c,s,0,65536,u);r.writeSync(a,s,0,t),u+=t}o.preserveTimestamps&&r.futimesSync(a,t.atime,t.mtime);r.closeSync(c),r.closeSync(a)}(t,e,i,o)}function l(t,e,n){r.readdirSync(t).forEach(r=>(function(t,e,n,r){const o=i.join(e,t),s=i.join(n,t),{destStat:u}=c.checkPathsSync(o,s,"copy");return a(u,o,s,r)})(r,t,e,n))}t.exports=function(t,e,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:s,destStat:u}=c.checkPathsSync(t,e,"copy");return c.checkParentPathsSync(t,s,e,"copy"),function(t,e,n,s){if(s.filter&&!s.filter(e,n))return;const c=i.dirname(n);r.existsSync(c)||o(c);return a(t,e,n,s)}(u,t,e,n)}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(25).invalidWin32Path,s=parseInt("0777",8);t.exports=function t(e,n,c,a){if("function"==typeof n?(c=n,n={}):n&&"object"==typeof n||(n={mode:n}),"win32"===process.platform&&o(e)){const t=new Error(e+" contains invalid WIN32 path characters.");return t.code="EINVAL",c(t)}let u=n.mode;const l=n.fs||r;void 0===u&&(u=s&~process.umask()),a||(a=null),c=c||function(){},e=i.resolve(e),l.mkdir(e,u,r=>{if(!r)return c(null,a=a||e);switch(r.code){case"ENOENT":if(i.dirname(e)===e)return c(r);t(i.dirname(e),n,(r,i)=>{r?c(r,i):t(e,n,c,i)});break;default:l.stat(e,(t,e)=>{t||!e.isDirectory()?c(r,a):c(null,a)})}})}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(25).invalidWin32Path,s=parseInt("0777",8);t.exports=function t(e,n,c){n&&"object"==typeof n||(n={mode:n});let a=n.mode;const u=n.fs||r;if("win32"===process.platform&&o(e)){const t=new Error(e+" contains invalid WIN32 path characters.");throw t.code="EINVAL",t}void 0===a&&(a=s&~process.umask()),c||(c=null),e=i.resolve(e);try{u.mkdirSync(e,a),c=c||e}catch(r){if("ENOENT"===r.code){if(i.dirname(e)===e)throw r;c=t(i.dirname(e),n,c),t(e,n,c)}else{let t;try{t=u.statSync(e)}catch(t){throw r}if(!t.isDirectory())throw r}}return c}},function(t,e){t.exports=require("os")},function(t,e,n){"use strict";t.exports=function(t){if("function"==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(t)}catch(e){return new Buffer(t)}return new Buffer(t)}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(3).mkdirs,s=n(6).pathExists,c=n(26).utimesMillis,a=n(18);function u(t,e,n,r,c){const a=i.dirname(n);s(a,(i,s)=>i?c(i):s?f(t,e,n,r,c):void o(a,i=>i?c(i):f(t,e,n,r,c)))}function l(t,e,n,r,i,o){Promise.resolve(i.filter(n,r)).then(s=>s?t(e,n,r,i,o):o(),t=>o(t))}function f(t,e,n,r,i){return r.filter?l(h,t,e,n,r,i):h(t,e,n,r,i)}function h(t,e,n,i,o){(i.dereference?r.stat:r.lstat)(e,(s,c)=>s?o(s):c.isDirectory()?function(t,e,n,i,o,s){if(!e)return function(t,e,n,i,o){r.mkdir(n,s=>{if(s)return o(s);y(e,n,i,e=>e?o(e):r.chmod(n,t.mode,o))})}(t,n,i,o,s);if(e&&!e.isDirectory())return s(new Error(`Cannot overwrite non-directory '${i}' with directory '${n}'.`));return y(n,i,o,s)}(c,t,e,n,i,o):c.isFile()||c.isCharacterDevice()||c.isBlockDevice()?function(t,e,n,i,o,s){return e?function(t,e,n,i,o){if(!i.overwrite)return i.errorOnExist?o(new Error(`'${n}' already exists`)):o();r.unlink(n,r=>r?o(r):p(t,e,n,i,o))}(t,n,i,o,s):p(t,n,i,o,s)}(c,t,e,n,i,o):c.isSymbolicLink()?v(t,e,n,i,o):void 0)}function p(t,e,n,i,o){return"function"==typeof r.copyFile?r.copyFile(e,n,e=>e?o(e):d(t,n,i,o)):function(t,e,n,i,o){const s=r.createReadStream(e);s.on("error",t=>o(t)).once("open",()=>{const e=r.createWriteStream(n,{mode:t.mode});e.on("error",t=>o(t)).on("open",()=>s.pipe(e)).once("close",()=>d(t,n,i,o))})}(t,e,n,i,o)}function d(t,e,n,i){r.chmod(e,t.mode,r=>r?i(r):n.preserveTimestamps?c(e,t.atime,t.mtime,i):i())}function y(t,e,n,i){r.readdir(t,(r,o)=>r?i(r):m(o,t,e,n,i))}function m(t,e,n,r,o){const s=t.pop();return s?function(t,e,n,r,o,s){const c=i.join(n,e),u=i.join(r,e);a.checkPaths(c,u,"copy",(e,i)=>{if(e)return s(e);const{destStat:a}=i;f(a,c,u,o,e=>e?s(e):m(t,n,r,o,s))})}(t,s,e,n,r,o):o()}function v(t,e,n,o,s){r.readlink(e,(e,c)=>e?s(e):(o.dereference&&(c=i.resolve(process.cwd(),c)),t?void r.readlink(n,(e,u)=>e?"EINVAL"===e.code||"UNKNOWN"===e.code?r.symlink(c,n,s):s(e):(o.dereference&&(u=i.resolve(process.cwd(),u)),a.isSrcSubdir(c,u)?s(new Error(`Cannot copy '${c}' to a subdirectory of itself, '${u}'.`)):t.isDirectory()&&a.isSrcSubdir(u,c)?s(new Error(`Cannot overwrite '${u}' with '${c}'.`)):function(t,e,n){r.unlink(e,i=>i?n(i):r.symlink(t,e,n))}(c,n,s))):r.symlink(c,n,s)))}t.exports=function(t,e,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),a.checkPaths(t,e,"copy",(i,o)=>{if(i)return r(i);const{srcStat:s,destStat:c}=o;a.checkParentPaths(t,s,e,"copy",i=>i?r(i):n.filter?l(u,c,t,e,n,r):u(c,t,e,n,r))})}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(1),o=n(0),s=n(3),c=n(19),a=r((function(t,e){e=e||function(){},i.readdir(t,(n,r)=>{if(n)return s.mkdirs(t,e);r=r.map(e=>o.join(t,e)),function t(){const n=r.pop();if(!n)return e();c.remove(n,n=>{if(n)return e(n);t()})}()})}));function u(t){let e;try{e=i.readdirSync(t)}catch(e){return s.mkdirsSync(t)}e.forEach(e=>{e=o.join(t,e),c.removeSync(e)})}t.exports={emptyDirSync:u,emptydirSync:u,emptyDir:a,emptydir:a}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(17),s="win32"===process.platform;function c(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(e=>{t[e]=t[e]||r[e],t[e+="Sync"]=t[e]||r[e]}),t.maxBusyTries=t.maxBusyTries||3}function a(t,e,n){let r=0;"function"==typeof e&&(n=e,e={}),o(t,"rimraf: missing path"),o.strictEqual(typeof t,"string","rimraf: path should be a string"),o.strictEqual(typeof n,"function","rimraf: callback function required"),o(e,"rimraf: invalid options argument provided"),o.strictEqual(typeof e,"object","rimraf: options should be object"),c(e),u(t,e,(function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<e.maxBusyTries){return r++,setTimeout(()=>u(t,e,i),100*r)}"ENOENT"===o.code&&(o=null)}n(o)}))}function u(t,e,n){o(t),o(e),o("function"==typeof n),e.lstat(t,(r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&s?l(t,e,r,n):i&&i.isDirectory()?h(t,e,r,n):void e.unlink(t,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return s?l(t,e,r,n):h(t,e,r,n);if("EISDIR"===r.code)return h(t,e,r,n)}return n(r)}))}function l(t,e,n,r){o(t),o(e),o("function"==typeof r),n&&o(n instanceof Error),e.chmod(t,438,i=>{i?r("ENOENT"===i.code?null:n):e.stat(t,(i,o)=>{i?r("ENOENT"===i.code?null:n):o.isDirectory()?h(t,e,n,r):e.unlink(t,r)})})}function f(t,e,n){let r;o(t),o(e),n&&o(n instanceof Error);try{e.chmodSync(t,438)}catch(t){if("ENOENT"===t.code)return;throw n}try{r=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw n}r.isDirectory()?d(t,e,n):e.unlinkSync(t)}function h(t,e,n,r){o(t),o(e),n&&o(n instanceof Error),o("function"==typeof r),e.rmdir(t,s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?r(n):r(s):function(t,e,n){o(t),o(e),o("function"==typeof n),e.readdir(t,(r,o)=>{if(r)return n(r);let s,c=o.length;if(0===c)return e.rmdir(t,n);o.forEach(r=>{a(i.join(t,r),e,r=>{if(!s)return r?n(s=r):void(0==--c&&e.rmdir(t,n))})})})}(t,e,r)})}function p(t,e){let n;c(e=e||{}),o(t,"rimraf: missing path"),o.strictEqual(typeof t,"string","rimraf: path should be a string"),o(e,"rimraf: missing options"),o.strictEqual(typeof e,"object","rimraf: options should be object");try{n=e.lstatSync(t)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&s&&f(t,e,n)}try{n&&n.isDirectory()?d(t,e,null):e.unlinkSync(t)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return s?f(t,e,n):d(t,e,n);if("EISDIR"!==n.code)throw n;d(t,e,n)}}function d(t,e,n){o(t),o(e),n&&o(n instanceof Error);try{e.rmdirSync(t)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(t,e){if(o(t),o(e),e.readdirSync(t).forEach(n=>p(i.join(t,n),e)),!s){return e.rmdirSync(t,e)}{const n=Date.now();do{try{return e.rmdirSync(t,e)}catch(t){}}while(Date.now()-n<500)}}(t,e);else if("ENOENT"!==r.code)throw r}}t.exports=a,a.sync=p},function(t,e,n){"use strict";const r=n(51),i=n(52),o=n(53);t.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(0),o=n(1),s=n(3),c=n(6).pathExists;t.exports={createFile:r((function(t,e){function n(){o.writeFile(t,"",t=>{if(t)return e(t);e()})}o.stat(t,(r,o)=>{if(!r&&o.isFile())return e();const a=i.dirname(t);c(a,(t,r)=>t?e(t):r?n():void s.mkdirs(a,t=>{if(t)return e(t);n()}))})})),createFileSync:function(t){let e;try{e=o.statSync(t)}catch(t){}if(e&&e.isFile())return;const n=i.dirname(t);o.existsSync(n)||s.mkdirsSync(n),o.writeFileSync(t,"")}}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(0),o=n(1),s=n(3),c=n(6).pathExists;t.exports={createLink:r((function(t,e,n){function r(t,e){o.link(t,e,t=>{if(t)return n(t);n(null)})}c(e,(a,u)=>a?n(a):u?n(null):void o.lstat(t,o=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);const a=i.dirname(e);c(a,(i,o)=>i?n(i):o?r(t,e):void s.mkdirs(a,i=>{if(i)return n(i);r(t,e)}))}))})),createLinkSync:function(t,e){if(o.existsSync(e))return;try{o.lstatSync(t)}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const n=i.dirname(e);return o.existsSync(n)?o.linkSync(t,e):(s.mkdirsSync(n),o.linkSync(t,e))}}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(0),o=n(1),s=n(3),c=s.mkdirs,a=s.mkdirsSync,u=n(54),l=u.symlinkPaths,f=u.symlinkPathsSync,h=n(55),p=h.symlinkType,d=h.symlinkTypeSync,y=n(6).pathExists;t.exports={createSymlink:r((function(t,e,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,y(e,(s,a)=>s?r(s):a?r(null):void l(t,e,(s,a)=>{if(s)return r(s);t=a.toDst,p(a.toCwd,n,(n,s)=>{if(n)return r(n);const a=i.dirname(e);y(a,(n,i)=>n?r(n):i?o.symlink(t,e,s,r):void c(a,n=>{if(n)return r(n);o.symlink(t,e,s,r)}))})}))})),createSymlinkSync:function(t,e,n){if(o.existsSync(e))return;const r=f(t,e);t=r.toDst,n=d(r.toCwd,n);const s=i.dirname(e);return o.existsSync(s)?o.symlinkSync(t,e,n):(a(s),o.symlinkSync(t,e,n))}}},function(t,e,n){"use strict";const r=n(0),i=n(1),o=n(6).pathExists;t.exports={symlinkPaths:function(t,e,n){if(r.isAbsolute(t))return i.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:t}));{const s=r.dirname(e),c=r.join(s,t);return o(c,(e,o)=>e?n(e):o?n(null,{toCwd:c,toDst:t}):i.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:r.relative(s,t)})))}},symlinkPathsSync:function(t,e){let n;if(r.isAbsolute(t)){if(!(n=i.existsSync(t)))throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}{const o=r.dirname(e),s=r.join(o,t);if(n=i.existsSync(s))return{toCwd:s,toDst:t};if(!(n=i.existsSync(t)))throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:r.relative(o,t)}}}}},function(t,e,n){"use strict";const r=n(1);t.exports={symlinkType:function(t,e,n){if(n="function"==typeof e?e:n,e="function"!=typeof e&&e)return n(null,e);r.lstat(t,(t,r)=>{if(t)return n(null,"file");e=r&&r.isDirectory()?"dir":"file",n(null,e)})},symlinkTypeSync:function(t,e){let n;if(e)return e;try{n=r.lstatSync(t)}catch(t){return"file"}return n&&n.isDirectory()?"dir":"file"}}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(20);i.outputJson=r(n(58)),i.outputJsonSync=n(59),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,t.exports=i},function(t,e,n){var r;try{r=n(1)}catch(t){r=n(7)}function i(t,e){var n,r="\n";return"object"==typeof e&&null!==e&&(e.spaces&&(n=e.spaces),e.EOL&&(r=e.EOL)),JSON.stringify(t,e?e.replacer:null,n).replace(/\n/g,r)+r}function o(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t=t.replace(/^\uFEFF/,"")}var s={readFile:function(t,e,n){null==n&&(n=e,e={}),"string"==typeof e&&(e={encoding:e});var i=(e=e||{}).fs||r,s=!0;"throws"in e&&(s=e.throws),i.readFile(t,e,(function(r,i){if(r)return n(r);var c;i=o(i);try{c=JSON.parse(i,e?e.reviver:null)}catch(e){return s?(e.message=t+": "+e.message,n(e)):n(null,null)}n(null,c)}))},readFileSync:function(t,e){"string"==typeof(e=e||{})&&(e={encoding:e});var n=e.fs||r,i=!0;"throws"in e&&(i=e.throws);try{var s=n.readFileSync(t,e);return s=o(s),JSON.parse(s,e.reviver)}catch(e){if(i)throw e.message=t+": "+e.message,e;return null}},writeFile:function(t,e,n,o){null==o&&(o=n,n={});var s=(n=n||{}).fs||r,c="";try{c=i(e,n)}catch(t){return void(o&&o(t,null))}s.writeFile(t,c,n,o)},writeFileSync:function(t,e,n){var o=(n=n||{}).fs||r,s=i(e,n);return o.writeFileSync(t,s,n)}};t.exports=s},function(t,e,n){"use strict";const r=n(0),i=n(3),o=n(6).pathExists,s=n(20);t.exports=function(t,e,n,c){"function"==typeof n&&(c=n,n={});const a=r.dirname(t);o(a,(r,o)=>r?c(r):o?s.writeJson(t,e,n,c):void i.mkdirs(a,r=>{if(r)return c(r);s.writeJson(t,e,n,c)}))}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(3),s=n(20);t.exports=function(t,e,n){const c=i.dirname(t);r.existsSync(c)||o.mkdirsSync(c),s.writeJsonSync(t,e,n)}},function(t,e,n){"use strict";t.exports={moveSync:n(61)}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(24).copySync,s=n(19).removeSync,c=n(3).mkdirpSync,a=n(18);function u(t,e,n){try{r.renameSync(t,e)}catch(r){if("EXDEV"!==r.code)throw r;return function(t,e,n){return o(t,e,{overwrite:n,errorOnExist:true}),s(t)}(t,e,n)}}t.exports=function(t,e,n){const o=(n=n||{}).overwrite||n.clobber||!1,{srcStat:l}=a.checkPathsSync(t,e,"move");return a.checkParentPathsSync(t,l,e,"move"),c(i.dirname(e)),function(t,e,n){if(n)return s(e),u(t,e,n);if(r.existsSync(e))throw new Error("dest already exists.");return u(t,e,n)}(t,e,o)}},function(t,e,n){"use strict";const r=n(2).fromCallback;t.exports={move:r(n(63))}},function(t,e,n){"use strict";const r=n(1),i=n(0),o=n(27).copy,s=n(19).remove,c=n(3).mkdirp,a=n(6).pathExists,u=n(18);function l(t,e,n,i){r.rename(t,e,r=>r?"EXDEV"!==r.code?i(r):function(t,e,n,r){o(t,e,{overwrite:n,errorOnExist:!0},e=>e?r(e):s(t,r))}(t,e,n,i):i())}t.exports=function(t,e,n,r){"function"==typeof n&&(r=n,n={});const o=n.overwrite||n.clobber||!1;u.checkPaths(t,e,"move",(n,f)=>{if(n)return r(n);const{srcStat:h}=f;u.checkParentPaths(t,h,e,"move",n=>{if(n)return r(n);c(i.dirname(e),n=>n?r(n):function(t,e,n,r){if(n)return s(e,i=>i?r(i):l(t,e,n,r));a(e,(i,o)=>i?r(i):o?r(new Error("dest already exists.")):l(t,e,n,r))}(t,e,o,r))})})}},function(t,e,n){"use strict";const r=n(2).fromCallback,i=n(1),o=n(0),s=n(3),c=n(6).pathExists;t.exports={outputFile:r((function(t,e,n,r){"function"==typeof n&&(r=n,n="utf8");const a=o.dirname(t);c(a,(o,c)=>o?r(o):c?i.writeFile(t,e,n,r):void s.mkdirs(a,o=>{if(o)return r(o);i.writeFile(t,e,n,r)}))})),outputFileSync:function(t,...e){const n=o.dirname(t);if(i.existsSync(n))return i.writeFileSync(t,...e);s.mkdirsSync(n),i.writeFileSync(t,...e)}}},function(t,e,n){var r=n(0),i="win32"===process.platform,o=n(7),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function c(t){return"function"==typeof t?t:function(){var t;if(s){var e=new Error;t=function(t){t&&(e.message=t.message,n(t=e))}}else t=n;return t;function n(t){if(t){if(process.throwDeprecation)throw t;if(!process.noDeprecation){var e="fs: missing callback "+(t.stack||t.message);process.traceDeprecation?console.trace(e):console.error(e)}}}}()}r.normalize;if(i)var a=/(.*?)(?:[\/\\]+|$)/g;else a=/(.*?)(?:[\/]+|$)/g;if(i)var u=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else u=/^[\/]*/;e.realpathSync=function(t,e){if(t=r.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return e[t];var n,s,c,l,f=t,h={},p={};function d(){var e=u.exec(t);n=e[0].length,s=e[0],c=e[0],l="",i&&!p[c]&&(o.lstatSync(c),p[c]=!0)}for(d();n<t.length;){a.lastIndex=n;var y=a.exec(t);if(l=s,s+=y[0],c=l+y[1],n=a.lastIndex,!(p[c]||e&&e[c]===c)){var m;if(e&&Object.prototype.hasOwnProperty.call(e,c))m=e[c];else{var v=o.lstatSync(c);if(!v.isSymbolicLink()){p[c]=!0,e&&(e[c]=c);continue}var g=null;if(!i){var w=v.dev.toString(32)+":"+v.ino.toString(32);h.hasOwnProperty(w)&&(g=h[w])}null===g&&(o.statSync(c),g=o.readlinkSync(c)),m=r.resolve(l,g),e&&(e[c]=m),i||(h[w]=g)}t=r.resolve(m,t.slice(n)),d()}}return e&&(e[f]=t),t},e.realpath=function(t,e,n){if("function"!=typeof n&&(n=c(e),e=null),t=r.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return process.nextTick(n.bind(null,null,e[t]));var s,l,f,h,p=t,d={},y={};function m(){var e=u.exec(t);s=e[0].length,l=e[0],f=e[0],h="",i&&!y[f]?o.lstat(f,(function(t){if(t)return n(t);y[f]=!0,v()})):process.nextTick(v)}function v(){if(s>=t.length)return e&&(e[p]=t),n(null,t);a.lastIndex=s;var r=a.exec(t);return h=l,l+=r[0],f=h+r[1],s=a.lastIndex,y[f]||e&&e[f]===f?process.nextTick(v):e&&Object.prototype.hasOwnProperty.call(e,f)?b(e[f]):o.lstat(f,g)}function g(t,r){if(t)return n(t);if(!r.isSymbolicLink())return y[f]=!0,e&&(e[f]=f),process.nextTick(v);if(!i){var s=r.dev.toString(32)+":"+r.ino.toString(32);if(d.hasOwnProperty(s))return w(null,d[s],f)}o.stat(f,(function(t){if(t)return n(t);o.readlink(f,(function(t,e){i||(d[s]=e),w(t,e)}))}))}function w(t,i,o){if(t)return n(t);var s=r.resolve(h,i);e&&(e[o]=s),b(s)}function b(e){t=r.resolve(e,t.slice(s)),m()}m()}},function(t,e,n){var r=n(67),i=n(68);t.exports=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return function t(e,n){var o=[];var s=i("{","}",e);if(!s||/\$$/.test(s.pre))return[e];var a=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body);var u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body);var f=a||u;var m=s.body.indexOf(",")>=0;if(!f&&!m)return s.post.match(/,.*\}/)?(e=s.pre+"{"+s.body+c+s.post,t(e)):[e];var v;if(f)v=s.body.split(/\.\./);else{if(1===(v=function t(e){if(!e)return[""];var n=[];var r=i("{","}",e);if(!r)return e.split(",");var o=r.pre;var s=r.body;var c=r.post;var a=o.split(",");a[a.length-1]+="{"+s+"}";var u=t(c);c.length&&(a[a.length-1]+=u.shift(),a.push.apply(a,u));n.push.apply(n,a);return n}(s.body)).length)if(1===(v=t(v[0],!1).map(h)).length)return(w=s.post.length?t(s.post,!1):[""]).map((function(t){return s.pre+v[0]+t}))}var g=s.pre;var w=s.post.length?t(s.post,!1):[""];var b;if(f){var S=l(v[0]),_=l(v[1]),E=Math.max(v[0].length,v[1].length),x=3==v.length?Math.abs(l(v[2])):1,k=d;_<S&&(x*=-1,k=y);var O=v.some(p);b=[];for(var j=S;k(j,_);j+=x){var P;if(u)"\\"===(P=String.fromCharCode(j))&&(P="");else if(P=String(j),O){var N=E-P.length;if(N>0){var T=new Array(N+1).join("0");P=j<0?"-"+T+P.slice(1):T+P}}b.push(P)}}else b=r(v,(function(e){return t(e,!1)}));for(var $=0;$<b.length;$++)for(var C=0;C<w.length;C++){var M=g+b[$]+w[C];(!n||f||M)&&o.push(M)}return o}(function(t){return t.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(c).split("\\,").join(a).split("\\.").join(u)}(t),!0).map(f)};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",c="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function f(t){return t.split(o).join("\\").split(s).join("{").split(c).join("}").split(a).join(",").split(u).join(".")}function h(t){return"{"+t+"}"}function p(t){return/^-?0\d/.test(t)}function d(t,e){return t<=e}function y(t,e){return t>=e}},function(t,e){t.exports=function(t,e){for(var r=[],i=0;i<t.length;i++){var o=e(t[i],i);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function r(t,e,n){t instanceof RegExp&&(t=i(t,n)),e instanceof RegExp&&(e=i(e,n));var r=o(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function i(t,e){var n=e.match(t);return n?n[0]:null}function o(t,e,n){var r,i,o,s,c,a=n.indexOf(t),u=n.indexOf(e,a+1),l=a;if(a>=0&&u>0){for(r=[],o=n.length;l>=0&&!c;)l==a?(r.push(l),a=n.indexOf(t,l+1)):1==r.length?c=[r.pop(),u]:((i=r.pop())<o&&(o=i,s=u),u=n.indexOf(e,l+1)),l=a<u&&a>=0?a:u;r.length&&(c=[o,s])}return c}t.exports=r,r.range=o},function(t,e,n){try{var r=n(16);if("function"!=typeof r.inherits)throw"";t.exports=r.inherits}catch(e){t.exports=n(70)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e){t.exports=require("events")},function(t,e,n){t.exports=d,d.GlobSync=y;var r=n(7),i=n(29),o=n(21),s=(o.Minimatch,n(28).Glob,n(16),n(0)),c=n(17),a=n(22),u=n(30),l=(u.alphasort,u.alphasorti,u.setopts),f=u.ownProp,h=u.childrenIgnored,p=u.isIgnored;function d(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new y(t,e).found}function y(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof y))return new y(t,e);if(l(this,t,e),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}y.prototype._finish=function(){if(c(this instanceof y),this.realpath){var t=this;this.matches.forEach((function(e,n){var r=t.matches[n]=Object.create(null);for(var o in e)try{o=t._makeAbs(o),r[i.realpathSync(o,t.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;r[t._makeAbs(o)]=!0}}))}u.finish(this)},y.prototype._process=function(t,e,n){c(this instanceof y);for(var r,i=0;"string"==typeof t[i];)i++;switch(i){case t.length:return void this._processSimple(t.join("/"),e);case 0:r=null;break;default:r=t.slice(0,i).join("/")}var s,u=t.slice(i);null===r?s=".":a(r)||a(t.join("/"))?(r&&a(r)||(r="/"+r),s=r):s=r;var l=this._makeAbs(s);h(this,s)||(u[0]===o.GLOBSTAR?this._processGlobStar(r,s,l,u,e,n):this._processReaddir(r,s,l,u,e,n))},y.prototype._processReaddir=function(t,e,n,r,i,o){var c=this._readdir(n,o);if(c){for(var a=r[0],u=!!this.minimatch.negate,l=a._glob,f=this.dot||"."===l.charAt(0),h=[],p=0;p<c.length;p++){if("."!==(m=c[p]).charAt(0)||f)(u&&!t?!m.match(a):m.match(a))&&h.push(m)}var d=h.length;if(0!==d)if(1!==r.length||this.mark||this.stat){r.shift();for(p=0;p<d;p++){var y;m=h[p];y=t?[t,m]:[m],this._process(y.concat(r),i,o)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<d;p++){var m=h[p];t&&(m="/"!==t.slice(-1)?t+"/"+m:t+m),"/"!==m.charAt(0)||this.nomount||(m=s.join(this.root,m)),this._emitMatch(i,m)}}}},y.prototype._emitMatch=function(t,e){if(!p(this,e)){var n=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=n),!this.matches[t][e]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}},y.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,n;try{n=r.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var i=n&&n.isSymbolicLink();return this.symlinks[t]=i,i||!n||n.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},y.prototype._readdir=function(t,e){if(e&&!f(this.symlinks,t))return this._readdirInGlobStar(t);if(f(this.cache,t)){var n=this.cache[t];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,r.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},y.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var r=e[n];r="/"===t?t+r:t+"/"+r,this.cache[r]=!0}return this.cache[t]=e,e},y.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(e.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=e.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},y.prototype._processGlobStar=function(t,e,n,r,i,o){var s=this._readdir(n,o);if(s){var c=r.slice(1),a=t?[t]:[],u=a.concat(c);this._process(u,i,!1);var l=s.length;if(!this.symlinks[n]||!o)for(var f=0;f<l;f++){if("."!==s[f].charAt(0)||this.dot){var h=a.concat(s[f],c);this._process(h,i,!0);var p=a.concat(s[f],r);this._process(p,i,!0)}}}},y.prototype._processSimple=function(t,e){var n=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),n){if(t&&a(t)&&!this.nomount){var r=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=s.join(this.root,t):(t=s.resolve(this.root,t),r&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}},y.prototype._stat=function(t){var e=this._makeAbs(t),n="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&f(this.cache,e)){var i=this.cache[e];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return i;if(n&&"FILE"===i)return!1}var o=this.statCache[e];if(!o){var s;try{s=r.lstatSync(e)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{o=r.statSync(e)}catch(t){o=s}else o=s}this.statCache[e]=o;i=!0;return o&&(i=o.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||i,(!n||"FILE"!==i)&&i},y.prototype._mark=function(t){return u.mark(this,t)},y.prototype._makeAbs=function(t){return u.makeAbs(this,t)}},function(t,e,n){var r=n(31),i=Object.create(null),o=n(32);function s(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r]=t[r];return n}t.exports=r((function(t,e){return i[t]?(i[t].push(e),null):(i[t]=[e],function(t){return o((function e(){var n=i[t],r=n.length,o=s(arguments);try{for(var c=0;c<r;c++)n[c].apply(null,o)}finally{n.length>r?(n.splice(0,r),process.nextTick((function(){e.apply(null,o)}))):delete i[t]}}))}(t))}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAllMethodNames=e.getLastMethodName=void 0;const r=/def\s+(\w+)/g;e.getLastMethodName=function(t,e){for(let n=e;n>=0;n--){const e=t.lineAt(n),i=r.exec(e.text);if(i)return i[1]}},e.getAllMethodNames=function(t){const e=t.getText(),n=[];let i;for(;i=r.exec(e);)n.push(i[1]);return n}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.rules=void 0;const i=n(11);function o(t,e){return function(n,i){return r(this,void 0,void 0,(function*(){if(yield t(n,i)){const t=yield e(n,i);return Array.isArray(t)?t:[t]}return[]}))}}e.rules=[o((t,e)=>e.hasSpecs(),i.specMaker),o((t,e)=>e.hasTests(),i.testMaker),o((t,e)=>t.isTest(),i.inverseTestMaker),o(t=>!t.isModel(),i.modelMaker),o(t=>t.isController(),i.viewMaker),o(t=>t.isModel()||t.isView(),i.controllerMaker),o(t=>!t.isFixture(),i.fixtureMaker)]},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.modelMaker=void 0;n(5),n(14),n(9),n(0);e.modelMaker=function(t,e){return r(this,void 0,void 0,(function*(){const n=yield e.getModels(),r=t.possibleModelNames(),i=t=>({filename:t.filename,title:"Model "+t.basename,type:"model",checkedExists:!0});return t.module.length>0?n.filter(e=>e.module===t.module&&r.indexOf(e.possibleModelNames()[0])>=0).map(i):r.reduce((t,e)=>{const r=e.split("_");for(let e=-1;Math.abs(e)<=r.length;--e){const i=r.slice(0,e).join("_"),o=r.slice(e).join("_"),s=n.find(t=>t.module===i&&t.possibleModelNames()[0]===o);s&&t.push(s)}return t},[]).map(i)}))}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.viewMaker=void 0;const i=n(5),o=n(0),s=n(9);function c(t){return a(t)+" "+o.basename(t)}function a(t){return function(t){return o.basename(t).startsWith("_")}(t)?"Partial":"View"}e.viewMaker=function(t,e){return r(this,void 0,void 0,(function*(){const n=i.getViewPath(e,t);return(yield s.pathExists(n))?(yield s.readdir(n)).sort((function(e,n){if(e.startsWith("_")&&!n.startsWith("_"))return 1;if(n.startsWith("_")&&!e.startsWith("_"))return-1;const[r,i]=[e.split(".")[0],n.split(".")[0]],[o,s]=[t.methods.indexOf(r)>-1,t.methods.indexOf(i)>-1];return o&&!s?-1:s&&!o?1:r===t.methodName?-1:i===t.methodName?1:r<i?-1:i<r?1:0})).map(t=>({checkedExists:!0,filename:o.join(n,t),title:c(t),type:a(t)})):[]}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.specMaker=void 0;const r=n(5),i=n(10),o=n(0);e.specMaker=function(t,e){return[{filename:o.join(e.specPath,i.appendWithoutExt(r.relativeToAppDir(e,t.filename),"_spec")),title:"Spec file",type:"spec"}]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.testMaker=void 0;const r=n(5),i=n(10),o=n(0);e.testMaker=function(t,e){return[{filename:o.join(e.testPath,i.appendWithoutExt(r.relativeToAppDir(e,t.filename),"_test")),title:"Test file",type:"test"}]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inverseTestMaker=void 0;const r=n(0);function i(t,e){return function(t,e){return!r.relative(t.testPath,e).startsWith("..")}(t,e)?r.relative(t.testPath,e):function(t,e){return!r.relative(t.specPath,e).startsWith("..")}(t,e)?r.relative(t.specPath,e):void 0}e.inverseTestMaker=function(t,e){if(!t.isTest())return[];const n=t.basename.replace(/_(spec|test)/,""),o=i(e,t.filename);if(!o)return[];const s=r.dirname(o);return[{filename:r.join(e.appPath,s,n),title:"File",type:"file"},{filename:r.join(e.path,s,n),title:"File",type:"file"}]}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.controllerMaker=void 0;const i=n(14),o=n(0);e.controllerMaker=function(t,e){return r(this,void 0,void 0,(function*(){return t.possibleModelNames().map(n=>{const r=i.pluralize(n)+"_controller.rb";return{checkedExists:!1,filename:o.join(e.controllersPath,t.module,r),title:"Controller "+r,type:"controller"}})}))}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.fixtureMaker=void 0;const i=n(14),o=n(0);e.fixtureMaker=function(t,e){return r(this,void 0,void 0,(function*(){const n=yield e.hasSpecs(),r=o.join(n?e.specPath:e.testPath,"fixtures");return t.possibleModelNames().map(e=>{const n=t.module.replace(o.sep,"_")+"_"+i.pluralize(e)+".yml";return{filename:o.join(r,n),title:"Fixture "+n,type:"fixture"}})}))}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.switchToView=void 0;const i=n(0),o=n(15),s=n(11),c=n(8),a=n(12),u=n(33);e.switchToView=function(){return o.getRailsContext((function(t,e){return r(this,void 0,void 0,(function*(){if(!t.isController())return;const e=yield c.getSwitchesFromRule(s.viewMaker,t);return 0===e.length?yield u.createView():1===e.length||(n=t.methodName,r=e[0].filename,i.basename(r).split(".")[0]===n)?a.openFile(e[0].filename):a.showPicker(t.railsRoot,e);var n,r}))}))}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.switchToModel=void 0;const i=n(4),o=n(13),s=n(11),c=n(8),a=n(12);e.switchToModel=function(){return r(this,void 0,void 0,(function*(){const t=o.getCurrentRailsFile();if(!t)return;if(t.isModel())return;const e=yield c.getSwitchesFromRule(s.modelMaker,t);return 0===e.length?yield i.window.showInformationMessage("No model found for this file"):1===e.length?a.openFile(e[0].filename):a.showPicker(t.railsRoot,e)}))}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.switchToTest=void 0;const i=n(15),o=n(11),s=n(12),c=n(5);e.switchToTest=function(){return r(this,void 0,void 0,(function*(){return i.getRailsContext([o.testMaker,o.specMaker,o.inverseTestMaker],(function(t,e,n){return r(this,void 0,void 0,(function*(){if(t.isTest()&&n.length>0)return s.openFile(n[0].filename);if(0===n.length){const n=yield c.getTestFile(t,e);return yield s.showCreateFile(n)}return 1===n.length?s.openFile(n[0].filename):s.showPicker(t.railsRoot,n)}))}))}))}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.switchToController=void 0;const i=n(4),o=n(13),s=n(11),c=n(8),a=n(12);e.switchToController=function(){return r(this,void 0,void 0,(function*(){const t=o.getCurrentRailsFile();if(!t)return;if(t.isController())return;const e=yield c.getSwitchesFromRule(s.controllerMaker,t);return 0===e.length?yield i.window.showInformationMessage("No controller found for this file"):1===e.length?a.openFile(e[0].filename):a.showPicker(t.railsRoot,e)}))}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.switchToFixture=void 0;const i=n(4),o=n(15),s=n(8),c=n(11),a=n(12);e.switchToFixture=function(){return r(this,void 0,void 0,(function*(){return o.getRailsContext((function(t,e){return r(this,void 0,void 0,(function*(){const e=yield s.getSwitchesFromRules([c.fixtureMaker],t,!1);switch((yield s.checkSwitchFiles(e)).length){case 0:return 0===e.length?yield i.window.showInformationMessage("No fixture found for this file"):yield a.showCreateFile(e[0].filename);case 1:return a.openFile(e[0].filename);default:return a.showPicker(t.railsRoot,e)}}))}))}))}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(t){o(t)}}function c(t){try{a(r.throw(t))}catch(t){o(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}a((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.createSpec=void 0;const i=n(5),o=n(15),s=n(10);e.createSpec=function(){return r(this,void 0,void 0,(function*(){return o.getRailsContext((function(t,e){return r(this,void 0,void 0,(function*(){if(!t.isTest())return yield s.ensureDocument(i.getSpecPath(t,e))}))}))}))}}]);
//# sourceMappingURL=extension.js.map